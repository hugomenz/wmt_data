(self.webpackChunkwmt=self.webpackChunkwmt||[]).push([[179],{2011:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Dh:()=>je,GT:()=>Ze,cc:()=>mt,hO:()=>St,on:()=>me,pX:()=>Se,xv:()=>Ie});var g=ue(4650),ye=ue(127),te=ue(5813);Gt=ue.hmd(Gt);const Ne=["ngOnDestroy"],Se=(he,Bt,kt,Pe={})=>new Proxy(he,{get:(it,st)=>kt.runOutsideAngular(()=>{var Ot;if(he[st])return!(null===(Ot=Pe?.spy)||void 0===Ot)&&Ot.get&&Pe.spy.get(st,he[st]),he[st];if(Ne.indexOf(st)>-1)return()=>{};const We=Bt.toPromise().then(qe=>{const tt=qe&&qe[st];return"function"==typeof tt?tt.bind(qe):tt&&tt.then?tt.then(Re=>kt.run(()=>Re)):kt.run(()=>tt)});return new Proxy(()=>{},{get:(qe,tt)=>We[tt],apply:(qe,tt,Re)=>We.then(He=>{var Ye;const $e=He&&He(...Re);return!(null===(Ye=Pe?.spy)||void 0===Ye)&&Ye.apply&&Pe.spy.apply(st,Re,$e),$e})})})}),Ze=(he,Bt)=>{Bt.forEach(kt=>{Object.getOwnPropertyNames(kt.prototype||kt).forEach(Pe=>{Object.defineProperty(he.prototype,Pe,Object.getOwnPropertyDescriptor(kt.prototype||kt,Pe))})})};class be{constructor(Bt){return Bt}}const je=new g.OlP("angularfire2.app.options"),Ie=new g.OlP("angularfire2.app.name");function me(he,Bt,kt){const it="object"==typeof kt&&kt||{};it.name=it.name||"string"==typeof kt&&kt||"[DEFAULT]";const Ot=ye.Z.apps.filter(We=>We&&We.name===it.name)[0]||Bt.runOutsideAngular(()=>ye.Z.initializeApp(he,it));try{JSON.stringify(he)!==JSON.stringify(Ot.options)&&Ce("error",`${Ot.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(Ot)}const Ce=(he,...Bt)=>{(0,g.X6Q)()&&typeof console<"u"&&console[he](...Bt)},Be={provide:be,useFactory:me,deps:[je,g.R0b,[new g.FiY,Ie]]};let St=(()=>{class he{constructor(kt){ye.Z.registerVersion("angularfire",te.q4.full,"core"),ye.Z.registerVersion("angularfire",te.q4.full,"app-compat"),ye.Z.registerVersion("angular",g.q4F.full,kt.toString())}static initializeApp(kt,Pe){return{ngModule:he,providers:[{provide:je,useValue:kt},{provide:Ie,useValue:Pe}]}}}return he.\u0275fac=function(kt){return new(kt||he)(g.LFG(g.Lbi))},he.\u0275mod=g.oAB({type:he}),he.\u0275inj=g.cJS({providers:[Be]}),he})();function mt(he,Bt,kt,Pe,it){const[,st,Ot]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===he)||[];if(st)return function et(he,Bt){try{return he.toString()===Bt.toString()}catch{return he===Bt}}(it,Ot)||(nt("error",`${Bt} was already initialized on the ${kt} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:it,was:Ot})),st;{const We=Pe();return globalThis.\u0275AngularfireInstanceCache.push([he,We,it]),We}}const jt=!!Gt.hot,nt=(he,...Bt)=>{(0,g.X6Q)()&&typeof console<"u"&&console[he](...Bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Gt,rt,ue)=>{"use strict";ue.d(rt,{q4:()=>tu,iC:()=>Lh,HU:()=>Mh,vb:()=>ru,JM:()=>su,u3:()=>Ph});var g=ue(4650),ye=ue(5867),te=ue(5861),Ne=ue(9681),Se=ue(2090),Ze=ue(4859),be=ue(1877),je=ue(8766);const Ie="@firebase/installations",me="0.5.16",Be=`w:${me}`,St="FIS_v2",Bt=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(G){return G instanceof Se.ZR&&G.code.includes("request-failed")}function Pe({projectId:G}){return`https://firebaseinstallations.googleapis.com/v1/projects/${G}/installations`}function it(G){return{token:G.token,requestStatus:2,expiresIn:He(G.expiresIn),creationTime:Date.now()}}function st(G,Y){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,te.Z)(function*(G,Y){const xe=(yield Y.json()).error;return Bt.create("request-failed",{requestName:G,serverCode:xe.code,serverMessage:xe.message,serverStatus:xe.status})})).apply(this,arguments)}function We({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function qe(G,{refreshToken:Y}){const ie=We(G);return ie.append("Authorization",function Ye(G){return`${St} ${G}`}(Y)),ie}function tt(G){return Re.apply(this,arguments)}function Re(){return(Re=(0,te.Z)(function*(G){const Y=yield G();return Y.status>=500&&Y.status<600?G():Y})).apply(this,arguments)}function He(G){return Number(G.replace("s","000"))}function $e(G,Y){return bt.apply(this,arguments)}function bt(){return(bt=(0,te.Z)(function*({appConfig:G,heartbeatServiceProvider:Y},{fid:ie}){const xe=Pe(G),Ve=We(G),Xe=Y.getImmediate({optional:!0});if(Xe){const In=yield Xe.getHeartbeatsHeader();In&&Ve.append("x-firebase-client",In)}const Nt={method:"POST",headers:Ve,body:JSON.stringify({fid:ie,authVersion:St,appId:G.appId,sdkVersion:Be})},an=yield tt(()=>fetch(xe,Nt));if(an.ok){const In=yield an.json();return{fid:In.fid||ie,registrationStatus:2,refreshToken:In.refreshToken,authToken:it(In.authToken)}}throw yield st("Create Installation",an)})).apply(this,arguments)}function _t(G){return new Promise(Y=>{setTimeout(Y,G)})}const Kn=/^[cdef][\w-]{21}$/;function Et(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const ie=function Jn(G){return function Kt(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return Kn.test(ie)?ie:""}catch{return""}}function mi(G){return`${G.appName}!${G.appId}`}const Nn=new Map;function Sn(G,Y){const ie=mi(G);Ri(ie,Y),function Us(G,Y){const ie=function Di(){return!ns&&"BroadcastChannel"in self&&(ns=new BroadcastChannel("[Firebase] FID Change"),ns.onmessage=G=>{Ri(G.data.key,G.data.fid)}),ns}();ie&&ie.postMessage({key:G,fid:Y}),function Es(){0===Nn.size&&ns&&(ns.close(),ns=null)}()}(ie,Y)}function Ri(G,Y){const ie=Nn.get(G);if(ie)for(const xe of ie)xe(Y)}let ns=null;const zi="firebase-installations-store";let rr=null;function kr(){return rr||(rr=(0,je.X3)("firebase-installations-database",1,{upgrade:(G,Y)=>{0===Y&&G.createObjectStore(zi)}})),rr}function Ht(G,Y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,te.Z)(function*(G,Y){const ie=mi(G),Ve=(yield kr()).transaction(zi,"readwrite"),Xe=Ve.objectStore(zi),ft=yield Xe.get(ie);return yield Xe.put(Y,ie),yield Ve.done,(!ft||ft.fid!==Y.fid)&&Sn(G,Y.fid),Y})).apply(this,arguments)}function Ui(G){return vi.apply(this,arguments)}function vi(){return(vi=(0,te.Z)(function*(G){const Y=mi(G),xe=(yield kr()).transaction(zi,"readwrite");yield xe.objectStore(zi).delete(Y),yield xe.done})).apply(this,arguments)}function us(G,Y){return fo.apply(this,arguments)}function fo(){return(fo=(0,te.Z)(function*(G,Y){const ie=mi(G),Ve=(yield kr()).transaction(zi,"readwrite"),Xe=Ve.objectStore(zi),ft=yield Xe.get(ie),Nt=Y(ft);return void 0===Nt?yield Xe.delete(ie):yield Xe.put(Nt,ie),yield Ve.done,Nt&&(!ft||ft.fid!==Nt.fid)&&Sn(G,Nt.fid),Nt})).apply(this,arguments)}function wi(G){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,te.Z)(function*(G){let Y;const ie=yield us(G.appConfig,xe=>{const Ve=ii(xe),Xe=sn(G,Ve);return Y=Xe.registrationPromise,Xe.installationEntry});return""===ie.fid?{installationEntry:yield Y}:{installationEntry:ie,registrationPromise:Y}})).apply(this,arguments)}function ii(G){return mn(G||{fid:Et(),registrationStatus:0})}function sn(G,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject(Bt.create("app-offline"))};const ie={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},xe=function tn(G,Y){return yn.apply(this,arguments)}(G,ie);return{installationEntry:ie,registrationPromise:xe}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:Gs(G)}:{installationEntry:Y}}function yn(){return(yn=(0,te.Z)(function*(G,Y){try{const ie=yield $e(G,Y);return Ht(G.appConfig,ie)}catch(ie){throw kt(ie)&&409===ie.customData.serverCode?yield Ui(G.appConfig):yield Ht(G.appConfig,{fid:Y.fid,registrationStatus:0}),ie}})).apply(this,arguments)}function Gs(G){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,te.Z)(function*(G){let Y=yield Cs(G.appConfig);for(;1===Y.registrationStatus;)yield _t(100),Y=yield Cs(G.appConfig);if(0===Y.registrationStatus){const{installationEntry:ie,registrationPromise:xe}=yield wi(G);return xe||ie}return Y})).apply(this,arguments)}function Cs(G){return us(G,Y=>{if(!Y)throw Bt.create("installation-not-found");return mn(Y)})}function mn(G){return function Ds(G){return 1===G.registrationStatus&&G.registrationTime+1e4<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function An(G,Y){return qs.apply(this,arguments)}function qs(){return(qs=(0,te.Z)(function*({appConfig:G,heartbeatServiceProvider:Y},ie){const xe=Bn(G,ie),Ve=qe(G,ie),Xe=Y.getImmediate({optional:!0});if(Xe){const In=yield Xe.getHeartbeatsHeader();In&&Ve.append("x-firebase-client",In)}const Nt={method:"POST",headers:Ve,body:JSON.stringify({installation:{sdkVersion:Be,appId:G.appId}})},an=yield tt(()=>fetch(xe,Nt));if(an.ok)return it(yield an.json());throw yield st("Generate Auth Token",an)})).apply(this,arguments)}function Bn(G,{fid:Y}){return`${Pe(G)}/${Y}/authTokens:generate`}function is(G){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,te.Z)(function*(G,Y=!1){let ie;const xe=yield us(G.appConfig,Xe=>{if(!Gn(Xe))throw Bt.create("not-registered");const ft=Xe.authToken;if(!Y&&Ae(ft))return Xe;if(1===ft.requestStatus)return ie=Vt(G,Y),Xe;{if(!navigator.onLine)throw Bt.create("app-offline");const Nt=Oe(Xe);return ie=ln(G,Nt),Nt}});return ie?yield ie:xe.authToken})).apply(this,arguments)}function Vt(G,Y){return ut.apply(this,arguments)}function ut(){return(ut=(0,te.Z)(function*(G,Y){let ie=yield Ut(G.appConfig);for(;1===ie.authToken.requestStatus;)yield _t(100),ie=yield Ut(G.appConfig);const xe=ie.authToken;return 0===xe.requestStatus?is(G,Y):xe})).apply(this,arguments)}function Ut(G){return us(G,Y=>{if(!Gn(Y))throw Bt.create("not-registered");return function _e(G){return 1===G.requestStatus&&G.requestTime+1e4<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function ln(G,Y){return dn.apply(this,arguments)}function dn(){return(dn=(0,te.Z)(function*(G,Y){try{const ie=yield An(G,Y),xe=Object.assign(Object.assign({},Y),{authToken:ie});return yield Ht(G.appConfig,xe),ie}catch(ie){if(!kt(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const xe=Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}});yield Ht(G.appConfig,xe)}else yield Ui(G.appConfig);throw ie}})).apply(this,arguments)}function Gn(G){return void 0!==G&&2===G.registrationStatus}function Ae(G){return 2===G.requestStatus&&!function we(G){const Y=Date.now();return Y<G.creationTime||G.creationTime+G.expiresIn<Y+36e5}(G)}function Oe(G){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:Y})}function ge(){return(ge=(0,te.Z)(function*(G){const Y=G,{installationEntry:ie,registrationPromise:xe}=yield wi(Y);return xe?xe.catch(console.error):is(Y).catch(console.error),ie.fid})).apply(this,arguments)}function vt(){return(vt=(0,te.Z)(function*(G,Y=!1){const ie=G;return yield Yt(ie),(yield is(ie,Y)).token})).apply(this,arguments)}function Yt(G){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,te.Z)(function*(G){const{registrationPromise:Y}=yield wi(G);Y&&(yield Y)})).apply(this,arguments)}function l(G){return Bt.create("missing-app-config-values",{valueName:G})}const f="installations",y=G=>{const Y=G.getProvider("app").getImmediate(),ie=function a(G){if(!G||!G.options)throw l("App Configuration");if(!G.name)throw l("App Name");const Y=["projectId","apiKey","appId"];for(const ie of Y)if(!G.options[ie])throw l(ie);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(Y);return{app:Y,appConfig:ie,heartbeatServiceProvider:(0,Ne._getProvider)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},b=G=>{const Y=G.getProvider("app").getImmediate(),ie=(0,Ne._getProvider)(Y,f).getImmediate();return{getId:()=>function se(G){return ge.apply(this,arguments)}(ie),getToken:Ve=>function Ue(G){return vt.apply(this,arguments)}(ie,Ve)}};(function x(){(0,Ne._registerComponent)(new Ze.wA(f,y,"PUBLIC")),(0,Ne._registerComponent)(new Ze.wA("installations-internal",b,"PRIVATE"))})(),(0,Ne.registerVersion)(Ie,me),(0,Ne.registerVersion)(Ie,me,"esm2017");const S="@firebase/remote-config",D="0.3.15",H=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fi{constructor(Y,ie,xe,Ve){this.client=Y,this.storage=ie,this.storageCache=xe,this.logger=Ve}isCachedDataFresh(Y,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const xe=Date.now()-ie,Ve=xe<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${xe}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${Ve}.`),Ve}fetch(Y){var ie=this;return(0,te.Z)(function*(){const[xe,Ve]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(Ve&&ie.isCachedDataFresh(Y.cacheMaxAgeMillis,xe))return Ve;Y.eTag=Ve&&Ve.eTag;const Xe=yield ie.client.fetch(Y),ft=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&ft.push(ie.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(ft),Xe})()}}function Si(G=navigator){return G.languages&&G.languages[0]||G.language}class Li{constructor(Y,ie,xe,Ve,Xe,ft){this.firebaseInstallations=Y,this.sdkVersion=ie,this.namespace=xe,this.projectId=Ve,this.apiKey=Xe,this.appId=ft}fetch(Y){var ie=this;return(0,te.Z)(function*(){var xe,Ve,Xe;const[ft,Nt]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),In=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,Pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},cn={sdk_version:ie.sdkVersion,app_instance_id:ft,app_instance_id_token:Nt,app_id:ie.appId,language_code:Si()},os={method:"POST",headers:Pn,body:JSON.stringify(cn)},Qs=fetch(In,os),ec=new Promise((Qr,Jr)=>{Y.signal.addEventListener(()=>{const ad=new Error("The operation was aborted.");ad.name="AbortError",Jr(ad)})});let tc;try{yield Promise.race([Qs,ec]),tc=yield Qs}catch(Qr){let Jr="fetch-client-network";throw"AbortError"===(null===(xe=Qr)||void 0===xe?void 0:xe.name)&&(Jr="fetch-timeout"),H.create(Jr,{originalErrorMessage:null===(Ve=Qr)||void 0===Ve?void 0:Ve.message})}let yr=tc.status;const wo=tc.headers.get("ETag")||void 0;let Kr,nc;if(200===tc.status){let Qr;try{Qr=yield tc.json()}catch(Jr){throw H.create("fetch-client-parse",{originalErrorMessage:null===(Xe=Jr)||void 0===Xe?void 0:Xe.message})}Kr=Qr.entries,nc=Qr.state}if("INSTANCE_STATE_UNSPECIFIED"===nc?yr=500:"NO_CHANGE"===nc?yr=304:("NO_TEMPLATE"===nc||"EMPTY_CONFIG"===nc)&&(Kr={}),304!==yr&&200!==yr)throw H.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:wo,config:Kr}})()}}class Mr{constructor(Y,ie){this.client=Y,this.storage=ie}fetch(Y){var ie=this;return(0,te.Z)(function*(){const xe=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(Y,xe)})()}attemptFetch(Y,{throttleEndTimeMillis:ie,backoffCount:xe}){var Ve=this;return(0,te.Z)(function*(){yield function pi(G,Y){return new Promise((ie,xe)=>{const Ve=Math.max(Y-Date.now(),0),Xe=setTimeout(ie,Ve);G.addEventListener(()=>{clearTimeout(Xe),xe(H.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,ie);try{const Xe=yield Ve.client.fetch(Y);return yield Ve.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function Ir(G){if(!(G instanceof Se.ZR&&G.customData))return!1;const Y=Number(G.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(Xe))throw Xe;const ft={throttleEndTimeMillis:Date.now()+(0,Se.$s)(xe),backoffCount:xe+1};return yield Ve.storage.setThrottleMetadata(ft),Ve.attemptFetch(Y,ft)}})()}}class Hc{constructor(Y,ie,xe,Ve,Xe){this.app=Y,this._client=ie,this._storageCache=xe,this._storage=Ve,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ss(G,Y){var ie;const xe=G.target.error||void 0;return H.create(Y,{originalErrorMessage:xe&&(null===(ie=xe)||void 0===ie?void 0:ie.message)})}const Fi="app_namespace_store";class ah{constructor(Y,ie,xe,Ve=function Mm(){return new Promise((G,Y)=>{var ie;try{const xe=indexedDB.open("firebase_remote_config",1);xe.onerror=Ve=>{Y(ss(Ve,"storage-open"))},xe.onsuccess=Ve=>{G(Ve.target.result)},xe.onupgradeneeded=Ve=>{0===Ve.oldVersion&&Ve.target.result.createObjectStore(Fi,{keyPath:"compositeKey"})}}catch(xe){Y(H.create("storage-open",{originalErrorMessage:null===(ie=xe)||void 0===ie?void 0:ie.message}))}})}()){this.appId=Y,this.appName=ie,this.namespace=xe,this.openDbPromise=Ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var ie=this;return(0,te.Z)(function*(){const xe=yield ie.openDbPromise;return new Promise((Ve,Xe)=>{var ft;const an=xe.transaction([Fi],"readonly").objectStore(Fi),In=ie.createCompositeKey(Y);try{const Pn=an.get(In);Pn.onerror=cn=>{Xe(ss(cn,"storage-get"))},Pn.onsuccess=cn=>{const os=cn.target.result;Ve(os?os.value:void 0)}}catch(Pn){Xe(H.create("storage-get",{originalErrorMessage:null===(ft=Pn)||void 0===ft?void 0:ft.message}))}})})()}set(Y,ie){var xe=this;return(0,te.Z)(function*(){const Ve=yield xe.openDbPromise;return new Promise((Xe,ft)=>{var Nt;const In=Ve.transaction([Fi],"readwrite").objectStore(Fi),Pn=xe.createCompositeKey(Y);try{const cn=In.put({compositeKey:Pn,value:ie});cn.onerror=os=>{ft(ss(os,"storage-set"))},cn.onsuccess=()=>{Xe()}}catch(cn){ft(H.create("storage-set",{originalErrorMessage:null===(Nt=cn)||void 0===Nt?void 0:Nt.message}))}})})()}delete(Y){var ie=this;return(0,te.Z)(function*(){const xe=yield ie.openDbPromise;return new Promise((Ve,Xe)=>{var ft;const an=xe.transaction([Fi],"readwrite").objectStore(Fi),In=ie.createCompositeKey(Y);try{const Pn=an.delete(In);Pn.onerror=cn=>{Xe(ss(cn,"storage-delete"))},Pn.onsuccess=()=>{Ve()}}catch(Pn){Xe(H.create("storage-delete",{originalErrorMessage:null===(ft=Pn)||void 0===ft?void 0:ft.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class Ma{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,te.Z)(function*(){const ie=Y.storage.getLastFetchStatus(),xe=Y.storage.getLastSuccessfulFetchTimestampMillis(),Ve=Y.storage.getActiveConfig(),Xe=yield ie;Xe&&(Y.lastFetchStatus=Xe);const ft=yield xe;ft&&(Y.lastSuccessfulFetchTimestampMillis=ft);const Nt=yield Ve;Nt&&(Y.activeConfig=Nt)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function w_(){return zc.apply(this,arguments)}function zc(){return(zc=(0,te.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function lh(){(0,Ne._registerComponent)(new Ze.wA("remote-config",function G(Y,{instanceIdentifier:ie}){const xe=Y.getProvider("app").getImmediate(),Ve=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw H.create("registration-window");if(!(0,Se.hl)())throw H.create("indexed-db-unavailable");const{projectId:Xe,apiKey:ft,appId:Nt}=xe.options;if(!Xe)throw H.create("registration-project-id");if(!ft)throw H.create("registration-api-key");if(!Nt)throw H.create("registration-app-id");const an=new ah(Nt,xe.name,ie=ie||"firebase"),In=new Ma(an),Pn=new be.Yd(S);Pn.logLevel=be.in.ERROR;const cn=new Li(Ve,Ne.SDK_VERSION,ie,Xe,ft,Nt),os=new Mr(cn,an),Qs=new fi(os,an,In,Pn),ec=new Hc(xe,Qs,In,an,Pn);return function Z(G){const Y=(0,Se.m9)(G);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(ec),ec},"PUBLIC").setMultipleInstances(!0)),(0,Ne.registerVersion)(S,D),(0,Ne.registerVersion)(S,D,"esm2017")}();const ks="/firebase-messaging-sw.js",Pa="/firebase-cloud-messaging-push-scope",Ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uc="google.c.a.c_id",Uu="google.c.a.c_l",dh="google.c.a.ts",Oa="google.c.a.e";var gr=(()=>{return(G=gr||(gr={})).PUSH_RECEIVED="push-received",G.NOTIFICATION_CLICKED="notification-clicked",gr;var G})();function po(G){const Y=new Uint8Array(G);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function or(G){const ie=(G+"=".repeat((4-G.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),xe=atob(ie),Ve=new Uint8Array(xe.length);for(let Xe=0;Xe<xe.length;++Xe)Ve[Xe]=xe.charCodeAt(Xe);return Ve}const da="fcm_token_details_db",Uo="fcm_token_object_Store";function Lm(G){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,te.Z)(function*(G){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(da))return null;let Y=null;return(yield(0,je.X3)(da,5,{upgrade:(xe=(0,te.Z)(function*(Ve,Xe,ft,Nt){var an;if(Xe<2||!Ve.objectStoreNames.contains(Uo))return;const In=Nt.objectStore(Uo),Pn=yield In.index("fcmSenderId").get(G);if(yield In.clear(),Pn)if(2===Xe){const cn=Pn;if(!cn.auth||!cn.p256dh||!cn.endpoint)return;Y={token:cn.fcmToken,createTime:null!==(an=cn.createTime)&&void 0!==an?an:Date.now(),subscriptionOptions:{auth:cn.auth,p256dh:cn.p256dh,endpoint:cn.endpoint,swScope:cn.swScope,vapidKey:"string"==typeof cn.vapidKey?cn.vapidKey:po(cn.vapidKey)}}}else if(3===Xe){const cn=Pn;Y={token:cn.fcmToken,createTime:cn.createTime,subscriptionOptions:{auth:po(cn.auth),p256dh:po(cn.p256dh),endpoint:cn.endpoint,swScope:cn.swScope,vapidKey:po(cn.vapidKey)}}}else if(4===Xe){const cn=Pn;Y={token:cn.fcmToken,createTime:cn.createTime,subscriptionOptions:{auth:po(cn.auth),p256dh:po(cn.p256dh),endpoint:cn.endpoint,swScope:cn.swScope,vapidKey:po(cn.vapidKey)}}}}),function(Xe,ft,Nt,an){return xe.apply(this,arguments)})})).close(),yield(0,je.Lj)(da),yield(0,je.Lj)("fcm_vapid_details_db"),yield(0,je.Lj)("undefined"),Wi(Y)?Y:null;var xe}),Gu.apply(this,arguments)}function Wi(G){if(!G||!G.subscriptionOptions)return!1;const{subscriptionOptions:Y}=G;return"number"==typeof G.createTime&&G.createTime>0&&"string"==typeof G.token&&G.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}const Lr="firebase-messaging-store";let Ms=null;function Gc(){return Ms||(Ms=(0,je.X3)("firebase-messaging-database",1,{upgrade:(G,Y)=>{0===Y&&G.createObjectStore(Lr)}})),Ms}function Ra(G){return jr.apply(this,arguments)}function jr(){return(jr=(0,te.Z)(function*(G){const Y=mr(G),xe=yield(yield Gc()).transaction(Lr).objectStore(Lr).get(Y);if(xe)return xe;{const Ve=yield Lm(G.appConfig.senderId);if(Ve)return yield si(G,Ve),Ve}})).apply(this,arguments)}function si(G,Y){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,te.Z)(function*(G,Y){const ie=mr(G),Ve=(yield Gc()).transaction(Lr,"readwrite");return yield Ve.objectStore(Lr).put(Y,ie),yield Ve.done,Y})).apply(this,arguments)}function Go(G){return ju.apply(this,arguments)}function ju(){return(ju=(0,te.Z)(function*(G){const Y=mr(G),xe=(yield Gc()).transaction(Lr,"readwrite");yield xe.objectStore(Lr).delete(Y),yield xe.done})).apply(this,arguments)}function mr({appConfig:G}){return G.appId}const Ki=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function En(G,Y){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,te.Z)(function*(G,Y){var ie;const xe=yield Nl(G),Ve=gt(Y),Xe={method:"POST",headers:xe,body:JSON.stringify(Ve)};let ft;try{ft=yield(yield fetch(ha(G.appConfig),Xe)).json()}catch(Nt){throw Ki.create("token-subscribe-failed",{errorInfo:null===(ie=Nt)||void 0===ie?void 0:ie.toString()})}if(ft.error)throw Ki.create("token-subscribe-failed",{errorInfo:ft.error.message});if(!ft.token)throw Ki.create("token-subscribe-no-token");return ft.token})).apply(this,arguments)}function Pm(G,Y){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,te.Z)(function*(G,Y){var ie;const xe=yield Nl(G),Ve=gt(Y.subscriptionOptions),Xe={method:"PATCH",headers:xe,body:JSON.stringify(Ve)};let ft;try{ft=yield(yield fetch(`${ha(G.appConfig)}/${Y.token}`,Xe)).json()}catch(Nt){throw Ki.create("token-update-failed",{errorInfo:null===(ie=Nt)||void 0===ie?void 0:ie.toString()})}if(ft.error)throw Ki.create("token-update-failed",{errorInfo:ft.error.message});if(!ft.token)throw Ki.create("token-update-no-token");return ft.token})).apply(this,arguments)}function fh(G,Y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,te.Z)(function*(G,Y){var ie;const Ve={method:"DELETE",headers:yield Nl(G)};try{const ft=yield(yield fetch(`${ha(G.appConfig)}/${Y}`,Ve)).json();if(ft.error)throw Ki.create("token-unsubscribe-failed",{errorInfo:ft.error.message})}catch(Xe){throw Ki.create("token-unsubscribe-failed",{errorInfo:null===(ie=Xe)||void 0===ie?void 0:ie.toString()})}})).apply(this,arguments)}function ha({projectId:G}){return`https://fcmregistrations.googleapis.com/v1/projects/${G}/registrations`}function Nl(G){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,te.Z)(function*({appConfig:G,installations:Y}){const ie=yield Y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function gt({p256dh:G,auth:Y,endpoint:ie,vapidKey:xe}){const Ve={web:{endpoint:ie,auth:Y,p256dh:G}};return xe!==Ho&&(Ve.web.applicationPubKey=xe),Ve}const jn=6048e5;function ep(G){return Na.apply(this,arguments)}function Na(){return(Na=(0,te.Z)(function*(G){const Y=yield tp(G.swRegistration,G.vapidKey),ie={vapidKey:G.vapidKey,swScope:G.swRegistration.scope,endpoint:Y.endpoint,auth:po(Y.getKey("auth")),p256dh:po(Y.getKey("p256dh"))},xe=yield Ra(G.firebaseDependencies);if(xe){if(Om(xe.subscriptionOptions,ie))return Date.now()>=xe.createTime+jn?Wc(G,{token:xe.token,createTime:Date.now(),subscriptionOptions:ie}):xe.token;try{yield fh(G.firebaseDependencies,xe.token)}catch(Ve){console.warn(Ve)}return jc(G.firebaseDependencies,ie)}return jc(G.firebaseDependencies,ie)})).apply(this,arguments)}function ds(G){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,te.Z)(function*(G){const Y=yield Ra(G.firebaseDependencies);Y&&(yield fh(G.firebaseDependencies,Y.token),yield Go(G.firebaseDependencies));const ie=yield G.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()})).apply(this,arguments)}function Wc(G,Y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,te.Z)(function*(G,Y){try{const ie=yield Pm(G.firebaseDependencies,Y),xe=Object.assign(Object.assign({},Y),{token:ie,createTime:Date.now()});return yield si(G.firebaseDependencies,xe),ie}catch(ie){throw yield ds(G),ie}})).apply(this,arguments)}function jc(G,Y){return Va.apply(this,arguments)}function Va(){return(Va=(0,te.Z)(function*(G,Y){const xe={token:yield En(G,Y),createTime:Date.now(),subscriptionOptions:Y};return yield si(G,xe),xe.token})).apply(this,arguments)}function tp(G,Y){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,te.Z)(function*(G,Y){return(yield G.pushManager.getSubscription())||G.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:or(Y)})})).apply(this,arguments)}function Om(G,Y){return Y.vapidKey===G.vapidKey&&Y.endpoint===G.endpoint&&Y.auth===G.auth&&Y.p256dh===G.p256dh}function fa(G){const Y={from:G.from,collapseKey:G.collapse_key,messageId:G.fcmMessageId};return function hs(G,Y){if(!Y.notification)return;G.notification={};const ie=Y.notification.title;ie&&(G.notification.title=ie);const xe=Y.notification.body;xe&&(G.notification.body=xe);const Ve=Y.notification.image;Ve&&(G.notification.image=Ve);const Xe=Y.notification.icon;Xe&&(G.notification.icon=Xe)}(Y,G),function $r(G,Y){!Y.data||(G.data=Y.data)}(Y,G),function Vl(G,Y){var ie,xe,Ve,Xe,ft;if(!(Y.fcmOptions||null!==(ie=Y.notification)&&void 0!==ie&&ie.click_action))return;G.fcmOptions={};const Nt=null!==(Ve=null===(xe=Y.fcmOptions)||void 0===xe?void 0:xe.link)&&void 0!==Ve?Ve:null===(Xe=Y.notification)||void 0===Xe?void 0:Xe.click_action;Nt&&(G.fcmOptions.link=Nt);const an=null===(ft=Y.fcmOptions)||void 0===ft?void 0:ft.analytics_label;an&&(G.fcmOptions.analyticsLabel=an)}(Y,G),Y}function Hl(G){return"object"==typeof G&&!!G&&Uc in G}function go(G,Y){const ie=[];for(let xe=0;xe<G.length;xe++)ie.push(G.charAt(xe)),xe<Y.length&&ie.push(Y.charAt(xe));return ie.join("")}function $u(G){return Ki.create("missing-app-config-values",{valueName:G})}go("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),go("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gh{constructor(Y,ie,xe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function ph(G){if(!G||!G.options)throw $u("App Configuration Object");if(!G.name)throw $u("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=G;for(const xe of Y)if(!ie[xe])throw $u(xe);return{appName:G.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:Ve,installations:ie,analyticsProvider:xe}}_delete(){return Promise.resolve()}}function np(G){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,te.Z)(function*(G){var Y;try{G.swRegistration=yield navigator.serviceWorker.register(ks,{scope:Pa}),G.swRegistration.update().catch(()=>{})}catch(ie){throw Ki.create("failed-service-worker-registration",{browserErrorMessage:null===(Y=ie)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function Yu(G,Y){return zl.apply(this,arguments)}function zl(){return(zl=(0,te.Z)(function*(G,Y){if(!Y&&!G.swRegistration&&(yield np(G)),Y||!G.swRegistration){if(!(Y instanceof ServiceWorkerRegistration))throw Ki.create("invalid-sw-registration");G.swRegistration=Y}})).apply(this,arguments)}function Xu(G,Y){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,te.Z)(function*(G,Y){Y?G.vapidKey=Y:G.vapidKey||(G.vapidKey=Ho)})).apply(this,arguments)}function za(){return(za=(0,te.Z)(function*(G,Y){if(!navigator)throw Ki.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ki.create("permission-blocked");return yield Xu(G,Y?.vapidKey),yield Yu(G,Y?.serviceWorkerRegistration),ep(G)})).apply(this,arguments)}function ip(G,Y,ie){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,te.Z)(function*(G,Y,ie){const xe=sp(Y);(yield G.firebaseDependencies.analyticsProvider.get()).logEvent(xe,{message_id:ie[Uc],message_name:ie[Uu],message_time:ie[dh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sp(G){switch(G){case gr.NOTIFICATION_CLICKED:return"notification_open";case gr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wo(){return(Wo=(0,te.Z)(function*(G,Y){const ie=Y.data;if(!ie.isFirebaseMessaging)return;G.onMessageHandler&&ie.messageType===gr.PUSH_RECEIVED&&("function"==typeof G.onMessageHandler?G.onMessageHandler(fa(ie)):G.onMessageHandler.next(fa(ie)));const xe=ie.data;Hl(xe)&&"1"===xe[Oa]&&(yield ip(G,ie.messageType,xe))})).apply(this,arguments)}const jo="@firebase/messaging",Ni=G=>{const Y=new gh(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),G.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function vh(G,Y){return Wo.apply(this,arguments)}(Y,ie)),Y},mo=G=>{const Y=G.getProvider("messaging").getImmediate();return{getToken:xe=>function mh(G,Y){return za.apply(this,arguments)}(Y,xe)}};function qu(){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,te.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bi(){(0,Ne._registerComponent)(new Ze.wA("messaging",Ni,"PUBLIC")),(0,Ne._registerComponent)(new Ze.wA("messaging-internal",mo,"PRIVATE")),(0,Ne.registerVersion)(jo,"0.10.0"),(0,Ne.registerVersion)(jo,"0.10.0","esm2017")}();const Wa="analytics",bh="firebase_id",ed="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wh="https://www.googletagmanager.com/gtag/js",Qi=new be.Yd("@firebase/analytics");function Yc(G){return Promise.all(G.map(Y=>Y.catch(ie=>ie)))}function Xc(G,Y){const ie=document.createElement("script");ie.src=`${wh}?l=${G}&id=${Y}`,ie.async=!0,document.head.appendChild(ie)}function rp(G,Y,ie,xe,Ve,Xe){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,te.Z)(function*(G,Y,ie,xe,Ve,Xe){const ft=xe[Ve];try{if(ft)yield Y[ft];else{const an=(yield Yc(ie)).find(In=>In.measurementId===Ve);an&&(yield Y[an.appId])}}catch(Nt){Qi.error(Nt)}G("config",Ve,Xe)})).apply(this,arguments)}function vo(G,Y,ie,xe,Ve){return jl.apply(this,arguments)}function jl(){return(jl=(0,te.Z)(function*(G,Y,ie,xe,Ve){try{let Xe=[];if(Ve&&Ve.send_to){let ft=Ve.send_to;Array.isArray(ft)||(ft=[ft]);const Nt=yield Yc(ie);for(const an of ft){const In=Nt.find(cn=>cn.measurementId===an),Pn=In&&Y[In.appId];if(!Pn){Xe=[];break}Xe.push(Pn)}}0===Xe.length&&(Xe=Object.values(Y)),yield Promise.all(Xe),G("event",xe,Ve||{})}catch(Xe){Qi.error(Xe)}})).apply(this,arguments)}function Ch(G){const Y=window.document.getElementsByTagName("script");for(const ie of Object.values(Y))if(ie.src&&ie.src.includes(wh)&&ie.src.includes(G))return ie;return null}const fs=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yl=new class nd{constructor(Y={},ie=1e3){this.throttleMetadata=Y,this.intervalMillis=ie}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,ie){this.throttleMetadata[Y]=ie}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function ja(G){return new Headers({Accept:"application/json","x-goog-api-key":G})}function lp(G){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,te.Z)(function*(G){var Y;const{appId:ie,apiKey:xe}=G,Ve={method:"GET",headers:ja(xe)},Xe=ed.replace("{app-id}",ie),ft=yield fetch(Xe,Ve);if(200!==ft.status&&304!==ft.status){let Nt="";try{const an=yield ft.json();null!==(Y=an.error)&&void 0!==Y&&Y.message&&(Nt=an.error.message)}catch{}throw fs.create("config-fetch-failed",{httpStatus:ft.status,responseMessage:Nt})}return ft.json()})).apply(this,arguments)}function Sh(G){return ar.apply(this,arguments)}function ar(){return(ar=(0,te.Z)(function*(G,Y=Yl,ie){const{appId:xe,apiKey:Ve,measurementId:Xe}=G.options;if(!xe)throw fs.create("no-app-id");if(!Ve){if(Xe)return{measurementId:Xe,appId:xe};throw fs.create("no-api-key")}const ft=Y.getThrottleMetadata(xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Nt=new Xl;return setTimeout((0,te.Z)(function*(){Nt.abort()}),void 0!==ie?ie:6e4),Th({appId:xe,apiKey:Ve,measurementId:Xe},ft,Nt,Y)})).apply(this,arguments)}function Th(G,Y,ie){return yo.apply(this,arguments)}function yo(){return(yo=(0,te.Z)(function*(G,{throttleEndTimeMillis:Y,backoffCount:ie},xe,Ve=Yl){var Xe,ft;const{appId:Nt,measurementId:an}=G;try{yield id(xe,Y)}catch(In){if(an)return Qi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${null===(Xe=In)||void 0===Xe?void 0:Xe.message}]`),{appId:Nt,measurementId:an};throw In}try{const In=yield lp(G);return Ve.deleteThrottleMetadata(Nt),In}catch(In){const Pn=In;if(!Zc(Pn)){if(Ve.deleteThrottleMetadata(Nt),an)return Qi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${Pn?.message}]`),{appId:Nt,measurementId:an};throw In}const cn=503===Number(null===(ft=Pn?.customData)||void 0===ft?void 0:ft.httpStatus)?(0,Se.$s)(ie,Ve.intervalMillis,30):(0,Se.$s)(ie,Ve.intervalMillis),os={throttleEndTimeMillis:Date.now()+cn,backoffCount:ie+1};return Ve.setThrottleMetadata(Nt,os),Qi.debug(`Calling attemptFetch again in ${cn} millis`),Th(G,os,xe,Ve)}})).apply(this,arguments)}function id(G,Y){return new Promise((ie,xe)=>{const Ve=Math.max(Y-Date.now(),0),Xe=setTimeout(ie,Ve);G.addEventListener(()=>{clearTimeout(Xe),xe(fs.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}function Zc(G){if(!(G instanceof Se.ZR&&G.customData))return!1;const Y=Number(G.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}class Xl{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let pa,Qc;function $a(){return($a=(0,te.Z)(function*(G,Y,ie,xe,Ve){if(Ve&&Ve.global)G("event",ie,xe);else{const Xe=yield Y;G("event",ie,Object.assign(Object.assign({},xe),{send_to:Xe}))}})).apply(this,arguments)}function qa(G){Qc=G}function sd(G){pa=G}function Yo(){return Za.apply(this,arguments)}function Za(){return(Za=(0,te.Z)(function*(){var G;if(!(0,Se.hl)())return Qi.warn(fs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(Y){return Qi.warn(fs.create("indexeddb-unavailable",{errorInfo:null===(G=Y)||void 0===G?void 0:G.toString()}).message),!1}return!0})).apply(this,arguments)}function Ka(){return(Ka=(0,te.Z)(function*(G,Y,ie,xe,Ve,Xe,ft){var Nt;const an=Sh(G);an.then(Qs=>{ie[Qs.measurementId]=Qs.appId,G.options.measurementId&&Qs.measurementId!==G.options.measurementId&&Qi.warn(`The measurement ID in the local Firebase config (${G.options.measurementId}) does not match the measurement ID fetched from the server (${Qs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qs=>Qi.error(Qs)),Y.push(an);const In=Yo().then(Qs=>{if(Qs)return xe.getId()}),[Pn,cn]=yield Promise.all([an,In]);Ch(Xe)||Xc(Xe,Pn.measurementId),Qc&&(Ve("consent","default",Qc),qa(void 0)),Ve("js",new Date);const os=null!==(Nt=ft?.config)&&void 0!==Nt?Nt:{};return os.origin="firebase",os.update=!0,null!=cn&&(os[bh]=cn),Ve("config",Pn.measurementId,os),pa&&(Ve("set",pa),sd(void 0)),Pn.measurementId})).apply(this,arguments)}class Jc{constructor(Y){this.app=Y}_delete(){return delete Ws[this.app.options.appId],Promise.resolve()}}let Ws={},Qa=[];const ma={};let el,Xr,Ja="dataLayer",Eh=!1;function dp(G,Y,ie){!function Rm(){const G=[];if((0,Se.ru)()&&G.push("This is a browser extension environment."),(0,Se.zI)()||G.push("Cookies are not available."),G.length>0){const Y=G.map((xe,Ve)=>`(${Ve+1}) ${xe}`).join(" "),ie=fs.create("invalid-analytics-context",{errorInfo:Y});Qi.warn(ie.message)}}();const xe=G.options.appId;if(!xe)throw fs.create("no-app-id");if(!G.options.apiKey){if(!G.options.measurementId)throw fs.create("no-api-key");Qi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${G.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ws[xe])throw fs.create("already-exists",{id:xe});if(!Eh){!function qc(G){let Y=[];Array.isArray(window[G])?Y=window[G]:window[G]=Y}(Ja);const{wrappedGtag:Xe,gtagCore:ft}=function $l(G,Y,ie,xe,Ve){let Xe=function(...ft){window[xe].push(arguments)};return window[Ve]&&"function"==typeof window[Ve]&&(Xe=window[Ve]),window[Ve]=function td(G,Y,ie,xe){function Xe(){return(Xe=(0,te.Z)(function*(ft,Nt,an){try{"event"===ft?yield vo(G,Y,ie,Nt,an):"config"===ft?yield rp(G,Y,ie,xe,Nt,an):"consent"===ft?G("consent","update",an):G("set",Nt)}catch(In){Qi.error(In)}})).apply(this,arguments)}return function Ve(ft,Nt,an){return Xe.apply(this,arguments)}}(Xe,G,Y,ie),{gtagCore:Xe,wrappedGtag:window[Ve]}}(Ws,Qa,ma,Ja,"gtag");Xr=Xe,el=ft,Eh=!0}return Ws[xe]=function up(G,Y,ie,xe,Ve,Xe,ft){return Ka.apply(this,arguments)}(G,Qa,ma,Y,el,Ja,ie),new Jc(G)}function S_(){return hp.apply(this,arguments)}function hp(){return(hp=(0,te.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Or="@firebase/analytics";!function ji(){(0,Ne._registerComponent)(new Ze.wA(Wa,(Y,{options:ie})=>dp(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,Ne._registerComponent)(new Ze.wA("analytics-internal",function G(Y){try{const ie=Y.getProvider(Wa).getImmediate();return{logEvent:(xe,Ve,Xe)=>function tl(G,Y,ie,xe){G=(0,Se.m9)(G),function ql(G,Y,ie,xe,Ve){return $a.apply(this,arguments)}(Xr,Ws[G.app.options.appId],Y,ie,xe).catch(Ve=>Qi.error(Ve))}(ie,xe,Ve,Xe)}}catch(ie){throw fs.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,Ne.registerVersion)(Or,"0.8.4"),(0,Ne.registerVersion)(Or,"0.8.4","esm2017")}();var Xo=ue(4408),es=ue(7565);const fp=new class qr extends es.v{}(class Kl extends Xo.o{constructor(Y,ie){super(Y,ie),this.scheduler=Y,this.work=ie}schedule(Y,ie=0){return ie>0?super.schedule(Y,ie):(this.delay=ie,this.state=Y,this.scheduler.flush(this),this)}execute(Y,ie){return ie>0||this.closed?super.execute(Y,ie):this._execute(Y,ie)}requestAsyncId(Y,ie,xe=0){return null!=xe&&xe>0||null==xe&&this.delay>0?super.requestAsyncId(Y,ie,xe):(Y.flush(this),0)}});var Nm=ue(4986),il=ue(9751),pp=ue(8505),Dh=ue(9468),lr=ue(5363);const tu=new g.GfV("7.4.1"),Ks="__angularfire_symbol__analyticsIsSupportedValue",nu="__angularfire_symbol__analyticsIsSupported",sl="__angularfire_symbol__remoteConfigIsSupportedValue",kh="__angularfire_symbol__remoteConfigIsSupported",rl="__angularfire_symbol__messagingIsSupportedValue",od="__angularfire_symbol__messagingIsSupported";function su(G,Y,ie){if(Y){if(1===Y.length)return Y[0];const Xe=Y.filter(ft=>ft.app===ie);if(1===Xe.length)return Xe[0]}return ie.container.getProvider(G).getImmediate({optional:!0})}globalThis[nu]||(globalThis[nu]=S_().then(G=>globalThis[Ks]=G).catch(()=>globalThis[Ks]=!1)),globalThis[od]||(globalThis[od]=qu().then(G=>globalThis[rl]=G).catch(()=>globalThis[rl]=!1)),globalThis[kh]||(globalThis[kh]=w_().then(G=>globalThis[sl]=G).catch(()=>globalThis[sl]=!1));const ru=(G,Y)=>{const ie=Y?[Y]:(0,ye.C6)(),xe=[];return ie.forEach(Ve=>{Ve.container.getProvider(G).instances.forEach(ft=>{xe.includes(ft)||xe.push(ft)})}),xe};function Zr(){}class ou{constructor(Y,ie=fp){this.zone=Y,this.delegate=ie}now(){return this.delegate.now()}schedule(Y,ie,xe){const Ve=this.zone;return this.delegate.schedule(function(ft){Ve.runGuarded(()=>{Y.apply(this,[ft])})},ie,xe)}}class ol{constructor(Y){this.zone=Y,this.task=null}call(Y,ie){const xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zr,{},Zr,Zr)),ie.pipe((0,pp.b)({next:xe,complete:xe,error:xe})).subscribe(Y).add(xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mh=(()=>{class G{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new ou(Zone.current)),this.insideAngular=ie.run(()=>new ou(Zone.current,Nm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return G.\u0275fac=function(ie){return new(ie||G)(g.LFG(g.R0b))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function xo(){const G=globalThis.\u0275AngularFireScheduler;if(!G)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return G}function gp(G){return xo().ngZone.runOutsideAngular(()=>G())}function bo(G){return xo().ngZone.run(()=>G())}function Lh(G){return xo(),function rs(G){return function(ie){return(ie=ie.lift(new ol(G.ngZone))).pipe((0,Dh.R)(G.outsideAngular),(0,lr.Q)(G.insideAngular))}}(xo())(G)}const au=(G,Y)=>function(){const xe=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),bo(()=>G.apply(void 0,xe))},Ph=(G,Y)=>function(){let ie;const xe=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof xe[Xe]&&(Y&&(ie||(ie=bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zr,{},Zr,Zr)))),xe[Xe]=au(xe[Xe],ie));const Ve=gp(()=>G.apply(this,xe));if(!Y){if(Ve instanceof il.y){const Xe=xo();return Ve.pipe((0,Dh.R)(Xe.outsideAngular),(0,lr.Q)(Xe.insideAngular))}return bo(()=>Ve)}return Ve instanceof il.y?Ve.pipe(Lh):Ve instanceof Promise?bo(()=>new Promise((Xe,ft)=>Ve.then(Nt=>bo(()=>Xe(Nt)),Nt=>bo(()=>ft(Nt))))):"function"==typeof Ve&&ie?function(){return setTimeout(()=>{ie&&"scheduled"===ie.state&&ie.invoke()},10),Ve.apply(this,arguments)}:bo(()=>Ve)}},8247:(Gt,rt,ue)=>{"use strict";ue.d(rt,{$:()=>ha,A:()=>Ce,B:()=>mt,G:()=>b,H:()=>L,J:()=>Mr,L:()=>Ae,M:()=>zc,N:()=>uh,P:()=>Nm,Q:()=>Uc,R:()=>Fm,T:()=>Uu,U:()=>Ho,V:()=>gr,W:()=>po,X:()=>Lm,Y:()=>Pl,Z:()=>En,_:()=>Pm,a:()=>$o,a0:()=>ep,a1:()=>ds,a2:()=>Wc,a3:()=>jc,a4:()=>tp,a5:()=>Om,a6:()=>hs,a7:()=>$r,a8:()=>Hl,a9:()=>go,aA:()=>we,aB:()=>Nt,aC:()=>bo,aD:()=>gp,aE:()=>m,aI:()=>ja,aL:()=>Oa,aa:()=>np,ab:()=>Yu,ac:()=>Xu,af:()=>ip,ag:()=>sp,ah:()=>vh,ak:()=>Lr,al:()=>Ku,an:()=>wh,ao:()=>Wl,ap:()=>tt,aq:()=>wt,ar:()=>Yt,as:()=>kt,at:()=>ic,au:()=>yr,av:()=>_n,aw:()=>Pe,ax:()=>We,ay:()=>os,az:()=>He,b:()=>fs,c:()=>kh,d:()=>Bm,e:()=>od,f:()=>Lh,g:()=>ie,h:()=>Ph,i:()=>Za,j:()=>Xe,k:()=>Zo,l:()=>nl,m:()=>ya,o:()=>je,r:()=>Xo,s:()=>eu,u:()=>fp});var g=ue(5861),ye=ue(2090),te=ue(9681),Ne=ue(1877),Se=ue(655),Ze=ue(4859);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const mt=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new ye.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),he=new Ne.Yd("@firebase/auth");function Bt(R,...E){he.logLevel<=Ne.in.ERROR&&he.error(`Auth (${te.SDK_VERSION}): ${R}`,...E)}function kt(R,...E){throw Ot(R,...E)}function Pe(R,...E){return Ot(R,...E)}function it(R,E,I){const V=Object.assign(Object.assign({},et()),{[E]:I});return new ye.LL("auth","Firebase",V).create(E,{appName:R.name})}function st(R,E,I){if(!(E instanceof I))throw I.name!==E.constructor.name&&kt(R,"argument-error"),it(R,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(R,...E){if("string"!=typeof R){const I=E[0],V=[...E.slice(1)];return V[0]&&(V[0].appName=R.name),R._errorFactory.create(I,...V)}return jt.create(R,...E)}function We(R,E,...I){if(!R)throw Ot(E,...I)}function qe(R){const E="INTERNAL ASSERTION FAILED: "+R;throw Bt(E),new Error(E)}function tt(R,E){R||qe(E)}const Re=new Map;function He(R){tt(R instanceof Function,"Expected a class definition");let E=Re.get(R);return E?(tt(E instanceof R,"Instance stored in cache mismatched with class"),E):(E=new R,Re.set(R,E),E)}function bt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function _t(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class Et{constructor(E,I){this.shortDelay=E,this.longDelay=I,tt(I>E,"Short delay should be less than long delay!"),this.isMobile=(0,ye.uI)()||(0,ye.b$)()}get(){return function Kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,ye.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jn(R,E){tt(R.emulator,"Emulator should always be set here");const{url:I}=R.emulator;return E?`${I}${E.startsWith("/")?E.slice(1):E}`:I}class mi{static initialize(E,I,V){this.fetchImpl=E,I&&(this.headersImpl=I),V&&(this.responseImpl=V)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sn=new Et(3e4,6e4);function On(R,E){return R.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:R.tenantId}):E}function wn(R,E,I,V){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,g.Z)(function*(R,E,I,V,ne={}){return Us(R,ne,(0,g.Z)(function*(){let de={},ze={};V&&("GET"===E?ze=V:de={body:JSON.stringify(V)});const ht=(0,ye.xO)(Object.assign({key:R.config.apiKey},ze)).slice(1),qt=yield R._getAdditionalHeaders();return qt["Content-Type"]="application/json",R.languageCode&&(qt["X-Firebase-Locale"]=R.languageCode),mi.fetch()(sr(R,R.config.apiHost,I,ht),Object.assign({method:E,headers:qt,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function Us(R,E,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(R,E,I){R._canInitEmulator=!1;const V=Object.assign(Object.assign({},Nn),E);try{const ne=new vs(R),de=yield Promise.race([I(),ne.promise]);ne.clearNetworkTimeout();const ze=yield de.json();if("needConfirmation"in ze)throw zi(R,"account-exists-with-different-credential",ze);if(de.ok&&!("errorMessage"in ze))return ze;{const ht=de.ok?ze.errorMessage:ze.error.message,[qt,pn]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw zi(R,"credential-already-in-use",ze);if("EMAIL_EXISTS"===qt)throw zi(R,"email-already-in-use",ze);if("USER_DISABLED"===qt)throw zi(R,"user-disabled",ze);const xn=V[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw it(R,xn,pn);kt(R,xn)}}catch(ne){if(ne instanceof ye.ZR)throw ne;kt(R,"network-request-failed")}})).apply(this,arguments)}function Di(R,E,I,V){return Es.apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(R,E,I,V,ne={}){const de=yield wn(R,E,I,V,ne);return"mfaPendingCredential"in de&&kt(R,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function sr(R,E,I,V){const ne=`${E}${I}?${V}`;return R.config.emulator?Jn(R.config,ne):`${R.config.apiScheme}://${ne}`}class vs{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((I,V)=>{this.timer=setTimeout(()=>V(Pe(this.auth,"network-request-failed")),Sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zi(R,E,I){const V={appName:R.name};I.email&&(V.email=I.email),I.phoneNumber&&(V.phoneNumber=I.phoneNumber);const ne=Pe(R,E,V);return ne.customData._tokenResponse=I,ne}function kr(){return(kr=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Ht(R,E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Ui(R,E){return vi.apply(this,arguments)}function vi(){return(vi=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function us(R){if(R)try{const E=new Date(Number(R));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function Ci(){return(Ci=(0,g.Z)(function*(R,E=!1){const I=(0,ye.m9)(R),V=yield I.getIdToken(E),ne=sn(V);We(ne&&ne.exp&&ne.auth_time&&ne.iat,I.auth,"internal-error");const de="object"==typeof ne.firebase?ne.firebase:void 0,ze=de?.sign_in_provider;return{claims:ne,token:V,authTime:us(ii(ne.auth_time)),issuedAtTime:us(ii(ne.iat)),expirationTime:us(ii(ne.exp)),signInProvider:ze||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function ii(R){return 1e3*Number(R)}function sn(R){var E;const[I,V,ne]=R.split(".");if(void 0===I||void 0===V||void 0===ne)return Bt("JWT malformed, contained fewer than 3 sections"),null;try{const de=(0,ye.tV)(V);return de?JSON.parse(de):(Bt("Failed to decode base64 JWT payload"),null)}catch(de){return Bt("Caught error parsing JWT payload as JSON",null===(E=de)||void 0===E?void 0:E.toString()),null}}function yn(R,E){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(R,E,I=!1){if(I)return E;try{return yield E}catch(V){throw V instanceof ye.ZR&&Gi(V)&&R.auth.currentUser===R&&(yield R.auth.signOut()),V}})).apply(this,arguments)}function Gi({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class Cs{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var I;if(E){const V=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),V}{this.errorBackoff=3e4;const ne=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(E=!1){var I=this;if(!this.isRunning)return;const V=this.getInterval(E);this.timerId=setTimeout((0,g.Z)(function*(){yield I.iteration()}),V)}iteration(){var E=this;return(0,g.Z)(function*(){var I;try{yield E.user.getIdToken(!0)}catch(V){return void("auth/network-request-failed"===(null===(I=V)||void 0===I?void 0:I.code)&&E.schedule(!0))}E.schedule()})()}}class mn{constructor(E,I){this.createdAt=E,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=us(this.lastLoginAt),this.creationTime=us(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ds(R){return An.apply(this,arguments)}function An(){return(An=(0,g.Z)(function*(R){var E;const I=R.auth,V=yield R.getIdToken(),ne=yield yn(R,Ui(I,{idToken:V}));We(ne?.users.length,I,"internal-error");const de=ne.users[0];R._notifyReloadListener(de);const ze=null!==(E=de.providerUserInfo)&&void 0!==E&&E.length?Ai(de.providerUserInfo):[],ht=is(R.providerData,ze),xn=!!R.isAnonymous&&!(R.email&&de.passwordHash||ht?.length),Ii={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:ht,metadata:new mn(de.createdAt,de.lastLoginAt),isAnonymous:xn};Object.assign(R,Ii)})).apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(R){const E=(0,ye.m9)(R);yield Ds(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function is(R,E){return[...R.filter(V=>!E.some(ne=>ne.providerId===V.providerId)),...E]}function Ai(R){return R.map(E=>{var{providerId:I}=E,V=(0,Se._T)(E,["providerId"]);return{providerId:I,uid:V.rawId||"",displayName:V.displayName||null,email:V.email||null,phoneNumber:V.phoneNumber||null,photoURL:V.photoUrl||null}})}function ut(){return(ut=(0,g.Z)(function*(R,E){const I=yield Us(R,{},(0,g.Z)(function*(){const V=(0,ye.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:ne,apiKey:de}=R.config,ze=sr(R,ne,"/v1/token",`key=${de}`),ht=yield R._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",mi.fetch()(ze,{method:"POST",headers:ht,body:V})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){We(E.idToken,"internal-error"),We(typeof E.idToken<"u","internal-error"),We(typeof E.refreshToken<"u","internal-error");const I="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function tn(R){const E=sn(R);return We(E,"internal-error"),We(typeof E.exp<"u","internal-error"),We(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,I)}getToken(E,I=!1){var V=this;return(0,g.Z)(function*(){return We(!V.accessToken||V.refreshToken,E,"user-token-expired"),I||!V.accessToken||V.isExpired?V.refreshToken?(yield V.refresh(E,V.refreshToken),V.accessToken):null:V.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,I){var V=this;return(0,g.Z)(function*(){const{accessToken:ne,refreshToken:de,expiresIn:ze}=yield function Vt(R,E){return ut.apply(this,arguments)}(E,I);V.updateTokensAndExpiration(ne,de,Number(ze))})()}updateTokensAndExpiration(E,I,V){this.refreshToken=I||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*V}static fromJSON(E,I){const{refreshToken:V,accessToken:ne,expirationTime:de}=I,ze=new Ut;return V&&(We("string"==typeof V,"internal-error",{appName:E}),ze.refreshToken=V),ne&&(We("string"==typeof ne,"internal-error",{appName:E}),ze.accessToken=ne),de&&(We("number"==typeof de,"internal-error",{appName:E}),ze.expirationTime=de),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return qe("not implemented")}}function ln(R,E){We("string"==typeof R||typeof R>"u","internal-error",{appName:E})}class dn{constructor(E){var{uid:I,auth:V,stsTokenManager:ne}=E,de=(0,Se._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=V,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new mn(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(E){var I=this;return(0,g.Z)(function*(){const V=yield yn(I,I.stsTokenManager.getToken(I.auth,E));return We(V,I.auth,"internal-error"),I.accessToken!==V&&(I.accessToken=V,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),V})()}getIdTokenResult(E){return function wi(R){return Ci.apply(this,arguments)}(this,E)}reload(){return function qs(R){return Bn.apply(this,arguments)}(this)}_assign(E){this!==E&&(We(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(I=>Object.assign({},I)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){return new dn(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(E){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,I=!1){var V=this;return(0,g.Z)(function*(){let ne=!1;E.idToken&&E.idToken!==V.stsTokenManager.accessToken&&(V.stsTokenManager.updateFromServerResponse(E),ne=!0),I&&(yield Ds(V)),yield V.auth._persistUserIfCurrent(V),ne&&V.auth._notifyListenersIfCurrent(V)})()}delete(){var E=this;return(0,g.Z)(function*(){const I=yield E.getIdToken();return yield yn(E,function rr(R,E){return kr.apply(this,arguments)}(E.auth,{idToken:I})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,I){var V,ne,de,ze,ht,qt,pn,xn;const Ii=null!==(V=I.displayName)&&void 0!==V?V:void 0,cr=null!==(ne=I.email)&&void 0!==ne?ne:void 0,Ko=null!==(de=I.phoneNumber)&&void 0!==de?de:void 0,Ap=null!==(ze=I.photoURL)&&void 0!==ze?ze:void 0,Ep=null!==(ht=I.tenantId)&&void 0!==ht?ht:void 0,Dp=null!==(qt=I._redirectEventId)&&void 0!==qt?qt:void 0,I_=null!==(pn=I.createdAt)&&void 0!==pn?pn:void 0,M_=null!==(xn=I.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:cu,emailVerified:kp,isAnonymous:hd,providerData:Vh,stsTokenManager:rc}=I;We(cu&&rc,E,"internal-error");const Hh=Ut.fromJSON(this.name,rc);We("string"==typeof cu,E,"internal-error"),ln(Ii,E.name),ln(cr,E.name),We("boolean"==typeof kp,E,"internal-error"),We("boolean"==typeof hd,E,"internal-error"),ln(Ko,E.name),ln(Ap,E.name),ln(Ep,E.name),ln(Dp,E.name),ln(I_,E.name),ln(M_,E.name);const $i=new dn({uid:cu,auth:E,email:cr,emailVerified:kp,displayName:Ii,isAnonymous:hd,photoURL:Ap,phoneNumber:Ko,tenantId:Ep,stsTokenManager:Hh,createdAt:I_,lastLoginAt:M_});return Vh&&Array.isArray(Vh)&&($i.providerData=Vh.map(Ip=>Object.assign({},Ip))),Dp&&($i._redirectEventId=Dp),$i}static _fromIdTokenResponse(E,I,V=!1){return(0,g.Z)(function*(){const ne=new Ut;ne.updateFromServerResponse(I);const de=new dn({uid:I.localId,auth:E,stsTokenManager:ne,isAnonymous:V});return yield Ds(de),de})()}}const Ae=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(I,V){var ne=this;return(0,g.Z)(function*(){ne.storage[I]=V})()}_get(I){var V=this;return(0,g.Z)(function*(){const ne=V.storage[I];return void 0===ne?null:ne})()}_remove(I){var V=this;return(0,g.Z)(function*(){delete V.storage[I]})()}_addListener(I,V){}_removeListener(I,V){}}return R.type="NONE",R})();function we(R,E,I){return`firebase:${R}:${E}:${I}`}class Oe{constructor(E,I,V){this.persistence=E,this.auth=I,this.userKey=V;const{config:ne,name:de}=this.auth;this.fullUserKey=we(this.userKey,ne.apiKey,de),this.fullPersistenceKey=we("persistence",ne.apiKey,de),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,g.Z)(function*(){const I=yield E.persistence._get(E.fullUserKey);return I?dn._fromJSON(E.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var I=this;return(0,g.Z)(function*(){if(I.persistence===E)return;const V=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=E,V?I.setCurrentUser(V):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,I,V="authUser"){return(0,g.Z)(function*(){if(!I.length)return new Oe(He(Ae),E,V);const ne=(yield Promise.all(I.map(function(){var pn=(0,g.Z)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let de=ne[0]||He(Ae);const ze=we(V,E.config.apiKey,E.name);let ht=null;for(const pn of I)try{const xn=yield pn._get(ze);if(xn){const Ii=dn._fromJSON(E,xn);pn!==de&&(ht=Ii),de=pn;break}}catch{}const qt=ne.filter(pn=>pn._shouldAllowMigration);return de._shouldAllowMigration&&qt.length?(de=qt[0],ht&&(yield de._set(ze,ht.toJSON())),yield Promise.all(I.map(function(){var pn=(0,g.Z)(function*(xn){if(xn!==de)try{yield xn._remove(ze)}catch{}});return function(xn){return pn.apply(this,arguments)}}())),new Oe(de,E,V)):new Oe(de,E,V)})()}}function _e(R){const E=R.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(vt(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(se(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(Xt(E))return"Blackberry";if(dt(E))return"Webos";if(ge(E))return"Safari";if((E.includes("chrome/")||Ue(E))&&!E.includes("edge/"))return"Chrome";if(Yt(E))return"Android";{const V=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===V?.length)return V[1]}return"Other"}function se(R=(0,ye.z$)()){return/firefox\//i.test(R)}function ge(R=(0,ye.z$)()){const E=R.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function Ue(R=(0,ye.z$)()){return/crios\//i.test(R)}function vt(R=(0,ye.z$)()){return/iemobile/i.test(R)}function Yt(R=(0,ye.z$)()){return/android/i.test(R)}function Xt(R=(0,ye.z$)()){return/blackberry/i.test(R)}function dt(R=(0,ye.z$)()){return/webos/i.test(R)}function wt(R=(0,ye.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function _n(R=(0,ye.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function di(R=(0,ye.z$)()){return wt(R)||Yt(R)||dt(R)||Xt(R)||/windows phone/i.test(R)||vt(R)}function a(R,E=[]){let I;switch(R){case"Browser":I=_e((0,ye.z$)());break;case"Worker":I=`${_e((0,ye.z$)())}-${R}`;break;default:I=R}const V=E.length?E.join(","):"FirebaseCore-web";return`${I}/JsCore/${te.SDK_VERSION}/${V}`}class l{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,I){const V=de=>new Promise((ze,ht)=>{try{ze(E(de))}catch(qt){ht(qt)}});V.onAbort=I,this.queue.push(V);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(E){var I=this;return(0,g.Z)(function*(){var V;if(I.auth.currentUser===E)return;const ne=[];try{for(const de of I.queue)yield de(E),de.onAbort&&ne.push(de.onAbort)}catch(de){ne.reverse();for(const ze of ne)try{ze()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null===(V=de)||void 0===V?void 0:V.message})}})()}}class f{constructor(E,I,V){this.app=E,this.heartbeatServiceProvider=I,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y(this),this.idTokenSubscription=new y(this),this.beforeStateQueue=new l(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(E,I){var V=this;return I&&(this._popupRedirectResolver=He(I)),this._initializationPromise=this.queue((0,g.Z)(function*(){var ne,de;if(!V._deleted&&(V.persistenceManager=yield Oe.create(V,E),!V._deleted)){if(null!==(ne=V._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield V._popupRedirectResolver._initialize(V)}catch{}yield V.initializeCurrentUser(I),V.lastNotifiedUid=(null===(de=V.currentUser)||void 0===de?void 0:de.uid)||null,!V._deleted&&(V._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,g.Z)(function*(){if(E._deleted)return;const I=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||I){if(E.currentUser&&I&&E.currentUser.uid===I.uid)return E._currentUser._assign(I),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(I,!0)}})()}initializeCurrentUser(E){var I=this;return(0,g.Z)(function*(){var V;const ne=yield I.assertedPersistence.getCurrentUser();let de=ne,ze=!1;if(E&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const ht=null===(V=I.redirectUser)||void 0===V?void 0:V._redirectEventId,qt=de?._redirectEventId,pn=yield I.tryRedirectSignIn(E);(!ht||ht===qt)&&pn?.user&&(de=pn.user,ze=!0)}if(!de)return I.directlySetCurrentUser(null);if(!de._redirectEventId){if(ze)try{yield I.beforeStateQueue.runMiddleware(de)}catch(ht){de=ne,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(ht))}return de?I.reloadAndSetCurrentUserOrClear(de):I.directlySetCurrentUser(null)}return We(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===de._redirectEventId?I.directlySetCurrentUser(de):I.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(E){var I=this;return(0,g.Z)(function*(){let V=null;try{V=yield I._popupRedirectResolver._completeRedirectFn(I,E,!0)}catch{yield I._setRedirectUser(null)}return V})()}reloadAndSetCurrentUserOrClear(E){var I=this;return(0,g.Z)(function*(){var V;try{yield Ds(E)}catch(ne){if("auth/network-request-failed"!==(null===(V=ne)||void 0===V?void 0:V.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function Ln(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var E=this;return(0,g.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var I=this;return(0,g.Z)(function*(){const V=E?(0,ye.m9)(E):null;return V&&We(V.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(V&&V._clone(I))})()}_updateCurrentUser(E,I=!1){var V=this;return(0,g.Z)(function*(){if(!V._deleted)return E&&We(V.tenantId===E.tenantId,V,"tenant-id-mismatch"),I||(yield V.beforeStateQueue.runMiddleware(E)),V.queue((0,g.Z)(function*(){yield V.directlySetCurrentUser(E),V.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,g.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var I=this;return this.queue((0,g.Z)(function*(){yield I.assertedPersistence.setPersistence(He(E))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new ye.LL("auth","Firebase",E())}onAuthStateChanged(E,I,V){return this.registerStateListener(this.authStateSubscription,E,I,V)}beforeAuthStateChanged(E,I){return this.beforeStateQueue.pushCallback(E,I)}onIdTokenChanged(E,I,V){return this.registerStateListener(this.idTokenSubscription,E,I,V)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,I){var V=this;return(0,g.Z)(function*(){const ne=yield V.getOrInitRedirectPersistenceManager(I);return null===E?ne.removeCurrentUser():ne.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var I=this;return(0,g.Z)(function*(){if(!I.redirectPersistenceManager){const V=E&&He(E)||I._popupRedirectResolver;We(V,I,"argument-error"),I.redirectPersistenceManager=yield Oe.create(I,[He(V._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(E){var I=this;return(0,g.Z)(function*(){var V,ne;return I._isInitialized&&(yield I.queue((0,g.Z)(function*(){}))),(null===(V=I._currentUser)||void 0===V?void 0:V._redirectEventId)===E?I._currentUser:(null===(ne=I.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===E?I.redirectUser:null})()}_persistUserIfCurrent(E){var I=this;return(0,g.Z)(function*(){if(E===I.currentUser)return I.queue((0,g.Z)(function*(){return I.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const V=null!==(I=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==V&&(this.lastNotifiedUid=V,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,I,V,ne){if(this._deleted)return()=>{};const de="function"==typeof I?I:I.next.bind(I),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return We(ze,this,"internal-error"),ze.then(()=>de(this.currentUser)),"function"==typeof I?E.addObserver(I,V,ne):E.addObserver(I)}directlySetCurrentUser(E){var I=this;return(0,g.Z)(function*(){I.currentUser&&I.currentUser!==E&&I._currentUser._stopProactiveRefresh(),E&&I.isProactiveRefreshEnabled&&E._startProactiveRefresh(),I.currentUser=E,E?yield I.assertedPersistence.setCurrentUser(E):yield I.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=a(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,g.Z)(function*(){var I;const V={"X-Client-Version":E.clientVersion};E.app.options.appId&&(V["X-Firebase-gmpid"]=E.app.options.appId);const ne=yield null===(I=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();return ne&&(V["X-Firebase-Client"]=ne),V})()}}function m(R){return(0,ye.m9)(R)}class y{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,ye.ne)(I=>this.observer=I)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function b(R,E,I){const V=m(R);We(V._canInitEmulator,V,"emulator-config-failed"),We(/^https?:\/\//.test(E),V,"invalid-emulator-scheme");const ne=!!I?.disableWarnings,de=x(E),{host:ze,port:ht}=function S(R){const E=x(R),I=/(\/\/)?([^?#/]+)/.exec(R.substr(E.length));if(!I)return{host:"",port:null};const V=I[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(V);if(ne){const de=ne[1];return{host:de,port:D(V.substr(de.length+1))}}{const[de,ze]=V.split(":");return{host:de,port:D(ze)}}}(E);V.config.emulator={url:`${de}//${ze}${null===ht?"":`:${ht}`}/`},V.settings.appVerificationDisabledForTesting=!0,V.emulatorConfig=Object.freeze({host:ze,port:ht,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function M(){function R(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function x(R){const E=R.indexOf(":");return E<0?"":R.substr(0,E+1)}function D(R){if(!R)return null;const E=Number(R);return isNaN(E)?null:E}class L{constructor(E,I){this.providerId=E,this.signInMethod=I}toJSON(){return qe("not implemented")}_getIdTokenResponse(E){return qe("not implemented")}_linkToIdToken(E,I){return qe("not implemented")}_getReauthenticationResolver(E){return qe("not implemented")}}function O(R,E){return H.apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:resetPassword",On(R,E))})).apply(this,arguments)}function $(R,E){return j.apply(this,arguments)}function j(){return(j=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function ee(R,E){return re.apply(this,arguments)}function re(){return(re=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:update",On(R,E))})).apply(this,arguments)}function ae(){return(ae=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithPassword",On(R,E))})).apply(this,arguments)}function A(R,E){return F.apply(this,arguments)}function F(){return(F=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:sendOobCode",On(R,E))})).apply(this,arguments)}function X(R,E){return Z.apply(this,arguments)}function Z(){return(Z=(0,g.Z)(function*(R,E){return A(R,E)})).apply(this,arguments)}function le(R,E){return ke.apply(this,arguments)}function ke(){return(ke=(0,g.Z)(function*(R,E){return A(R,E)})).apply(this,arguments)}function Me(R,E){return at.apply(this,arguments)}function at(){return(at=(0,g.Z)(function*(R,E){return A(R,E)})).apply(this,arguments)}function ct(R,E){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,g.Z)(function*(R,E){return A(R,E)})).apply(this,arguments)}function ei(){return(ei=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithEmailLink",On(R,E))})).apply(this,arguments)}function fi(){return(fi=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithEmailLink",On(R,E))})).apply(this,arguments)}class Si extends L{constructor(E,I,V,ne=null){super("password",V),this._email=E,this._password=I,this._tenantId=ne}static _fromEmailAndPassword(E,I){return new Si(E,I,"password")}static _fromEmailAndCode(E,I,V=null){return new Si(E,I,"emailLink",V)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const I="string"==typeof E?JSON.parse(E):E;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(E){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return function ce(R,E){return ae.apply(this,arguments)}(E,{returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function It(R,E){return ei.apply(this,arguments)}(E,{email:I._email,oobCode:I._password});default:kt(E,"internal-error")}})()}_linkToIdToken(E,I){var V=this;return(0,g.Z)(function*(){switch(V.signInMethod){case"password":return $(E,{idToken:I,returnSecureToken:!0,email:V._email,password:V._password});case"emailLink":return function ai(R,E){return fi.apply(this,arguments)}(E,{idToken:I,email:V._email,oobCode:V._password});default:kt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Li(R,E){return pi.apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithIdp",On(R,E))})).apply(this,arguments)}class Mr extends L{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const I=new Mr(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(I.idToken=E.idToken),E.accessToken&&(I.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(I.nonce=E.nonce),E.pendingToken&&(I.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(I.accessToken=E.oauthToken,I.secret=E.oauthTokenSecret):kt("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const I="string"==typeof E?JSON.parse(E):E,{providerId:V,signInMethod:ne}=I,de=(0,Se._T)(I,["providerId","signInMethod"]);if(!V||!ne)return null;const ze=new Mr(V,ne);return ze.idToken=de.idToken||void 0,ze.accessToken=de.accessToken||void 0,ze.secret=de.secret,ze.nonce=de.nonce,ze.pendingToken=de.pendingToken||null,ze}_getIdTokenResponse(E){return Li(E,this.buildRequest())}_linkToIdToken(E,I){const V=this.buildRequest();return V.idToken=I,Li(E,V)}_getReauthenticationResolver(E){const I=this.buildRequest();return I.autoCreate=!1,Li(E,I)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),E.postBody=(0,ye.xO)(I)}return E}}function Vc(R,E){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:sendVerificationCode",On(R,E))})).apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithPhoneNumber",On(R,E))})).apply(this,arguments)}function Ll(){return(Ll=(0,g.Z)(function*(R,E){const I=yield Di(R,"POST","/v1/accounts:signInWithPhoneNumber",On(R,E));if(I.temporaryProof)throw zi(R,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Im={USER_NOT_FOUND:"user-not-found"};function ah(){return(ah=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithPhoneNumber",On(R,Object.assign(Object.assign({},E),{operation:"REAUTH"})),Im)})).apply(this,arguments)}class Ma extends L{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,I){return new Ma({verificationId:E,verificationCode:I})}static _fromTokenResponse(E,I){return new Ma({phoneNumber:E,temporaryProof:I})}_getIdTokenResponse(E){return function Hc(R,E){return ss.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,I){return function Fi(R,E){return Ll.apply(this,arguments)}(E,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function Mm(R,E){return ah.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:I,verificationId:V,verificationCode:ne}=this.params;return E&&I?{temporaryProof:E,phoneNumber:I}:{sessionInfo:V,code:ne}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:I,verificationCode:V,phoneNumber:ne,temporaryProof:de}=E;return V||I||ne||de?new Ma({verificationId:I,verificationCode:V,phoneNumber:ne,temporaryProof:de}):null}}class La{constructor(E){var I,V,ne,de,ze,ht;const qt=(0,ye.zd)((0,ye.pd)(E)),pn=null!==(I=qt.apiKey)&&void 0!==I?I:null,xn=null!==(V=qt.oobCode)&&void 0!==V?V:null,Ii=function lh(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=qt.mode)&&void 0!==ne?ne:null);We(pn&&xn&&Ii,"argument-error"),this.apiKey=pn,this.operation=Ii,this.code=xn,this.continueUrl=null!==(de=qt.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(ze=qt.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(ht=qt.tenantId)&&void 0!==ht?ht:null}static parseLink(E){const I=function ch(R){const E=(0,ye.zd)((0,ye.pd)(R)).link,I=E?(0,ye.zd)((0,ye.pd)(E)).deep_link_id:null,V=(0,ye.zd)((0,ye.pd)(R)).deep_link_id;return(V?(0,ye.zd)((0,ye.pd)(V)).link:null)||V||I||E||R}(E);try{return new La(I)}catch{return null}}}let zc=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(I,V){return Si._fromEmailAndPassword(I,V)}static credentialWithLink(I,V){const ne=La.parseLink(V);return We(ne,"argument-error"),Si._fromEmailAndCode(I,ne.code,ne.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class ks{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class Pa extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Ho extends Pa{static credentialFromJSON(E){const I="string"==typeof E?JSON.parse(E):E;return We("providerId"in I&&"signInMethod"in I,"argument-error"),Mr._fromParams(I)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return We(E.idToken||E.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Ho.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Ho.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:V,oauthTokenSecret:ne,pendingToken:de,nonce:ze,providerId:ht}=E;if(!V&&!ne&&!I&&!de||!ht)return null;try{return new Ho(ht)._credential({idToken:I,accessToken:V,nonce:ze,pendingToken:de})}catch{return null}}}let uh=(()=>{class R extends Pa{constructor(){super("facebook.com")}static credential(I){return Mr._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),Uc=(()=>{class R extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(I,V){return Mr._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:V})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:V,oauthAccessToken:ne}=I;if(!V&&!ne)return null;try{return R.credential(V,ne)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),Uu=(()=>{class R extends Pa{constructor(){super("github.com")}static credential(I){return Mr._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class Oa extends L{constructor(E,I){super(E,E),this.pendingToken=I}_getIdTokenResponse(E){return Li(E,this.buildRequest())}_linkToIdToken(E,I){const V=this.buildRequest();return V.idToken=I,Li(E,V)}_getReauthenticationResolver(E){const I=this.buildRequest();return I.autoCreate=!1,Li(E,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const I="string"==typeof E?JSON.parse(E):E,{providerId:V,signInMethod:ne,pendingToken:de}=I;return V&&ne&&de&&V===ne?new Oa(V,de):null}static _create(E,I){return new Oa(E,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gr extends ks{constructor(E){We(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return gr.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return gr.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const I=Oa.fromJSON(E);return We(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:I,providerId:V}=E;if(!I||!V)return null;try{return Oa._create(V,I)}catch{return null}}}let po=(()=>{class R extends Pa{constructor(){super("twitter.com")}static credential(I,V){return Mr._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:V})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:V,oauthTokenSecret:ne}=I;if(!V||!ne)return null;try{return R.credential(V,ne)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function or(R,E){return da.apply(this,arguments)}function da(){return(da=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signUp",On(R,E))})).apply(this,arguments)}class Is{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,I,V,ne=!1){return(0,g.Z)(function*(){const de=yield dn._fromIdTokenResponse(E,V,ne),ze=Uo(V);return new Is({user:de,providerId:ze,_tokenResponse:V,operationType:I})})()}static _forOperation(E,I,V){return(0,g.Z)(function*(){yield E._updateTokensIfNecessary(V,!0);const ne=Uo(V);return new Is({user:E,providerId:ne,_tokenResponse:V,operationType:I})})()}}function Uo(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function Lm(R){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,g.Z)(function*(R){var E;const I=m(R);if(yield I._initializationPromise,null!==(E=I.currentUser)&&void 0!==E&&E.isAnonymous)return new Is({user:I.currentUser,providerId:null,operationType:"signIn"});const V=yield or(I,{returnSecureToken:!0}),ne=yield Is._fromIdTokenResponse(I,"signIn",V,!0);return yield I._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Wi extends ye.ZR{constructor(E,I,V,ne){var de;super(I.code,I.message),this.operationType=V,this.user=ne,Object.setPrototypeOf(this,Wi.prototype),this.customData={appName:E.name,tenantId:null!==(de=E.tenantId)&&void 0!==de?de:void 0,_serverResponse:I.customData._serverResponse,operationType:V}}static _fromErrorAndOperation(E,I,V,ne){return new Wi(E,I,V,ne)}}function hh(R,E,I,V){return("reauthenticate"===E?I._getReauthenticationResolver(R):I._getIdTokenResponse(R)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Wi._fromErrorAndOperation(R,de,E,V):de})}function Jf(R){return new Set(R.map(({providerId:E})=>E).filter(E=>!!E))}function Lr(R,E){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,g.Z)(function*(R,E){const I=(0,ye.m9)(R);yield jr(!0,I,E);const{providerUserInfo:V}=yield Ht(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[E]}),ne=Jf(V||[]);return I.providerData=I.providerData.filter(de=>ne.has(de.providerId)),ne.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I})).apply(this,arguments)}function Gc(R,E){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,g.Z)(function*(R,E,I=!1){const V=yield yn(R,E._linkToIdToken(R.auth,yield R.getIdToken()),I);return Is._forOperation(R,"link",V)})).apply(this,arguments)}function jr(R,E,I){return si.apply(this,arguments)}function si(){return(si=(0,g.Z)(function*(R,E,I){yield Ds(E);const ne=!1===R?"provider-already-linked":"no-such-provider";We(Jf(E.providerData).has(I)===R,E.auth,ne)})).apply(this,arguments)}function Wu(R,E){return Go.apply(this,arguments)}function Go(){return(Go=(0,g.Z)(function*(R,E,I=!1){var V;const{auth:ne}=R,de="reauthenticate";try{const ze=yield yn(R,hh(ne,de,E,R),I);We(ze.idToken,ne,"internal-error");const ht=sn(ze.idToken);We(ht,ne,"internal-error");const{sub:qt}=ht;return We(R.uid===qt,ne,"user-mismatch"),Is._forOperation(R,de,ze)}catch(ze){throw"auth/user-not-found"===(null===(V=ze)||void 0===V?void 0:V.code)&&kt(ne,"user-mismatch"),ze}})).apply(this,arguments)}function ju(R,E){return mr.apply(this,arguments)}function mr(){return(mr=(0,g.Z)(function*(R,E,I=!1){const V="signIn",ne=yield hh(R,V,E),de=yield Is._fromIdTokenResponse(R,V,ne);return I||(yield R._updateCurrentUser(de.user)),de})).apply(this,arguments)}function Pl(R,E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,g.Z)(function*(R,E){return ju(m(R),E)})).apply(this,arguments)}function En(R,E){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,g.Z)(function*(R,E){const I=(0,ye.m9)(R);return yield jr(!1,I,E.providerId),Gc(I,E)})).apply(this,arguments)}function Pm(R,E){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,g.Z)(function*(R,E){return Wu((0,ye.m9)(R),E)})).apply(this,arguments)}function fh(R,E){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,g.Z)(function*(R,E){return Di(R,"POST","/v1/accounts:signInWithCustomToken",On(R,E))})).apply(this,arguments)}function ha(R,E){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,g.Z)(function*(R,E){const I=m(R),V=yield fh(I,{token:E,returnSecureToken:!0}),ne=yield Is._fromIdTokenResponse(I,"signIn",V);return yield I._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Fa{constructor(E,I){this.factorId=E,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(E,I){return"phoneInfo"in I?gt._fromServerResponse(E,I):kt(E,"internal-error")}}class gt extends Fa{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,I){return new gt(I)}}function jn(R,E,I){var V;We((null===(V=I.url)||void 0===V?void 0:V.length)>0,R,"invalid-continue-uri"),We(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),E.continueUrl=I.url,E.dynamicLinkDomain=I.dynamicLinkDomain,E.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(We(I.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),E.iOSBundleId=I.iOS.bundleId),I.android&&(We(I.android.packageName.length>0,R,"missing-android-pkg-name"),E.androidInstallApp=I.android.installApp,E.androidMinimumVersionCode=I.android.minimumVersion,E.androidPackageName=I.android.packageName)}function ep(R,E,I){return Na.apply(this,arguments)}function Na(){return(Na=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R),ne={requestType:"PASSWORD_RESET",email:E};I&&jn(V,ne,I),yield le(V,ne)})).apply(this,arguments)}function ds(R,E,I){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,g.Z)(function*(R,E,I){yield O((0,ye.m9)(R),{oobCode:E,newPassword:I})})).apply(this,arguments)}function Wc(R,E){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(R,E){yield ee((0,ye.m9)(R),{oobCode:E})})).apply(this,arguments)}function jc(R,E){return Va.apply(this,arguments)}function Va(){return(Va=(0,g.Z)(function*(R,E){const I=(0,ye.m9)(R),V=yield O(I,{oobCode:E}),ne=V.requestType;switch(We(ne,I,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(V.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(V.mfaInfo,I,"internal-error");default:We(V.email,I,"internal-error")}let de=null;return V.mfaInfo&&(de=Fa._fromServerResponse(m(I),V.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===V.requestType?V.newEmail:V.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===V.requestType?V.email:V.newEmail)||null,multiFactorInfo:de},operation:ne}})).apply(this,arguments)}function tp(R,E){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,g.Z)(function*(R,E){const{data:I}=yield jc((0,ye.m9)(R),E);return I.email})).apply(this,arguments)}function Om(R,E,I){return fa.apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(R,E,I){const V=m(R),ne=yield or(V,{returnSecureToken:!0,email:E,password:I}),de=yield Is._fromIdTokenResponse(V,"signIn",ne);return yield V._updateCurrentUser(de.user),de})).apply(this,arguments)}function hs(R,E,I){return Pl((0,ye.m9)(R),zc.credential(E,I))}function $r(R,E,I){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R),ne={requestType:"EMAIL_SIGNIN",email:E};We(I.handleCodeInApp,V,"argument-error"),I&&jn(V,ne,I),yield Me(V,ne)})).apply(this,arguments)}function Hl(R,E){return"EMAIL_SIGNIN"===La.parseLink(E)?.operation}function go(R,E,I){return ph.apply(this,arguments)}function ph(){return(ph=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R),ne=zc.credentialWithLink(E,I||bt());return We(ne._tenantId===(V.tenantId||null),V,"tenant-id-mismatch"),Pl(V,ne)})).apply(this,arguments)}function $u(R,E){return gh.apply(this,arguments)}function gh(){return(gh=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:createAuthUri",On(R,E))})).apply(this,arguments)}function np(R,E){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,g.Z)(function*(R,E){const V={identifier:E,continueUri:_t()?bt():"http://localhost"},{signinMethods:ne}=yield $u((0,ye.m9)(R),V);return ne||[]})).apply(this,arguments)}function Yu(R,E){return zl.apply(this,arguments)}function zl(){return(zl=(0,g.Z)(function*(R,E){const I=(0,ye.m9)(R),ne={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};E&&jn(I.auth,ne,E);const{email:de}=yield X(I.auth,ne);de!==R.email&&(yield R.reload())})).apply(this,arguments)}function Xu(R,E,I){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:E};I&&jn(V.auth,de,I);const{email:ze}=yield ct(V.auth,de);ze!==R.email&&(yield R.reload())})).apply(this,arguments)}function mh(R,E){return za.apply(this,arguments)}function za(){return(za=(0,g.Z)(function*(R,E){return wn(R,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function ip(R,E){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,g.Z)(function*(R,{displayName:E,photoURL:I}){if(void 0===E&&void 0===I)return;const V=(0,ye.m9)(R),de={idToken:yield V.getIdToken(),displayName:E,photoUrl:I,returnSecureToken:!0},ze=yield yn(V,mh(V.auth,de));V.displayName=ze.displayName||null,V.photoURL=ze.photoUrl||null;const ht=V.providerData.find(({providerId:qt})=>"password"===qt);ht&&(ht.displayName=V.displayName,ht.photoURL=V.photoURL),yield V._updateTokensIfNecessary(ze)})).apply(this,arguments)}function sp(R,E){return Wo((0,ye.m9)(R),E,null)}function vh(R,E){return Wo((0,ye.m9)(R),null,E)}function Wo(R,E,I){return jo.apply(this,arguments)}function jo(){return(jo=(0,g.Z)(function*(R,E,I){const{auth:V}=R,de={idToken:yield R.getIdToken(),returnSecureToken:!0};E&&(de.email=E),I&&(de.password=I);const ze=yield yn(R,$(V,de));yield R._updateTokensIfNecessary(ze,!0)})).apply(this,arguments)}class Ni{constructor(E,I,V={}){this.isNewUser=E,this.providerId=I,this.profile=V}}class mo extends Ni{constructor(E,I,V,ne){super(E,I,V),this.username=ne}}class Bi extends Ni{constructor(E,I){super(E,"facebook.com",I)}}class qu extends mo{constructor(E,I){super(E,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class Zu extends Ni{constructor(E,I){super(E,"google.com",I)}}class _h extends mo{constructor(E,I,V){super(E,"twitter.com",I,V)}}function Ku(R){const{user:E,_tokenResponse:I}=R;return E.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function yh(R){var E,I;if(!R)return null;const{providerId:V}=R,ne=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},de=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!V&&R?.idToken){const ze=null===(I=null===(E=sn(R.idToken))||void 0===E?void 0:E.firebase)||void 0===I?void 0:I.sign_in_provider;if(ze)return new Ni(de,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!V)return null;switch(V){case"facebook.com":return new Bi(de,ne);case"github.com":return new qu(de,ne);case"google.com":return new Zu(de,ne);case"twitter.com":return new _h(de,ne,R.screenName||null);case"custom":case"anonymous":return new Ni(de,null);default:return new Ni(de,V,ne)}}(I)}class vr{constructor(E,I,V){this.type=E,this.credential=I,this.auth=V}static _fromIdtoken(E,I){return new vr("enroll",E,I)}static _fromMfaPendingCredential(E){return new vr("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var I,V;if(E?.multiFactorSession){if(null!==(I=E.multiFactorSession)&&void 0!==I&&I.pendingCredential)return vr._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(V=E.multiFactorSession)&&void 0!==V&&V.idToken)return vr._fromIdtoken(E.multiFactorSession.idToken)}return null}}class ed{constructor(E,I,V){this.session=E,this.hints=I,this.signInResolver=V}static _fromError(E,I){const V=m(E),ne=I.customData._serverResponse,de=(ne.mfaInfo||[]).map(ht=>Fa._fromServerResponse(V,ht));We(ne.mfaPendingCredential,V,"internal-error");const ze=vr._fromMfaPendingCredential(ne.mfaPendingCredential);return new ed(ze,de,function(){var ht=(0,g.Z)(function*(qt){const pn=yield qt._process(V,ze);delete ne.mfaInfo,delete ne.mfaPendingCredential;const xn=Object.assign(Object.assign({},ne),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(I.operationType){case"signIn":const Ii=yield Is._fromIdTokenResponse(V,I.operationType,xn);return yield V._updateCurrentUser(Ii.user),Ii;case"reauthenticate":return We(I.user,V,"internal-error"),Is._forOperation(I.user,I.operationType,xn);default:kt(V,"internal-error")}});return function(qt){return ht.apply(this,arguments)}}())}resolveSignIn(E){var I=this;return(0,g.Z)(function*(){return I.signInResolver(E)})()}}function wh(R,E){var I;const V=(0,ye.m9)(R),ne=E;return We(E.customData.operationType,V,"argument-error"),We(null===(I=ne.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,V,"argument-error"),ed._fromError(V,ne)}function Qi(R,E){return wn(R,"POST","/v2/accounts/mfaEnrollment:start",On(R,E))}class qc{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(V=>Fa._fromServerResponse(E.auth,V)))})}static _fromUser(E){return new qc(E)}getSession(){var E=this;return(0,g.Z)(function*(){return vr._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,I){var V=this;return(0,g.Z)(function*(){const ne=E,de=yield V.getSession(),ze=yield yn(V.user,ne._process(V.user.auth,de,I));return yield V.user._updateTokensIfNecessary(ze),V.user.reload()})()}unenroll(E){var I=this;return(0,g.Z)(function*(){var V;const ne="string"==typeof E?E:E.uid,de=yield I.user.getIdToken(),ze=yield yn(I.user,function Xc(R,E){return wn(R,"POST","/v2/accounts/mfaEnrollment:withdraw",On(R,E))}(I.user.auth,{idToken:de,mfaEnrollmentId:ne}));I.enrolledFactors=I.enrolledFactors.filter(({uid:ht})=>ht!==ne),yield I.user._updateTokensIfNecessary(ze);try{yield I.user.reload()}catch(ht){if("auth/user-token-expired"!==(null===(V=ht)||void 0===V?void 0:V.code))throw ht}})()}}const rp=new WeakMap;function Wl(R){const E=(0,ye.m9)(R);return rp.has(E)||rp.set(E,qc._fromUser(E)),rp.get(E)}const vo="__sak";class jl{constructor(E,I){this.storageRetriever=E,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(vo,"1"),this.storage.removeItem(vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,I){return this.storage.setItem(E,JSON.stringify(I)),Promise.resolve()}_get(E){const I=this.storage.getItem(E);return Promise.resolve(I?JSON.parse(I):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class R extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,V)=>this.onStorageEvent(I,V),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function td(){const R=(0,ye.z$)();return ge(R)||wt(R)}()&&function J(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=di(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const V of Object.keys(this.listeners)){const ne=this.storage.getItem(V),de=this.localCache[V];ne!==de&&I(V,de,ne)}}onStorageEvent(I,V=!1){if(!I.key)return void this.forAllChangedKeys((ht,qt,pn)=>{this.notifyListeners(ht,pn)});const ne=I.key;if(V?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(ne);if(I.newValue!==ht)null!==I.newValue?this.storage.setItem(ne,I.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===I.newValue&&!V)return}const de=()=>{const ht=this.storage.getItem(ne);!V&&this.localCache[ne]===ht||this.notifyListeners(ne,ht)},ze=this.storage.getItem(ne);!function bn(){return(0,ye.w1)()&&10===document.documentMode}()||ze===I.newValue||I.newValue===I.oldValue?de():setTimeout(de,10)}notifyListeners(I,V){this.localCache[I]=V;const ne=this.listeners[I];if(ne)for(const de of Array.from(ne))de(V&&JSON.parse(V))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,V,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:V,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,V){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(V)}_removeListener(I,V){this.listeners[I]&&(this.listeners[I].delete(V),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,V){var ne=()=>super._set,de=this;return(0,g.Z)(function*(){yield ne().call(de,I,V),de.localCache[I]=JSON.stringify(V)})()}_get(I){var V=()=>super._get,ne=this;return(0,g.Z)(function*(){const de=yield V().call(ne,I);return ne.localCache[I]=JSON.stringify(de),de})()}_remove(I){var V=()=>super._remove,ne=this;return(0,g.Z)(function*(){yield V().call(ne,I),delete ne.localCache[I]})()}}return R.type="LOCAL",R})(),$o=(()=>{class R extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,V){}_removeListener(I,V){}}return R.type="SESSION",R})();let Yl=(()=>{class R{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const V=this.receivers.find(de=>de.isListeningto(I));if(V)return V;const ne=new R(I);return this.receivers.push(ne),ne}isListeningto(I){return this.eventTarget===I}handleEvent(I){var V=this;return(0,g.Z)(function*(){const ne=I,{eventId:de,eventType:ze,data:ht}=ne.data,qt=V.handlersMap[ze];if(!qt?.size)return;ne.ports[0].postMessage({status:"ack",eventId:de,eventType:ze});const pn=Array.from(qt).map(function(){var Ii=(0,g.Z)(function*(cr){return cr(ne.origin,ht)});return function(cr){return Ii.apply(this,arguments)}}()),xn=yield function nd(R){return Promise.all(R.map(function(){var E=(0,g.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(V){return{fulfilled:!1,reason:V}}});return function(I){return E.apply(this,arguments)}}()))}(pn);ne.ports[0].postMessage({status:"done",eventId:de,eventType:ze,response:xn})})()}_subscribe(I,V){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(V)}_unsubscribe(I,V){this.handlersMap[I]&&V&&this.handlersMap[I].delete(V),(!V||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function ja(R="",E=10){let I="";for(let V=0;V<E;V++)I+=Math.floor(10*Math.random());return R+I}class lp{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,I,V=50){var ne=this;return(0,g.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let ze,ht;return new Promise((qt,pn)=>{const xn=ja("",20);de.port1.start();const Ii=setTimeout(()=>{pn(new Error("unsupported_event"))},V);ht={messageChannel:de,onMessage(cr){const Ko=cr;if(Ko.data.eventId===xn)switch(Ko.data.status){case"ack":clearTimeout(Ii),ze=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),qt(Ko.data.response);break;default:clearTimeout(Ii),clearTimeout(ze),pn(new Error("invalid_response"))}}},ne.handlers.add(ht),de.port1.addEventListener("message",ht.onMessage),ne.target.postMessage({eventType:E,eventId:xn,data:I},[de.port2])}).finally(()=>{ht&&ne.removeMessageHandler(ht)})})()}}function Ji(){return window}function ar(){return typeof Ji().WorkerGlobalScope<"u"&&"function"==typeof Ji().importScripts}function yo(){return(yo=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xl="firebaseLocalStorageDb",ql="firebaseLocalStorage",$a="fbase_key";class ga{constructor(E){this.request=E}toPromise(){return new Promise((E,I)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Ya(R,E){return R.transaction([ql],E?"readwrite":"readonly").objectStore(ql)}function Kc(){const R=indexedDB.open(Xl,1);return new Promise((E,I)=>{R.addEventListener("error",()=>{I(R.error)}),R.addEventListener("upgradeneeded",()=>{const V=R.result;try{V.createObjectStore(ql,{keyPath:$a})}catch(ne){I(ne)}}),R.addEventListener("success",(0,g.Z)(function*(){const V=R.result;V.objectStoreNames.contains(ql)?E(V):(V.close(),yield function Ah(){const R=indexedDB.deleteDatabase(Xl);return new ga(R).toPromise()}(),E(yield Kc()))}))})}function Zl(R,E,I){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(R,E,I){const V=Ya(R,!0).put({[$a]:E,value:I});return new ga(V).toPromise()})).apply(this,arguments)}function Xa(){return(Xa=(0,g.Z)(function*(R,E){const I=Ya(R,!1).get(E),V=yield new ga(I).toPromise();return void 0===V?null:V.value})).apply(this,arguments)}function Qc(R,E){const I=Ya(R,!0).delete(E);return new ga(I).toPromise()}const Za=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,g.Z)(function*(){return I.db||(I.db=yield Kc()),I.db})()}_withRetries(I){var V=this;return(0,g.Z)(function*(){let ne=0;for(;;)try{const de=yield V._openDb();return yield I(de)}catch(de){if(ne++>3)throw de;V.db&&(V.db.close(),V.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,g.Z)(function*(){return ar()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,g.Z)(function*(){I.receiver=Yl._getInstance(function Zc(){return ar()?self:null}()),I.receiver._subscribe("keyChanged",function(){var V=(0,g.Z)(function*(ne,de){return{keyProcessed:(yield I._poll()).includes(de.key)}});return function(ne,de){return V.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var V=(0,g.Z)(function*(ne,de){return["keyChanged"]});return function(ne,de){return V.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,g.Z)(function*(){var V,ne;if(I.activeServiceWorker=yield function Th(){return yo.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new lp(I.activeServiceWorker);const de=yield I.sender._send("ping",{},800);!de||(null===(V=de[0])||void 0===V?void 0:V.fulfilled)&&(null===(ne=de[0])||void 0===ne?void 0:ne.value.includes("keyChanged"))&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var V=this;return(0,g.Z)(function*(){if(V.sender&&V.activeServiceWorker&&function id(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===V.activeServiceWorker)try{yield V.sender._send("keyChanged",{key:I},V.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const I=yield Kc();return yield Zl(I,vo,"1"),yield Qc(I,vo),!0}catch{}return!1})()}_withPendingWrite(I){var V=this;return(0,g.Z)(function*(){V.pendingWrites++;try{yield I()}finally{V.pendingWrites--}})()}_set(I,V){var ne=this;return(0,g.Z)(function*(){return ne._withPendingWrite((0,g.Z)(function*(){return yield ne._withRetries(de=>Zl(de,I,V)),ne.localCache[I]=V,ne.notifyServiceWorker(I)}))})()}_get(I){var V=this;return(0,g.Z)(function*(){const ne=yield V._withRetries(de=>function cp(R,E){return Xa.apply(this,arguments)}(de,I));return V.localCache[I]=ne,ne})()}_remove(I){var V=this;return(0,g.Z)(function*(){return V._withPendingWrite((0,g.Z)(function*(){return yield V._withRetries(ne=>Qc(ne,I)),delete V.localCache[I],V.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,g.Z)(function*(){const V=yield I._withRetries(ze=>{const ht=Ya(ze,!1).getAll();return new ga(ht).toPromise()});if(!V)return[];if(0!==I.pendingWrites)return[];const ne=[],de=new Set;for(const{fbase_key:ze,value:ht}of V)de.add(ze),JSON.stringify(I.localCache[ze])!==JSON.stringify(ht)&&(I.notifyListeners(ze,ht),ne.push(ze));for(const ze of Object.keys(I.localCache))I.localCache[ze]&&!de.has(ze)&&(I.notifyListeners(ze,null),ne.push(ze));return ne})()}notifyListeners(I,V){this.localCache[I]=V;const ne=this.listeners[I];if(ne)for(const de of Array.from(ne))de(V)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,V){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(V)}_removeListener(I,V){this.listeners[I]&&(this.listeners[I].delete(V),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function up(R,E){return wn(R,"POST","/v2/accounts/mfaSignIn:start",On(R,E))}function Ws(){return(Ws=(0,g.Z)(function*(R){return(yield wn(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ma(R){return new Promise((E,I)=>{const V=document.createElement("script");V.setAttribute("src",R),V.onload=E,V.onerror=ne=>{const de=Pe("internal-error");de.customData=ne,I(de)},V.type="text/javascript",V.charset="UTF-8",function Qa(){var R,E;return null!==(E=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==E?E:document}().appendChild(V)})}function Ja(R){return`__${R}${Math.floor(1e6*Math.random())}`}const Xr=1e12;class Eh{constructor(E){this.auth=E,this.counter=Xr,this._widgets=new Map}render(E,I){const V=this.counter;return this._widgets.set(V,new ki(E,this.auth.name,I||{})),this.counter++,V}reset(E){var I;const V=E||Xr;null===(I=this._widgets.get(V))||void 0===I||I.delete(),this._widgets.delete(V)}getResponse(E){var I;return(null===(I=this._widgets.get(E||Xr))||void 0===I?void 0:I.getResponse())||""}execute(E){var I=this;return(0,g.Z)(function*(){var V;return null===(V=I._widgets.get(E||Xr))||void 0===V||V.execute(),""})()}}class ki{constructor(E,I,V){this.params=V,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof E?document.getElementById(E):E;We(ne,"argument-error",{appName:I}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rm(R){const E=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<R;V++)E.push(I.charAt(Math.floor(Math.random()*I.length)));return E.join("")}(50);const{callback:E,"expired-callback":I}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dp=Ja("rcb"),Cw=new Et(3e4,6e4);class S_{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=Ji().grecaptcha)||void 0===E||!E.render)}load(E,I=""){return We(function hp(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(I),E,"argument-error"),this.shouldResolveImmediately(I)?Promise.resolve(Ji().grecaptcha):new Promise((V,ne)=>{const de=Ji().setTimeout(()=>{ne(Pe(E,"network-request-failed"))},Cw.get());Ji()[dp]=()=>{Ji().clearTimeout(de),delete Ji()[dp];const ht=Ji().grecaptcha;if(!ht)return void ne(Pe(E,"internal-error"));const qt=ht.render;ht.render=(pn,xn)=>{const Ii=qt(pn,xn);return this.counter++,Ii},this.hostLanguage=I,V(ht)},ma(`https://www.google.com/recaptcha/api.js??${(0,ye.xO)({onload:dp,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(de),ne(Pe(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var I;return!(null===(I=Ji().grecaptcha)||void 0===I||!I.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sw{load(E){return(0,g.Z)(function*(){return new Eh(E)})()}clearedOneInstance(){}}const va="recaptcha",T_={theme:"light",type:"image"};class Fm{constructor(E,I=Object.assign({},T_),V){this.parameters=I,this.type=va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=m(V),this.isInvisible="invisible"===this.parameters.size,We(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof E?document.getElementById(E):E;We(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sw:new S_,this.validateStartingState()}verify(){var E=this;return(0,g.Z)(function*(){E.assertNotDestroyed();const I=yield E.render(),V=E.getAssertedRecaptcha();return V.getResponse(I)||new Promise(de=>{const ze=ht=>{!ht||(E.tokenChangeListeners.delete(ze),de(ht))};E.tokenChangeListeners.add(ze),E.isInvisible&&V.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return I=>{if(this.tokenChangeListeners.forEach(V=>V(I)),"function"==typeof E)E(I);else if("string"==typeof E){const V=Ji()[E];"function"==typeof V&&V(I)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,g.Z)(function*(){if(yield E.init(),!E.widgetId){let I=E.container;if(!E.isInvisible){const V=document.createElement("div");I.appendChild(V),I=V}E.widgetId=E.getAssertedRecaptcha().render(I,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,g.Z)(function*(){We(_t()&&!ar(),E.auth,"internal-error"),yield function Ss(){let R=null;return new Promise(E=>{"complete"!==document.readyState?(R=()=>E(),window.addEventListener("load",R)):E()}).catch(E=>{throw R&&window.removeEventListener("load",R),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const I=yield function Jc(R){return Ws.apply(this,arguments)}(E.auth);We(I,E.auth,"internal-error"),E.parameters.sitekey=I})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tl{constructor(E,I){this.verificationId=E,this.onConfirmation=I}confirm(E){const I=Ma._fromVerification(this.verificationId,E);return this.onConfirmation(I)}}function eu(R,E,I){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(R,E,I){const V=m(R),ne=yield es(V,E,(0,ye.m9)(I));return new tl(ne,de=>Pl(V,de))})).apply(this,arguments)}function nl(R,E,I){return ji.apply(this,arguments)}function ji(){return(ji=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R);yield jr(!1,V,"phone");const ne=yield es(V.auth,E,(0,ye.m9)(I));return new tl(ne,de=>En(V,de))})).apply(this,arguments)}function Xo(R,E,I){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R),ne=yield es(V.auth,E,(0,ye.m9)(I));return new tl(ne,de=>Pm(V,de))})).apply(this,arguments)}function es(R,E,I){return qr.apply(this,arguments)}function qr(){return(qr=(0,g.Z)(function*(R,E,I){var V;const ne=yield I.verify();try{let de;if(We("string"==typeof ne,R,"argument-error"),We(I.type===va,R,"argument-error"),de="string"==typeof E?{phoneNumber:E}:E,"session"in de){const ze=de.session;if("phoneNumber"in de)return We("enroll"===ze.type,R,"internal-error"),(yield Qi(R,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{We("signin"===ze.type,R,"internal-error");const ht=(null===(V=de.multiFactorHint)||void 0===V?void 0:V.uid)||de.multiFactorUid;return We(ht,R,"missing-multi-factor-info"),(yield up(R,{mfaPendingCredential:ze.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield Vc(R,{phoneNumber:de.phoneNumber,recaptchaToken:ne});return ze}}finally{I._reset()}})).apply(this,arguments)}function fp(R,E){return _o.apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(R,E){yield Gc((0,ye.m9)(R),E)})).apply(this,arguments)}let Nm=(()=>{class R{constructor(I){this.providerId=R.PROVIDER_ID,this.auth=m(I)}verifyPhoneNumber(I,V){return es(this.auth,I,(0,ye.m9)(V))}static credential(I,V){return Ma._fromVerification(I,V)}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:V,temporaryProof:ne}=I;return V&&ne?Ma._fromTokenResponse(V,ne):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function il(R,E){return E?He(E):(We(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class pp extends L{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Li(E,this._buildIdpRequest())}_linkToIdToken(E,I){return Li(E,this._buildIdpRequest(I))}_getReauthenticationResolver(E){return Li(E,this._buildIdpRequest())}_buildIdpRequest(E){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(I.idToken=E),I}}function Dh(R){return ju(R.auth,new pp(R),R.bypassAuthState)}function lr(R){const{auth:E,user:I}=R;return We(I,E,"internal-error"),Wu(I,new pp(R),R.bypassAuthState)}function tu(R){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(R){const{auth:E,user:I}=R;return We(I,E,"internal-error"),Gc(I,new pp(R),R.bypassAuthState)})).apply(this,arguments)}class nu{constructor(E,I,V,ne,de=!1){this.auth=E,this.resolver=V,this.user=ne,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var E=this;return new Promise(function(){var I=(0,g.Z)(function*(V,ne){E.pendingPromise={resolve:V,reject:ne};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(de){E.reject(de)}});return function(V,ne){return I.apply(this,arguments)}}())}onAuthEvent(E){var I=this;return(0,g.Z)(function*(){const{urlResponse:V,sessionId:ne,postBody:de,tenantId:ze,error:ht,type:qt}=E;if(ht)return void I.reject(ht);const pn={auth:I.auth,requestUri:V,sessionId:ne,tenantId:ze||void 0,postBody:de||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(qt)(pn))}catch(xn){I.reject(xn)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Dh;case"linkViaPopup":case"linkViaRedirect":return tu;case"reauthViaPopup":case"reauthViaRedirect":return lr;default:kt(this.auth,"internal-error")}}resolve(E){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sl=new Et(2e3,1e4);function kh(R,E,I){return rl.apply(this,arguments)}function rl(){return(rl=(0,g.Z)(function*(R,E,I){const V=m(R);st(R,E,ks);const ne=il(V,I);return new iu(V,"signInViaPopup",E,ne).executeNotNull()})).apply(this,arguments)}function od(R,E,I){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R);st(V.auth,E,ks);const ne=il(V.auth,I);return new iu(V.auth,"reauthViaPopup",E,ne,V).executeNotNull()})).apply(this,arguments)}function Bm(R,E,I){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R);st(V.auth,E,ks);const ne=il(V.auth,I);return new iu(V.auth,"linkViaPopup",E,ne,V).executeNotNull()})).apply(this,arguments)}let iu=(()=>{class R extends nu{constructor(I,V,ne,de,ze){super(I,V,de,ze),this.provider=ne,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var I=this;return(0,g.Z)(function*(){const V=yield I.execute();return We(V,I.auth,"internal-error"),V})()}onExecution(){var I=this;return(0,g.Z)(function*(){tt(1===I.filter.length,"Popup operations only handle one event");const V=ja();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],V),I.authWindow.associatedEvent=V,I.resolver._originValidation(I.auth).catch(ne=>{I.reject(ne)}),I.resolver._isIframeWebStorageSupported(I.auth,ne=>{ne||I.reject(Pe(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const I=()=>{var V,ne;this.pollId=null!==(ne=null===(V=this.authWindow)||void 0===V?void 0:V.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(I,sl.get())};I()}}return R.currentPopupAction=null,R})();const ru=new Map;class Zr extends nu{constructor(E,I,V=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,V),this.eventId=null}execute(){var E=()=>super.execute,I=this;return(0,g.Z)(function*(){let V=ru.get(I.auth._key());if(!V){try{const de=(yield function ou(R,E){return ol.apply(this,arguments)}(I.resolver,I.auth))?yield E().call(I):null;V=()=>Promise.resolve(de)}catch(ne){V=()=>Promise.reject(ne)}ru.set(I.auth._key(),V)}return I.bypassAuthState||ru.set(I.auth._key(),()=>Promise.resolve(null)),V()})()}onAuthEvent(E){var I=()=>super.onAuthEvent,V=this;return(0,g.Z)(function*(){if("signInViaRedirect"===E.type)return I().call(V,E);if("unknown"!==E.type){if(E.eventId){const ne=yield V.auth._redirectUserForId(E.eventId);if(ne)return V.user=ne,I().call(V,E);V.resolve(null)}}else V.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function ol(){return(ol=(0,g.Z)(function*(R,E){const I=al(E),V=Jl(R);if(!(yield V._isAvailable()))return!1;const ne="true"===(yield V._get(I));return yield V._remove(I),ne})).apply(this,arguments)}function Mh(R,E){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(R,E){return Jl(R)._set(al(E),"true")})).apply(this,arguments)}function gp(){ru.clear()}function bo(R,E){ru.set(R._key(),E)}function Jl(R){return He(R._redirectPersistence)}function al(R){return we("pendingRedirect",R.config.apiKey,R.name)}function Lh(R,E,I){return function rs(R,E,I){return au.apply(this,arguments)}(R,E,I)}function au(){return(au=(0,g.Z)(function*(R,E,I){const V=m(R);st(R,E,ks);const ne=il(V,I);return yield Mh(ne,V),ne._openRedirect(V,E,"signInViaRedirect")})).apply(this,arguments)}function Ph(R,E,I){return function G(R,E,I){return Y.apply(this,arguments)}(R,E,I)}function Y(){return(Y=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R);st(V.auth,E,ks);const ne=il(V.auth,I);yield Mh(ne,V.auth);const de=yield In(V);return ne._openRedirect(V.auth,E,"reauthViaRedirect",de)})).apply(this,arguments)}function ie(R,E,I){return function xe(R,E,I){return Ve.apply(this,arguments)}(R,E,I)}function Ve(){return(Ve=(0,g.Z)(function*(R,E,I){const V=(0,ye.m9)(R);st(V.auth,E,ks);const ne=il(V.auth,I);yield jr(!1,V,E.providerId),yield Mh(ne,V.auth);const de=yield In(V);return ne._openRedirect(V.auth,E,"linkViaRedirect",de)})).apply(this,arguments)}function Xe(R,E){return ft.apply(this,arguments)}function ft(){return(ft=(0,g.Z)(function*(R,E){return yield m(R)._initializationPromise,Nt(R,E,!1)})).apply(this,arguments)}function Nt(R,E){return an.apply(this,arguments)}function an(){return(an=(0,g.Z)(function*(R,E,I=!1){const V=m(R),ne=il(V,E),ze=yield new Zr(V,ne,I).execute();return ze&&!I&&(delete ze.user._redirectEventId,yield V._persistUserIfCurrent(ze.user),yield V._setRedirectUser(null,E)),ze})).apply(this,arguments)}function In(R){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(R){const E=ja(`${R.uid}:::`);return R._redirectEventId=E,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),E})).apply(this,arguments)}class os{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let I=!1;return this.consumers.forEach(V=>{this.isEventForConsumer(E,V)&&(I=!0,this.sendToConsumer(E,V),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function tc(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(R);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=E,I=!0)),I}sendToConsumer(E,I){var V;if(E.error&&!ec(E)){const ne=(null===(V=E.error.code)||void 0===V?void 0:V.split("auth/")[1])||"internal-error";I.onError(Pe(this.auth,ne))}else I.onAuthEvent(E)}isEventForConsumer(E,I){const V=null===I.eventId||!!E.eventId&&E.eventId===I.eventId;return I.filter.includes(E.type)&&V}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qs(E))}saveEventToCache(E){this.cachedEventUids.add(Qs(E)),this.lastProcessedEventTime=Date.now()}}function Qs(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(E=>E).join("-")}function ec({type:R,error:E}){return"unknown"===R&&"auth/no-auth-event"===E?.code}function yr(R){return wo.apply(this,arguments)}function wo(){return(wo=(0,g.Z)(function*(R,E={}){return wn(R,"GET","/v1/projects",E)})).apply(this,arguments)}const Kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nc=/^https?/;function Jr(){return(Jr=(0,g.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:E}=yield yr(R);for(const I of E)try{if(ad(I))return}catch{}kt(R,"unauthorized-domain")})).apply(this,arguments)}function ad(R){const E=bt(),{protocol:I,hostname:V}=new URL(E);if(R.startsWith("chrome-extension://")){const ze=new URL(R);return""===ze.hostname&&""===V?"chrome-extension:"===I&&R.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===I&&ze.hostname===V}if(!nc.test(I))return!1;if(Kr.test(R))return V===R;const ne=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(V)}const Rr=new Et(3e4,6e4);function mp(){const R=Ji().___jsl;if(R?.H)for(const E of Object.keys(R.H))if(R.H[E].r=R.H[E].r||[],R.H[E].L=R.H[E].L||[],R.H[E].r=[...R.H[E].L],R.CP)for(let I=0;I<R.CP.length;I++)R.CP[I]=null}let ll=null;function yp(R){return ll=ll||function vp(R){return new Promise((E,I)=>{var V,ne,de;function ze(){mp(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{mp(),I(Pe(R,"network-request-failed"))},timeout:Rr.get()})}if(null!==(ne=null===(V=Ji().gapi)||void 0===V?void 0:V.iframes)&&void 0!==ne&&ne.Iframe)E(gapi.iframes.getContext());else{if(null===(de=Ji().gapi)||void 0===de||!de.load){const ht=Ja("iframefcb");return Ji()[ht]=()=>{gapi.load?ze():I(Pe(R,"network-request-failed"))},ma(`https://apis.google.com/js/api.js?onload=${ht}`).catch(qt=>I(qt))}ze()}}).catch(E=>{throw ll=null,E})}(R),ll}const _p=new Et(5e3,15e3),cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xp(R){const E=R.config;We(E.authDomain,R,"auth-domain-config-required");const I=E.emulator?Jn(E,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,V={apiKey:E.apiKey,appName:R.name,v:te.SDK_VERSION},ne=E_.get(R.config.apiHost);ne&&(V.eid=ne);const de=R._getFrameworks();return de.length&&(V.fw=de.join(",")),`${I}?${(0,ye.xO)(V).slice(1)}`}function Oh(){return Oh=(0,g.Z)(function*(R){const E=yield yp(R),I=Ji().gapi;return We(I,R,"internal-error"),E.open({where:document.body,url:xp(R),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cl,dontclear:!0},V=>new Promise(function(){var ne=(0,g.Z)(function*(de,ze){yield V.restyle({setHideOnLeave:!1});const ht=Pe(R,"network-request-failed"),qt=Ji().setTimeout(()=>{ze(ht)},_p.get());function pn(){Ji().clearTimeout(qt),de(V)}V.ping(pn).then(pn,()=>{ze(ht)})});return function(de,ze){return ne.apply(this,arguments)}}()))}),Oh.apply(this,arguments)}const ld={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class D_{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ic(R,E,I,V,ne,de){We(R.config.authDomain,R,"auth-domain-config-required"),We(R.config.apiKey,R,"invalid-api-key");const ze={apiKey:R.config.apiKey,appName:R.name,authType:I,redirectUrl:V,v:te.SDK_VERSION,eventId:ne};if(E instanceof ks){E.setDefaultLanguage(R.languageCode),ze.providerId=E.providerId||"",(0,ye.xb)(E.getCustomParameters())||(ze.customParameters=JSON.stringify(E.getCustomParameters()));for(const[qt,pn]of Object.entries(de||{}))ze[qt]=pn}if(E instanceof Pa){const qt=E.getScopes().filter(pn=>""!==pn);qt.length>0&&(ze.scopes=qt.join(","))}R.tenantId&&(ze.tid=R.tenantId);const ht=ze;for(const qt of Object.keys(ht))void 0===ht[qt]&&delete ht[qt];return`${function qo({config:R}){return R.emulator?Jn(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,ye.xO)(ht).slice(1)}`}const Nh="webStorageSupport",Zo=class Cp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=Nt,this._overrideRedirectResult=bo}_openPopup(E,I,V,ne){var de=this;return(0,g.Z)(function*(){var ze;tt(null===(ze=de.eventManagers[E._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const ht=ic(E,I,V,bt(),ne);return function ud(R,E,I,V=500,ne=600){const de=Math.max((window.screen.availHeight-ne)/2,0).toString(),ze=Math.max((window.screen.availWidth-V)/2,0).toString();let ht="";const qt=Object.assign(Object.assign({},ld),{width:V.toString(),height:ne.toString(),top:de,left:ze}),pn=(0,ye.z$)().toLowerCase();I&&(ht=Ue(pn)?"_blank":I),se(pn)&&(E=E||"http://localhost",qt.scrollbars="yes");const xn=Object.entries(qt).reduce((cr,[Ko,Ap])=>`${cr}${Ko}=${Ap},`,"");if(function oi(R=(0,ye.z$)()){var E;return wt(R)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(pn)&&"_self"!==ht)return function wp(R,E){const I=document.createElement("a");I.href=R,I.target=E;const V=document.createEvent("MouseEvent");V.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(V)}(E||"",ht),new D_(null);const Ii=window.open(E||"",ht,xn);We(Ii,R,"popup-blocked");try{Ii.focus()}catch{}return new D_(Ii)}(E,ht,ja())})()}_openRedirect(E,I,V,ne){var de=this;return(0,g.Z)(function*(){return yield de._originValidation(E),function Sh(R){Ji().location.href=R}(ic(E,I,V,bt(),ne)),new Promise(()=>{})})()}_initialize(E){const I=E._key();if(this.eventManagers[I]){const{manager:ne,promise:de}=this.eventManagers[I];return ne?Promise.resolve(ne):(tt(de,"If manager is not set, promise should be"),de)}const V=this.initAndGetManager(E);return this.eventManagers[I]={promise:V},V.catch(()=>{delete this.eventManagers[I]}),V}initAndGetManager(E){var I=this;return(0,g.Z)(function*(){const V=yield function Aw(R){return Oh.apply(this,arguments)}(E),ne=new os(E);return V.register("authEvent",de=>(We(de?.authEvent,E,"invalid-auth-event"),{status:ne.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[E._key()]={manager:ne},I.iframes[E._key()]=V,ne})()}_isIframeWebStorageSupported(E,I){this.iframes[E._key()].send(Nh,{type:Nh},ne=>{var de;const ze=null===(de=ne?.[0])||void 0===de?void 0:de[Nh];void 0!==ze&&I(!!ze),kt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const I=E._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Qr(R){return Jr.apply(this,arguments)}(E)),this.originValidationPromises[I]}get _shouldInitProactively(){return di()||ge()||wt()}};class lu extends class Sp{constructor(E){this.factorId=E}_process(E,I,V){switch(I.type){case"enroll":return this._finalizeEnroll(E,I.credential,V);case"signin":return this._finalizeSignIn(E,I.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new lu(E)}_finalizeEnroll(E,I,V){return function Yc(R,E){return wn(R,"POST","/v2/accounts/mfaEnrollment:finalize",On(R,E))}(E,{idToken:I,displayName:V,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,I){return function Ka(R,E){return wn(R,"POST","/v2/accounts/mfaSignIn:finalize",On(R,E))}(E,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ya=(()=>{class R{constructor(){}static assertion(I){return lu._fromCredential(I)}}return R.FACTOR_ID="phone",R})();var Co="@firebase/auth",Tp="0.20.11";class k_{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var I=this;return(0,g.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const I=this.auth.onIdTokenChanged(V=>{var ne;E((null===(ne=V)||void 0===ne?void 0:ne.stsTokenManager.accessToken)||null)});this.internalListeners.set(E,I),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const I=this.internalListeners.get(E);!I||(this.internalListeners.delete(E),I(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ye.Pz)("authIdTokenMaxAge"),function ul(R){(0,te._registerComponent)(new Ze.wA("auth",(E,{options:I})=>{const V=E.getProvider("app").getImmediate(),ne=E.getProvider("heartbeat"),{apiKey:de,authDomain:ze}=V.options;return((ht,qt)=>{We(de&&!de.includes(":"),"invalid-api-key",{appName:ht.name}),We(!ze?.includes(":"),"argument-error",{appName:ht.name});const pn={apiKey:de,authDomain:ze,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a(R)},xn=new f(ht,qt,pn);return function $e(R,E){const I=E?.persistence||[],V=(Array.isArray(I)?I:[I]).map(He);E?.errorMap&&R._updateErrorMap(E.errorMap),R._initializeWithPersistence(V,E?.popupRedirectResolver)}(xn,I),xn})(V,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,I,V)=>{E.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Ze.wA("auth-internal",E=>{const I=m(E.getProvider("auth").getImmediate());return new k_(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Co,Tp,function Hm(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,te.registerVersion)(Co,Tp,"esm2017")}("Browser")},2090:(Gt,rt,ue)=>{"use strict";ue.d(rt,{$s:()=>Ut,BH:()=>Ln,G6:()=>st,L:()=>je,LL:()=>Nn,P0:()=>_t,Pz:()=>Kn,Sg:()=>Et,UG:()=>et,US:()=>Ze,ZB:()=>Ce,ZR:()=>mi,aH:()=>Kt,b$:()=>he,eu:()=>We,hl:()=>Ot,jU:()=>jt,m9:()=>Gn,ne:()=>Ci,pd:()=>fo,r3:()=>vs,ru:()=>nt,tV:()=>Ie,uI:()=>mt,vZ:()=>Ht,w1:()=>kt,xO:()=>vi,xb:()=>rr,z$:()=>St,zI:()=>qe,zd:()=>us});const Ne=function(Ae){const we=[];let Oe=0;for(let _e=0;_e<Ae.length;_e++){let se=Ae.charCodeAt(_e);se<128?we[Oe++]=se:se<2048?(we[Oe++]=se>>6|192,we[Oe++]=63&se|128):55296==(64512&se)&&_e+1<Ae.length&&56320==(64512&Ae.charCodeAt(_e+1))?(se=65536+((1023&se)<<10)+(1023&Ae.charCodeAt(++_e)),we[Oe++]=se>>18|240,we[Oe++]=se>>12&63|128,we[Oe++]=se>>6&63|128,we[Oe++]=63&se|128):(we[Oe++]=se>>12|224,we[Oe++]=se>>6&63|128,we[Oe++]=63&se|128)}return we},Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,we){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let se=0;se<Ae.length;se+=3){const ge=Ae[se],Ue=se+1<Ae.length,vt=Ue?Ae[se+1]:0,Yt=se+2<Ae.length,Xt=Yt?Ae[se+2]:0;let _n=(15&vt)<<2|Xt>>6,oi=63&Xt;Yt||(oi=64,Ue||(_n=64)),_e.push(Oe[ge>>2],Oe[(3&ge)<<4|vt>>4],Oe[_n],Oe[oi])}return _e.join("")},encodeString(Ae,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Ae):this.encodeByteArray(Ne(Ae),we)},decodeString(Ae,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Ae):function(Ae){const we=[];let Oe=0,_e=0;for(;Oe<Ae.length;){const se=Ae[Oe++];if(se<128)we[_e++]=String.fromCharCode(se);else if(se>191&&se<224){const ge=Ae[Oe++];we[_e++]=String.fromCharCode((31&se)<<6|63&ge)}else if(se>239&&se<365){const Yt=((7&se)<<18|(63&Ae[Oe++])<<12|(63&Ae[Oe++])<<6|63&Ae[Oe++])-65536;we[_e++]=String.fromCharCode(55296+(Yt>>10)),we[_e++]=String.fromCharCode(56320+(1023&Yt))}else{const ge=Ae[Oe++],Ue=Ae[Oe++];we[_e++]=String.fromCharCode((15&se)<<12|(63&ge)<<6|63&Ue)}}return we.join("")}(this.decodeStringToByteArray(Ae,we))},decodeStringToByteArray(Ae,we){this.init_();const Oe=we?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let se=0;se<Ae.length;){const ge=Oe[Ae.charAt(se++)],vt=se<Ae.length?Oe[Ae.charAt(se)]:0;++se;const Xt=se<Ae.length?Oe[Ae.charAt(se)]:64;++se;const wt=se<Ae.length?Oe[Ae.charAt(se)]:64;if(++se,null==ge||null==vt||null==Xt||null==wt)throw Error();_e.push(ge<<2|vt>>4),64!==Xt&&(_e.push(vt<<4&240|Xt>>2),64!==wt&&_e.push(Xt<<6&192|wt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},je=function(Ae){return function(Ae){const we=Ne(Ae);return Ze.encodeByteArray(we,!0)}(Ae).replace(/\./g,"")},Ie=function(Ae){try{return Ze.decodeString(Ae,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function Ce(Ae,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return we}for(const Oe in we)!we.hasOwnProperty(Oe)||!Be(Oe)||(Ae[Oe]=Ce(Ae[Oe],we[Oe]));return Ae}function Be(Ae){return"__proto__"!==Ae}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function et(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function nt(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const Ae=St();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function st(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ot(){return"object"==typeof indexedDB}function We(){return new Promise((Ae,we)=>{try{let Oe=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(_e);se.onsuccess=()=>{se.result.close(),Oe||self.indexedDB.deleteDatabase(_e),Ae(!0)},se.onupgradeneeded=()=>{Oe=!1},se.onerror=()=>{var ge;we((null===(ge=se.error)||void 0===ge?void 0:ge.message)||"")}}catch(Oe){we(Oe)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const $e=()=>{try{return function tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const we=Ae&&Ie(Ae[1]);return we&&JSON.parse(we)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},_t=Ae=>{const we=(Ae=>{var we,Oe;return null===(Oe=null===(we=$e())||void 0===we?void 0:we.emulatorHosts)||void 0===Oe?void 0:Oe[Ae]})(Ae);if(!we)return;const Oe=we.lastIndexOf(":");if(Oe<=0||Oe+1===we.length)throw new Error(`Invalid host ${we} with no separate hostname and port!`);const _e=parseInt(we.substring(Oe+1),10);return"["===we[0]?[we.substring(1,Oe-1),_e]:[we.substring(0,Oe),_e]},Kt=()=>{var Ae;return null===(Ae=$e())||void 0===Ae?void 0:Ae.config},Kn=Ae=>{var we;return null===(we=$e())||void 0===we?void 0:we[`_${Ae}`]};class Ln{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Oe)=>{this.resolve=we,this.reject=Oe})}wrapCallback(we){return(Oe,_e)=>{Oe?this.reject(Oe):this.resolve(_e),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Oe):we(Oe,_e))}}}function Et(Ae,we){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=we||"demo-project",se=Ae.iat||0,ge=Ae.sub||Ae.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:se,exp:se+3600,auth_time:se,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Ue)),""].join(".")}class mi extends Error{constructor(we,Oe,_e){super(Oe),this.code=we,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(we,Oe,_e){this.service=we,this.serviceName=Oe,this.errors=_e}create(we,...Oe){const _e=Oe[0]||{},se=`${this.service}/${we}`,ge=this.errors[we],Ue=ge?function Sn(Ae,we){return Ae.replace(On,(Oe,_e)=>{const se=we[_e];return null!=se?String(se):`<${_e}?>`})}(ge,_e):"Error";return new mi(se,`${this.serviceName}: ${Ue} (${se}).`,_e)}}const On=/\{\$([^}]+)}/g;function vs(Ae,we){return Object.prototype.hasOwnProperty.call(Ae,we)}function rr(Ae){for(const we in Ae)if(Object.prototype.hasOwnProperty.call(Ae,we))return!1;return!0}function Ht(Ae,we){if(Ae===we)return!0;const Oe=Object.keys(Ae),_e=Object.keys(we);for(const se of Oe){if(!_e.includes(se))return!1;const ge=Ae[se],Ue=we[se];if(Zi(ge)&&Zi(Ue)){if(!Ht(ge,Ue))return!1}else if(ge!==Ue)return!1}for(const se of _e)if(!Oe.includes(se))return!1;return!0}function Zi(Ae){return null!==Ae&&"object"==typeof Ae}function vi(Ae){const we=[];for(const[Oe,_e]of Object.entries(Ae))Array.isArray(_e)?_e.forEach(se=>{we.push(encodeURIComponent(Oe)+"="+encodeURIComponent(se))}):we.push(encodeURIComponent(Oe)+"="+encodeURIComponent(_e));return we.length?"&"+we.join("&"):""}function us(Ae){const we={};return Ae.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[se,ge]=_e.split("=");we[decodeURIComponent(se)]=decodeURIComponent(ge)}}),we}function fo(Ae){const we=Ae.indexOf("?");if(!we)return"";const Oe=Ae.indexOf("#",we);return Ae.substring(we,Oe>0?Oe:void 0)}function Ci(Ae,we){const Oe=new ii(Ae,we);return Oe.subscribe.bind(Oe)}class ii{constructor(we,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{we(this)}).catch(_e=>{this.error(_e)})}next(we){this.forEachObserver(Oe=>{Oe.next(we)})}error(we){this.forEachObserver(Oe=>{Oe.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Oe,_e){let se;if(void 0===we&&void 0===Oe&&void 0===_e)throw new Error("Missing Observer.");se=function tn(Ae,we){if("object"!=typeof Ae||null===Ae)return!1;for(const Oe of we)if(Oe in Ae&&"function"==typeof Ae[Oe])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:Oe,complete:_e},void 0===se.next&&(se.next=yn),void 0===se.error&&(se.error=yn),void 0===se.complete&&(se.complete=yn);const ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),ge}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,we)}sendOne(we,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Oe(this.observers[we])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function Ut(Ae,we=1e3,Oe=2){const _e=we*Math.pow(Oe,Ae),se=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+se)}function Gn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},3891:(Gt,rt,ue)=>{"use strict";var g=ue(4650);let ye=null;function te(){return ye}const be=new g.OlP("DocumentToken");let je=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Ie(){return(0,g.LFG)(Ce)}()},providedIn:"platform"}),n})();const me=new g.OlP("Location Initialized");let Ce=(()=>{class n extends je{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(e){const i=te().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=te().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){Be()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){Be()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function St(){return new Ce((0,g.LFG)(be))}()},providedIn:"platform"}),n})();function Be(){return!!window.history.pushState}function mt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function et(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function jt(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Bt)},providedIn:"root"}),n})();const he=new g.OlP("appBaseHref");let Bt=(()=>{class n extends nt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return mt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+jt(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,r){const o=this.prepareExternalUrl(s+jt(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){const o=this.prepareExternalUrl(s+jt(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(je),g.LFG(he,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kt=(()=>{class n extends nt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=mt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,r){let o=this.prepareExternalUrl(s+jt(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){let o=this.prepareExternalUrl(s+jt(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(je),g.LFG(he,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(e){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=et(Ot(i)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+jt(i))}normalize(e){return n.stripTrailingSlash(function st(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ot(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+jt(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+jt(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=jt,n.joinWithSlash=mt,n.stripTrailingSlash=et,n.\u0275fac=function(e){return new(e||n)(g.LFG(nt))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function it(){return new Pe((0,g.LFG)(nt))}()},providedIn:"root"}),n})();function Ot(n){return n.replace(/\/index.html$/,"")}let Z=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new le,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ke("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ke("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class le{constructor(){this.$implicit=null,this.ngIf=null}}function ke(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(t)}'.`)}let Si=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:r,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(s,r,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),n})(),zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const gr="browser";function Is(n){return n===gr}function Uo(n){return"server"===n}let hh=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Jf((0,g.LFG)(be),window)}),n})();class Jf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ms(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Lr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wo extends class vh extends class Ze{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Se(n){ye||(ye=n)}(new Wo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function yh(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}();return null==e?null:function mo(n){Ni=Ni||document.createElement("a"),Ni.setAttribute("href",n);const t=Ni.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function $(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,t)}}let Ni,jo=null;const Bi=new g.OlP("TRANSITION_ID"),Zu=[{provide:g.ip1,useFactory:function qu(n,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const i=te(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[Bi,be,g.zs3],multi:!0}];let Ku=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Qu=new g.OlP("EventManagerPlugins");let Ju=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Qu),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class $c{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=te().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Ua=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ga=(()=>{class n extends Ua{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(xh),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xh))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function xh(n){te().remove(n)}const Wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bh=/%COMP%/g;function Xc(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Xc(n,s,e):(s=s.replace(bh,n),e.push(s))}return e}function qc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wl=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new vo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case g.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Ch(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case g.ifc.ShadowDom:return new op(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Xc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Ju),g.LFG(Ga),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class vo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Wa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){($l(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&($l(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=Wa[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Wa[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,i,s&g.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qc(i)):this.eventManager.addEventListener(t,e,qc(i))}}function $l(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ch extends vo{constructor(t,e,i,s){super(t),this.component=i;const r=Xc(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function Qi(n){return"_ngcontent-%COMP%".replace(bh,n)}(s+"-"+i.id),this.hostAttr=function Yc(n){return"_nghost-%COMP%".replace(bh,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class op extends vo{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Xc(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const d=document.createElement("style");d.textContent=r[o],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fs=(()=>{class n extends $c{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const ap=["alt","control","meta","shift"],$o={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yl=(()=>{class n extends $c{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>te().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),o="code."),ap.forEach(_=>{const C=i.indexOf(_);C>-1&&(i.splice(C,1),o+=_+".")}),o+=r,0!=i.length||0===r.length)return null;const p={};return p.domEventName=s,p.fullKey=o,p}static matchEventFullKeyCode(e,i){let s=$o[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(s=e.code,r="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ap.forEach(o=>{o!==s&&(0,nd[o])(e)&&(r+=o+".")}),r+=s,r===i)}static eventCallback(e,i,s){return r=>{n.matchEventFullKeyCode(r,e)&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Xl=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:gr},{provide:g.g9A,useValue:function Th(){Wo.makeCurrent()},multi:!0},{provide:be,useFactory:function id(){return(0,g.RDi)(document),document},deps:[]}]),pa=new g.OlP(""),ql=[{provide:g.rWj,useClass:class _h{addToWindow(t){g.dqk.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(i=>{const s=g.dqk.getAllAngularTestabilities();let r=s.length,o=!1;const d=function(p){o=o||p,r--,0==r&&i(o)};s.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?te().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],$a=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function yo(){return new g.qLn},deps:[]},{provide:Qu,useClass:fs,multi:!0,deps:[be,g.R0b,g.Lbi]},{provide:Qu,useClass:Yl,multi:!0,deps:[be]},{provide:Wl,useClass:Wl,deps:[Ju,Ga,g.AFp]},{provide:g.FYo,useExisting:Wl},{provide:Ua,useExisting:Ga},{provide:Ga,useClass:Ga,deps:[be]},{provide:Ju,useClass:Ju,deps:[Qu,g.R0b]},{provide:class Ra{},useClass:Ku,deps:[]},[]];let ga=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:g.AFp,useValue:e.appId},{provide:Bi,useExisting:g.AFp},Zu]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(pa,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...$a,...ql],imports:[zo,g.hGG]}),n})(),Yr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Zl(){return new Yr((0,g.LFG)(be))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;class tl{}const Or="*";function Kl(n,t=null){return{type:2,steps:n,options:t}}function es(n){return{type:6,styles:n,offset:null}}function tu(n){Promise.resolve().then(n)}class Ks{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nu{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?tu(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,d)=>Math.max(o,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function rl(n){return new g.vHH(3e3,!1)}function yr(){return typeof window<"u"&&typeof window.document<"u"}function wo(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kr(n){switch(n.length){case 0:return new Ks;case 1:return n[0];default:return new nu(n)}}function nc(n,t,e,i,s=new Map,r=new Map){const o=[],d=[];let p=-1,_=null;if(i.forEach(C=>{const k=C.get("offset"),N=k==p,z=N&&_||new Map;C.forEach((W,Q)=>{let K=Q,fe=W;if("offset"!==Q)switch(K=t.normalizePropertyName(K,o),fe){case"!":fe=s.get(Q);break;case Or:fe=r.get(Q);break;default:fe=t.normalizeStyleValue(Q,K,fe,o)}z.set(K,fe)}),N||d.push(z),_=z,p=k}),o.length)throw function xe(n){return new g.vHH(3502,!1)}();return d}function Qr(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Jr(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Jr(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Jr(e,"destroy",n)))}}function Jr(n,t,e){const r=ad(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function ad(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Rr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function mp(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let vp=(n,t)=>!1,ll=(n,t,e)=>[],yp=null;function _p(n){const t=n.parentNode||n.host;return t===yp?null:t}(wo()||typeof Element<"u")&&(yr()?(yp=(()=>document.documentElement)(),vp=(n,t)=>{for(;t;){if(t===n)return!0;t=_p(t)}return!1}):vp=(n,t)=>n.contains(t),ll=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let cl=null,E_=!1;const ld=vp,Rh=ll;let Vm=(()=>{class n{validateStyleProperty(e){return function xp(n){cl||(cl=function Oh(){return typeof document<"u"?document.body:null}()||{},E_=!!cl.style&&"WebkitAppearance"in cl.style);let t=!0;return cl.style&&!function Tw(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in cl.style,!t&&E_&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return ld(e,i)}getParentElement(e){return _p(e)}query(e,i,s){return Rh(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,d=[],p){return new Ks(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),bp=(()=>{class n{}return n.NOOP=new Vm,n})();const Fh="ng-enter",dd="ng-leave",ic="ng-trigger",qo=".ng-trigger",Nh="ng-animating",Cp=".ng-animating";function Zo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sp(parseFloat(t[1]),t[2])}function Sp(n,t){return"s"===t?1e3*n:n}function lu(n,t,e){return n.hasOwnProperty("duration")?n:function ya(n,t,e){let s,r=0,o="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(rl()),{duration:0,delay:0,easing:""};s=Sp(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(r=Sp(parseFloat(p),d[4]));const _=d[5];_&&(o=_)}else s=n;if(!e){let d=!1,p=t.length;s<0&&(t.push(function od(){return new g.vHH(3100,!1)}()),d=!0),r<0&&(t.push(function Ql(){return new g.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,rl())}return{duration:s,delay:r,easing:o}}(n,t,e)}function Co(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Tp(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ul(n,t=new Map,e){if(e)for(let[i,s]of e)t.set(i,s);for(let[i,s]of n)t.set(i,s);return t}function zm(n,t,e){return e?t+":"+e+";":""}function Um(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=zm(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=zm(0,ht(e),n.style[e]));n.setAttribute("style",t)}function eo(n,t,e){n.style&&(t.forEach((i,s)=>{const r=ze(s);e&&!e.has(s)&&e.set(s,n.style[r]),n.style[r]=i}),wo()&&Um(n))}function sc(n,t){n.style&&(t.forEach((e,i)=>{const s=ze(i);n.style[s]=""}),wo()&&Um(n))}function Bh(n){return Array.isArray(n)?1==n.length?n[0]:Kl(n):n}const E=new RegExp("{{\\s*(.+?)\\s*}}","g");function I(n){let t=[];if("string"==typeof n){let e;for(;e=E.exec(n);)t.push(e[1]);E.lastIndex=0}return t}function V(n,t,e){const i=n.toString(),s=i.replace(E,(r,o)=>{let d=t[o];return null==d&&(e.push(function Ih(n){return new g.vHH(3003,!1)}()),d=""),d.toString()});return s==i?n:s}function ne(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const de=/-+([a-z0-9])/g;function ze(n){return n.replace(de,(...t)=>t[1].toUpperCase())}function ht(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function iu(n){return new g.vHH(3004,!1)}()}}function Ii(n,t){return window.getComputedStyle(n)[t]}function kp(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function hd(n,t,e){if(":"==n[0]){const p=function Vh(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ph(n){return new g.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function au(n){return new g.vHH(3015,!1)}()),t;const s=i[1],r=i[2],o=i[3];t.push($i(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push($i(o,s))}(i,e,t)):e.push(n),e}const rc=new Set(["true","1"]),Hh=new Set(["false","0"]);function $i(n,t){const e=rc.has(n)||Hh.has(n),i=rc.has(t)||Hh.has(t);return(s,r)=>{let o="*"==n||n==s,d="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?rc.has(n):Hh.has(n)),!d&&i&&"boolean"==typeof r&&(d=r?rc.has(t):Hh.has(t)),o&&d}}const CE=new RegExp("s*:selfs*,?","g");function Mp(n,t,e,i){return new SE(n).build(t,e,i)}class SE{constructor(t){this._driver=t}build(t,e,i){const s=new EE(e);return this._resetContextStyleTimingState(s),xn(this,Bh(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function ru(){return new g.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,r.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,s+=p.depCount,o.push(p)}else e.errors.push(function Zr(){return new g.vHH(3007,!1)}())}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{I(p).forEach(_=>{o.hasOwnProperty(_)||r.add(_)})})}),r.size&&(ne(r.values()),e.errors.push(function ou(n,t){return new g.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=xn(this,Bh(t.animation),e);return{type:1,matchers:kp(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:zh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>xn(this,i,e)),options:zh(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const d=xn(this,o,e);return s=Math.max(s,e.currentTime),d});return e.currentTime=s,{type:3,steps:r,options:zh(t.options)}}visitAnimate(t,e){const i=function YF(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fd(lu(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=fd(0,0,"");return r.dynamic=!0,r.strValue=e,r}const s=lu(e,t);return fd(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:es({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,d=!1;if(!o){d=!0;const _={};i.easing&&(_.easing=i.easing),o=es(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(o,e);p.isEmptyStep=d,s=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of s)"string"==typeof d?d===Or?i.push(d):e.errors.push(new g.vHH(3002,!1)):i.push(Tp(d));let r=!1,o=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(o=d.get("easing"),d.delete("easing")),!r))for(let p of d.values())if(p.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),C=_.get(p);let k=!0;C&&(r!=s&&r>=C.startTime&&s<=C.endTime&&(e.errors.push(function xo(n,t,e,i,s){return new g.vHH(3010,!1)}()),k=!1),r=C.startTime),k&&_.set(p,{startTime:r,endTime:s}),e.options&&function R(n,t,e){const i=t.params||{},s=I(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(function Bm(n){return new g.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function gp(){return new g.vHH(3011,!1)}()),i;let r=0;const o=[];let d=!1,p=!1,_=0;const C=t.steps.map(fe=>{const ve=this._makeStyleAst(fe,e);let Te=null!=ve.offset?ve.offset:function DE(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ve.styles),Ee=0;return null!=Te&&(r++,Ee=ve.offset=Te),p=p||Ee<0||Ee>1,d=d||Ee<_,_=Ee,o.push(Ee),ve});p&&e.errors.push(function bo(){return new g.vHH(3012,!1)}()),d&&e.errors.push(function Jl(){return new g.vHH(3200,!1)}());const k=t.steps.length;let N=0;r>0&&r<k?e.errors.push(function al(){return new g.vHH(3202,!1)}()):0==r&&(N=1/(k-1));const z=k-1,W=e.currentTime,Q=e.currentAnimateTimings,K=Q.duration;return C.forEach((fe,ve)=>{const Te=N>0?ve==z?1:N*ve:o[ve],Ee=Te*K;e.currentTime=W+Q.delay+Ee,Q.duration=Ee,this._validateStyleAst(fe,e),fe.offset=Te,i.styles.push(fe)}),i}visitReference(t,e){return{type:8,animation:xn(this,Bh(t.animation),e),options:zh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function TE(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(CE,"")),n=n.replace(/@\*/g,qo).replace(/@\w+/g,e=>qo+"-"+e.slice(1)).replace(/:animating/g,Cp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Rr(e.collectedStyles,e.currentQuerySelector,new Map);const d=xn(this,Bh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:d,originalSelector:t.selector,options:zh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Lh(){return new g.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:lu(t.timings,e.errors,!0);return{type:12,animation:xn(this,Bh(t.animation),e),timings:i,options:null}}}class EE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zh(n){return n?(n=Co(n)).params&&(n.params=function AE(n){return n?Co(n):null}(n.params)):n={},n}function fd(n,t,e){return{duration:n,delay:t,easing:e}}function Lp(n,t,e,i,s,r,o=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:d}}class Pp{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kE=new RegExp(":enter","g"),Iw=new RegExp(":leave","g");function Op(n,t,e,i,s,r=new Map,o=new Map,d,p,_=[]){return(new XF).buildKeyframes(n,t,e,i,s,r,o,d,p,_)}class XF{buildKeyframes(t,e,i,s,r,o,d,p,_,C=[]){_=_||new Pp;const k=new Rp(t,e,_,s,r,C,[]);k.options=p;const N=p.delay?Zo(p.delay):0;k.currentTimeline.delayNextStep(N),k.currentTimeline.setStyles([o],null,k.errors,p),xn(this,i,k);const z=k.timelines.filter(W=>W.containsAnimation());if(z.length&&d.size){let W;for(let Q=z.length-1;Q>=0;Q--){const K=z[Q];if(K.element===e){W=K;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([d],null,k.errors,p)}return z.length?z.map(W=>W.buildKeyframes()):[Lp(e,[],[],[],0,N,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const s of t){const r=s?.delay;if(r){const o="number"==typeof r?r:Zo(V(r,s?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?Zo(i.duration):null,d=null!=i.delay?Zo(i.delay):null;return 0!==o&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,o,d);r=Math.max(r,_.duration+_.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),xn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Gm);const o=Zo(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>xn(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Zo(t.options.delay):0;t.steps.forEach(o=>{const d=e.createSubContext(t.options);r&&d.delayNextStep(r),xn(this,o,d),s=Math.max(s,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return lu(e.params?V(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*r),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Zo(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gm);let o=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,C)=>{e.currentQueryIndex=C;const k=e.createSubContext(t.options,_);r&&k.delayNextStep(r),_===e.element&&(p=k.currentTimeline),xn(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),d=o*(e.currentQueryTotal-1);let p=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const C=e.currentTimeline;p&&C.delayNextStep(p);const k=C.currentTime;xn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-k+(s.startTime-i.currentTimeline.startTime)}}const Gm={};class Rp{constructor(t,e,i,s,r,o,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Fp(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Zo(i.duration)),null!=i.delay&&(s.delay=Zo(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(d=>{(!e||!o.hasOwnProperty(d))&&(o[d]=V(r[d],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new Rp(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Gm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new Mw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let d=[];if(s&&d.push(this.element),t.length>0){t=(t=t.replace(kE,"."+this._enterClassName)).replace(Iw,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!r&&0==d.length&&o.push(function rs(n){return new g.vHH(3014,!1)}()),d}}class Fp{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Fp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Or),this._currentKeyframe.set(e,Or);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&this._previousKeyframe.set("easing",e);const r=s&&s.params||{},o=function IE(n,t){const e=new Map;let i;return n.forEach(s=>{if("*"===s){i=i||t.keys();for(let r of i)e.set(r,Or)}else ul(s,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of o){const _=V(p,r,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Or),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const s=this._styleSummary.get(i);(!s||e.time>s.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((d,p)=>{const _=ul(d,new Map,this._backFill);_.forEach((C,k)=>{"!"===C?t.add(k):C===Or&&e.add(k)}),i||_.set("offset",p/this.duration),s.push(_)});const r=t.size?ne(t.values()):[],o=e.size?ne(e.values()):[];if(i){const d=s[0],p=new Map(d);d.set("offset",0),p.set("offset",1),s=[d,p]}return Lp(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class Mw extends Fp{constructor(t,e,i,s,r,o,d=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=d,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,d=e/o,p=ul(t[0]);p.set("offset",0),r.push(p);const _=ul(t[0]);_.set("offset",uu(d)),r.push(_);const C=t.length-1;for(let k=1;k<=C;k++){let N=ul(t[k]);const z=N.get("offset");N.set("offset",uu((e+z*i)/o)),r.push(N)}i=o,e=0,s="",t=r}return Lp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function uu(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Uh{}const P_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wm extends Uh{normalizePropertyName(t,e){return ze(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(P_.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&s.push(function su(n,t){return new g.vHH(3005,!1)}())}return o+r}}function du(n,t,e,i,s,r,o,d,p,_,C,k,N){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:C,totalTime:k,errors:N}}const jm={};class $m{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function ME(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,i):new Map}build(t,e,i,s,r,o,d,p,_,C){const k=[],N=this.ast.options&&this.ast.options.params||jm,W=this.buildStyles(i,d&&d.params||jm,k),Q=p&&p.params||jm,K=this.buildStyles(s,Q,k),fe=new Set,ve=new Map,Te=new Map,Ee="void"===s,De={params:Pw(Q,N),delay:this.ast.options?.delay},Fe=C?[]:Op(t,e,this.ast.animation,r,o,W,K,De,_,k);let Qe=0;if(Fe.forEach(Pt=>{Qe=Math.max(Pt.duration+Pt.delay,Qe)}),k.length)return du(e,this._triggerName,i,s,Ee,W,K,[],[],ve,Te,Qe,k);Fe.forEach(Pt=>{const Jt=Pt.element,Rt=Rr(ve,Jt,new Set);Pt.preStyleProps.forEach(un=>Rt.add(un));const fn=Rr(Te,Jt,new Set);Pt.postStyleProps.forEach(un=>fn.add(un)),Jt!==e&&fe.add(Jt)});const yt=ne(fe.values());return du(e,this._triggerName,i,s,Ee,W,K,Fe,yt,ve,Te,Qe)}}function Pw(n,t){const e=Co(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Gh{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,s=Co(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!==o&&(s[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,d)=>{o&&(o=V(o,s,e));const p=this.normalizer.normalizePropertyName(d,e);o=this.normalizer.normalizeStyleValue(d,p,o,e),i.set(p,o)})}),i}}class PE{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new Gh(s.style,s.options&&s.options.params||{},i))}),Ow(this.states,"true","1"),Ow(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new $m(t,s,this.states))}),this.fallbackTransition=function OE(n,t,e){return new $m(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Ow(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const O_=new Pp;class RE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=Mp(this._driver,e,i,[]);if(i.length)throw function Ve(n){return new g.vHH(3503,!1)}();this._animations.set(t,r)}_buildPlayer(t,e,i){const s=t.element,r=nc(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations.get(t);let o;const d=new Map;if(r?(o=Op(this._driver,e,r,Fh,dd,new Map,new Map,i,O_,s),o.forEach(C=>{const k=Rr(d,C.element,new Map);C.postStyleProps.forEach(N=>k.set(N,null))})):(s.push(function Xe(){return new g.vHH(3300,!1)}()),o=[]),s.length)throw function ft(n){return new g.vHH(3504,!1)}();d.forEach((C,k)=>{C.forEach((N,z)=>{C.set(z,this._driver.computeStyle(k,z,Or))})});const _=Kr(o.map(C=>{const k=d.get(C.element);return this._buildPlayer(C,new Map,k)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Nt(n){return new g.vHH(3301,!1)}();return e}listen(t,e,i,s){const r=ad(e,"","","");return Qr(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const R_="ng-animate-queued",Ym="ng-animate-disabled",BE=[],pd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qo="__ng_removed";class Rw{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function N_(n){return n??null}(i?t.value:t),i){const r=Co(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Wh="void",F_=new Rw(Wh);class VE{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,to(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.has(e))throw function an(n,t){return new g.vHH(3302,!1)}();if(null==i||0==i.length)throw function In(n){return new g.vHH(3303,!1)}();if(!function zE(n){return"start"==n||"done"==n}(i))throw function Pn(n,t){return new g.vHH(3400,!1)}();const r=Rr(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const d=Rr(this._engine.statesByElement,t,new Map);return d.has(e)||(to(t,ic),to(t,ic+"-"+e),d.set(e,F_)),()=>{this._engine.afterFlush(()=>{const p=r.indexOf(o);p>=0&&r.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function cn(n){return new g.vHH(3401,!1)}();return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new Xm(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(to(t,ic),to(t,ic+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new Rw(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=F_),_.value!==Wh&&p.value===_.value){if(!function eN(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(p.params,_.params)){const Q=[],K=r.matchStyles(p.value,p.params,Q),fe=r.matchStyles(_.value,_.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{sc(t,K),eo(t,fe)})}return}const N=Rr(this._engine.playersByElement,t,[]);N.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let z=r.matchTransition(p.value,_.value,t,_.params),W=!1;if(!z){if(!s)return;z=r.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:z,fromState:p,toState:_,player:o,isFallbackTransition:W}),W||(to(t,R_),o.onStart(()=>{Vp(t,R_)})),o.onDone(()=>{let Q=this.players.indexOf(o);Q>=0&&this.players.splice(Q,1);const K=this._engine.playersByElement.get(t);if(K){let fe=K.indexOf(o);fe>=0&&K.splice(fe,1)}}),this.players.push(o),N.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,qo,!0);i.forEach(s=>{if(s[Qo])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t),o=new Map;if(r){const d=[];if(r.forEach((p,_)=>{if(o.set(_,p.value),this._triggers.has(_)){const C=this.trigger(t,_,Wh,s);C&&d.push(C)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Kr(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const p=this._triggers.get(o).fallbackTransition,_=i.get(o)||F_,C=new Rw(Wh),k=new Xm(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:p,fromState:_,toState:C,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Qo];(!r||r===pd)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){to(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(d=>{if(d.name==i.triggerName){const p=ad(r,i.triggerName,i.fromState.value,i.toState.value);p._data=t,Qr(i.player,d.phase,p,d.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class HE{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new VE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,d=this.driver.getParentElement(e);for(;d;){const p=s.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),o=!0;break}d=this.driver.getParentElement(d)}o||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let s of i.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&e.add(r)}return e}trigger(t,e,i,s){if(qm(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!qm(e))return;const r=e[Qo];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),to(t,Ym)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vp(t,Ym))}removeNode(t,e,i,s){if(qm(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s,r){this.collectedLeaveElements.push(e),e[Qo]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,s,r){return qm(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,qo,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Cp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Qo];if(e&&e.setForRemoval){if(t[Qo]=pd,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ym)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)to(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Kr(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function os(n){return new g.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Pp,s=[],r=new Map,o=[],d=new Map,p=new Map,_=new Map,C=new Set;this.disabledNodes.forEach(xt=>{C.add(xt);const At=this.driver.query(xt,".ng-animate-queued",!0);for(let Zt=0;Zt<At.length;Zt++)C.add(At[Zt])});const k=this.bodyNode,N=Array.from(this.statesByElement.keys()),z=GE(N,this.collectedEnterElements),W=new Map;let Q=0;z.forEach((xt,At)=>{const Zt=Fh+Q++;W.set(At,Zt),xt.forEach(en=>to(en,Zt))});const K=[],fe=new Set,ve=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const At=this.collectedLeaveElements[xt],Zt=At[Qo];Zt&&Zt.setForRemoval&&(K.push(At),fe.add(At),Zt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(en=>fe.add(en)):ve.add(At))}const Te=new Map,Ee=GE(N,Array.from(fe));Ee.forEach((xt,At)=>{const Zt=dd+Q++;Te.set(At,Zt),xt.forEach(en=>to(en,Zt))}),t.push(()=>{z.forEach((xt,At)=>{const Zt=W.get(At);xt.forEach(en=>Vp(en,Zt))}),Ee.forEach((xt,At)=>{const Zt=Te.get(At);xt.forEach(en=>Vp(en,Zt))}),K.forEach(xt=>{this.processLeaveNode(xt)})});const De=[],Fe=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(e).forEach(Zt=>{const en=Zt.player,Un=Zt.element;if(De.push(en),this.collectedEnterElements.length){const Ti=Un[Qo];if(Ti&&Ti.setForMove){if(Ti.previousTriggersValues&&Ti.previousTriggersValues.has(Zt.triggerName)){const Ml=Ti.previousTriggersValues.get(Zt.triggerName),zt=this.statesByElement.get(Zt.element);if(zt&&zt.has(Zt.triggerName)){const Fn=zt.get(Zt.triggerName);Fn.value=Ml,zt.set(Zt.triggerName,Fn)}}return void en.destroy()}}const ui=!k||!this.driver.containsElement(k,Un),Zn=Te.get(Un),ir=W.get(Un),bi=this._buildInstruction(Zt,i,ir,Zn,ui);if(bi.errors&&bi.errors.length)return void Fe.push(bi);if(ui)return en.onStart(()=>sc(Un,bi.fromStyles)),en.onDestroy(()=>eo(Un,bi.toStyles)),void s.push(en);if(Zt.isFallbackTransition)return en.onStart(()=>sc(Un,bi.fromStyles)),en.onDestroy(()=>eo(Un,bi.toStyles)),void s.push(en);const ka=[];bi.timelines.forEach(Ti=>{Ti.stretchStartingKeyframe=!0,this.disabledNodes.has(Ti.element)||ka.push(Ti)}),bi.timelines=ka,i.append(Un,bi.timelines),o.push({instruction:bi,player:en,element:Un}),bi.queriedElements.forEach(Ti=>Rr(d,Ti,[]).push(en)),bi.preStyleProps.forEach((Ti,Ml)=>{if(Ti.size){let zt=p.get(Ml);zt||p.set(Ml,zt=new Set),Ti.forEach((Fn,ni)=>zt.add(ni))}}),bi.postStyleProps.forEach((Ti,Ml)=>{let zt=_.get(Ml);zt||_.set(Ml,zt=new Set),Ti.forEach((Fn,ni)=>zt.add(ni))})});if(Fe.length){const xt=[];Fe.forEach(At=>{xt.push(function ec(n,t){return new g.vHH(3505,!1)}())}),De.forEach(At=>At.destroy()),this.reportError(xt)}const Qe=new Map,yt=new Map;o.forEach(xt=>{const At=xt.element;i.has(At)&&(yt.set(At,At),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,Qe))}),s.forEach(xt=>{const At=xt.element;this._getPreviousPlayers(At,!1,xt.namespaceId,xt.triggerName,null).forEach(en=>{Rr(Qe,At,[]).push(en),en.destroy()})});const Pt=K.filter(xt=>Nw(xt,p,_)),Jt=new Map;UE(Jt,this.driver,ve,_,Or).forEach(xt=>{Nw(xt,p,_)&&Pt.push(xt)});const fn=new Map;z.forEach((xt,At)=>{UE(fn,this.driver,new Set(xt),p,"!")}),Pt.forEach(xt=>{const At=Jt.get(xt),Zt=fn.get(xt);Jt.set(xt,new Map([...Array.from(At?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const un=[],zn=[],gn={};o.forEach(xt=>{const{element:At,player:Zt,instruction:en}=xt;if(i.has(At)){if(C.has(At))return Zt.onDestroy(()=>eo(At,en.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(en.totalTime),void s.push(Zt);let Un=gn;if(yt.size>1){let Zn=At;const ir=[];for(;Zn=Zn.parentNode;){const bi=yt.get(Zn);if(bi){Un=bi;break}ir.push(Zn)}ir.forEach(bi=>yt.set(bi,Un))}const ui=this._buildAnimation(Zt.namespaceId,en,Qe,r,fn,Jt);if(Zt.setRealPlayer(ui),Un===gn)un.push(Zt);else{const Zn=this.playersByElement.get(Un);Zn&&Zn.length&&(Zt.parentPlayer=Kr(Zn)),s.push(Zt)}}else sc(At,en.fromStyles),Zt.onDestroy(()=>eo(At,en.toStyles)),zn.push(Zt),C.has(At)&&s.push(Zt)}),zn.forEach(xt=>{const At=r.get(xt.element);if(At&&At.length){const Zt=Kr(At);xt.setRealPlayer(Zt)}}),s.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<K.length;xt++){const At=K[xt],Zt=At[Qo];if(Vp(At,dd),Zt&&Zt.hasAnimation)continue;let en=[];if(d.size){let ui=d.get(At);ui&&ui.length&&en.push(...ui);let Zn=this.driver.query(At,Cp,!0);for(let ir=0;ir<Zn.length;ir++){let bi=d.get(Zn[ir]);bi&&bi.length&&en.push(...bi)}}const Un=en.filter(ui=>!ui.destroyed);Un.length?QF(this,At,Un):this.processLeaveNode(At)}return K.length=0,un.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const At=this.players.indexOf(xt);this.players.splice(At,1)}),xt.play()}),un}elementContainsData(t,e){let i=!1;const s=e[Qo];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(o=d)}else{const d=this.playersByElement.get(t);if(d){const p=!r||r==Wh;d.forEach(_=>{_.queued||!p&&_.triggerName!=s||o.push(_)})}}return(i||s)&&(o=o.filter(d=>!(i&&i!=d.namespaceId||s&&s!=d.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,C=_!==r,k=Rr(i,_,[]);this._getPreviousPlayers(_,C,o,d,e.toState).forEach(z=>{const W=z.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),z.destroy(),k.push(z)})}sc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const d=e.triggerName,p=e.element,_=[],C=new Set,k=new Set,N=e.timelines.map(W=>{const Q=W.element;C.add(Q);const K=Q[Qo];if(K&&K.removedBeforeQueried)return new Ks(W.duration,W.delay);const fe=Q!==p,ve=function JF(n){const t=[];return WE(n,t),t}((i.get(Q)||BE).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===Q),Te=r.get(Q),Ee=o.get(Q),De=nc(0,this._normalizer,0,W.keyframes,Te,Ee),Fe=this._buildPlayer(W,De,ve);if(W.subTimeline&&s&&k.add(Q),fe){const Qe=new Xm(t,d,Q);Qe.setRealPlayer(Fe),_.push(Qe)}return Fe});_.forEach(W=>{Rr(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function Fw(n,t,e){let i=n.get(t);if(i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,W.element,W))}),C.forEach(W=>to(W,Nh));const z=Kr(N);return z.onDestroy(()=>{C.forEach(W=>Vp(W,Nh)),eo(p,e.toStyles)}),k.forEach(W=>{Rr(s,W,[]).push(z)}),z}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ks(t.duration,t.delay)}}class Xm{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ks,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(s=>Qr(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Rr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qm(n){return n&&1===n.nodeType}function Zm(n,t){const e=n.style.display;return n.style.display=t??"none",e}function UE(n,t,e,i,s){const r=[];e.forEach(p=>r.push(Zm(p)));const o=[];i.forEach((p,_)=>{const C=new Map;p.forEach(k=>{const N=t.computeStyle(_,k,s);C.set(k,N),(!N||0==N.length)&&(_[Qo]=Bp,o.push(_))}),n.set(_,C)});let d=0;return e.forEach(p=>Zm(p,r[d++])),o}function GE(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(d){if(!d)return 1;let p=r.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:s.has(_)?1:o(_),r.set(d,p),p}return t.forEach(d=>{const p=o(d);1!==p&&e.get(p).push(d)}),e}function to(n,t){n.classList?.add(t)}function Vp(n,t){n.classList?.remove(t)}function QF(n,t,e){Kr(e).onDone(()=>n.processLeaveNode(t))}function WE(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof nu?WE(i.players,t):t.push(i)}}function Nw(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class Hp{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new HE(t,e,i),this._timelineEngine=new RE(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let d=this._triggerCache[o];if(!d){const p=[],C=Mp(this._driver,r,p,[]);if(p.length)throw function ie(n,t){return new g.vHH(3404,!1)}();d=function LE(n,t,e){return new PE(n,t,e)}(s,C,this._normalizer),this._triggerCache[o]=d}this._transitionEngine.registerTrigger(e,s,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=mp(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,d]=mp(i);return this._timelineEngine.listen(o,e,d,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bw=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&eo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eo(this._element,this._initialStyles),this._endStyles&&(eo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sc(this._element,this._endStyles),this._endStyles=null),eo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Km(n){let t=null;return n.forEach((e,i)=>{(function Vw(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Qm{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&t.set(s,this._finished?i:Ii(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jE{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return ld(t,e)}getParentElement(t){return _p(t)}query(t,e,i){return Rh(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,s,r,o=[]){const p={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(p.easing=r);const _=new Map,C=o.filter(z=>z instanceof Qm);(function qt(n,t){return 0===n||0===t})(i,s)&&C.forEach(z=>{z.currentSnapshot.forEach((W,Q)=>_.set(Q,W))});let k=function k_(n){return n.length?n[0]instanceof Map?n:n.map(t=>Tp(t)):[]}(e).map(z=>ul(z));k=function pn(n,t,e){if(e.size&&t.length){let i=t[0],s=[];if(e.forEach((r,o)=>{i.has(o)||s.push(o),i.set(o,r)}),s.length)for(let r=1;r<t.length;r++){let o=t[r];s.forEach(d=>o.set(d,Ii(n,d)))}}return t}(t,k,_);const N=function B_(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Km(t[0]),t.length>1&&(i=Km(t[t.length-1]))):t instanceof Map&&(e=Km(t)),e||i?new Bw(n,e,i):null}(t,k);return new Qm(t,k,p,N)}}let V_=(()=>{class n extends tl{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?Kl(e):e;return Hw(this._renderer,null,i,"register",[s]),new zp(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class zp extends class eu{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new $E(this._id,t,e||{},this._renderer)}}class $E{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Hw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Hw(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const H_="@.disabled";let YE=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{const d=o?.parentNode(r);d&&o.removeChild(d,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(r);return C||(C=new zw("",r,this.engine,()=>this._rendererCache.delete(r)),this._rendererCache.set(r,C)),C}const o=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(o,d,e,C.name,C)};return i.data.animation.forEach(p),new XE(this,d,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,d]=r;o(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(Hp),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class zw{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==H_?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class XE extends zw{constructor(t,e,i,s,r){super(e,i,s,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==H_?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function qE(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function z_(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let ZE=(()=>{class n extends Hp{constructor(e,i,s,r){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be),g.LFG(bp),g.LFG(Uh),g.LFG(g.z2F))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const U_=[{provide:tl,useClass:V_},{provide:Uh,useFactory:function KE(){return new Wm}},{provide:Hp,useClass:ZE},{provide:g.FYo,useFactory:function QE(n,t,e){return new YE(n,t,e)},deps:[Wl,Hp,g.R0b]}],G_=[{provide:bp,useFactory:()=>new jE},{provide:g.QbO,useValue:"BrowserAnimations"},...U_],Uw=[{provide:bp,useClass:Vm},{provide:g.QbO,useValue:"NoopAnimations"},...U_];let Fr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Uw:G_}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:G_,imports:[ga]}),n})();var Yn=ue(8996),dl=ue(3269);function Qt(...n){const t=(0,dl.yG)(n);return(0,Yn.D)(n,t)}var Pi=ue(7579);class Jo extends Pi.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ev=(0,ue(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var no=ue(9751);const{isArray:eD}=Array,{getPrototypeOf:$w,prototype:tD,keys:nD}=Object;var Up=ue(4671),rn=ue(4004);const{isArray:oc}=Array;function j_(n){return(0,rn.U)(t=>function sD(n,t){return oc(t)?n(...t):n(t)}(n,t))}var js=ue(5403),Yw=ue(9672);function Xw(...n){const t=(0,dl.yG)(n),e=(0,dl.jO)(n),{args:i,keys:s}=function W_(n){if(1===n.length){const t=n[0];if(eD(t))return{args:t,keys:null};if(function iD(n){return n&&"object"==typeof n&&$w(n)===tD}(t)){const e=nD(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,Yn.D)([],t);const r=new no.y(function hl(n,t,e=Up.y){return i=>{tv(t,()=>{const{length:s}=n,r=new Array(s);let o=s,d=s;for(let p=0;p<s;p++)tv(t,()=>{const _=(0,Yn.D)(n[p],t);let C=!1;_.subscribe((0,js.x)(i,k=>{r[p]=k,C||(C=!0,d--),d||i.next(e(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,s?o=>function rD(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}(s,o):Up.y));return e?r.pipe(j_(e)):r}function tv(n,t,e){n?(0,Yw.f)(e,n,t):t()}var gd=ue(8189);function Gp(...n){return function oD(){return(0,gd.J)(1)}()((0,Yn.D)(n,(0,dl.yG)(n)))}var md=ue(8421);function jh(n){return new no.y(t=>{(0,md.Xf)(n()).subscribe(t)})}var aD=ue(9635),fl=ue(576);function hu(n,t){const e=(0,fl.m)(n)?n:()=>n,i=s=>s.error(e());return new no.y(t?s=>t.schedule(i,0,s):i)}var ac=ue(515),vd=ue(727),ur=ue(4482);function fu(){return(0,ur.e)((n,t)=>{let e=null;n._refCount++;const i=(0,js.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,r=e;e=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class nv extends no.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ur.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vd.w0;const e=this.getSubject();t.add(this.source.subscribe((0,js.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vd.w0.EMPTY)}return t}refCount(){return fu()(this)}}function $s(n,t){return(0,ur.e)((e,i)=>{let s=null,r=0,o=!1;const d=()=>o&&!s&&i.complete();e.subscribe((0,js.x)(i,p=>{s?.unsubscribe();let _=0;const C=r++;(0,md.Xf)(n(p,C)).subscribe(s=(0,js.x)(i,k=>i.next(t?t(p,k,C,_++):k),()=>{s=null,d()}))},()=>{o=!0,d()}))})}function yd(n){return n<=0?()=>ac.E:(0,ur.e)((t,e)=>{let i=0;t.subscribe((0,js.x)(e,s=>{++i<=n&&(e.next(s),n<=i&&e.complete())}))})}function lc(...n){const t=(0,dl.yG)(n);return(0,ur.e)((e,i)=>{(t?Gp(n,e,t):Gp(n,e)).subscribe(i)})}function Nr(n,t){return(0,ur.e)((e,i)=>{let s=0;e.subscribe((0,js.x)(i,r=>n.call(t,r,s++)&&i.next(r)))})}var _r=ue(5577);function iv(n){return(0,ur.e)((t,e)=>{let i=!1;t.subscribe((0,js.x)(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function qw(n=lD){return(0,ur.e)((t,e)=>{let i=!1;t.subscribe((0,js.x)(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function lD(){return new ev}function cc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nr((s,r)=>n(s,r,i)):Up.y,yd(1),e?iv(t):qw(()=>new ev))}function uc(n,t){return(0,fl.m)(t)?(0,_r.z)(n,t,1):(0,_r.z)(n,1)}var ys=ue(8505);function pl(n){return(0,ur.e)((t,e)=>{let r,i=null,s=!1;i=t.subscribe((0,js.x)(e,void 0,void 0,o=>{r=(0,md.Xf)(n(o,pl(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(e))})}function $_(n,t,e,i,s){return(r,o)=>{let d=e,p=t,_=0;r.subscribe((0,js.x)(o,C=>{const k=_++;p=d?n(p,C,k):(d=!0,C),i&&o.next(p)},s&&(()=>{d&&o.next(p),o.complete()})))}}function Wp(n,t){return(0,ur.e)($_(n,t,arguments.length>=2,!0))}function Y_(n){return n<=0?()=>ac.E:(0,ur.e)((t,e)=>{let i=[];t.subscribe((0,js.x)(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function X_(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nr((s,r)=>n(s,r,i)):Up.y,Y_(1),e?iv(t):qw(()=>new ev))}function jp(n){return(0,ur.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Xn="primary",$p=Symbol("RouteTitle");class tN{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function dc(n){return new tN(n)}function cD(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],d=n[r];if(o.startsWith(":"))s[o.substring(1)]=d;else if(o!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function _a(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!q_(n[s],t[s]))return!1;return!0}function q_(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,r)=>i[r]===s)}return n===t}function sv(n){return Array.prototype.concat.apply([],n)}function Z_(n){return n.length>0?n[n.length-1]:null}function Ls(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function hc(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,Yn.D)(Promise.resolve(n)):Qt(n)}const Q_={exact:function tC(n,t,e){if(!xd(n.segments,t.segments)||!Xp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!tC(n.children[i],t.children[i],e))return!1;return!0},subset:J_},$h={exact:function eC(n,t){return _a(n,t)},subset:function uD(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>q_(n[e],t[e]))},ignored:()=>!0};function Jw(n,t,e){return Q_[e.paths](n.root,t.root,e.matrixParams)&&$h[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function J_(n,t,e){return rv(n,t,t.segments,e)}function rv(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!xd(s,e)||t.hasChildren()||!Xp(s,e,i))}if(n.segments.length===e.length){if(!xd(n.segments,e)||!Xp(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!J_(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!!(xd(n.segments,s)&&Xp(n.segments,s,i)&&n.children[Xn])&&rv(n.children[Xn],t,r,i)}}function Xp(n,t,e){return t.every((i,s)=>$h[e](n[s].parameters,i.parameters))}class Yh{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dc(this.queryParams)),this._queryParamMap}toString(){return iC.serialize(this)}}class Qn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ls(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ov(this)}}class qp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=dc(this.parameters)),this._parameterMap}toString(){return Rn(this)}}function xd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new ex},providedIn:"root"}),n})();class ex{parse(t){const e=new pD(t);return new Yh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Zp(t.root,!0)}`,i=function lC(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${av(e)}=${av(s)}`).join("&"):`${av(e)}=${av(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function rC(n){return encodeURI(n)}(t.fragment)}`:""}`}}const iC=new ex;function ov(n){return n.segments.map(t=>Rn(t)).join("/")}function Zp(n,t){if(!n.hasChildren())return ov(n);if(t){const e=n.children[Xn]?Zp(n.children[Xn],!1):"",i=[];return Ls(n.children,(s,r)=>{r!==Xn&&i.push(`${r}:${Zp(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function dD(n,t){let e=[];return Ls(n.children,(i,s)=>{s===Xn&&(e=e.concat(t(i,s)))}),Ls(n.children,(i,s)=>{s!==Xn&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Xn?[Zp(n.children[Xn],!1)]:[`${s}:${Zp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xn]?`${ov(n)}/${e[0]}`:`${ov(n)}/(${e.join("//")})`}}function sC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function av(n){return sC(n).replace(/%3B/gi,";")}function tx(n){return sC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lv(n){return decodeURIComponent(n)}function oC(n){return lv(n.replace(/\+/g,"%20"))}function Rn(n){return`${tx(n.path)}${function aC(n){return Object.keys(n).map(t=>`;${tx(t)}=${tx(n[t])}`).join("")}(n.parameters)}`}const cC=/^[^\/()?;=#]+/;function cv(n){const t=n.match(cC);return t?t[0]:""}const hD=/^[^=?&#]+/,fD=/^[^&#]+/;class pD{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Xn]=new Qn(t,e)),i}parseSegment(){const t=cv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(t),new qp(lv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=cv(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=cv(this.remaining);s&&(i=s,this.capture(i))}t[lv(e)]=lv(i)}parseQueryParam(t){const e=function uC(n){const t=n.match(hD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function dC(n){const t=n.match(fD);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=oC(e),r=oC(i);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cv(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new g.vHH(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Xn);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Xn]:new Qn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new g.vHH(4011,!1)}}function nx(n){return n.segments.length>0?new Qn([],{[Xn]:n}):n}function ix(n){const t={};for(const i of Object.keys(n.children)){const r=ix(n.children[i]);(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function hC(n){if(1===n.numberOfChildren&&n.children[Xn]){const t=n.children[Xn];return new Qn(n.segments.concat(t.segments),t.children)}return n}(new Qn(n.segments,t))}function pu(n){return n instanceof Yh}function gD(n,t,e,i,s){if(0===e.length)return Kp(t.root,t.root,t.root,i,s);const r=function mD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ox(!0,0,n);let t=0,e=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const d={};return Ls(r.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...s,{outlets:d}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&s.push(d))}),s):[...s,r]},[]);return new ox(e,t,i)}(e);return r.toRoot()?Kp(t.root,t.root,new Qn([],{}),i,s):function o(p){const _=function vD(n,t,e,i){if(n.isAbsolute)return new Xh(t.root,!0,0);if(-1===i)return new Xh(e,e===t.root,0);return function ax(n,t,e){let i=n,s=t,r=e;for(;r>s;){if(r-=s,i=i.parent,!i)throw new g.vHH(4005,!1);s=i.segments.length}return new Xh(i,!1,s-r)}(e,i+(uv(n.commands[0])?0:1),n.numberOfDoubleDots)}(r,t,n.snapshot?._urlSegment,p),C=_.processChildren?Zh(_.segmentGroup,_.index,r.commands):lx(_.segmentGroup,_.index,r.commands);return Kp(t.root,_.segmentGroup,C,i,s)}(n.snapshot?._lastPathIndex)}function uv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dv(n){return"object"==typeof n&&null!=n&&n.outlets}function Kp(n,t,e,i,s){let o,r={};i&&Ls(i,(p,_)=>{r[_]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),o=n===t?e:fC(n,t,e);const d=nx(ix(o));return new Yh(d,r,s)}function fC(n,t,e){const i={};return Ls(n.children,(s,r)=>{i[r]=s===t?e:fC(s,t,e)}),new Qn(n.segments,i)}class ox{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&uv(i[0]))throw new g.vHH(4003,!1);const s=i.find(dv);if(s&&s!==Z_(i))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function lx(n,t,e){if(n||(n=new Qn([],{})),0===n.segments.length&&n.hasChildren())return Zh(n,t,e);const i=function yD(n,t,e){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return r;const o=n.segments[s],d=e[i];if(dv(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(s>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!gC(p,_,o))return r;i+=2}else{if(!gC(p,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Qn(n.segments.slice(0,i.pathIndex),{});return r.children[Xn]=new Qn(n.segments.slice(i.pathIndex),n.children),Zh(r,0,s)}return i.match&&0===s.length?new Qn(n.segments,{}):i.match&&!n.hasChildren()?cx(n,t,e):i.match?Zh(n,0,s):cx(n,t,e)}function Zh(n,t,e){if(0===e.length)return new Qn(n.segments,{});{const i=function hv(n){return dv(n[0])?n[0].outlets:{[Xn]:n}}(e),s={};return Ls(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=lx(n.children[o],t,r))}),Ls(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new Qn(n.segments,s)}}function cx(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(dv(r)){const p=_D(r.outlets);return new Qn(i,p)}if(0===s&&uv(e[0])){i.push(new qp(n.segments[t].path,pC(e[0]))),s++;continue}const o=dv(r)?r.outlets[Xn]:`${r}`,d=s<e.length-1?e[s+1]:null;o&&d&&uv(d)?(i.push(new qp(o,pC(d))),s+=2):(i.push(new qp(o,{})),s++)}return new Qn(i,{})}function _D(n){const t={};return Ls(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=cx(new Qn([],{}),0,e))}),t}function pC(n){const t={};return Ls(n,(e,i)=>t[i]=`${e}`),t}function gC(n,t,e){return n==e.path&&_a(t,e.parameters)}class gl{constructor(t,e){this.id=t,this.url=e}}class ux extends gl{constructor(t,e,i="imperative",s=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gu extends gl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qp extends gl{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fv extends gl{constructor(t,e,i,s){super(t,e),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iN extends gl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dx extends gl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xD extends gl{constructor(t,e,i,s,r){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sN extends gl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kh extends gl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pv{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xa{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yC{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bD{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gv{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=vv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Jp(t,this._root).map(e=>e.value)}}function vv(n,t){if(n===t.value)return t;for(const e of t.children){const i=vv(n,e);if(i)return i}return null}function Jp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Jp(n,e);if(i.length)return i.unshift(t),i}return[]}class mu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class wD extends mv{constructor(t,e){super(t),this.snapshot=e,px(this,t)}toString(){return this.snapshot.toString()}}function eg(n,t){const e=function yv(n,t){const o=new fx([],{},{},"",{},Xn,t,null,n.root,-1,{});return new _C("",new mu(o,[]))}(n,t),i=new Jo([new qp("",{})]),s=new Jo({}),r=new Jo({}),o=new Jo({}),d=new Jo(""),p=new gc(i,s,o,d,r,Xn,t,e.root);return p.snapshot=e.root,new wD(new mu(p,[]),e)}class gc{constructor(t,e,i,s,r,o,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=d,this.title=this.data?.pipe((0,rn.U)(_=>_[$p]))??Qt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rn.U)(t=>dc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rn.U)(t=>dc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _v(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],r=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function hx(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class fx{constructor(t,e,i,s,r,o,d,p,_,C,k,N){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=d,this.title=this.data?.[$p],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=C,this._correctedLastPathIndex=N??C,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _C extends mv{constructor(t,e){super(e),this.url=t,px(this,e)}toString(){return xC(this._root)}}function px(n,t){t.value._routerState=n,t.children.forEach(e=>px(n,e))}function xC(n){const t=n.children.length>0?` { ${n.children.map(xC).join(", ")} } `:"";return`${n.value}${t}`}function gx(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,_a(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),_a(t.params,e.params)||n.params.next(e.params),function Kw(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!_a(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),_a(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xv(n,t){const e=_a(n.params,t.params)&&function nC(n,t){return xd(n,t)&&n.every((e,i)=>_a(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||xv(n.parent,t.parent))}function tg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function oN(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return tg(n,i,s);return tg(n,i)})}(n,t,e);return new mu(i,s)}{if(n.shouldAttach(t.value)){const r=n.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(d=>tg(n,d)),o}}const i=function bC(n){return new gc(new Jo(n.url),new Jo(n.params),new Jo(n.queryParams),new Jo(n.fragment),new Jo(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(r=>tg(n,r));return new mu(i,s)}}const bv="ngNavigationCancelingError";function wC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=pu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=wv(!1,0,t);return s.url=e,s.navigationBehaviorOptions=i,s}function wv(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[bv]=!0,i.cancellationCode=t,e&&(i.url=e),i}function CD(n){return SD(n)&&pu(n.url)}function SD(n){return n&&n[bv]}class aN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cv,this.attachRef=null}}let Cv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new aN,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mx=!1;let CC=(()=>{class n{constructor(e,i,s,r,o){this.parentContexts=e,this.location=i,this.changeDetector=r,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=s||Xn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,mx);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,mx);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,mx);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new g.vHH(4013,mx);this._activatedRoute=e;const s=this.location,o=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new lN(e,d,s.injector);if(i&&function cN(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(o);this.activated=s.createComponent(_,s.length,p)}else this.activated=s.createComponent(o,{index:s.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Cv),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class lN{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===gc?this.route:t===Cv?this.childContexts:this.parent.get(t,e)}}let SC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(e,i){1&e&&g._UZ(0,"router-outlet")},dependencies:[CC],encapsulation:2}),n})();function TD(n,t){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ml(n){const t=n.children&&n.children.map(ml),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Xn&&(e.component=SC),e}function So(n){return n.outlet||Xn}function EC(n,t){const e=n.filter(i=>So(i)===t);return e.push(...n.filter(i=>So(i)!==t)),e}function ig(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class DD{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),gx(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=bd(e);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),Ls(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=bd(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=bd(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=bd(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new bD(r.value.snapshot))}),t.children.length&&this.forwardEvent(new xa(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(gx(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const d=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(d.contexts),o.attachRef=d.componentRef,o.route=d.route.value,o.outlet&&o.outlet.attach(d.componentRef,d.route.value),gx(d.route.value),this.activateChildRoutes(t,null,o.children)}else{const d=ig(s.snapshot),p=d?.get(g._Vd)??null;o.attachRef=null,o.route=s,o.resolver=p,o.injector=d,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class kC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cd{constructor(t,e){this.component=t,this.route=e}}function Qh(n,t,e){const i=n._root;return Sd(i,t?t._root:null,e,[i.value])}function ba(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,g.Z0I)(n)?t.get(n):n:i}function Sd(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=bd(t);return n.children.forEach(o=>{(function Sv(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const p=function IC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!xd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!xd(n.url,t.url)||!_a(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(n,t)||!_a(n.queryParams,t.queryParams);default:return!xv(n,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);p?s.canActivateChecks.push(new kC(i)):(r.data=o.data,r._resolvedData=o._resolvedData),Sd(n,t,r.component?d?d.children:null:e,i,s),p&&d&&d.outlet&&d.outlet.isActivated&&s.canDeactivateChecks.push(new Cd(d.outlet.component,o))}else o&&Jh(t,d,s),s.canActivateChecks.push(new kC(i)),Sd(n,null,r.component?d?d.children:null:e,i,s)})(o,r[o.value.outlet],e,i.concat([o.value]),s),delete r[o.value.outlet]}),Ls(r,(o,d)=>Jh(o,e.getContext(d),s)),s}function Jh(n,t,e){const i=bd(n),s=n.value;Ls(i,(r,o)=>{Jh(r,s.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Cd(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Td(n){return"function"==typeof n}function Tv(n){return n instanceof ev||"EmptyError"===n?.name}const sg=Symbol("INITIAL_VALUE");function ef(){return $s(n=>Xw(n.map(t=>t.pipe(yd(1),lc(sg)))).pipe((0,rn.U)(t=>{for(const e of t)if(!0!==e){if(e===sg)return sg;if(!1===e||e instanceof Yh)return e}return!0}),Nr(t=>t!==sg),yd(1)))}function OC(n){return(0,aD.z)((0,ys.b)(t=>{if(pu(t))throw wC(0,t)}),(0,rn.U)(t=>!0===t))}const wx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cx(n,t,e,i,s){const r=Sx(n,t,e);return r.matched?function RC(n,t,e,i){const s=t.canMatch;return s&&0!==s.length?Qt(s.map(o=>{const d=ba(o,n);return hc(function ID(n){return n&&Td(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(ef(),OC()):Qt(!0)}(i=TD(t,i),t,e).pipe((0,rn.U)(o=>!0===o?r:{...wx})):Qt(r)}function Sx(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...wx}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||cD)(e,n,t);if(!s)return{...wx};const r={};Ls(s.posParams,(d,p)=>{r[p]=d.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function Av(n,t,e,i,s="corrected"){if(e.length>0&&function ND(n,t,e){return e.some(i=>tf(n,t,i)&&So(i)!==Xn)}(n,e,i)){const o=new Qn(t,function NC(n,t,e,i){const s={};s[Xn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&So(r)!==Xn){const o=new Qn([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,s[So(r)]=o}return s}(n,t,i,new Qn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function vl(n,t,e){return e.some(i=>tf(n,t,i))}(n,e,i)){const o=new Qn(n.segments,function FC(n,t,e,i,s,r){const o={};for(const d of i)if(tf(n,e,d)&&!s[So(d)]){const p=new Qn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===r?n.segments.length:t.length,o[So(d)]=p}return{...s,...o}}(n,t,e,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Qn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function tf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function BC(n,t,e,i){return!!(So(n)===i||i!==Xn&&tf(t,e,n))&&("**"===n.path||Sx(t,n,e).matched)}function VC(n,t,e){return 0===t.length&&!n.children[e]}const Tx=!1;class rg{constructor(t){this.segmentGroup=t||null}}class HC{constructor(t){this.urlTree=t}}function og(n){return hu(new rg(n))}function zC(n){return hu(new HC(n))}class Ev{constructor(t,e,i,s,r){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0}apply(){const t=Av(this.urlTree.root,[],[],this.config).segmentGroup,e=new Qn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Xn).pipe((0,rn.U)(r=>this.createUrlTree(ix(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pl(r=>{if(r instanceof HC)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof rg?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Xn).pipe((0,rn.U)(s=>this.createUrlTree(ix(s),t.queryParams,t.fragment))).pipe(pl(s=>{throw s instanceof rg?this.noMatchError(s):s}))}noMatchError(t){return new g.vHH(4002,Tx)}createUrlTree(t,e,i){const s=nx(t);return new Yh(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,rn.U)(r=>new Qn([],r))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return(0,Yn.D)(s).pipe(uc(r=>{const o=i.children[r],d=EC(e,r);return this.expandSegmentGroup(t,d,o,r).pipe((0,rn.U)(p=>({segment:p,outlet:r})))}),Wp((r,o)=>(r[o.outlet]=o.segment,r),{}),X_())}expandSegment(t,e,i,s,r,o){return(0,Yn.D)(i).pipe(uc(d=>this.expandSegmentAgainstRoute(t,e,i,d,s,r,o).pipe(pl(_=>{if(_ instanceof rg)return Qt(null);throw _}))),cc(d=>!!d),pl((d,p)=>{if(Tv(d))return VC(e,s,r)?Qt(new Qn([],{})):og(e);throw d}))}expandSegmentAgainstRoute(t,e,i,s,r,o,d){return BC(s,e,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,o):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o):og(e):og(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?zC(r):this.lineralizeSegments(i,r).pipe((0,_r.z)(o=>{const d=new Qn(o,{});return this.expandSegment(t,d,e,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:C}=Sx(e,s,r);if(!d)return og(e);const k=this.applyRedirectCommands(p,s.redirectTo,C);return s.redirectTo.startsWith("/")?zC(k):this.lineralizeSegments(s,k).pipe((0,_r.z)(N=>this.expandSegment(t,e,i,N.concat(_),o,!1)))}matchSegmentAgainstRoute(t,e,i,s,r){return"**"===i.path?(t=TD(i,t),i.loadChildren?(i._loadedRoutes?Qt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,rn.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Qn(s,{})))):Qt(new Qn(s,{}))):Cx(e,i,s,t).pipe($s(({matched:o,consumedSegments:d,remainingSegments:p})=>o?this.getChildConfig(t=i._injector??t,i,s).pipe((0,_r.z)(C=>{const k=C.injector??t,N=C.routes,{segmentGroup:z,slicedSegments:W}=Av(e,d,p,N),Q=new Qn(z.segments,z.children);if(0===W.length&&Q.hasChildren())return this.expandChildren(k,N,Q).pipe((0,rn.U)(Te=>new Qn(d,Te)));if(0===N.length&&0===W.length)return Qt(new Qn(d,{}));const K=So(i)===r;return this.expandSegment(k,Q,N,W,K?Xn:r,!0).pipe((0,rn.U)(ve=>new Qn(d.concat(ve.segments),ve.children)))})):og(e)))}getChildConfig(t,e,i){return e.children?Qt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Qt({routes:e._loadedRoutes,injector:e._loadedInjector}):function FD(n,t,e,i){const s=t.canLoad;return void 0===s||0===s.length?Qt(!0):Qt(s.map(o=>{const d=ba(o,n);return hc(function MC(n){return n&&Td(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(ef(),OC())}(t,e,i).pipe((0,_r.z)(s=>s?this.configLoader.loadChildren(t,e).pipe((0,ys.b)(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):function BD(n){return hu(wv(Tx,3))}())):Qt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Qt(i);if(s.numberOfChildren>1||!s.children[Xn])return hu(new g.vHH(4e3,Tx));s=s.children[Xn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,s){const r=this.createSegmentGroup(t,e.root,i,s);return new Yh(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ls(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const d=s.substring(1);i[r]=e[d]}else i[r]=s}),i}createSegmentGroup(t,e,i,s){const r=this.createSegments(t,e.segments,i,s);let o={};return Ls(e.children,(d,p)=>{o[p]=this.createSegmentGroup(t,d,i,s)}),new Qn(r,o)}createSegments(t,e,i,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new g.vHH(4001,Tx);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}class fN{}class UC{constructor(t,e,i,s,r,o,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=Av(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Xn).pipe((0,rn.U)(e=>{if(null===e)return null;const i=new fx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new mu(i,e),r=new _C(this.url,s);return this.inheritParamsAndData(r._root),r}))}inheritParamsAndData(t){const e=t.value,i=_v(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,s)}processChildren(t,e,i){return(0,Yn.D)(Object.keys(i.children)).pipe(uc(s=>{const r=i.children[s],o=EC(e,s);return this.processSegmentGroup(t,o,r,s)}),Wp((s,r)=>s&&r?(s.push(...r),s):null),function Zw(n,t=!1){return(0,ur.e)((e,i)=>{let s=0;e.subscribe((0,js.x)(i,r=>{const o=n(r,s++);(o||t)&&i.next(r),!o&&i.complete()}))})}(s=>null!==s),iv(null),X_(),(0,rn.U)(s=>{if(null===s)return null;const r=Dv(s);return function GC(n){n.sort((t,e)=>t.value.outlet===Xn?-1:e.value.outlet===Xn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}))}processSegment(t,e,i,s,r){return(0,Yn.D)(e).pipe(uc(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,s,r)),cc(o=>!!o),pl(o=>{if(Tv(o))return VC(i,s,r)?Qt([]):Qt(null);throw o}))}processSegmentAgainstRoute(t,e,i,s,r){if(e.redirectTo||!BC(e,i,s,r))return Qt(null);let o;if("**"===e.path){const d=s.length>0?Z_(s).parameters:{},p=lg(i)+s.length;o=Qt({snapshot:new fx(s,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$C(e),So(e),e.component??e._loadedComponent??null,e,ag(i),p,kv(e),p),consumedSegments:[],remainingSegments:[]})}else o=Cx(i,e,s,t).pipe((0,rn.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:C})=>{if(!d)return null;const k=lg(i)+p.length;return{snapshot:new fx(p,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$C(e),So(e),e.component??e._loadedComponent??null,e,ag(i),k,kv(e),k),consumedSegments:p,remainingSegments:_}}));return o.pipe($s(d=>{if(null===d)return Qt(null);const{snapshot:p,consumedSegments:_,remainingSegments:C}=d;t=e._injector??t;const k=e._loadedInjector??t,N=function WC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:z,slicedSegments:W}=Av(i,_,C,N.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===W.length&&z.hasChildren())return this.processChildren(k,N,z).pipe((0,rn.U)(K=>null===K?null:[new mu(p,K)]));if(0===N.length&&0===W.length)return Qt([new mu(p,[])]);const Q=So(e)===r;return this.processSegment(k,N,z,W,Q?Xn:r).pipe((0,rn.U)(K=>null===K?null:[new mu(p,K)]))}))}}function jC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Dv(n){const t=[],e=new Set;for(const i of n){if(!jC(i)){t.push(i);continue}const s=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=Dv(i.children);t.push(new mu(i.value,s))}return t.filter(i=>!e.has(i))}function ag(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lg(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function $C(n){return n.data||{}}function kv(n){return n.resolve||{}}function XC(n){return"string"==typeof n.title||null===n.title}function qC(n){return $s(t=>{const e=n(t);return e?(0,Yn.D)(e).pipe((0,rn.U)(()=>t)):Qt(t)})}let ZC=(()=>{class n{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(r=>r.outlet===Xn);return i}getResolvedTitleForRoute(e){return e.data[$p]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(KC)},providedIn:"root"}),n})(),KC=(()=>{class n extends ZC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Yr))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QC{}class GD extends class kx{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Iv=new g.OlP("",{providedIn:"root",factory:()=>({})}),Mx=new g.OlP("ROUTES");let Lx=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Qt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=hc(e.loadComponent()).pipe((0,ys.b)(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),jp(()=>{this.componentLoaders.delete(e)})),s=new nv(i,()=>new Pi.x).pipe(fu());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Qt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,rn.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,C=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=sv(p.get(Mx,[],g.XFs.Self|g.XFs.Optional)));return{routes:_.map(ml),injector:p}}),jp(()=>{this.childrenLoaders.delete(i)})),o=new nv(r,()=>new Pi.x).pipe(fu());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return hc(e()).pipe((0,_r.z)(i=>i instanceof g.YKP||Array.isArray(i)?Qt(i):(0,Yn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.zs3),g.LFG(g.Sil))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WD{}class jD{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Dd(n){throw n}function vN(n,t,e){return t.parse("/")}const ug={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$D={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Mv(){const n=(0,g.f3M)(ea),t=(0,g.f3M)(Cv),e=(0,g.f3M)(Pe),i=(0,g.f3M)(g.zs3),s=(0,g.f3M)(g.Sil),r=(0,g.f3M)(Mx,{optional:!0})??[],o=(0,g.f3M)(Iv,{optional:!0})??{},d=(0,g.f3M)(KC),p=(0,g.f3M)(ZC,{optional:!0}),_=(0,g.f3M)(WD,{optional:!0}),C=(0,g.f3M)(QC,{optional:!0}),k=new dr(null,n,t,e,i,s,sv(r));return _&&(k.urlHandlingStrategy=_),C&&(k.routeReuseStrategy=C),k.titleStrategy=p??d,function YD(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,k),k}let dr=(()=>{class n{constructor(e,i,s,r,o,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pi.x,this.errorHandler=Dd,this.malformedUriErrorHandler=vN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qt(void 0),this.urlHandlingStrategy=new jD,this.routeReuseStrategy=new GD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Lx),this.configLoader.onLoadEndListener=N=>this.triggerEvent(new vC(N)),this.configLoader.onLoadStartListener=N=>this.triggerEvent(new mC(N)),this.ngModule=o.get(g.h0i),this.console=o.get(g.c2e);const k=o.get(g.R0b);this.isNgZoneEnabled=k instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Qw(){return new Yh(new Qn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eg(this.currentUrlTree,this.rootComponentType),this.transitions=new Jo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Nr(s=>0!==s.id),(0,rn.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),$s(s=>{let r=!1,o=!1;return Qt(s).pipe((0,ys.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$s(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return sf(d.source)&&(this.browserUrlTree=d.extractedUrl),Qt(d).pipe($s(k=>{const N=this.transitions.getValue();return i.next(new ux(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),N!==this.transitions.getValue()?ac.E:Promise.resolve(k)}),function Ex(n,t,e,i){return $s(s=>function VD(n,t,e,i,s){return new Ev(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe((0,rn.U)(r=>({...s,urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ys.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},s.urlAfterRedirects=k.urlAfterRedirects}),function YC(n,t,e,i,s,r){return(0,_r.z)(o=>function pN(n,t,e,i,s,r,o="emptyOnly",d="legacy"){return new UC(n,t,e,i,s,o,d,r).recognize().pipe($s(p=>null===p?function Dx(n){return new no.y(t=>t.error(n))}(new fN):Qt(p)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,s,r).pipe((0,rn.U)(d=>({...o,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ys.b)(k=>{if(s.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(z,k)}this.browserUrlTree=k.urlAfterRedirects}const N=new iN(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);i.next(N)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:z,source:W,restoredState:Q,extras:K}=d,fe=new ux(N,this.serializeUrl(z),W,Q);i.next(fe);const ve=eg(z,this.rootComponentType).snapshot;return Qt(s={...d,targetSnapshot:ve,urlAfterRedirects:z,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),ac.E}),(0,ys.b)(d=>{const p=new dx(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,rn.U)(d=>s={...d,guards:Qh(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function To(n,t){return(0,_r.z)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return 0===o.length&&0===r.length?Qt({...e,guardsResult:!0}):function LC(n,t,e,i){return(0,Yn.D)(n).pipe((0,_r.z)(s=>function RD(n,t,e,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Qt(r.map(d=>{const p=ig(t)??s,_=ba(d,p);return hc(function dN(n){return n&&Td(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(cc())})).pipe(ef()):Qt(!0)}(s.component,s.route,e,t,i)),cc(s=>!0!==s,!0))}(o,i,s,n).pipe((0,_r.z)(d=>d&&function _x(n){return"boolean"==typeof n}(d)?function PD(n,t,e,i){return(0,Yn.D)(t).pipe(uc(s=>Gp(function OD(n,t){return null!==n&&t&&t(new pv(n)),Qt(!0)}(s.route.parent,i),function hN(n,t){return null!==n&&t&&t(new yC(n)),Qt(!0)}(s.route,i),function PC(n,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function yx(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>jh(()=>Qt(o.guards.map(p=>{const _=ig(o.node)??e,C=ba(p,_);return hc(function kD(n){return n&&Td(n.canActivateChild)}(C)?C.canActivateChild(i,n):_.runInContext(()=>C(i,n))).pipe(cc())})).pipe(ef())));return Qt(r).pipe(ef())}(n,s.path,e),function bx(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Qt(!0);const s=i.map(r=>jh(()=>{const o=ig(t)??e,d=ba(r,o);return hc(function xx(n){return n&&Td(n.canActivate)}(d)?d.canActivate(t,n):o.runInContext(()=>d(t,n))).pipe(cc())}));return Qt(s).pipe(ef())}(n,s.route,e))),cc(s=>!0!==s,!0))}(i,r,n,t):Qt(d)),(0,rn.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,ys.b)(d=>{if(s.guardsResult=d.guardsResult,pu(d.guardsResult))throw wC(0,d.guardsResult);const p=new xD(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),Nr(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),qC(d=>{if(d.guards.canActivateChecks.length)return Qt(d).pipe((0,ys.b)(p=>{const _=new sN(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),$s(p=>{let _=!1;return Qt(p).pipe(function HD(n,t){return(0,_r.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return Qt(e);let r=0;return(0,Yn.D)(s).pipe(uc(o=>function zD(n,t,e,i){const s=n.routeConfig,r=n._resolve;return void 0!==s?.title&&!XC(s)&&(r[$p]=s.title),function cg(n,t,e,i){const s=function UD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return Qt({});const r={};return(0,Yn.D)(s).pipe((0,_r.z)(o=>function gN(n,t,e,i){const s=ig(t)??i,r=ba(n,s);return hc(r.resolve?r.resolve(t,e):s.runInContext(()=>r(t,e)))}(n[o],t,e,i).pipe(cc(),(0,ys.b)(d=>{r[o]=d}))),Y_(1),function _d(n){return(0,rn.U)(()=>n)}(r),pl(o=>Tv(o)?ac.E:hu(o)))}(r,n,t,i).pipe((0,rn.U)(o=>(n._resolvedData=o,n.data=_v(n,e).resolve,s&&XC(s)&&(n.data[$p]=s.title),null)))}(o.route,i,n,t)),(0,ys.b)(()=>r++),Y_(1),(0,_r.z)(o=>r===s.length?Qt(e):ac.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ys.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,ys.b)(p=>{const _=new Kh(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),qC(d=>{const p=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ys.b)(k=>{_.component=k}),(0,rn.U)(()=>{})));for(const k of _.children)C.push(...p(k));return C};return Xw(p(d.targetSnapshot.root)).pipe(iv(),yd(1))}),qC(()=>this.afterPreactivation()),(0,rn.U)(d=>{const p=function rN(n,t,e){const i=tg(n,t._root,e?e._root:void 0);return new wD(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return s={...d,targetRouterState:p}}),(0,ys.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,rn.U)(i=>(new DD(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,ys.b)({next(){r=!0},complete(){r=!0}}),jp(()=>{r||o||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),pl(d=>{if(o=!0,SD(d)){CD(d)||(this.navigated=!0,this.restoreHistory(s,!0));const p=new Qp(s.id,this.serializeUrl(s.extractedUrl),d.message,d.cancellationCode);if(i.next(p),CD(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),C={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sf(s.source)};this.scheduleNavigation(_,"imperative",null,C,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const p=new fv(s.id,this.serializeUrl(s.extractedUrl),d,s.targetSnapshot??void 0);i.next(p);try{s.resolve(this.errorHandler(d))}catch(_){s.reject(_)}}return ac.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const s={replaceUrl:!0},r=e.state?.navigationId?e.state:null;if(r){const d={...r};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,r,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ml),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:d,preserveFragment:p}=i,_=s||this.routerState.root,C=p?this.currentUrlTree.fragment:o;let k=null;switch(d){case"merge":k={...this.currentUrlTree.queryParams,...r};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=r||null}return null!==k&&(k=this.removeEmptyProps(k)),gD(_,this.currentUrlTree,e,k,C??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=pu(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function yl(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new g.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?{...ug}:!1===i?{...$D}:i,pu(e))return Jw(this.currentUrlTree,e,s);const r=this.parseUrl(e);return Jw(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const r=e[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new gu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,r,o){if(this.disposed)return Promise.resolve(!1);let d,p,_;o?(d=o.resolve,p=o.reject,_=o.promise):_=new Promise((N,z)=>{d=N,p=z});const C=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),k=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:C,targetPageId:k,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(N=>Promise.reject(N))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),r={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,s){const r=new Qp(e.id,this.serializeUrl(e.extractedUrl),i,s);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:function(){return Mv()},providedIn:"root"}),n})();function sf(n){return"imperative"!==n}let _l=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Pi.x,this.subscription=e.events.subscribe(r=>{r instanceof gu&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,g.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,g.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,g.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,r,o){return!!(0!==e||i||s||r||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(dr),g.Y36(gc),g.Y36(nt))},n.\u0275dir=g.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&g.NdJ("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&g.uIk("target",i.target)("href",i.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),n})();class Pv{}let rf=(()=>{class n{constructor(e,i,s,r,o){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Nr(e=>e instanceof gu),uc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const r of i){r.providers&&!r._injector&&(r._injector=(0,g.MMx)(r.providers,e,`Route: ${r.path}`));const o=r._injector??e,d=r._loadedInjector??o;r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent?s.push(this.preloadConfig(o,r)):(r.children||r._loadedRoutes)&&s.push(this.processRoutes(d,r.children??r._loadedRoutes))}return(0,Yn.D)(s).pipe((0,gd.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Qt(null);const r=s.pipe((0,_r.z)(o=>null===o?Qt(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(i.loadComponent&&!i._loadedComponent){const o=this.loader.loadComponent(i);return(0,Yn.D)([r,o]).pipe((0,gd.J)())}return r})}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(dr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Pv),g.LFG(Lx))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vu=new g.OlP("");let kd=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ux?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gv&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new gv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function wa(n,t){return{\u0275kind:n,\u0275providers:t}}function Ov(n){return[{provide:Mx,multi:!0,useValue:n}]}function Px(){const n=(0,g.f3M)(g.zs3);return t=>{const e=n.get(g.z2F);if(t!==e.components[0])return;const i=n.get(dr),s=n.get(Ox);1===n.get(Rv)&&i.initialNavigation(),n.get(Rx,null,g.XFs.Optional)?.setUpPreloading(),n.get(vu,null,g.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.next(),s.complete()}}const Ox=new g.OlP("",{factory:()=>new Pi.x}),Rv=new g.OlP("",{providedIn:"root",factory:()=>1});const Rx=new g.OlP("");function qD(n){return wa(0,[{provide:Rx,useExisting:rf},{provide:Pv,useExisting:n}])}const Fx=new g.OlP("ROUTER_FORROOT_GUARD"),Nx=[Pe,{provide:ea,useClass:ex},{provide:dr,useFactory:Mv},Cv,{provide:gc,useFactory:function Id(n){return n.routerState.root},deps:[dr]},Lx];function Bx(){return new g.PXZ("Router",dr)}let Vx=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Nx,[],Ov(e),{provide:Fx,useFactory:ZD,deps:[[dr,new g.FiY,new g.tp0]]},{provide:Iv,useValue:i||{}},i?.useHash?{provide:nt,useClass:kt}:{provide:nt,useClass:Bt},{provide:vu,useFactory:()=>{const n=(0,g.f3M)(dr),t=(0,g.f3M)(hh),e=(0,g.f3M)(Iv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new kd(n,t,e)}},i?.preloadingStrategy?qD(i.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Bx},i?.initialNavigation?zx(i):[],[{provide:Bv,useFactory:Px},{provide:g.tb,multi:!0,useExisting:Bv}]]}}static forChild(e){return{ngModule:n,providers:[Ov(e)]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Fx,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[SC]}),n})();function ZD(n){return"guarded"}function zx(n){return["disabled"===n.initialNavigation?wa(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const t=(0,g.f3M)(dr);return()=>{t.setUpLocationChangeListener()}}},{provide:Rv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?wa(2,[{provide:Rv,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:t=>{const e=t.get(me,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(r=>{const o=t.get(dr),d=t.get(Ox);(function s(r){t.get(dr).events.pipe(Nr(d=>d instanceof gu||d instanceof Qp||d instanceof fv),(0,rn.U)(d=>d instanceof gu||d instanceof Qp&&(0===d.code||1===d.code)&&null),Nr(d=>null!==d),yd(1)).subscribe(()=>{r()})})(()=>{r(!0),i=!0}),o.afterPreactivation=()=>(r(!0),i||d.closed?Qt(void 0):d),o.initialNavigation()}))}}]).\u0275providers:[]]}const Bv=new g.OlP("");let gg;try{gg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gg=!1}let af,Md,yg,na=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Is(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.Lbi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mg(n){return function sS(){if(null==af&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>af=!0}))}finally{af=af||!1}return af}()?n:!!n.capture}function rS(){if(null==Md){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Md=!1,Md;if("scrollBehavior"in document.documentElement.style)Md=!0;else{const n=Element.prototype.scrollTo;Md=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Md}function _u(n){return n.composedPath?n.composedPath()[0]:n.target}function Hv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Gv=ue(4986);function wg(n){return Nr((t,e)=>n<=e)}function Zx(n,t=Up.y){return n=n??mS,(0,ur.e)((e,i)=>{let s,r=!0;e.subscribe((0,js.x)(i,o=>{const d=t(o);(r||!n(s,d))&&(r=!1,s=d,i.next(o))}))})}function mS(n,t){return n===t}var vS=ue(5032);function wl(n){return(0,ur.e)((t,e)=>{(0,md.Xf)(n).subscribe((0,js.x)(e,()=>e.complete(),vS.Z)),!e.closed&&t.subscribe(e)})}function Cl(n){return null!=n&&"false"!=`${n}`}function jv(n){return Array.isArray(n)?n:[n]}function Ps(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pd(n){return n instanceof g.SBq?n.nativeElement:n}let yS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const _S=new Set;let Od,Qk=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):r2}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jk(n){if(!_S.has(n))try{Od||(Od=document.createElement("style"),Od.setAttribute("type","text/css"),document.head.appendChild(Od)),Od.sheet&&(Od.sheet.insertRule(`@media ${n} {body{ }}`,0),_S.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(na))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r2(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let o2=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Pi.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return eI(jv(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let r=Xw(eI(jv(e)).map(o=>this._registerQuery(o).observable));return r=Gp(r.pipe(yd(1)),r.pipe(wg(1),function qx(n,t=Gv.z){return(0,ur.e)((e,i)=>{let s=null,r=null,o=null;const d=()=>{if(s){s.unsubscribe(),s=null;const _=r;r=null,i.next(_)}};function p(){const _=o+n,C=t.now();if(C<_)return s=this.schedule(void 0,_-C),void i.add(s);d()}e.subscribe((0,js.x)(i,_=>{r=_,o=t.now(),s||(s=t.schedule(p,n),i.add(s))},()=>{d(),i.complete()},void 0,()=>{r=s=null}))})}(0))),r.pipe((0,rn.U)(o=>{const d={matches:!1,breakpoints:{}};return o.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),r={observable:new no.y(o=>{const d=p=>this._zone.run(()=>o.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(lc(i),(0,rn.U)(({matches:o})=>({query:e,matches:o})),wl(this._destroySubject)),mql:i};return this._queries.set(e,r),r}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Qk),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eI(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function AS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ES(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const uI=new g.OlP("cdk-input-modality-detector-options"),dI={ignoreKeys:[18,17,224,91,16]},Rd=mg({passive:!0,capture:!0});let hI=(()=>{class n{constructor(e,i,s,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Jo(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(d=>d===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_u(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(AS(o)?"keyboard":"mouse"),this._mostRecentTarget=_u(o))},this._onTouchstart=o=>{ES(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_u(o))},this._options={...dI,...r},this.modalityDetected=this._modality.pipe(wg(1)),this.modalityChanged=this.modalityDetected.pipe(Zx()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Rd),s.addEventListener("mousedown",this._onMousedown,Rd),s.addEventListener("touchstart",this._onTouchstart,Rd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rd),document.removeEventListener("mousedown",this._onMousedown,Rd),document.removeEventListener("touchstart",this._onTouchstart,Rd))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(na),g.LFG(g.R0b),g.LFG(be),g.LFG(uI,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t0=new g.OlP("cdk-focus-monitor-default-options"),cf=mg({passive:!0,capture:!0});let Yv=(()=>{class n{constructor(e,i,s,r,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pi.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=_u(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=r,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const s=Pd(e);if(!this._platform.isBrowser||1!==s.nodeType)return Qt(null);const r=function oS(n){if(function Vv(){if(null==yg){const n=typeof document<"u"?document.head:null;yg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yg}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const d={checkChildren:i,subject:new Pi.x,rootNode:r};return this._elementInfo.set(s,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Pd(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const r=Pd(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),r=_u(e);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cf)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wl(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,r)=>{(r===e||s.checkChildren&&r.contains(e))&&i.push([r,s])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const r=e.labels;if(r)for(let o=0;o<r.length;o++)if(r[o].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b),g.LFG(na),g.LFG(hI),g.LFG(be,8),g.LFG(t0,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IS="cdk-high-contrast-black-on-white",MS="cdk-high-contrast-white-on-black",Sg="cdk-high-contrast-active";let fI=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,g.f3M)(o2).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sg,IS,MS),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Sg,IS):2===i&&e.add(Sg,MS)}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(na),g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uf=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function LS(){return(0,g.f3M)(be)}}),gI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let PS=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new g.vpe,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function E2(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?gI.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(uf,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const bI=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function xI(){return!0}});let ps=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Hv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(fI),g.LFG(bI,8),g.LFG(be))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Tg,Tg]}),n})();function SI(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Cl(t)}}}function FS(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function NS(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Cl(t)}}}let Ag=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps,ps]}),n})();class AI{constructor(t,e,i,s=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zS={enterDuration:225,exitDuration:150},s0=mg({passive:!0}),US=["mousedown","touchstart"],GS=["mouseup","mouseleave","touchend","touchcancel"];class EI{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Pd(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...zS,...i.animation};i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const o=i.radius||function DI(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),d=t-s.left,p=e-s.top,_=r.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-o+"px",C.style.top=p-o+"px",C.style.height=2*o+"px",C.style.width=2*o+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(C);const k=window.getComputedStyle(C),z=k.transitionDuration,W="none"===k.transitionProperty||"0s"===z||"0s, 0s"===z,Q=new AI(this,C,i,W);C.style.transform="scale3d(1, 1, 1)",Q.state=0,i.persistent||(this._mostRecentTransientRipple=Q);let K=null;return!W&&(_||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const fe=()=>this._finishRippleTransition(Q),ve=()=>this._destroyRipple(Q);C.addEventListener("transitionend",fe),C.addEventListener("transitioncancel",ve),K={onTransitionEnd:fe,onTransitionCancel:ve}}),this._activeRipples.set(Q,K),(W||!_)&&this._finishRippleTransition(Q),Q}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...zS,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(US))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(GS),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=AS(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ES(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,s0)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(US.forEach(t=>{this._triggerElement.removeEventListener(t,this,s0)}),this._pointerUpEventsRegistered&&GS.forEach(t=>{this._triggerElement.removeEventListener(t,this,s0)}))}}const Eg=new g.OlP("mat-ripple-global-options");let Zv=(()=>{class n{constructor(e,i,s,r,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new EI(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(na),g.Y36(Eg,8),g.Y36(g.QbO,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&g.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Dg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps,ps]}),n})(),WS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps]}),n})();const LI=["*",[["mat-toolbar-row"]]],PI=["*","mat-toolbar-row"],Y2=FS(class{constructor(n){this._elementRef=n}});let Qv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=g.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),l0=(()=>{class n extends Y2{constructor(e,i,s){super(e),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(na),g.Y36(be))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,s){if(1&e&&g.Suo(s,Qv,5),2&e){let r;g.iGM(r=g.CRH())&&(i._toolbarRows=r)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&g.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[g.qOj],ngContentSelectors:PI,decls:2,vars:0,template:function(e,i){1&e&&(g.F$t(LI),g.Hsn(0),g.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Jv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps,ps]}),n})();const ey=["mat-button",""],$S=["*"],NI=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],YS=FS(SI(NS(class{constructor(n){this._elementRef=n}})));let ty=(()=>{class n extends YS{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of NI)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(Yv),g.Y36(g.QbO,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&g.Gf(Zv,5),2&e){let s;g.iGM(s=g.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(g.uIk("disabled",i.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:ey,ngContentSelectors:$S,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(g.F$t(),g.TgZ(0,"span",0),g.Hsn(1),g.qZA(),g._UZ(2,"span",1)(3,"span",2)),2&e&&(g.xp6(2),g.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),g.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Zv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),XS=(()=>{class n extends ty{constructor(e,i,s,r){super(i,e,s),this._ngZone=r,this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Yv),g.Y36(g.SBq),g.Y36(g.QbO,8),g.Y36(g.R0b,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(g.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),g.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[g.qOj],attrs:ey,ngContentSelectors:$S,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(g.F$t(),g.TgZ(0,"span",0),g.Hsn(1),g.qZA(),g._UZ(2,"span",1)(3,"span",2)),2&e&&(g.xp6(2),g.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),g.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Zv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),c0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Dg,ps,ps]}),n})(),qS=(()=>{class n{constructor(){this.title="WMT DATA"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-toolbar"]],decls:11,vars:3,consts:[[1,"header-box"],["src","../../../assets/img/wmtdata-noletter-nobg.png","width","80px"],[1,"menu-spacer"],["mat-button","",3,"routerLink"]],template:function(e,i){1&e&&(g.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row",0),g._UZ(2,"img",1),g.TgZ(3,"h1"),g._uU(4),g.qZA(),g._UZ(5,"span",2),g.TgZ(6,"div")(7,"a",3),g._uU(8," Dashboard "),g.qZA(),g.TgZ(9,"a",3),g._uU(10," About "),g.qZA()()()()),2&e&&(g.xp6(4),g.Oqu(i.title),g.xp6(3),g.Q6J("routerLink","/dashboard"),g.xp6(2),g.Q6J("routerLink","/about"))},dependencies:[_l,l0,Qv,XS]}),n})(),ZS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"site-footer"],[1,"text"],["href","https://wmtscan.com/","target","_blank"],[1,"wrapper"],["src","https://wmtscan.com/img/logo.e9d35e4f.svg","alt","coingecko"]],template:function(e,i){1&e&&(g.TgZ(0,"footer",0)(1,"a",1),g._uU(2,"Powered by "),g.qZA(),g.TgZ(3,"a",2)(4,"div",3)(5,"span"),g._uU(6,"WMT Scan "),g.qZA(),g._UZ(7,"img",4),g.qZA()()())},styles:[".site-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:15px 0;font-size:20px;background-color:#171816;color:#737373}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#737373}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36c;text-decoration:none}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{width:2rem;margin-left:1rem}.text[_ngcontent-%COMP%]{margin-right:.5rem}"]}),n})(),BI=(()=>{class n{constructor(){this.title="wmt"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"container"],[1,"header"],[1,"content"],[1,"footer"]],template:function(e,i){1&e&&(g.TgZ(0,"div",0)(1,"header",1),g._UZ(2,"app-toolbar"),g.qZA(),g.TgZ(3,"main",2),g._UZ(4,"router-outlet"),g.qZA(),g.TgZ(5,"footer",3),g._UZ(6,"app-footer"),g.qZA()())},dependencies:[CC,qS,ZS],styles:[".container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:space-between}.footer[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#171816;width:100%}"]}),n})();const KS=["*",[["mat-card-footer"]]],QS=["*","mat-card-footer"],VI=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],JS=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Fd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=g.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),zI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=g.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),u0=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.QbO,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&g.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:QS,decls:2,vars:0,template:function(e,i){1&e&&(g.F$t(KS),g.Hsn(0),g.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),tT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:JS,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(g.F$t(VI),g.Hsn(0),g.TgZ(1,"div",0),g.Hsn(2,1),g.qZA(),g.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),nT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps,ps]}),n})(),d0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-about"]],decls:16,vars:0,consts:[[1,"wraper","flex-center"],[1,"card"],[1,"card-header"],["src","https://avatars.githubusercontent.com/u/49556297?v=4","alt","HugoMartin"],[1,"card-content"],["mat-raised-button","","color","primary",1,"flex-center"],["id","emailMe","href","mailto:hugomartin.menz@gmail.com"]],template:function(e,i){1&e&&(g.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"mat-card-content",4)(5,"h1"),g._uU(6,"Hugo Martin"),g.qZA(),g.TgZ(7,"h2"),g._uU(8,"Frontend Developer"),g.qZA(),g.TgZ(9,"p"),g._uU(10," I've seen the sun rise after writing code all evening and all night a couple of times, I fell in love with coding. I decided to stop my career as Mechanical Design Engineer and start a new journey in the fields of the Web Development. "),g.qZA(),g.TgZ(11,"p"),g._uU(12,"hugomartin.menz@gmail.com"),g.qZA(),g.TgZ(13,"button",5)(14,"a",6),g._uU(15,"Contact me!"),g.qZA()()()()())},dependencies:[ty,u0,tT,Fd],styles:[".wraper[_ngcontent-%COMP%]{align-items:center;height:80vh}.card[_ngcontent-%COMP%]{width:20%;margin-top:2rem;margin-bottom:2rem;padding:1rem}.card-header[_ngcontent-%COMP%]{padding-bottom:1rem}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;border-radius:50%}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-left:1rem;padding-right:1rem}button[_ngcontent-%COMP%]{align-items:center;width:100%;height:3rem}"]}),n})();let iT=(()=>{class n{constructor(){}getNowTimeStamp(){const e=new Date,i=e.getFullYear();let s=e.getMonth()+1,r=e.getDate(),o=e.getHours(),d=e.getMinutes(),p=e.getSeconds(),_=r.toString(),C=s.toString();return r<10&&(_="0"+r),s<10&&(C="0"+s),{noHour:`${_}-${C}-${i.toString()}`,full:`${_}-${C}-${i.toString()} ${o}:${d}:${p}`,firstOfDay:`${_}-${C}-${i.toString()} 00:00:00`,standard:`${this.getDayName(`${_}-${C}-${i.toString()} ${o}:${d}`).dayShort} ${_} ${this.getDayName(`${_}-${C}-${i.toString()} ${o}:${d}`).monthShort} ${i.toString()} GMT+0100`}}getDayName(e){let i=e.slice(0,11).split("-"),s=new Date(+i[2],Number(i[1])-1,+i[0]);return{dayShort:s.toLocaleDateString("en-US",{weekday:"short"}),dayLong:s.toLocaleDateString("en-US",{weekday:"long"}),monthShort:s.toLocaleDateString("en-US",{month:"short"}),monthLong:s.toLocaleDateString("en-US",{month:"long"})}}getLastTimeStamp(){const e=new Date,i=e.getMinutes();let s;i>=0&&i<15?s=0:i>=15&&i<30?s=15:i>=30&&i<45?s=30:i>=45&&(s=45);let r=new Date(e.getFullYear(),e.getMonth(),e.getDay(),e.getHours(),s,e.getSeconds()),o=new Intl.DateTimeFormat("es",{hour:"2-digit"}).format(r);return`${this.getNowTimeStamp().noHour} ${o}:${s}:00`}getPreviousDay(e,i){const s=this.changeToStandardFormat(e),r=new Date(s),o=new Date(r.getTime());o.setDate(r.getDate()-i);const d=o.getFullYear();let p=o.getMonth()+1,_=o.getDate(),C=_.toString(),k=p.toString();return _<10&&(C="0"+_),p<10&&(k="0"+p),{objFormated:`${C}-${k}-${d} 00:00:00`,last:`${C}-${k}-${d} 23:45:00`,title:this.prepareDateForTitle(o.toString().split("(")[0].split(" "),4)}}prepareDateForTitle(e,i){return e.splice(i,1),e.splice(e.length-1,1),e.join(" ")}changeToStandardFormat(e){const i=e.slice(0,10).split("-");return`${i[2]}-${i[1]}-${i[0]}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ia(){}const h0=function(){let n=0;return function(){return n++}}();function yi(n){return null===n||typeof n>"u"}function Vi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ri(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const _s=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function hr(n,t){return _s(n)?n:t}function $n(n,t){return typeof n>"u"?t:n}const iy=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ts(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Mi(n,t,e,i){let s,r,o;if(Vi(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if(ri(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function f0(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function sy(n){if(Vi(n))return n.map(sy);if(ri(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=sy(n[e[s]]);return t}return n}function rT(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function WI(n,t,e,i){if(!rT(n))return;const s=t[n],r=e[n];ri(s)&&ri(r)?hf(s,r,i):t[n]=sy(r)}function hf(n,t,e){const i=Vi(t)?t:[t],s=i.length;if(!ri(n))return n;const r=(e=e||{}).merger||WI;for(let o=0;o<s;++o){if(!ri(t=i[o]))continue;const d=Object.keys(t);for(let p=0,_=d.length;p<_;++p)r(d[p],n,t,e)}return n}function ff(n,t){return hf(n,t,{merger:jI})}function jI(n,t,e){if(!rT(n))return;const i=t[n],s=e[n];ri(i)&&ri(s)?ff(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=sy(s))}const p0={"":n=>n,x:n=>n.x,y:n=>n.y};function bu(n,t){return(p0[t]||(p0[t]=function YI(n){const t=function oT(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function g0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ao=n=>typeof n<"u",xc=n=>"function"==typeof n,m0=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},as=Math.PI,Oi=2*as,Q2=Oi+as,kg=Number.POSITIVE_INFINITY,J2=as/180,As=as/2,ry=as/4,XI=2*as/3,Ca=Math.log10,bc=Math.sign;function qI(n){const t=Math.round(n);n=oy(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ca(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function wc(n){return!isNaN(parseFloat(n))&&isFinite(n)}function oy(n,t,e){return Math.abs(n-t)<e}function Ig(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function sa(n){return n*(as/180)}function ay(n){return n*(180/as)}function ZI(n){if(!_s(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ly(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*as&&(r+=Oi),{angle:r,distance:s}}function cy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function KI(n,t){return(n-t+Q2)%Oi-as}function so(n){return(n%Oi+Oi)%Oi}function uy(n,t,e,i){const s=so(n),r=so(t),o=so(e),d=so(r-s),p=so(o-s),_=so(s-r),C=so(s-o);return s===r||s===o||i&&r===o||d>p&&_<C}function tr(n,t,e){return Math.max(t,Math.min(e,n))}function Cc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function pf(n,t,e){e=e||(o=>n[o]<t);let r,i=n.length-1,s=0;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const Sc=(n,t,e,i)=>pf(n,e,i?s=>n[s][t]<=e:s=>n[s][t]<e),tB=(n,t,e)=>pf(n,e,i=>n[i][t]>=e),JI=["push","pop","shift","splice","unshift"];function cT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);-1!==s&&i.splice(s,1),!(i.length>0)&&(JI.forEach(r=>{delete n[r]}),delete n._chartjs)}function uT(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const dT=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function v0(n,t,e){const i=e||(o=>Array.prototype.slice.call(o));let s=!1,r=[];return function(...o){r=i(o),s||(s=!0,dT.call(window,()=>{s=!1,n.apply(t,r)}))}}const fT=n=>"start"===n?"left":"end"===n?"right":"center",Yi=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function dy(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:o,_parsed:d}=n,p=o.axis,{min:_,max:C,minDefined:k,maxDefined:N}=o.getUserBounds();k&&(s=tr(Math.min(Sc(d,o.axis,_).lo,e?i:Sc(t,p,o.getPixelForValue(_)).lo),0,i-1)),r=N?tr(Math.max(Sc(d,o.axis,C,!0).hi+1,e?0:Sc(t,p,o.getPixelForValue(C),!0).hi+1),s,i)-s:i-s}return{start:s,count:r}}function pT(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}const Br=n=>0===n||1===n,gT=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*Oi/e),hy=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Oi/e)+1,Mg={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*As),easeOutSine:n=>Math.sin(n*As),easeInOutSine:n=>-.5*(Math.cos(as*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Br(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Br(n)?n:gT(n,.075,.3),easeOutElastic:n=>Br(n)?n:hy(n,.075,.3),easeInOutElastic:n=>Br(n)?n:n<.5?.5*gT(2*n,.1125,.45):.5+.5*hy(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Mg.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Mg.easeInBounce(2*n):.5*Mg.easeOutBounce(2*n-1)+.5};function Lg(n){return n+.5|0}const Tl=(n,t,e)=>Math.max(Math.min(n,e),t);function gf(n){return Tl(Lg(2.55*n),0,255)}function Tc(n){return Tl(Lg(255*n),0,255)}function Ac(n){return Tl(Lg(n/2.55)/100,0,1)}function y0(n){return Tl(Lg(100*n),0,100)}const Eo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_0=[..."0123456789ABCDEF"],mT=n=>_0[15&n],nM=n=>_0[(240&n)>>4]+_0[15&n],mf=n=>(240&n)>>4==(15&n);const iM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sM(n,t,e){const i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function rM(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function oM(n,t,e){const i=sM(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function b0(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),d=(r+o)/2;let p,_,C;return r!==o&&(C=r-o,_=d>.5?C/(2-r-o):C/(r+o),p=function aM(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}(e,i,s,C,r),p=60*p+.5),[0|p,_||0,d]}function fy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Tc)}function yT(n,t,e){return fy(sM,n,t,e)}function w0(n){return(n%360+360)%360}const S0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},T0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Pg;const gy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,my=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Nd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vy(n,t,e){if(n){let i=b0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=yT(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function dM(n,t){return n&&Object.assign(t||{},n)}function hM(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Tc(n[3]))):(t=dM(n,{r:0,g:0,b:0,a:1})).a=Tc(t.a),t}function CT(n){return"r"===n.charAt(0)?function wT(n){const t=gy.exec(n);let i,s,r,e=255;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?gf(o):Tl(255*o,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?gf(i):Tl(i,0,255)),s=255&(t[4]?gf(s):Tl(s,0,255)),r=255&(t[6]?gf(r):Tl(r,0,255)),{r:i,g:s,b:r,a:e}}}(n):function iB(n){const t=iM.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?gf(+t[5]):Tc(+t[5]));const s=w0(+t[2]),r=+t[3]/100,o=+t[4]/100;return i="hwb"===t[1]?function _T(n,t,e){return fy(oM,n,t,e)}(s,r,o):"hsv"===t[1]?function lM(n,t,e){return fy(rM,n,t,e)}(s,r,o):yT(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class yy{constructor(t){if(t instanceof yy)return t;const e=typeof t;let i;"object"===e?i=hM(t):"string"===e&&(i=function vT(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Eo[n[1]],g:255&17*Eo[n[2]],b:255&17*Eo[n[3]],a:5===t?17*Eo[n[4]]:255}:(7===t||9===t)&&(e={r:Eo[n[1]]<<4|Eo[n[2]],g:Eo[n[3]]<<4|Eo[n[4]],b:Eo[n[5]]<<4|Eo[n[6]],a:9===t?Eo[n[7]]<<4|Eo[n[8]]:255})),e}(t)||function py(n){Pg||(Pg=function bT(){const n={},t=Object.keys(T0),e=Object.keys(S0);let i,s,r,o,d;for(i=0;i<t.length;i++){for(o=d=t[i],s=0;s<e.length;s++)r=e[s],d=d.replace(r,S0[r]);r=parseInt(T0[o],16),n[d]=[r>>16&255,r>>8&255,255&r]}return n}(),Pg.transparent=[0,0,0,0]);const t=Pg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||CT(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=dM(this._rgb);return t&&(t.a=Ac(t.a)),t}set rgb(t){this._rgb=hM(t)}rgbString(){return this._valid?function cM(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ac(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ec(n){var t=(n=>mf(n.r)&&mf(n.g)&&mf(n.b)&&mf(n.a))(n)?mT:nM;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function xT(n){if(!n)return;const t=b0(n),e=t[0],i=y0(t[1]),s=y0(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Ac(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let r;const o=e===r?.5:e,d=2*o-1,p=i.a-s.a,_=((d*p==-1?d:(d+p)/(1+d*p))+1)/2;r=1-_,i.r=255&_*i.r+r*s.r+.5,i.g=255&_*i.g+r*s.g+.5,i.b=255&_*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function uM(n,t,e){const i=Nd(Ac(n.r)),s=Nd(Ac(n.g)),r=Nd(Ac(n.b));return{r:Tc(my(i+e*(Nd(Ac(t.r))-i))),g:Tc(my(s+e*(Nd(Ac(t.g))-s))),b:Tc(my(r+e*(Nd(Ac(t.b))-r))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new yy(this.rgb)}alpha(t){return this._rgb.a=Tc(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Lg(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return vy(this._rgb,2,t),this}darken(t){return vy(this._rgb,2,-t),this}saturate(t){return vy(this._rgb,1,t),this}desaturate(t){return vy(this._rgb,1,-t),this}rotate(t){return function C0(n,t){var e=b0(n);e[0]=w0(e[0]+t),e=yT(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function ST(n){return new yy(n)}function TT(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function fM(n){return TT(n)?n:ST(n)}function AT(n){return TT(n)?n:ST(n).saturate(.5).darken(.1).hexString()}const vf=Object.create(null),ET=Object.create(null);function _y(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function A0(n,t,e){return"string"==typeof t?hf(_y(n,t),e):hf(_y(n,""),t)}var li=new class xy{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>AT(i.backgroundColor),this.hoverBorderColor=(e,i)=>AT(i.borderColor),this.hoverColor=(e,i)=>AT(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return A0(this,t,e)}get(t){return _y(this,t)}describe(t,e){return A0(ET,t,e)}override(t,e){return A0(vf,t,e)}route(t,e,i,s){const r=_y(this,t),o=_y(this,i),d="_"+e;Object.defineProperties(r,{[d]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const p=this[d],_=o[s];return ri(p)?Object.assign({},_,p):$n(p,_)},set(p){this[d]=p}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Og(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function Bd(n,t,e,i){let s=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const d=e.length;let p,_,C,k,N;for(p=0;p<d;p++)if(k=e[p],null!=k&&!0!==Vi(k))o=Og(n,s,r,o,k);else if(Vi(k))for(_=0,C=k.length;_<C;_++)N=k[_],null!=N&&!Vi(N)&&(o=Og(n,s,r,o,N));n.restore();const z=r.length/2;if(z>e.length){for(p=0;p<z;p++)delete s[r[p]];r.splice(0,z)}return o}function Cu(n,t,e){const i=n.currentDevicePixelRatio,s=0!==e?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function by(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function Rg(n,t,e,i){DT(n,t,e,i,null)}function DT(n,t,e,i,s){let r,o,d,p,_,C;const k=t.pointStyle,N=t.rotation,z=t.radius;let W=(N||0)*J2;if(k&&"object"==typeof k&&(r=k.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,i),n.rotate(W),n.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),void n.restore();if(!(isNaN(z)||z<=0)){switch(n.beginPath(),k){default:s?n.ellipse(e,i,s/2,z,0,0,Oi):n.arc(e,i,z,0,Oi),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(W)*z,i-Math.cos(W)*z),W+=XI,n.lineTo(e+Math.sin(W)*z,i-Math.cos(W)*z),W+=XI,n.lineTo(e+Math.sin(W)*z,i-Math.cos(W)*z),n.closePath();break;case"rectRounded":_=.516*z,p=z-_,o=Math.cos(W+ry)*p,d=Math.sin(W+ry)*p,n.arc(e-o,i-d,_,W-as,W-As),n.arc(e+d,i-o,_,W-As,W),n.arc(e+o,i+d,_,W,W+As),n.arc(e-d,i+o,_,W+As,W+as),n.closePath();break;case"rect":if(!N){p=Math.SQRT1_2*z,C=s?s/2:p,n.rect(e-C,i-p,2*C,2*p);break}W+=ry;case"rectRot":o=Math.cos(W)*z,d=Math.sin(W)*z,n.moveTo(e-o,i-d),n.lineTo(e+d,i-o),n.lineTo(e+o,i+d),n.lineTo(e-d,i+o),n.closePath();break;case"crossRot":W+=ry;case"cross":o=Math.cos(W)*z,d=Math.sin(W)*z,n.moveTo(e-o,i-d),n.lineTo(e+o,i+d),n.moveTo(e+d,i-o),n.lineTo(e-d,i+o);break;case"star":o=Math.cos(W)*z,d=Math.sin(W)*z,n.moveTo(e-o,i-d),n.lineTo(e+o,i+d),n.moveTo(e+d,i-o),n.lineTo(e-d,i+o),W+=ry,o=Math.cos(W)*z,d=Math.sin(W)*z,n.moveTo(e-o,i-d),n.lineTo(e+o,i+d),n.moveTo(e+d,i-o),n.lineTo(e-d,i+o);break;case"line":o=s?s/2:Math.cos(W)*z,d=Math.sin(W)*z,n.moveTo(e-o,i-d),n.lineTo(e+o,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(W)*z,i+Math.sin(W)*z)}n.fill(),t.borderWidth>0&&n.stroke()}}function Vd(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function yf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Hd(n){n.restore()}function sB(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if("middle"===s){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else"after"===s!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function rB(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function _f(n,t,e,i,s,r={}){const o=Vi(t)?t:[t],d=r.strokeWidth>0&&""!==r.strokeColor;let p,_;for(n.save(),n.font=s.string,function oB(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),yi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,r),p=0;p<o.length;++p)_=o[p],d&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),yi(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(_,e,i,r.maxWidth)),n.fillText(_,e,i,r.maxWidth),kT(n,e,i,_,r),i+=s.lineHeight;n.restore()}function kT(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=t-r.actualBoundingBoxLeft,d=t+r.actualBoundingBoxRight,p=e-r.actualBoundingBoxAscent,_=e+r.actualBoundingBoxDescent,C=s.strikethrough?(p+_)/2:_;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,C),n.lineTo(d,C),n.stroke()}}function Fg(n,t){const{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,-As,as,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,as,As,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,As,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-As,!0),n.lineTo(e+o.topLeft,i)}const gM=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),mM=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function vM(n,t){const e=(""+n).match(gM);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const IT=n=>+n||0;function wy(n,t){const e={},i=ri(t),s=i?Object.keys(t):t,r=ri(n)?i?o=>$n(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of s)e[o]=IT(r(o));return e}function E0(n){return wy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function zd(n){return wy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function xr(n){const t=E0(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Os(n,t){let e=$n((n=n||{}).size,(t=t||li.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=$n(n.style,t.style);i&&!(""+i).match(mM)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:$n(n.family,t.family),lineHeight:vM($n(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:$n(n.weight,t.weight),string:""};return s.string=function pM(n){return!n||yi(n.size)||yi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(s),s}function Ud(n,t,e,i){let r,o,d,s=!0;for(r=0,o=n.length;r<o;++r)if(d=n[r],void 0!==d&&(void 0!==t&&"function"==typeof d&&(d=d(t),s=!1),void 0!==e&&Vi(d)&&(d=d[e%d.length],s=!1),void 0!==d))return i&&!s&&(i.cacheable=!1),d}function Dc(n,t){return Object.assign(Object.create(n),t)}function Ng(n,t=[""],e=n,i,s=(()=>n[0])){Ao(i)||(i=bM("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:s,override:o=>Ng([o,...n],t,e,i)};return new Proxy(r,{deleteProperty:(o,d)=>(delete o[d],delete o._keys,delete n[0][d],!0),get:(o,d)=>PT(o,d,()=>function fB(n,t,e,i){let s;for(const r of t)if(s=bM(lB(r,n),e),Ao(s))return LT(n,s)?OT(e,i,n,s):s}(d,t,n,o)),getOwnPropertyDescriptor:(o,d)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(o,d)=>wM(o).includes(d),ownKeys:o=>wM(o),set(o,d,p){const _=o._storage||(o._storage=s());return o[d]=_[d]=p,delete o._keys,!0}})}function xf(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:MT(n,i),setContext:r=>xf(n,r,e,i),override:r=>xf(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty:(r,o)=>(delete r[o],delete n[o],!0),get:(r,o,d)=>PT(r,o,()=>function yM(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let d=i[t];return xc(d)&&o.isScriptable(t)&&(d=function _M(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);return d.add(n),t=t(r,o||i),d.delete(n),LT(n,t)&&(t=OT(s._scopes,s,n,t)),t}(t,d,n,e)),Vi(d)&&d.length&&(d=function cB(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:d}=e;if(Ao(r.index)&&i(n))t=t[r.index%t.length];else if(ri(t[0])){const p=t,_=s._scopes.filter(C=>C!==p);t=[];for(const C of p){const k=OT(_,s,n,C);t.push(xf(k,r,o&&o[n],d))}}return t}(t,d,n,o.isIndexable)),LT(t,d)&&(d=xf(d,s,r&&r[t],o)),d}(r,o,d)),getOwnPropertyDescriptor:(r,o)=>r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(r,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(r,o,d)=>(n[o]=d,delete r[o],!0)})}function MT(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:xc(e)?e:()=>e,isIndexable:xc(i)?i:()=>i}}const lB=(n,t)=>n?n+g0(t):t,LT=(n,t)=>ri(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function PT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function xM(n,t,e){return xc(n)?n(t,e):n}const uB=(n,t)=>!0===n?t:"string"==typeof n?bu(t,n):void 0;function dB(n,t,e,i,s){for(const r of t){const o=uB(e,r);if(o){n.add(o);const d=xM(o._fallback,e,s);if(Ao(d)&&d!==e&&d!==i)return d}else if(!1===o&&Ao(i)&&e!==i)return null}return!1}function OT(n,t,e,i){const s=t._rootScopes,r=xM(t._fallback,e,i),o=[...n,...s],d=new Set;d.add(i);let p=RT(d,o,e,r||e,i);return!(null===p||Ao(r)&&r!==e&&(p=RT(d,o,r,p,i),null===p))&&Ng(Array.from(d),[""],s,r,()=>function hB(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Vi(s)&&ri(e)?e:s}(t,e,i))}function RT(n,t,e,i,s){for(;e;)e=dB(n,t,e,i,s);return e}function bM(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Ao(i))return i}}function wM(n){let t=n._keys;return t||(t=n._keys=function pB(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function CM(n,t,e,i){const{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i);let d,p,_,C;for(d=0,p=i;d<p;++d)_=d+e,C=t[_],o[d]={r:s.parse(bu(C,r),_)};return o}const c=Number.EPSILON||1e-14,u=(n,t)=>t<n.length&&!n[t].skip&&n[t],h=n=>"x"===n?"y":"x";function v(n,t,e,i){const s=n.skip?t:n,r=t,o=e.skip?t:e,d=cy(r,s),p=cy(o,r);let _=d/(d+p),C=p/(d+p);_=isNaN(_)?0:_,C=isNaN(C)?0:C;const k=i*_,N=i*C;return{previous:{x:r.x-k*(o.x-s.x),y:r.y-k*(o.y-s.y)},next:{x:r.x+N*(o.x-s.x),y:r.y+N*(o.y-s.y)}}}function B(n,t,e){return Math.max(Math.min(n,e),t)}function q(n,t,e,i,s){let r,o,d,p;if(t.spanGaps&&(n=n.filter(_=>!_.skip)),"monotone"===t.cubicInterpolationMode)!function P(n,t="x"){const e=h(t),i=n.length,s=Array(i).fill(0),r=Array(i);let o,d,p,_=u(n,0);for(o=0;o<i;++o)if(d=p,p=_,_=u(n,o+1),p){if(_){const C=_[t]-p[t];s[o]=0!==C?(_[e]-p[e])/C:0}r[o]=d?_?bc(s[o-1])!==bc(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}(function w(n,t,e){const i=n.length;let s,r,o,d,p,_=u(n,0);for(let C=0;C<i-1;++C)if(p=_,_=u(n,C+1),p&&_){if(oy(t[C],0,c)){e[C]=e[C+1]=0;continue}s=e[C]/t[C],r=e[C+1]/t[C],d=Math.pow(s,2)+Math.pow(r,2),!(d<=9)&&(o=3/Math.sqrt(d),e[C]=s*o*t[C],e[C+1]=r*o*t[C])}})(n,s,r),function T(n,t,e="x"){const i=h(e),s=n.length;let r,o,d,p=u(n,0);for(let _=0;_<s;++_){if(o=d,d=p,p=u(n,_+1),!d)continue;const C=d[e],k=d[i];o&&(r=(C-o[e])/3,d[`cp1${e}`]=C-r,d[`cp1${i}`]=k-r*t[_]),p&&(r=(p[e]-C)/3,d[`cp2${e}`]=C+r,d[`cp2${i}`]=k+r*t[_])}}(n,r,t)}(n,s);else{let _=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)d=n[r],p=v(_,d,n[Math.min(r+1,o-(i?0:1))%o],t.tension),d.cp1x=p.previous.x,d.cp1y=p.previous.y,d.cp2x=p.next.x,d.cp2y=p.next.y,_=d}t.capBezierPoints&&function U(n,t){let e,i,s,r,o,d=Vd(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=d,d=e<i-1&&Vd(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=B(s.cp1x,t.left,t.right),s.cp1y=B(s.cp1y,t.top,t.bottom)),d&&(s.cp2x=B(s.cp2x,t.left,t.right),s.cp2y=B(s.cp2y,t.top,t.bottom)))}(n,e)}function oe(){return typeof window<"u"&&typeof document<"u"}function pe(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Le(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const Ge=n=>window.getComputedStyle(n,null),Mt=["top","right","bottom","left"];function Ft(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=Mt[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function pt(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Ge(e),r="border-box"===s.boxSizing,o=Ft(s,"padding"),d=Ft(s,"border","width"),{x:p,y:_,box:C}=function vn(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i;let d,p,o=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(s,r,n.target))d=s,p=r;else{const _=t.getBoundingClientRect();d=i.clientX-_.left,p=i.clientY-_.top,o=!0}return{x:d,y:p,box:o}}(n,e),k=o.left+(C&&d.left),N=o.top+(C&&d.top);let{width:z,height:W}=t;return r&&(z-=o.width+d.width,W-=o.height+d.height),{x:Math.round((p-k)/z*e.width/i),y:Math.round((_-N)/W*e.height/i)}}const gi=n=>Math.round(10*n)/10;function Su(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=s/i,n.width=r/i;const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r)&&(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0)}const D0=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function Cy(n,t){const e=function lt(n,t){return Ge(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function kc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function k0(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function I0(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=kc(n,s,e),d=kc(s,r,e),p=kc(r,t,e),_=kc(o,d,e),C=kc(d,p,e);return kc(_,C,e)}const Sy=new Map;function Gd(n,t,e){return function M0(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Sy.get(e);return i||(i=new Intl.NumberFormat(n,t),Sy.set(e,i)),i}(t,e).format(n)}function Ty(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function gB(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function mB(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function vB(n){return"angle"===n?{between:uy,compare:KI,normalize:so}:{between:Cc,compare:(t,e)=>t-e,normalize:t=>t}}function yB({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:s}}function _B(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,o=t.length,{compare:d,between:p,normalize:_}=vB(i),{start:C,end:k,loop:N,style:z}=function l4(n,t,e){const{property:i,start:s,end:r}=e,{between:o,normalize:d}=vB(i),p=t.length;let N,z,{start:_,end:C,loop:k}=n;if(k){for(_+=p,C+=p,N=0,z=p;N<z&&o(d(t[_%p][i]),s,r);++N)_--,C--;_%=p,C%=p}return C<_&&(C+=p),{start:_,end:C,loop:k,style:n.style}}(n,t,e),W=[];let fe,ve,Te,Q=!1,K=null;for(let yt=C,Pt=C;yt<=k;++yt)ve=t[yt%o],!ve.skip&&(fe=_(ve[i]),fe!==Te&&(Q=p(fe,s,r),null===K&&(Q||p(s,Te,fe)&&0!==d(s,Te))&&(K=0===d(fe,s)?yt:Pt),null!==K&&(!Q||0===d(r,fe)||p(r,Te,fe))&&(W.push(yB({start:K,end:yt,loop:N,count:o,style:z})),K=null),Pt=yt,Te=fe));return null!==K&&W.push(yB({start:K,end:k,loop:N,count:o,style:z})),W}function xB(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=_B(i[s],n.points,t);r.length&&e.push(...r)}return e}function wB(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function f4(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var Wd=new class p4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.duration;e.listeners[s].forEach(d=>d({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=dT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let p,o=r.length-1,d=!1;for(;o>=0;--o)p=r[o],p._active?(p._total>i.duration&&(i.duration=p._total),p.tick(t),d=!0):(r[o]=r[r.length-1],r.pop());d&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const CB="transparent",g4={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=fM(n||CB),s=i.valid&&fM(t||CB);return s&&s.valid?s.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class m4{constructor(t,e,i,s){const r=e[i];s=Ud([t.to,s,r,t.from]);const o=Ud([t.from,r,s]);this._active=!0,this._fn=t.fn||g4[t.type||typeof o],this._easing=Mg[t.easing]||Mg.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ud([t.to,e,s,t.from]),this._from=Ud([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,d=this._to;let p;if(this._active=r!==d&&(o||e<i),!this._active)return this._target[s]=d,void this._notify(!0);e<0?this._target[s]=r:(p=e/i%2,p=o&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[s]=this._fn(r,d,p))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}li.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const _4=Object.keys(li.animation);li.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),li.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),li.describe("animations",{_fallback:"animation"}),li.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class SB{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ri(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!ri(s))return;const r={};for(const o of _4)r[o]=s[o];(Vi(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!e.has(o))&&e.set(o,r)})})}_animateOptions(t,e){const i=e.options,s=function b4(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&function x4(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),d=Date.now();let p;for(p=o.length-1;p>=0;--p){const _=o[p];if("$"===_.charAt(0))continue;if("options"===_){s.push(...this._animateOptions(t,e));continue}const C=e[_];let k=r[_];const N=i.get(_);if(k){if(N&&k.active()){k.update(N,C,d);continue}k.cancel()}N&&N.duration?(r[_]=k=new m4(N,t,_,C),s.push(k)):t[_]=C}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Wd.add(this._chart,i),!0):void 0}}function TB(n,t){const e=n&&n.options||{},i=e.reverse,s=void 0===e.min?t:0,r=void 0===e.max?t:0;return{start:i?r:s,end:i?s:r}}function AB(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function EB(n,t,e,i={}){const s=n.keys,r="single"===i.mode;let o,d,p,_;if(null!==t){for(o=0,d=s.length;o<d;++o){if(p=+s[o],p===e){if(i.all)continue;break}_=n.values[p],_s(_)&&(r||0===t||bc(t)===bc(_))&&(t+=_)}return t}}function DB(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function E4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function kB(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function IB(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:d}=i,p=r.axis,_=o.axis,C=function T4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(r,o,i),k=t.length;let N;for(let z=0;z<k;++z){const W=t[z],{[p]:Q,[_]:K}=W;N=(W._stacks||(W._stacks={}))[_]=E4(s,C,Q),N[d]=K,N._top=kB(N,o,!0,i.type),N._bottom=kB(N,o,!1,i.type)}}function SM(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function P0(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||void 0===r[i]||void 0===r[i][e])return;delete r[i][e]}}}const TM=n=>"reset"===n||"none"===n,MB=(n,t)=>t?n:Object.assign({},n);let Tu=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=DB(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&P0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,s=this.getDataset(),r=(N,z,W,Q)=>"x"===N?z:"r"===N?Q:W,o=i.xAxisID=$n(s.xAxisID,SM(e,"x")),d=i.yAxisID=$n(s.yAxisID,SM(e,"y")),p=i.rAxisID=$n(s.rAxisID,SM(e,"r")),_=i.indexAxis,C=i.iAxisID=r(_,o,d,p),k=i.vAxisID=r(_,d,o,p);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(p),i.iScale=this.getScaleForId(C),i.vScale=this.getScaleForId(k)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cT(this._data,this),e._stacked&&P0(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),s=this._data;if(ri(i))this._data=function S4(n){const t=Object.keys(n),e=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],e[i]={x:r,y:n[r]};return e}(i);else if(s!==i){if(s){cT(s,this);const r=this._cachedMeta;P0(r),r._parsed=[]}i&&Object.isExtensible(i)&&function eM(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),JI.forEach(e=>{const i="_onData"+g0(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...r)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=i._stacked;i._stacked=DB(i.vScale,i),i.stack!==s.stack&&(r=!0,P0(i),i.stack=s.stack),this._resyncElements(e),(r||o!==i._stacked)&&IB(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:d}=s,p=o.axis;let k,N,z,_=0===e&&i===r.length||s._sorted,C=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=r,s._sorted=!0,z=r;else{z=Vi(r[e])?this.parseArrayData(s,r,e,i):ri(r[e])?this.parseObjectData(s,r,e,i):this.parsePrimitiveData(s,r,e,i);const W=()=>null===N[p]||C&&N[p]<C[p];for(k=0;k<i;++k)s._parsed[k+e]=N=z[k],_&&(W()&&(_=!1),C=N);s._sorted=_}d&&IB(this,z)}parsePrimitiveData(e,i,s,r){const{iScale:o,vScale:d}=e,p=o.axis,_=d.axis,C=o.getLabels(),k=o===d,N=new Array(r);let z,W,Q;for(z=0,W=r;z<W;++z)Q=z+s,N[z]={[p]:k||o.parse(C[Q],Q),[_]:d.parse(i[Q],Q)};return N}parseArrayData(e,i,s,r){const{xScale:o,yScale:d}=e,p=new Array(r);let _,C,k,N;for(_=0,C=r;_<C;++_)k=_+s,N=i[k],p[_]={x:o.parse(N[0],k),y:d.parse(N[1],k)};return p}parseObjectData(e,i,s,r){const{xScale:o,yScale:d}=e,{xAxisKey:p="x",yAxisKey:_="y"}=this._parsing,C=new Array(r);let k,N,z,W;for(k=0,N=r;k<N;++k)z=k+s,W=i[z],C[k]={x:o.parse(bu(W,p),z),y:d.parse(bu(W,_),z)};return C}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,s){const o=this._cachedMeta,d=i[e.axis];return EB({keys:AB(this.chart,!0),values:i._stacks[e.axis]},d,o.index,{mode:s})}updateRangeFromParsed(e,i,s,r){const o=s[i.axis];let d=null===o?NaN:o;const p=r&&s._stacks[i.axis];r&&p&&(r.values=p,d=EB(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,i){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,d=r.length,p=this._getOtherScale(e),_=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:AB(this.chart,!0),values:null})(i,s),C={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:k,max:N}=function A4(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}(p);let z,W;function Q(){W=r[z];const K=W[p.axis];return!_s(W[e.axis])||k>K||N<K}for(z=0;z<d&&(Q()||(this.updateRangeFromParsed(C,e,W,_),!o));++z);if(o)for(z=d-1;z>=0;--z)if(!Q()){this.updateRangeFromParsed(C,e,W,_);break}return C}getAllParsedValues(e){const i=this._cachedMeta._parsed,s=[];let r,o,d;for(r=0,o=i.length;r<o;++r)d=i[r][e.axis],_s(d)&&s.push(d);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,s=i.iScale,r=i.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function C4(n){let t,e,i,s;return ri(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:!1===n}}($n(this.options.clip,function w4(n,t,e){if(!1===e)return!1;const i=TB(n,e),s=TB(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this._cachedMeta,r=s.data||[],o=this.chart.chartArea,d=[],p=this._drawStart||0,_=this._drawCount||r.length-p,C=this.options.drawActiveElementsOnTop;let k;for(s.dataset&&s.dataset.draw(e,o,p,_),k=p;k<p+_;++k){const N=r[k];N.hidden||(N.active&&C?d.push(N):N.draw(e,o))}for(k=0;k<d.length;++k)d[k].draw(e,o)}getStyle(e,i){const s=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,i,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];o=d.$context||(d.$context=function k4(n,t,e){return Dc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,d)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function D4(n,t){return Dc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",s){const r="active"===i,o=this._cachedDataOpts,d=e+"-"+i,p=o[d],_=this.enableOptionSharing&&Ao(s);if(p)return MB(p,_);const C=this.chart.config,k=C.datasetElementScopeKeys(this._type,e),N=r?[`${e}Hover`,"hover",e,""]:[e,""],z=C.getOptionScopes(this.getDataset(),k),W=Object.keys(li.elements[e]),K=C.resolveNamedOptions(z,W,()=>this.getContext(s,r),N);return K.$shared&&(K.$shared=_,o[d]=Object.freeze(MB(K,_))),K}_resolveAnimations(e,i,s){const r=this.chart,o=this._cachedDataOpts,d=`animation-${i}`,p=o[d];if(p)return p;let _;if(!1!==r.options.animation){const k=this.chart.config,N=k.datasetAnimationScopeKeys(this._type,i),z=k.getOptionScopes(this.getDataset(),N);_=k.createResolver(z,this.getContext(e,s,i))}const C=new SB(r,_&&_.animations);return _&&_._cacheable&&(o[d]=Object.freeze(C)),C}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||TM(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const s=this.resolveDataElementOptions(e,i),r=this._sharedOptions,o=this.getSharedOptions(s),d=this.includeOptions(i,o)||o!==r;return this.updateSharedOptions(o,i,s),{sharedOptions:o,includeOptions:d}}updateElement(e,i,s,r){TM(r)?Object.assign(e,s):this._resolveAnimations(i,r).update(e,s)}updateSharedOptions(e,i,s){e&&!TM(i)&&this._resolveAnimations(void 0,i).update(e,s)}_setStyle(e,i,s,r){e.active=r;const o=this.getStyle(i,r);this._resolveAnimations(i,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,i,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,s=this._cachedMeta.data;for(const[p,_,C]of this._syncList)this[p](_,C);this._syncList=[];const r=s.length,o=i.length,d=Math.min(o,r);d&&this.parse(0,d),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,i,s=!0){const r=this._cachedMeta,o=r.data,d=e+i;let p;const _=C=>{for(C.length+=i,p=C.length-1;p>=d;p--)C[p]=C[p-i]};for(_(o),p=e;p<d;++p)o[p]=new this.dataElementType;this._parsing&&_(r._parsed),this.parse(e,i),s&&this.updateElements(o,e,i,"reset")}updateElements(e,i,s,r){}_removeElements(e,i){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,i);s._stacked&&P0(s,r)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,s,r]=e;this[i](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function L4(n){const t=n.iScale,e=function M4(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=uT(i.sort((s,r)=>s-r))}return n._cache.$bar}(t,n.type);let s,r,o,d,i=t._length;const p=()=>{32767===o||-32768===o||(Ao(d)&&(i=Math.min(i,Math.abs(o-d)||i)),d=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),p();for(d=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),p();return i}function LB(n,t,e,i){return Vi(n)?function R4(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),d=Math.max(s,r);let p=o,_=d;Math.abs(o)>Math.abs(d)&&(p=d,_=o),t[e.axis]=_,t._custom={barStart:p,barEnd:_,start:s,end:r,min:o,max:d}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function PB(n,t,e,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),d=s===r,p=[];let _,C,k,N;for(_=e,C=e+i;_<C;++_)N=t[_],k={},k[s.axis]=d||s.parse(o[_],_),p.push(LB(N,k,r,_));return p}function AM(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function B4(n,t,e,i){let s=t.borderSkipped;const r={};if(!s)return void(n.borderSkipped=r);if(!0===s)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:d,reverse:p,top:_,bottom:C}=function N4(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}(n);"middle"===s&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=_:(e._bottom||0)===i?s=C:(r[OB(C,o,d,p)]=!0,s=_)),r[OB(s,o,d,p)]=!0,n.borderSkipped=r}function OB(n,t,e,i){return i?(n=function V4(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=RB(n,e,t)):n=RB(n,t,e),n}function RB(n,t,e){return"start"===n?t:"end"===n?e:n}function H4(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Tu.prototype.datasetElementType=null,Tu.prototype.dataElementType=null;let z4=(()=>{class n extends Tu{parsePrimitiveData(e,i,s,r){return PB(e,i,s,r)}parseArrayData(e,i,s,r){return PB(e,i,s,r)}parseObjectData(e,i,s,r){const{iScale:o,vScale:d}=e,{xAxisKey:p="x",yAxisKey:_="y"}=this._parsing,C="x"===o.axis?p:_,k="x"===d.axis?p:_,N=[];let z,W,Q,K;for(z=s,W=s+r;z<W;++z)K=i[z],Q={},Q[o.axis]=o.parse(bu(K,C),z),N.push(LB(bu(K,k),Q,d,z));return N}updateRangeFromParsed(e,i,s,r){super.updateRangeFromParsed(e,i,s,r);const o=s._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:s,vScale:r}=i,o=this.getParsed(e),d=o._custom,p=AM(d)?"["+d.start+", "+d.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:p}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,s,r){const o="reset"===r,{index:d,_cachedMeta:{vScale:p}}=this,_=p.getBasePixel(),C=p.isHorizontal(),k=this._getRuler(),{sharedOptions:N,includeOptions:z}=this._getSharedOptions(i,r);for(let W=i;W<i+s;W++){const Q=this.getParsed(W),K=o||yi(Q[p.axis])?{base:_,head:_}:this._calculateBarValuePixels(W),fe=this._calculateBarIndexPixels(W,k),ve=(Q._stacks||{})[p.axis],Te={horizontal:C,base:K.base,enableBorderRadius:!ve||AM(Q._custom)||d===ve._top||d===ve._bottom,x:C?K.head:fe.center,y:C?fe.center:K.head,height:C?fe.size:Math.abs(K.size),width:C?Math.abs(K.size):fe.size};z&&(Te.options=N||this.resolveDataElementOptions(W,e[W].active?"active":r));const Ee=Te.options||e[W].options;B4(Te,Ee,ve,d),H4(Te,Ee,k.ratio),this.updateElement(e[W],W,Te,r)}}_getStacks(e,i){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=s.options.stacked,d=[],p=_=>{const C=_.controller.getParsed(i),k=C&&C[_.vScale.axis];if(yi(k)||isNaN(k))return!0};for(const _ of r)if((void 0===i||!p(_))&&((!1===o||-1===d.indexOf(_.stack)||void 0===o&&void 0===_.stack)&&d.push(_.stack),_.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,s){const r=this._getStacks(e,s),o=void 0!==i?r.indexOf(i):-1;return-1===o?r.length-1:o}_getRuler(){const e=this.options,i=this._cachedMeta,s=i.iScale,r=[];let o,d;for(o=0,d=i.data.length;o<d;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const p=e.barThickness;return{min:p||L4(i),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:p?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:s},options:{base:r,minBarLength:o}}=this,d=r||0,p=this.getParsed(e),_=p._custom,C=AM(_);let W,Q,k=p[i.axis],N=0,z=s?this.applyStack(i,p,s):k;z!==k&&(N=z-k,z=k),C&&(k=_.barStart,z=_.barEnd-_.barStart,0!==k&&bc(k)!==bc(_.barEnd)&&(N=0),N+=k);const K=yi(r)||C?N:r;let fe=i.getPixelForValue(K);if(W=this.chart.getDataVisibility(e)?i.getPixelForValue(N+z):fe,Q=W-fe,Math.abs(Q)<o){Q=function F4(n,t,e){return 0!==n?bc(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(Q,i,d)*o,k===d&&(fe-=Q/2);const ve=i.getPixelForDecimal(0),Te=i.getPixelForDecimal(1),Ee=Math.min(ve,Te),De=Math.max(ve,Te);fe=Math.max(Math.min(fe,De),Ee),W=fe+Q}if(fe===i.getPixelForValue(d)){const ve=bc(Q)*i.getLineWidthForValue(d)/2;fe+=ve,Q-=ve}return{size:Q,base:fe,head:W,center:W+Q/2}}_calculateBarIndexPixels(e,i){const s=i.scale,r=this.options,o=r.skipNull,d=$n(r.maxBarThickness,1/0);let p,_;if(i.grouped){const C=o?this._getStackCount(e):i.stackCount,k="flex"===r.barThickness?function O4(n,t,e,i){const s=t.pixels,r=s[n];let o=n>0?s[n-1]:null,d=n<s.length-1?s[n+1]:null;const p=e.categoryPercentage;null===o&&(o=r-(null===d?t.end-t.start:d-r)),null===d&&(d=r+r-o);const _=r-(r-Math.min(o,d))/2*p;return{chunk:Math.abs(d-o)/2*p/i,ratio:e.barPercentage,start:_}}(e,i,r,C):function P4(n,t,e,i){const s=e.barThickness;let r,o;return yi(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}(e,i,r,C),N=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);p=k.start+k.chunk*N+k.chunk/2,_=Math.min(d,k.chunk*k.ratio)}else p=s.getPixelForValue(this.getParsed(e)[s.axis],e),_=Math.min(d,i.min*i.ratio);return{base:p-_/2,head:p+_/2,center:p,size:_}}draw(){const e=this._cachedMeta,i=e.vScale,s=e.data,r=s.length;let o=0;for(;o<r;++o)null!==this.getParsed(o)[i.axis]&&s[o].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),U4=(()=>{class n extends Tu{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,s,r){const o=super.parsePrimitiveData(e,i,s,r);for(let d=0;d<o.length;d++)o[d]._custom=this.resolveDataElementOptions(d+s).radius;return o}parseArrayData(e,i,s,r){const o=super.parseArrayData(e,i,s,r);for(let d=0;d<o.length;d++)o[d]._custom=$n(i[s+d][2],this.resolveDataElementOptions(d+s).radius);return o}parseObjectData(e,i,s,r){const o=super.parseObjectData(e,i,s,r);for(let d=0;d<o.length;d++){const p=i[s+d];o[d]._custom=$n(p&&p.r&&+p.r,this.resolveDataElementOptions(d+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let s=e.length-1;s>=0;--s)i=Math.max(i,e[s].size(this.resolveDataElementOptions(s))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:s,yScale:r}=i,o=this.getParsed(e),d=s.getLabelForValue(o.x),p=r.getLabelForValue(o.y),_=o._custom;return{label:i.label,value:"("+d+", "+p+(_?", "+_:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,s,r){const o="reset"===r,{iScale:d,vScale:p}=this._cachedMeta,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(i,r),k=d.axis,N=p.axis;for(let z=i;z<i+s;z++){const W=e[z],Q=!o&&this.getParsed(z),K={},fe=K[k]=o?d.getPixelForDecimal(.5):d.getPixelForValue(Q[k]),ve=K[N]=o?p.getBasePixel():p.getPixelForValue(Q[N]);K.skip=isNaN(fe)||isNaN(ve),C&&(K.options=_||this.resolveDataElementOptions(z,W.active?"active":r),o&&(K.options.radius=0)),this.updateElement(W,z,K,r)}}resolveDataElementOptions(e,i){const s=this.getParsed(e);let r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return"active"!==i&&(r.radius=0),r.radius+=$n(s&&s._custom,o),r}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),FB=(()=>{class n extends Tu{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const s=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=s;else{let d,p,o=_=>+s[_];if(ri(s[e])){const{key:_="value"}=this._parsing;o=C=>+bu(s[C],_)}for(d=e,p=e+i;d<p;++d)r._parsed[d]=o(d)}}_getRotation(){return sa(this.options.rotation-90)}_getCircumference(){return sa(this.options.circumference)}_getRotationExtents(){let e=Oi,i=-Oi;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),d=r._getCircumference();e=Math.min(e,o),i=Math.max(i,o+d)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:s}=i,r=this._cachedMeta,o=r.data,d=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,p=Math.max((Math.min(s.width,s.height)-d)/2,0),_=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,p),1),C=this._getRingWeight(this.index),{circumference:k,rotation:N}=this._getRotationExtents(),{ratioX:z,ratioY:W,offsetX:Q,offsetY:K}=function G4(n,t,e){let i=1,s=1,r=0,o=0;if(t<Oi){const d=n,p=d+t,_=Math.cos(d),C=Math.sin(d),k=Math.cos(p),N=Math.sin(p),z=(Te,Ee,De)=>uy(Te,d,p,!0)?1:Math.max(Ee,Ee*e,De,De*e),W=(Te,Ee,De)=>uy(Te,d,p,!0)?-1:Math.min(Ee,Ee*e,De,De*e),Q=z(0,_,k),K=z(As,C,N),fe=W(as,_,k),ve=W(as+As,C,N);i=(Q-fe)/2,s=(K-ve)/2,r=-(Q+fe)/2,o=-(K+ve)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}(N,k,_),Te=Math.max(Math.min((s.width-d)/z,(s.height-d)/W)/2,0),Ee=iy(this.options.radius,Te),Fe=(Ee-Math.max(Ee*_,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Q*Ee,this.offsetY=K*Ee,r.total=this.calculateTotal(),this.outerRadius=Ee-Fe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Fe*C,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){const s=this.options,r=this._cachedMeta,o=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/Oi)}updateElements(e,i,s,r){const o="reset"===r,d=this.chart,p=d.chartArea,k=(p.left+p.right)/2,N=(p.top+p.bottom)/2,z=o&&d.options.animation.animateScale,W=z?0:this.innerRadius,Q=z?0:this.outerRadius,{sharedOptions:K,includeOptions:fe}=this._getSharedOptions(i,r);let Te,ve=this._getRotation();for(Te=0;Te<i;++Te)ve+=this._circumference(Te,o);for(Te=i;Te<i+s;++Te){const Ee=this._circumference(Te,o),De=e[Te],Fe={x:k+this.offsetX,y:N+this.offsetY,startAngle:ve,endAngle:ve+Ee,circumference:Ee,outerRadius:Q,innerRadius:W};fe&&(Fe.options=K||this.resolveDataElementOptions(Te,De.active?"active":r)),ve+=Ee,this.updateElement(De,Te,Fe,r)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let r,s=0;for(r=0;r<i.length;r++){const o=e._parsed[r];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?Oi*(Math.abs(e)/i):0}getLabelAndValue(e){const s=this.chart,r=s.data.labels||[],o=Gd(this._cachedMeta._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let i=0;const s=this.chart;let r,o,d,p,_;if(!e)for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){d=s.getDatasetMeta(r),e=d.data,p=d.controller;break}if(!e)return 0;for(r=0,o=e.length;r<o;++r)_=p.resolveDataElementOptions(r),"inner"!==_.borderAlign&&(i=Math.max(i,_.borderWidth||0,_.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let s=0,r=e.length;s<r;++s){const o=this.resolveDataElementOptions(s);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(e){return Math.max($n(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((s,r)=>{const d=t.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Vi(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),W4=(()=>{class n extends Tu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=i,d=this.chart._animationsDisabled;let{start:p,count:_}=dy(i,r,d);this._drawStart=p,this._drawCount=_,pT(i)&&(p=0,_=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const C=this.resolveDatasetElementOptions(e);this.options.showLine||(C.borderWidth=0),C.segment=this.options.segment,this.updateElement(s,void 0,{animated:!d,options:C},e),this.updateElements(r,p,_,e)}updateElements(e,i,s,r){const o="reset"===r,{iScale:d,vScale:p,_stacked:_,_dataset:C}=this._cachedMeta,{sharedOptions:k,includeOptions:N}=this._getSharedOptions(i,r),z=d.axis,W=p.axis,{spanGaps:Q,segment:K}=this.options,fe=wc(Q)?Q:Number.POSITIVE_INFINITY,ve=this.chart._animationsDisabled||o||"none"===r;let Te=i>0&&this.getParsed(i-1);for(let Ee=i;Ee<i+s;++Ee){const De=e[Ee],Fe=this.getParsed(Ee),Qe=ve?De:{},yt=yi(Fe[W]),Pt=Qe[z]=d.getPixelForValue(Fe[z],Ee),Jt=Qe[W]=o||yt?p.getBasePixel():p.getPixelForValue(_?this.applyStack(p,Fe,_):Fe[W],Ee);Qe.skip=isNaN(Pt)||isNaN(Jt)||yt,Qe.stop=Ee>0&&Math.abs(Fe[z]-Te[z])>fe,K&&(Qe.parsed=Fe,Qe.raw=C.data[Ee]),N&&(Qe.options=k||this.resolveDataElementOptions(Ee,De.active?"active":r)),ve||this.updateElement(De,Ee,Qe,r),Te=Fe}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),d=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),j4=(()=>{class n extends Tu{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this.chart,r=s.data.labels||[],o=Gd(this._cachedMeta._parsed[e].r,s.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,i,s,r){return CM.bind(this)(e,i,s,r)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((s,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,s=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(r/2,0),p=(o-Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-p*this.index,this.innerRadius=this.outerRadius-p}updateElements(e,i,s,r){const o="reset"===r,d=this.chart,_=d.options.animation,C=this._cachedMeta.rScale,k=C.xCenter,N=C.yCenter,z=C.getIndexAngle(0)-.5*as;let Q,W=z;const K=360/this.countVisibleElements();for(Q=0;Q<i;++Q)W+=this._computeAngle(Q,r,K);for(Q=i;Q<i+s;Q++){const fe=e[Q];let ve=W,Te=W+this._computeAngle(Q,r,K),Ee=d.getDataVisibility(Q)?C.getDistanceFromCenterForValue(this.getParsed(Q).r):0;W=Te,o&&(_.animateScale&&(Ee=0),_.animateRotate&&(ve=Te=z));const De={x:k,y:N,innerRadius:0,outerRadius:Ee,startAngle:ve,endAngle:Te,options:this.resolveDataElementOptions(Q,fe.active?"active":r)};this.updateElement(fe,Q,De,r)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(e,i,s){return this.chart.getDataVisibility(e)?sa(this.resolveDataElementOptions(e,i).angle||s):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((s,r)=>{const d=t.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),$4=(()=>{class n extends FB{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),Y4=(()=>{class n extends Tu{getLabelAndValue(e){const i=this._cachedMeta.vScale,s=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(s[i.axis])}}parseObjectData(e,i,s,r){return CM.bind(this)(e,i,s,r)}update(e){const i=this._cachedMeta,s=i.dataset,r=i.data||[],o=i.iScale.getLabels();if(s.points=r,"resize"!==e){const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:o.length===r.length,options:d},e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,s,r){const o=this._cachedMeta.rScale,d="reset"===r;for(let p=i;p<i+s;p++){const _=e[p],C=this.resolveDataElementOptions(p,_.active?"active":r),k=o.getPointPositionForValue(p,this.getParsed(p).r),N=d?o.xCenter:k.x,z=d?o.yCenter:k.y,W={x:N,y:z,angle:k.angle,skip:isNaN(N)||isNaN(z),options:C};this.updateElement(_,p,W,r)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class Ic{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return wc(this.x)&&wc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}Ic.defaults={},Ic.defaultRoutes=void 0;const NB={values:n=>Vi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const _=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(_<1e-4||_>1e15)&&(s="scientific"),r=function X4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const o=Ca(Math.abs(r)),d=Math.max(Math.min(-1*Math.floor(o),20),0),p={notation:s,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(p,this.options.ticks.format),Gd(n,i,p)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(Ca(n)));return 1===i||2===i||5===i?NB.numeric.call(this,n,t,e):""}};var FT={formatters:NB};function NT(n,t,e,i,s){const r=$n(i,0),o=Math.min($n(s,n.length),n.length);let p,_,C,d=0;for(e=Math.ceil(e),s&&(p=s-i,e=p/Math.floor(p/e)),C=r;C<0;)d++,C=Math.round(r+d*e);for(_=Math.max(r,0);_<o;_++)_===C&&(t.push(n[_]),d++,C=Math.round(r+d*e))}li.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:FT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),li.route("scale.ticks","color","","color"),li.route("scale.grid","color","","borderColor"),li.route("scale.grid","borderColor","","borderColor"),li.route("scale.title","color","","color"),li.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),li.describe("scales",{_fallback:"scale"}),li.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const BB=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function VB(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function n6(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,d=1e-6;let _,p=n.getPixelForTick(s);if(!(e&&(_=1===i?Math.max(p-r,o-p):0===t?(n.getPixelForTick(1)-p)/2:(p-n.getPixelForTick(s-1))/2,p+=s<t?_:-_,p<r-d||p>o+d)))return p}function O0(n){return n.drawTicks?n.tickLength:0}function HB(n,t){if(!n.display)return 0;const e=Os(n.font,t),i=xr(n.padding);return(Vi(n.text)?n.text.length:1)*e.lineHeight+i.height}function o6(n,t,e){let i=fT(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class Bg extends Ic{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=hr(t,Number.POSITIVE_INFINITY),e=hr(e,Number.NEGATIVE_INFINITY),i=hr(i,Number.POSITIVE_INFINITY),s=hr(s,Number.NEGATIVE_INFINITY),{min:hr(t,i),max:hr(e,s),minDefined:_s(t),maxDefined:_s(e)}}getMinMax(t){let o,{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let p=0,_=d.length;p<_;++p)o=d[p].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:hr(e,hr(i,e)),max:hr(i,hr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ts(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,d=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function aB(n,t,e){const{min:i,max:s}=n,r=iy(t,(s-i)/2),o=(d,p)=>e&&0===d?0:d+p;return{min:o(i,-Math.abs(r)),max:o(s,r)}}(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=d<this.ticks.length;this._convertTicksToLabels(p?VB(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function q4(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function Z4(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),s=e.major.enabled?function Q4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],r=s.length,o=s[0],d=s[r-1],p=[];if(r>i)return function J4(n,t,e,i){let o,s=0,r=e[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}(t,p,s,r/i),p;const _=function K4(n,t,e){const i=function e6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),s=t.length/e;if(!i)return Math.max(s,1);const r=function eB(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}(i);for(let o=0,d=r.length-1;o<d;o++){const p=r[o];if(p>s)return p}return Math.max(s,1)}(s,t,i);if(r>0){let C,k;const N=r>1?Math.round((d-o)/(r-1)):null;for(NT(t,p,_,yi(N)?0:o-N,o),C=0,k=r-1;C<k;C++)NT(t,p,_,s[C],s[C+1]);return NT(t,p,_,d,yi(N)?t.length:d+N),p}return NT(t,p,_),p}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ts(this.options.afterUpdate,[this])}beforeSetDimensions(){ts(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ts(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ts(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ts(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=ts(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){ts(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ts(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,r=e.maxRotation;let d,p,_,o=s;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const C=this._getLabelSizes(),k=C.widest.width,N=C.highest.height,z=tr(this.chart.width-k,0,this.maxWidth);d=t.offset?this.maxWidth/i:z/(i-1),k+6>d&&(d=z/(i-(t.offset?.5:1)),p=this.maxHeight-O0(t.grid)-e.padding-HB(t.title,this.chart.options.font),_=Math.sqrt(k*k+N*N),o=ay(Math.min(Math.asin(tr((C.highest.height+6)/d,-1,1)),Math.asin(tr(p/_,-1,1))-Math.asin(tr(N/_,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ts(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ts(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),d=this.isHorizontal();if(o){const p=HB(s,e.options.font);if(d?(t.width=this.maxWidth,t.height=O0(r)+p):(t.height=this.maxHeight,t.width=O0(r)+p),i.display&&this.ticks.length){const{first:_,last:C,widest:k,highest:N}=this._getLabelSizes(),z=2*i.padding,W=sa(this.labelRotation),Q=Math.cos(W),K=Math.sin(W);d?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:K*k.width+Q*N.height)+z):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:Q*k.width+K*N.height)+z),this._calculatePadding(_,C,K,Q)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:o},position:d}=this.options,p=0!==this.labelRotation,_="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const C=this.getPixelForTick(0)-this.left,k=this.right-this.getPixelForTick(this.ticks.length-1);let N=0,z=0;p?_?(N=s*t.width,z=i*e.height):(N=i*t.height,z=s*e.width):"start"===r?z=e.width:"end"===r?N=t.width:"inner"!==r&&(N=t.width/2,z=e.width/2),this.paddingLeft=Math.max((N-C+o)*this.width/(this.width-C),0),this.paddingRight=Math.max((z-k+o)*this.width/(this.width-k),0)}else{let C=e.height/2,k=t.height/2;"start"===r?(C=0,k=t.height):"end"===r&&(C=e.height,k=0),this.paddingTop=C+o,this.paddingBottom=k+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ts(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)yi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=VB(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let _,C,k,N,z,W,Q,K,fe,ve,Te,d=0,p=0;for(_=0;_<e;++_){if(N=t[_].label,z=this._resolveTickFontOptions(_),i.font=W=z.string,Q=s[W]=s[W]||{data:{},gc:[]},K=z.lineHeight,fe=ve=0,yi(N)||Vi(N)){if(Vi(N))for(C=0,k=N.length;C<k;++C)Te=N[C],!yi(Te)&&!Vi(Te)&&(fe=Og(i,Q.data,Q.gc,fe,Te),ve+=K)}else fe=Og(i,Q.data,Q.gc,fe,N),ve=K;r.push(fe),o.push(ve),d=Math.max(fe,d),p=Math.max(ve,p)}!function i6(n,t){Mi(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}(s,e);const Ee=r.indexOf(d),De=o.indexOf(p),Fe=Qe=>({width:r[Qe]||0,height:o[Qe]||0});return{first:Fe(0),last:Fe(e-1),widest:Fe(Ee),highest:Fe(De),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function QI(n){return tr(n,-32768,32767)}(this._alignToPixels?Cu(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function r6(n,t,e){return Dc(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function s6(n,t){return Dc(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=sa(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,d=r?r.widest.width+o:0,p=r?r.highest.height+o:0;return this.isHorizontal()?p*i>d*s?d/i:p/s:p*s<d*i?p/i:d/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:o}=s,d=r.offset,p=this.isHorizontal(),C=this.ticks.length+(d?1:0),k=O0(r),N=[],z=r.setContext(this.getContext()),W=z.drawBorder?z.borderWidth:0,Q=W/2,K=function(gn){return Cu(i,gn,W)};let fe,ve,Te,Ee,De,Fe,Qe,yt,Pt,Jt,Rt,fn;if("top"===o)fe=K(this.bottom),Fe=this.bottom-k,yt=fe-Q,Jt=K(t.top)+Q,fn=t.bottom;else if("bottom"===o)fe=K(this.top),Jt=t.top,fn=K(t.bottom)-Q,Fe=fe+Q,yt=this.top+k;else if("left"===o)fe=K(this.right),De=this.right-k,Qe=fe-Q,Pt=K(t.left)+Q,Rt=t.right;else if("right"===o)fe=K(this.left),Pt=t.left,Rt=K(t.right)-Q,De=fe+Q,Qe=this.left+k;else if("x"===e){if("center"===o)fe=K((t.top+t.bottom)/2+.5);else if(ri(o)){const gn=Object.keys(o)[0];fe=K(this.chart.scales[gn].getPixelForValue(o[gn]))}Jt=t.top,fn=t.bottom,Fe=fe+Q,yt=Fe+k}else if("y"===e){if("center"===o)fe=K((t.left+t.right)/2);else if(ri(o)){const gn=Object.keys(o)[0];fe=K(this.chart.scales[gn].getPixelForValue(o[gn]))}De=fe-Q,Qe=De-k,Pt=t.left,Rt=t.right}const un=$n(s.ticks.maxTicksLimit,C),zn=Math.max(1,Math.ceil(C/un));for(ve=0;ve<C;ve+=zn){const gn=r.setContext(this.getContext(ve)),xt=gn.lineWidth,At=gn.color,Zt=gn.borderDash||[],en=gn.borderDashOffset,Un=gn.tickWidth,ui=gn.tickColor,Zn=gn.tickBorderDash||[],ir=gn.tickBorderDashOffset;Te=n6(this,ve,d),void 0!==Te&&(Ee=Cu(i,Te,xt),p?De=Qe=Pt=Rt=Ee:Fe=yt=Jt=fn=Ee,N.push({tx1:De,ty1:Fe,tx2:Qe,ty2:yt,x1:Pt,y1:Jt,x2:Rt,y2:fn,width:xt,color:At,borderDash:Zt,borderDashOffset:en,tickWidth:Un,tickColor:ui,tickBorderDash:Zn,tickBorderDashOffset:ir}))}return this._ticksLength=C,this._borderValue=fe,N}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),d=this.ticks,{align:p,crossAlign:_,padding:C,mirror:k}=r,N=O0(i.grid),z=N+C,W=k?-C:z,Q=-sa(this.labelRotation),K=[];let fe,ve,Te,Ee,De,Fe,Qe,yt,Pt,Jt,Rt,fn,un="middle";if("top"===s)Fe=this.bottom-W,Qe=this._getXAxisLabelAlignment();else if("bottom"===s)Fe=this.top+W,Qe=this._getXAxisLabelAlignment();else if("left"===s){const gn=this._getYAxisLabelAlignment(N);Qe=gn.textAlign,De=gn.x}else if("right"===s){const gn=this._getYAxisLabelAlignment(N);Qe=gn.textAlign,De=gn.x}else if("x"===e){if("center"===s)Fe=(t.top+t.bottom)/2+z;else if(ri(s)){const gn=Object.keys(s)[0];Fe=this.chart.scales[gn].getPixelForValue(s[gn])+z}Qe=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)De=(t.left+t.right)/2-z;else if(ri(s)){const gn=Object.keys(s)[0];De=this.chart.scales[gn].getPixelForValue(s[gn])}Qe=this._getYAxisLabelAlignment(N).textAlign}"y"===e&&("start"===p?un="top":"end"===p&&(un="bottom"));const zn=this._getLabelSizes();for(fe=0,ve=d.length;fe<ve;++fe){Te=d[fe],Ee=Te.label;const gn=r.setContext(this.getContext(fe));yt=this.getPixelForTick(fe)+r.labelOffset,Pt=this._resolveTickFontOptions(fe),Jt=Pt.lineHeight,Rt=Vi(Ee)?Ee.length:1;const xt=Rt/2,At=gn.color,Zt=gn.textStrokeColor,en=gn.textStrokeWidth;let ui,Un=Qe;if(o?(De=yt,"inner"===Qe&&(Un=fe===ve-1?this.options.reverse?"left":"right":0===fe?this.options.reverse?"right":"left":"center"),fn="top"===s?"near"===_||0!==Q?-Rt*Jt+Jt/2:"center"===_?-zn.highest.height/2-xt*Jt+Jt:Jt/2-zn.highest.height:"near"===_||0!==Q?Jt/2:"center"===_?zn.highest.height/2-xt*Jt:zn.highest.height-Rt*Jt,k&&(fn*=-1)):(Fe=yt,fn=(1-Rt)*Jt/2),gn.showLabelBackdrop){const Zn=xr(gn.backdropPadding),ir=zn.heights[fe],bi=zn.widths[fe];let ka=Fe+fn-Zn.top,Il=De-Zn.left;switch(un){case"middle":ka-=ir/2;break;case"bottom":ka-=ir}switch(Qe){case"center":Il-=bi/2;break;case"right":Il-=bi}ui={left:Il,top:ka,width:bi+Zn.width,height:ir+Zn.height,color:gn.backdropColor}}K.push({rotation:Q,label:Ee,font:Pt,color:At,strokeColor:Zt,strokeWidth:en,textOffset:fn,textAlign:Un,textBaseline:un,translation:[De,Fe],backdrop:ui})}return K}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-sa(this.labelRotation))return"top"===t?"left":"right";let s="center";return"start"===e.align?s="left":"end"===e.align?s="right":"inner"===e.align&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,d=t+r,p=this._getLabelSizes().widest.width;let _,C;return"left"===e?s?(C=this.right+r,"near"===i?_="left":"center"===i?(_="center",C+=p/2):(_="right",C+=p)):(C=this.right-d,"near"===i?_="right":"center"===i?(_="center",C-=p/2):(_="left",C=this.left)):"right"===e?s?(C=this.left+r,"near"===i?_="right":"center"===i?(_="center",C-=p/2):(_="left",C-=p)):(C=this.left+d,"near"===i?_="left":"center"===i?(_="center",C+=p/2):(_="right",C=this.right)):_="right",{textAlign:_,x:C}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const d=(p,_,C)=>{!C.width||!C.color||(i.save(),i.lineWidth=C.width,i.strokeStyle=C.color,i.setLineDash(C.borderDash||[]),i.lineDashOffset=C.borderDashOffset,i.beginPath(),i.moveTo(p.x,p.y),i.lineTo(_.x,_.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){const p=s[r];e.drawOnChartArea&&d({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),e.drawTicks&&d({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,_,C,k;this.isHorizontal()?(p=Cu(t,this.left,r)-r/2,_=Cu(t,this.right,o)+o/2,C=k=d):(C=Cu(t,this.top,r)-r/2,k=Cu(t,this.bottom,o)+o/2,p=_=d),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(p,C),e.lineTo(_,k),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&yf(i,s);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,d;for(o=0,d=r.length;o<d;++o){const p=r[o],_=p.font,C=p.label;p.backdrop&&(i.fillStyle=p.backdrop.color,i.fillRect(p.backdrop.left,p.backdrop.top,p.backdrop.width,p.backdrop.height)),_f(i,C,0,p.textOffset,_,p)}s&&Hd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=Os(i.font),o=xr(i.padding),d=i.align;let p=r.lineHeight/2;"bottom"===e||"center"===e||ri(e)?(p+=o.bottom,Vi(i.text)&&(p+=r.lineHeight*(i.text.length-1))):p+=o.top;const{titleX:_,titleY:C,maxWidth:k,rotation:N}=function a6(n,t,e,i){const{top:s,left:r,bottom:o,right:d,chart:p}=n,{chartArea:_,scales:C}=p;let N,z,W,k=0;const Q=o-s,K=d-r;if(n.isHorizontal()){if(z=Yi(i,r,d),ri(e)){const fe=Object.keys(e)[0];W=C[fe].getPixelForValue(e[fe])+Q-t}else W="center"===e?(_.bottom+_.top)/2+Q-t:BB(n,e,t);N=d-r}else{if(ri(e)){const fe=Object.keys(e)[0];z=C[fe].getPixelForValue(e[fe])-K+t}else z="center"===e?(_.left+_.right)/2-K+t:BB(n,e,t);W=Yi(i,o,s),k="left"===e?-As:As}return{titleX:z,titleY:W,maxWidth:N,rotation:k}}(this,p,e,d);_f(t,i.text,0,0,r,{color:i.color,maxWidth:k,rotation:N,textAlign:o6(d,e,s),textBaseline:"middle",translation:[_,C]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=$n(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Bg.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=e.length;r<o;++r){const d=e[r];d[i]===this.id&&(!t||d.type===t)&&s.push(d)}return s}_resolveTickFontOptions(t){return Os(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class BT{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function u6(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,function l6(n,t,e){const i=hf(Object.create(null),[e?li.get(e):{},li.get(t),n.defaults]);li.set(t,i),n.defaultRoutes&&function c6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),d=o.pop(),p=o.join(".");li.route(r,s,p,d)})}(t,n.defaultRoutes),n.descriptors&&li.describe(t,n.descriptors)}(t,o,i),this.override&&li.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in li[s]&&(delete li[s][i],this.override&&delete vf[i])}}var Au=new class d6{constructor(){this.controllers=new BT(Tu,"datasets",!0),this.elements=new BT(Ic,"elements"),this.plugins=new BT(Object,"plugins"),this.scales=new BT(Bg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Mi(s,o=>{const d=i||this._getRegistryForType(o);this._exec(t,d,o)})})}_exec(t,e,i){const s=g0(t);ts(i["before"+s],[],i),e[t](i),ts(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}},h6=Object.freeze({__proto__:null,BarController:z4,BubbleController:U4,DoughnutController:FB,LineController:W4,PolarAreaController:j4,PieController:$4,RadarController:Y4,ScatterController:(()=>{class n extends Tu{update(e){const i=this._cachedMeta,{data:s=[]}=i,r=this.chart._animationsDisabled;let{start:o,count:d}=dy(i,s,r);if(this._drawStart=o,this._drawCount=d,pT(i)&&(o=0,d=s.length),this.options.showLine){const{dataset:p,_dataset:_}=i;p._chart=this.chart,p._datasetIndex=this.index,p._decimated=!!_._decimated,p.points=s;const C=this.resolveDatasetElementOptions(e);C.segment=this.options.segment,this.updateElement(p,void 0,{animated:!r,options:C},e)}this.updateElements(s,o,d,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Au.getElement("line")),super.addElements()}updateElements(e,i,s,r){const o="reset"===r,{iScale:d,vScale:p,_stacked:_,_dataset:C}=this._cachedMeta,k=this.resolveDataElementOptions(i,r),N=this.getSharedOptions(k),z=this.includeOptions(r,N),W=d.axis,Q=p.axis,{spanGaps:K,segment:fe}=this.options,ve=wc(K)?K:Number.POSITIVE_INFINITY,Te=this.chart._animationsDisabled||o||"none"===r;let Ee=i>0&&this.getParsed(i-1);for(let De=i;De<i+s;++De){const Fe=e[De],Qe=this.getParsed(De),yt=Te?Fe:{},Pt=yi(Qe[Q]),Jt=yt[W]=d.getPixelForValue(Qe[W],De),Rt=yt[Q]=o||Pt?p.getBasePixel():p.getPixelForValue(_?this.applyStack(p,Qe,_):Qe[Q],De);yt.skip=isNaN(Jt)||isNaN(Rt)||Pt,yt.stop=De>0&&Math.abs(Qe[W]-Ee[W])>ve,fe&&(yt.parsed=Qe,yt.raw=C.data[De]),z&&(yt.options=N||this.resolveDataElementOptions(De,Fe.active?"active":r)),Te||this.updateElement(Fe,De,yt,r),Ee=Qe}this.updateSharedOptions(N,r,k)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let p=0;for(let _=i.length-1;_>=0;--_)p=Math.max(p,i[_].size(this.resolveDataElementOptions(_))/2);return p>0&&p}const s=e.dataset,r=s.options&&s.options.borderWidth||0;if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,d)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function Vg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var f6={_date:(()=>{class n{constructor(e){this.options=e||{}}init(e){}formats(){return Vg()}parse(e,i){return Vg()}format(e,i){return Vg()}add(e,i,s){return Vg()}diff(e,i,s){return Vg()}startOf(e,i,s){return Vg()}endOf(e,i){return Vg()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function p6(n,t,e,i){const{controller:s,data:r,_sorted:o}=n,d=s._cachedMeta.iScale;if(d&&t===d.axis&&"r"!==t&&o&&r.length){const p=d._reversePixels?tB:Sc;if(!i)return p(r,t,e);if(s._sharedOptions){const _=r[0],C="function"==typeof _.getRange&&_.getRange(t);if(C){const k=p(r,t,e-C),N=p(r,t,e+C);return{lo:k.lo,hi:N.hi}}}}return{lo:0,hi:r.length-1}}function R0(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let d=0,p=r.length;d<p;++d){const{index:_,data:C}=r[d],{lo:k,hi:N}=p6(r[d],t,o,s);for(let z=k;z<=N;++z){const W=C[z];W.skip||i(W,_,z)}}}function EM(n,t,e,i,s){const r=[];return!s&&!n.isPointInArea(t)||R0(n,e,t,function(d,p,_){!s&&!Vd(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&r.push({element:d,datasetIndex:p,index:_})},!0),r}function DM(n,t,e,i,s,r){return r||n.isPointInArea(t)?"r"!==e||i?function v6(n,t,e,i,s,r){let o=[];const d=function g6(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(e);let p=Number.POSITIVE_INFINITY;return R0(n,e,t,function _(C,k,N){const z=C.inRange(t.x,t.y,s);if(i&&!z)return;const W=C.getCenterPoint(s);if(!r&&!n.isPointInArea(W)&&!z)return;const K=d(t,W);K<p?(o=[{element:C,datasetIndex:k,index:N}],p=K):K===p&&o.push({element:C,datasetIndex:k,index:N})}),o}(n,t,e,i,s,r):function m6(n,t,e,i){let s=[];return R0(n,e,t,function r(o,d,p){const{startAngle:_,endAngle:C}=o.getProps(["startAngle","endAngle"],i),{angle:k}=ly(o,{x:t.x,y:t.y});uy(k,_,C)&&s.push({element:o,datasetIndex:d,index:p})}),s}(n,t,e,s):[]}function zB(n,t,e,i,s){const r=[],o="x"===e?"inXRange":"inYRange";let d=!1;return R0(n,e,t,(p,_,C)=>{p[o](t[e],s)&&(r.push({element:p,datasetIndex:_,index:C}),d=d||p.inRange(t.x,t.y,s))}),i&&!d?[]:r}var y6={evaluateInteractionItems:R0,modes:{index(n,t,e,i){const s=pt(t,n),r=e.axis||"x",o=e.includeInvisible||!1,d=e.intersect?EM(n,s,r,i,o):DM(n,s,r,!1,i,o),p=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(_=>{const C=d[0].index,k=_.data[C];k&&!k.skip&&p.push({element:k,datasetIndex:_.index,index:C})}),p):[]},dataset(n,t,e,i){const s=pt(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;let d=e.intersect?EM(n,s,r,i,o):DM(n,s,r,!1,i,o);if(d.length>0){const p=d[0].datasetIndex,_=n.getDatasetMeta(p).data;d=[];for(let C=0;C<_.length;++C)d.push({element:_[C],datasetIndex:p,index:C})}return d},point:(n,t,e,i)=>EM(n,pt(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>DM(n,pt(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>zB(n,pt(t,n),"x",e.intersect,i),y:(n,t,e,i)=>zB(n,pt(t,n),"y",e.intersect,i)}};const UB=["left","top","right","bottom"];function F0(n,t){return n.filter(e=>e.pos===t)}function GB(n,t){return n.filter(e=>-1===UB.indexOf(e.pos)&&e.box.axis===t)}function N0(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function WB(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function jB(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function C6(n,t,e,i){const{pos:s,box:r}=e,o=n.maxPadding;if(!ri(s)){e.size&&(n[s]-=e.size);const k=i[e.stack]||{size:0,count:1};k.size=Math.max(k.size,e.horizontal?r.height:r.width),e.size=k.size/k.count,n[s]+=e.size}r.getPadding&&jB(o,r.getPadding());const d=Math.max(0,t.outerWidth-WB(o,n,"left","right")),p=Math.max(0,t.outerHeight-WB(o,n,"top","bottom")),_=d!==n.w,C=p!==n.h;return n.w=d,n.h=p,e.horizontal?{same:_,other:C}:{same:C,other:_}}function T6(n,t){const e=t.maxPadding;return function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}(n?["left","right"]:["top","bottom"])}function B0(n,t,e,i){const s=[];let r,o,d,p,_,C;for(r=0,o=n.length,_=0;r<o;++r){d=n[r],p=d.box,p.update(d.width||t.w,d.height||t.h,T6(d.horizontal,t));const{same:k,other:N}=C6(t,e,d,i);_|=k&&s.length,C=C||N,p.fullSize||s.push(d)}return _&&B0(s,t,e,i)||C}function VT(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function $B(n,t,e,i){const s=e.padding;let{x:r,y:o}=t;for(const d of n){const p=d.box,_=i[d.stack]||{count:1,placed:0,weight:1},C=d.stackWeight/_.weight||1;if(d.horizontal){const k=t.w*C,N=_.size||p.height;Ao(_.start)&&(o=_.start),p.fullSize?VT(p,s.left,o,e.outerWidth-s.right-s.left,N):VT(p,t.left+_.placed,o,k,N),_.start=o,_.placed+=k,o=p.bottom}else{const k=t.h*C,N=_.size||p.width;Ao(_.start)&&(r=_.start),p.fullSize?VT(p,r,s.top,N,e.outerHeight-s.bottom-s.top):VT(p,r,t.top+_.placed,N,k),_.start=r,_.placed+=k,r=p.right}}t.x=r,t.y=o}li.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ro={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=xr(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),d=function w6(n){const t=function _6(n){const t=[];let e,i,s,r,o,d;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],({position:r,options:{stack:o,stackWeight:d=1}}=s),t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:d});return t}(n),e=N0(t.filter(_=>_.box.fullSize),!0),i=N0(F0(t,"left"),!0),s=N0(F0(t,"right")),r=N0(F0(t,"top"),!0),o=N0(F0(t,"bottom")),d=GB(t,"x"),p=GB(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(p).concat(o).concat(d),chartArea:F0(t,"chartArea"),vertical:i.concat(s).concat(p),horizontal:r.concat(o).concat(d)}}(n.boxes),p=d.vertical,_=d.horizontal;Mi(n.boxes,Q=>{"function"==typeof Q.beforeLayout&&Q.beforeLayout()});const C=p.reduce((Q,K)=>K.box.options&&!1===K.box.options.display?Q:Q+1,0)||1,k=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/C,hBoxMaxHeight:o/2}),N=Object.assign({},s);jB(N,xr(i));const z=Object.assign({maxPadding:N,w:r,h:o,x:s.left,y:s.top},s),W=function b6(n,t){const e=function x6(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!UB.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,d;for(r=0,o=n.length;r<o;++r){d=n[r];const{fullSize:p}=d.box,_=e[d.stack],C=_&&d.stackWeight/_.weight;d.horizontal?(d.width=C?C*i:p&&t.availableWidth,d.height=s):(d.width=i,d.height=C?C*s:p&&t.availableHeight)}return e}(p.concat(_),k);B0(d.fullSize,z,k,W),B0(p,z,k,W),B0(_,z,k,W)&&B0(p,z,k,W),function S6(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(z),$B(d.leftAndTop,z,k,W),z.x+=z.w,z.y+=z.h,$B(d.rightAndBottom,z,k,W),n.chartArea={left:z.left,top:z.top,right:z.left+z.w,bottom:z.top+z.h,height:z.h,width:z.w},Mi(d.chartArea,Q=>{const K=Q.box;Object.assign(K,n.chartArea),K.update(z.w,z.h,{left:0,top:0,right:0,bottom:0})})}};class YB{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class A6 extends YB{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const HT="$chartjs",E6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XB=n=>null===n||""===n,qB=!!D0&&{passive:!0};function I6(n,t,e){n.canvas.removeEventListener(t,e,qB)}function zT(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function L6(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const d of r)o=o||zT(d.addedNodes,i),o=o&&!zT(d.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function P6(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const d of r)o=o||zT(d.removedNodes,i),o=o&&!zT(d.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const V0=new Map;let ZB=0;function KB(){const n=window.devicePixelRatio;n!==ZB&&(ZB=n,V0.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function F6(n,t,e){const i=n.canvas,s=i&&pe(i);if(!s)return;const r=v0((d,p)=>{const _=s.clientWidth;e(d,p),_<s.clientWidth&&e()},window),o=new ResizeObserver(d=>{const p=d[0],_=p.contentRect.width,C=p.contentRect.height;0===_&&0===C||r(_,C)});return o.observe(s),function O6(n,t){V0.size||window.addEventListener("resize",KB),V0.set(n,t)}(n,r),o}function kM(n,t,e){e&&e.disconnect(),"resize"===t&&function R6(n){V0.delete(n),V0.size||window.removeEventListener("resize",KB)}(n)}function N6(n,t,e){const i=n.canvas,s=v0(r=>{null!==n.ctx&&e(function M6(n,t){const e=E6[n.type]||n.type,{x:i,y:s}=pt(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==s?s:null}}(r,n))},n,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return function k6(n,t,e){n.addEventListener(t,e,qB)}(i,t,s),s}class B6 extends YB{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function D6(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[HT]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",XB(s)){const r=Cy(n,"width");void 0!==r&&(n.width=r)}if(XB(i))if(""===n.style.height)n.height=n.width/(t||2);else{const r=Cy(n,"height");void 0!==r&&(n.height=r)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[HT])return!1;const i=e[HT].initial;["height","width"].forEach(r=>{const o=i[r];yi(o)?e.removeAttribute(r):e.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[HT],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:L6,detach:P6,resize:F6}[e]||N6)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];s&&(({attach:kM,detach:kM,resize:kM}[e]||I6)(t,e,s),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return function ls(n,t,e,i){const s=Ge(n),r=Ft(s,"margin"),o=Le(s.maxWidth,n,"clientWidth")||kg,d=Le(s.maxHeight,n,"clientHeight")||kg,p=function Tn(n,t,e){let i,s;if(void 0===t||void 0===e){const r=pe(n);if(r){const o=r.getBoundingClientRect(),d=Ge(r),p=Ft(d,"border","width"),_=Ft(d,"padding");t=o.width-_.width-p.width,e=o.height-_.height-p.height,i=Le(d.maxWidth,r,"clientWidth"),s=Le(d.maxHeight,r,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||kg,maxHeight:s||kg}}(n,t,e);let{width:_,height:C}=p;if("content-box"===s.boxSizing){const k=Ft(s,"border","width"),N=Ft(s,"padding");_-=N.width+k.width,C-=N.height+k.height}return _=Math.max(0,_-r.width),C=Math.max(0,i?Math.floor(_/i):C-r.height),_=gi(Math.min(_,o,p.maxWidth)),C=gi(Math.min(C,d,p.maxHeight)),_&&!C&&(C=gi(_/2)),{width:_,height:C}}(t,e,i,s)}isAttached(t){const e=pe(t);return!(!e||!e.isConnected)}}class H6{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const r of t){const o=r.plugin;if(!1===ts(o[i],[e,s,r.options],o)&&s.cancelable)return!1}return!0}invalidate(){yi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=$n(i.options&&i.options.plugins,{}),r=function z6(n){const t={},e=[],i=Object.keys(Au.plugins.items);for(let r=0;r<i.length;r++)e.push(Au.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];-1===e.indexOf(o)&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==s||e?function G6(n,{plugins:t,localIds:e},i,s){const r=[],o=n.getContext();for(const d of t){const p=d.id,_=U6(i[p],s);null!==_&&r.push({plugin:d,options:W6(n.config,{plugin:d,local:e[p]},_,o)})}return r}(t,r,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(d=>!o.some(p=>d.plugin.id===p.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function U6(n,t){return t||!1!==n?!0===n?{}:n:null}function W6(n,{plugin:t,local:e},i,s){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function IM(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(li.datasets[n]||{}).indexAxis||"x"}function MM(n,t){return"x"===n||"y"===n?n:t.axis||function Y6(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function QB(n){const t=n.options||(n.options={});t.plugins=$n(t.plugins,{}),t.scales=function X6(n,t){const e=vf[n.type]||{scales:{}},i=t.scales||{},s=IM(n.type,t),r=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(d=>{const p=i[d];if(!ri(p))return console.error(`Invalid scale configuration for scale: ${d}`);if(p._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const _=MM(d,p),C=function $6(n,t){return n===t?"_index_":"_value_"}(_,s),k=e.scales||{};r[_]=r[_]||d,o[d]=ff(Object.create(null),[{axis:_},p,k[_],k[C]])}),n.data.datasets.forEach(d=>{const p=d.type||n.type,_=d.indexAxis||IM(p,t),k=(vf[p]||{}).scales||{};Object.keys(k).forEach(N=>{const z=function j6(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(N,_),W=d[z+"AxisID"]||r[z]||z;o[W]=o[W]||Object.create(null),ff(o[W],[{axis:z},i[W],k[N]])})}),Object.keys(o).forEach(d=>{const p=o[d];ff(p,[li.scales[p.type],li.scale])}),o}(n,t)}function JB(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const eV=new Map,tV=new Set;function UT(n,t){let e=eV.get(n);return e||(e=t(),eV.set(n,e),tV.add(e)),e}const H0=(n,t,e)=>{const i=bu(t,e);void 0!==i&&n.add(i)};class Z6{constructor(t){this._config=function q6(n){return(n=n||{}).data=JB(n.data),QB(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=JB(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),QB(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return UT(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return UT(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return UT(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return UT(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),d=o.get(e);if(d)return d;const p=new Set;e.forEach(C=>{t&&(p.add(t),C.forEach(k=>H0(p,t,k))),C.forEach(k=>H0(p,s,k)),C.forEach(k=>H0(p,vf[r]||{},k)),C.forEach(k=>H0(p,li,k)),C.forEach(k=>H0(p,ET,k))});const _=Array.from(p);return 0===_.length&&_.push(Object.create(null)),tV.has(e)&&o.set(e,_),_}chartOptionScopes(){const{options:t,type:e}=this;return[t,vf[e]||{},li.datasets[e]||{},{type:e},li,ET]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:d}=nV(this._resolverCache,t,s);let p=o;(function Q6(n,t){const{isScriptable:e,isIndexable:i}=MT(n);for(const s of t){const r=e(s),o=i(s),d=(o||r)&&n[s];if(r&&(xc(d)||K6(d))||o&&Vi(d))return!0}return!1})(o,e)&&(r.$shared=!1,p=xf(o,i=xc(i)?i():i,this.createResolver(t,i,d)));for(const _ of e)r[_]=p[_];return r}createResolver(t,e,i=[""],s){const{resolver:r}=nV(this._resolverCache,t,i);return ri(e)?xf(r,e,void 0,s):r}}function nV(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:Ng(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(s,r)),r}const K6=n=>ri(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||xc(n[e]),!1),eX=["top","bottom","left","right","chartArea"];function iV(n,t){return"top"===n||"bottom"===n||-1===eX.indexOf(n)&&"x"===t}function sV(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function rV(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ts(e&&e.onComplete,[n],t)}function tX(n){const t=n.chart,e=t.options.animation;ts(e&&e.onProgress,[n],t)}function oV(n){return oe()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const GT={},aV=n=>{const t=oV(n);return Object.values(GT).filter(e=>e.canvas===t).pop()};function nX(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}class WT{constructor(t,e){const i=this.config=new Z6(e),s=oV(t),r=aV(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function V6(n){return!oe()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?A6:B6}(s)),this.platform.updateConfig(i);const d=this.platform.acquireContext(s,o.aspectRatio),p=d&&d.canvas,_=p&&p.height,C=p&&p.width;this.id=h0(),this.ctx=d,this.canvas=p,this.width=C,this.height=_,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new H6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function hT(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(k=>this.update(k),o.resizeDelay||0),this._dataChanges=[],GT[this.id]=this,d&&p?(Wd.listen(this,"complete",rV),Wd.listen(this,"progress",tX),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return yi(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Su(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return by(this.canvas,this.ctx),this}stop(){return Wd.stop(this),this}resize(t,e){Wd.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Su(this,d,!0)&&(this.notifyPlugins("resize",{size:o}),ts(i.onResize,[this,o],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){Mi(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,d)=>(o[d]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const d=e[o],p=MM(o,d),_="r"===p,C="x"===p;return{options:d,dposition:_?"chartArea":C?"bottom":"left",dtype:_?"radialLinear":C?"category":"linear"}}))),Mi(r,o=>{const d=o.options,p=d.id,_=MM(p,d),C=$n(d.type,o.dtype);(void 0===d.position||iV(d.position,_)!==iV(o.dposition))&&(d.position=o.dposition),s[p]=!0;let k=null;p in i&&i[p].type===C?k=i[p]:(k=new(Au.getScale(C))({id:p,type:C,ctx:this.ctx,chart:this}),i[k.id]=k),k.init(d,t)}),Mi(s,(o,d)=>{o||delete i[d]}),Mi(i,o=>{ro.configure(this,o,o.options),ro.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(sV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{0===e.filter(r=>r===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let o=this.getDatasetMeta(i);const d=r.type||this.config.type;if(o.type&&o.type!==d&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=d,o.indexAxis=r.indexAxis||IM(d,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const p=Au.getController(d),{datasetElementType:_,dataElementType:C}=li.datasets[d];Object.assign(p.prototype,{dataElementType:Au.getElement(C),datasetElementType:_&&Au.getElement(_)}),o.controller=new p(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Mi(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let _=0,C=this.data.datasets.length;_<C;_++){const{controller:k}=this.getDatasetMeta(_),N=!s&&-1===r.indexOf(k);k.buildOrUpdateElements(N),o=Math.max(+k.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Mi(r,_=>{_.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sV("z","_idx"));const{_active:d,_lastEvent:p}=this;p?this._eventHandler(p,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Mi(this.scales,t=>{ro.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!m0(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e)nX(t,s,"_removeElements"===i?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,d)=>d+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!m0(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ro.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Mi(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,xc(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wd.has(this)?this.attached&&!Wd.running(this)&&Wd.start(this):(this.draw(),rV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,r=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&yf(e,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Hd(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Vd(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const r=y6.modes[e];return"function"==typeof r?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Dc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);Ao(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(d=>d.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Wd.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),by(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete GT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,d)=>{r.offsetX=o,r.offsetY=d,this._eventHandler(r)};Mi(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(p,_)=>{e.addEventListener(this,p,_),t[p]=_},s=(p,_)=>{t[p]&&(e.removeEventListener(this,p,_),delete t[p])},r=(p,_)=>{this.canvas&&this.resize(p,_)};let o;const d=()=>{s("attach",d),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():o()}unbindEvents(){Mi(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Mi(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,o,d,p;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),d=0,p=t.length;d<p;++d){o=t[d];const _=o&&this.getDatasetMeta(o.datasetIndex).controller;_&&_[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const d=this.getDatasetMeta(r);if(!d)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:d.data[o],index:o}});!f0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(p,_)=>p.filter(C=>!_.some(k=>C.datasetIndex===k.datasetIndex&&C.index===k.index)),o=r(e,t),d=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),d.length&&s.mode&&this.updateHoverStyle(d,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,d=this._getActiveElements(t,s,i,e),p=function aT(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),_=function iX(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,p);i&&(this._lastEvent=null,ts(r.onHover,[t,d,this],this),p&&ts(r.onClick,[t,d,this],this));const C=!f0(d,s);return(C||e)&&(this._active=d,this._updateHoverStyles(d,s,e)),this._lastEvent=_,C}_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}const lV=()=>Mi(WT.instances,n=>n._plugins.invalidate()),bf=!0;function cV(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:d,innerRadius:p}=t;let _=s/d;n.beginPath(),n.arc(r,o,d,i-_,e+_),p>s?(_=s/p,n.arc(r,o,p,e+_,i-_,!0)):n.arc(r,o,s,e+As,i-As),n.closePath(),n.clip()}function Ay(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function LM(n,t,e,i,s,r){const{x:o,y:d,startAngle:p,pixelMargin:_,innerRadius:C}=t,k=Math.max(t.outerRadius+i+e-_,0),N=C>0?C+i+e+_:0;let z=0;const W=s-p;if(i){const At=((C>0?C-i:0)+(k>0?k-i:0))/2;z=(W-(0!==At?W*At/(At+i):W))/2}const K=(W-Math.max(.001,W*k-e/as)/k)/2,fe=p+K+z,ve=s-K-z,{outerStart:Te,outerEnd:Ee,innerStart:De,innerEnd:Fe}=function rX(n,t,e,i){const s=function sX(n){return wy(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),d=p=>{const _=(e-Math.min(r,p))*i/2;return tr(p,0,Math.min(r,_))};return{outerStart:d(s.outerStart),outerEnd:d(s.outerEnd),innerStart:tr(s.innerStart,0,o),innerEnd:tr(s.innerEnd,0,o)}}(t,N,k,ve-fe),Qe=k-Te,yt=k-Ee,Pt=fe+Te/Qe,Jt=ve-Ee/yt,Rt=N+De,fn=N+Fe,un=fe+De/Rt,zn=ve-Fe/fn;if(n.beginPath(),r){if(n.arc(o,d,k,Pt,Jt),Ee>0){const At=Ay(yt,Jt,o,d);n.arc(At.x,At.y,Ee,Jt,ve+As)}const gn=Ay(fn,ve,o,d);if(n.lineTo(gn.x,gn.y),Fe>0){const At=Ay(fn,zn,o,d);n.arc(At.x,At.y,Fe,ve+As,zn+Math.PI)}if(n.arc(o,d,N,ve-Fe/N,fe+De/N,!0),De>0){const At=Ay(Rt,un,o,d);n.arc(At.x,At.y,De,un+Math.PI,fe-As)}const xt=Ay(Qe,fe,o,d);if(n.lineTo(xt.x,xt.y),Te>0){const At=Ay(Qe,Pt,o,d);n.arc(At.x,At.y,Te,fe-As,Pt)}}else{n.moveTo(o,d);const gn=Math.cos(Pt)*k+o,xt=Math.sin(Pt)*k+d;n.lineTo(gn,xt);const At=Math.cos(Jt)*k+o,Zt=Math.sin(Jt)*k+d;n.lineTo(At,Zt)}n.closePath()}Object.defineProperties(WT,{defaults:{enumerable:bf,value:li},instances:{enumerable:bf,value:GT},overrides:{enumerable:bf,value:vf},registry:{enumerable:bf,value:Au},version:{enumerable:bf,value:"3.9.1"},getChart:{enumerable:bf,value:aV},register:{enumerable:bf,value:(...n)=>{Au.add(...n),lV()}},unregister:{enumerable:bf,value:(...n)=>{Au.remove(...n),lV()}}});class jT extends Ic{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=ly(s,{x:t,y:e}),{startAngle:d,endAngle:p,innerRadius:_,outerRadius:C,circumference:k}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),N=this.options.spacing/2,W=$n(k,p-d)>=Oi||uy(r,d,p),Q=Cc(o,_+N,C+N);return W&&Q}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:p,spacing:_}=this.options,C=(s+r)/2,k=(o+d+_+p)/2;return{x:e+Math.cos(C)*k,y:i+Math.sin(C)*k}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/2,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Oi?Math.floor(i/Oi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let d=0;if(s){d=s/2;const _=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(_)*d,Math.sin(_)*d),this.circumference>=as&&(d=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const p=function oX(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:d}=t;let p=t.endAngle;if(r){LM(n,t,e,i,o+Oi,s);for(let _=0;_<r;++_)n.fill();isNaN(d)||(p=o+d%Oi,d%Oi==0&&(p+=Oi))}return LM(n,t,e,i,p,s),n.fill(),p}(t,this,d,r,o);(function lX(n,t,e,i,s,r){const{options:o}=t,{borderWidth:d,borderJoinStyle:p}=o,_="inner"===o.borderAlign;!d||(_?(n.lineWidth=2*d,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel"),t.fullCircles&&function aX(n,t,e){const{x:i,y:s,startAngle:r,pixelMargin:o,fullCircles:d}=t,p=Math.max(t.outerRadius-o,0),_=t.innerRadius+o;let C;for(e&&cV(n,t,r+Oi),n.beginPath(),n.arc(i,s,_,r+Oi,r,!0),C=0;C<d;++C)n.stroke();for(n.beginPath(),n.arc(i,s,p,r,r+Oi),C=0;C<d;++C)n.stroke()}(n,t,_),_&&cV(n,t,s),LM(n,t,e,i,s,r),n.stroke())})(t,this,d,r,p,o),t.restore()}}function uV(n,t,e=t){n.lineCap=$n(e.borderCapStyle,t.borderCapStyle),n.setLineDash($n(e.borderDash,t.borderDash)),n.lineDashOffset=$n(e.borderDashOffset,t.borderDashOffset),n.lineJoin=$n(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=$n(e.borderWidth,t.borderWidth),n.strokeStyle=$n(e.borderColor,t.borderColor)}function cX(n,t,e){n.lineTo(e.x,e.y)}function dV(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:d}=t,p=Math.max(s,o),_=Math.min(r,d);return{count:i,start:p,loop:t.loop,ilen:_<p&&!(s<o&&r<o||s>d&&r>d)?i+_-p:_-p}}function dX(n,t,e,i){const{points:s,options:r}=t,{count:o,start:d,loop:p,ilen:_}=dV(s,e,i),C=function uX(n){return n.stepped?sB:n.tension||"monotone"===n.cubicInterpolationMode?rB:cX}(r);let z,W,Q,{move:k=!0,reverse:N}=i||{};for(z=0;z<=_;++z)W=s[(d+(N?_-z:z))%o],!W.skip&&(k?(n.moveTo(W.x,W.y),k=!1):C(n,Q,W,N,r.stepped),Q=W);return p&&(W=s[(d+(N?_:0))%o],C(n,Q,W,N,r.stepped)),!!p}function hX(n,t,e,i){const s=t.points,{count:r,start:o,ilen:d}=dV(s,e,i),{move:p=!0,reverse:_}=i||{};let N,z,W,Q,K,fe,C=0,k=0;const ve=Ee=>(o+(_?d-Ee:Ee))%r,Te=()=>{Q!==K&&(n.lineTo(C,K),n.lineTo(C,Q),n.lineTo(C,fe))};for(p&&(z=s[ve(0)],n.moveTo(z.x,z.y)),N=0;N<=d;++N){if(z=s[ve(N)],z.skip)continue;const Ee=z.x,De=z.y,Fe=0|Ee;Fe===W?(De<Q?Q=De:De>K&&(K=De),C=(k*C+Ee)/++k):(Te(),n.lineTo(Ee,De),W=Fe,k=0,Q=K=De),fe=De}Te()}function PM(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?dX:hX}jT.id="arc",jT.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},jT.defaultRoutes={backgroundColor:"backgroundColor"};const mX="function"==typeof Path2D;let $T=(()=>{class n extends Ic{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(q(this._points,s,e,s.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function d4(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:o,end:d}=function c4(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}(e,s,r,i);return function bB(n,t,e,i){return i&&i.setContext&&e?function h4(n,t,e,i){const s=n._chart.getContext(),r=wB(n.options),{_datasetIndex:o,options:{spanGaps:d}}=n,p=e.length,_=[];let C=r,k=t[0].start,N=k;function z(W,Q,K,fe){const ve=d?-1:1;if(W!==Q){for(W+=p;e[W%p].skip;)W-=ve;for(;e[Q%p].skip;)Q+=ve;W%p!=Q%p&&(_.push({start:W%p,end:Q%p,loop:K,style:fe}),C=fe,k=Q%p)}}for(const W of t){k=d?k:W.start;let K,Q=e[k%p];for(N=k+1;N<=W.end;N++){const fe=e[N%p];K=wB(i.setContext(Dc(s,{type:"segment",p0:Q,p1:fe,p0DataIndex:(N-1)%p,p1DataIndex:N%p,datasetIndex:o}))),f4(K,C)&&z(k,N-1,W.loop,C),Q=fe,C=K}k<N-1&&z(k,N-1,W.loop,C)}return _}(n,t,e,i):t}(n,!0===i?[{start:o,end:d,loop:r}]:function u4(n,t,e,i){const s=n.length,r=[];let p,o=t,d=n[t];for(p=t+1;p<=e;++p){const _=n[p%s];_.skip||_.stop?d.skip||(r.push({start:t%s,end:(p-1)%s,loop:i=!1}),t=o=_.stop?p:null):(o=p,d.skip&&(t=p)),d=_}return null!==o&&r.push({start:t%s,end:o%s,loop:i}),r}(e,o,d<o?d+s:d,!!n._fullLoop&&0===o&&d===s-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,s=e.length;return s&&this.points[e[s-1].end]}interpolate(e,i){const s=this.options,r=e[i],o=this.points,d=xB(this,{property:i,start:r,end:r});if(!d.length)return;const p=[],_=function fX(n){return n.stepped?k0:n.tension||"monotone"===n.cubicInterpolationMode?I0:kc}(s);let C,k;for(C=0,k=d.length;C<k;++C){const{start:N,end:z}=d[C],W=o[N],Q=o[z];if(W===Q){p.push(W);continue}const fe=_(W,Q,Math.abs((r-W[i])/(Q[i]-W[i])),s.stepped);fe[i]=e[i],p.push(fe)}return 1===p.length?p[0]:p}pathSegment(e,i,s){return PM(this)(e,this,i,s)}path(e,i,s){const r=this.segments,o=PM(this);let d=this._loop;i=i||0,s=s||this.points.length-i;for(const p of r)d&=o(e,this,p,{start:i,end:i+s-1});return!!d}draw(e,i,s,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function vX(n,t,e,i){mX&&!t.options.segment?function pX(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),uV(n,t.options),n.stroke(s)}(n,t,e,i):function gX(n,t,e,i){const{segments:s,options:r}=t,o=PM(t);for(const d of s)uV(n,r,d.style),n.beginPath(),o(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function hV(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}let yX=(()=>{class n extends Ic{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.options,{x:o,y:d}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-d,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return hV(this,e,"x",i)}inYRange(e,i){return hV(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const s=this.options;this.skip||s.radius<.1||!Vd(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Rg(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function fV(n,t){const{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let d,p,_,C,k;return n.horizontal?(k=o/2,d=Math.min(e,s),p=Math.max(e,s),_=i-k,C=i+k):(k=r/2,d=e-k,p=e+k,_=Math.min(i,s),C=Math.max(i,s)),{left:d,top:_,right:p,bottom:C}}function wf(n,t,e,i){return n?0:tr(t,e,i)}function OM(n,t,e,i){const s=null===t,r=null===e,d=n&&!(s&&r)&&fV(n,i);return d&&(s||Cc(t,d.left,d.right))&&(r||Cc(e,d.top,d.bottom))}function CX(n,t){n.rect(t.x,t.y,t.w,t.h)}function RM(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+s,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-s),radius:n.radius}}class YT extends Ic{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=function bX(n){const t=fV(n),e=t.right-t.left,i=t.bottom-t.top,s=function _X(n,t,e){const s=n.borderSkipped,r=E0(n.options.borderWidth);return{t:wf(s.top,r.top,0,e),r:wf(s.right,r.right,0,t),b:wf(s.bottom,r.bottom,0,e),l:wf(s.left,r.left,0,t)}}(n,e/2,i/2),r=function xX(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=zd(s),o=Math.min(t,e),d=n.borderSkipped,p=i||ri(s);return{topLeft:wf(!p||d.top||d.left,r.topLeft,0,o),topRight:wf(!p||d.top||d.right,r.topRight,0,o),bottomLeft:wf(!p||d.bottom||d.left,r.bottomLeft,0,o),bottomRight:wf(!p||d.bottom||d.right,r.bottomRight,0,o)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}(this),d=function wX(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?Fg:CX;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),d(t,RM(o,e,r)),t.clip(),d(t,RM(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,RM(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return OM(this,t,e,i)}inXRange(t,e){return OM(this,t,null,e)}inYRange(t,e){return OM(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}YT.id="bar",YT.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},YT.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var SX=Object.freeze({__proto__:null,ArcElement:jT,LineElement:$T,PointElement:yX,BarElement:YT});function pV(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function gV(n){n.data.datasets.forEach(t=>{pV(t)})}var DX={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void gV(n);const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:d}=s,p=n.getDatasetMeta(r),_=o||s.data;if("y"===Ud([d,n.options.indexAxis])||!p.controller.supportsDecimation)return;const C=n.scales[p.xAxisID];if("linear"!==C.type&&"time"!==C.type||n.options.parsing)return;let W,{start:k,count:N}=function EX(n,t){const e=t.length;let s,i=0;const{iScale:r}=n,{min:o,max:d,minDefined:p,maxDefined:_}=r.getUserBounds();return p&&(i=tr(Sc(t,r.axis,o).lo,0,e-1)),s=_?tr(Sc(t,r.axis,d).hi+1,i,e)-i:e-i,{start:i,count:s}}(p,_);if(N<=(e.threshold||4*i))pV(s);else{switch(yi(o)&&(s._data=_,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Q){this._data=Q}})),e.algorithm){case"lttb":W=function TX(n,t,e,i,s){const r=s.samples||i;if(r>=e)return n.slice(t,t+e);const o=[],d=(e-2)/(r-2);let p=0;const _=t+e-1;let k,N,z,W,Q,C=t;for(o[p++]=n[C],k=0;k<r-2;k++){let ve,K=0,fe=0;const Te=Math.floor((k+1)*d)+1+t,Ee=Math.min(Math.floor((k+2)*d)+1,e)+t,De=Ee-Te;for(ve=Te;ve<Ee;ve++)K+=n[ve].x,fe+=n[ve].y;K/=De,fe/=De;const Fe=Math.floor(k*d)+1+t,Qe=Math.min(Math.floor((k+1)*d)+1,e)+t,{x:yt,y:Pt}=n[C];for(z=W=-1,ve=Fe;ve<Qe;ve++)W=.5*Math.abs((yt-K)*(n[ve].y-Pt)-(yt-n[ve].x)*(fe-Pt)),W>z&&(z=W,N=n[ve],Q=ve);o[p++]=N,C=Q}return o[p++]=n[_],o}(_,k,N,i,e);break;case"min-max":W=function AX(n,t,e,i){let o,d,p,_,C,k,N,z,W,Q,s=0,r=0;const K=[],ve=n[t].x,Ee=n[t+e-1].x-ve;for(o=t;o<t+e;++o){d=n[o],p=(d.x-ve)/Ee*i,_=d.y;const De=0|p;if(De===C)_<W?(W=_,k=o):_>Q&&(Q=_,N=o),s=(r*s+d.x)/++r;else{const Fe=o-1;if(!yi(k)&&!yi(N)){const Qe=Math.min(k,N),yt=Math.max(k,N);Qe!==z&&Qe!==Fe&&K.push({...n[Qe],x:s}),yt!==z&&yt!==Fe&&K.push({...n[yt],x:s})}o>0&&Fe!==z&&K.push(n[Fe]),K.push(d),C=De,r=0,W=Q=_,k=N=z=o}}return K}(_,k,N,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=W}})},destroy(n){gV(n)}};function FM(n,t,e,i){if(i)return;let s=t[n],r=e[n];return"angle"===n&&(s=so(s),r=so(r)),{property:n,start:s,end:r}}function NM(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function mV(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function vV(n,t){let e=[],i=!1;return Vi(n)?(i=!0,e=n):e=function IX(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:d})=>{d=NM(o,d,s);const p=s[o],_=s[d];null!==i?(r.push({x:p.x,y:i}),r.push({x:_.x,y:i})):null!==e&&(r.push({x:e,y:p.y}),r.push({x:e,y:_.y}))}),r}(n,t),e.length?new $T({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function yV(n){return n&&!1!==n.fill}function MX(n,t,e){let s=n[t].fill;const r=[t];let o;if(!e)return s;for(;!1!==s&&-1===r.indexOf(s);){if(!_s(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function LX(n,t,e){const i=function FX(n){const t=n.options,e=t.fill;let i=$n(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(ri(i))return!isNaN(i.value)&&i;let s=parseFloat(i);return _s(s)&&Math.floor(s)===s?function PX(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function VX(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:o,last:d,point:p}=HX(r,t,"x");if(!(!p||o&&d))if(o)i.unshift(p);else if(n.push(p),!d)break}n.push(...i)}function HX(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,o=n.points;let d=!1,p=!1;for(let _=0;_<r.length;_++){const C=r[_],k=o[C.start][e],N=o[C.end][e];if(Cc(s,k,N)){d=s===k,p=s===N;break}}return{first:d,last:p,point:i}}class _V{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:o}=this;return t.arc(s,r,o,(e=e||{start:0,end:Oi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function BM(n,t,e){const i=function zX(n){const{chart:t,fill:e,line:i}=n;if(_s(e))return function UX(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function NX(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,d=function BX(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}(t,e);d.push(vV({x:null,y:t.bottom},i));for(let p=0;p<r.length;p++){const _=r[p];for(let C=_.start;C<=_.end;C++)VX(s,o[C],d)}return new $T({points:s,options:{}})}(n);if("shape"===e)return!0;const s=function GX(n){return(n.scale||{}).getPointPositionForValue?function jX(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=function RX(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:ri(n)?n.value:t.getBaseValue(),i}(e,t,r),d=[];if(i.grid.circular){const p=t.getPointPositionForValue(0,r);return new _V({x:p.x,y:p.y,radius:t.getDistanceFromCenterForValue(o)})}for(let p=0;p<s;++p)d.push(t.getPointPositionForValue(p,o));return d}(n):function WX(n){const{scale:t={},fill:e}=n,i=function OX(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:ri(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(_s(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}(n)}(n);return s instanceof _V?s:vV(s,i)}(t),{line:s,scale:r,axis:o}=t,d=s.options,p=d.fill,_=d.backgroundColor,{above:C=_,below:k=_}=p||{};i&&s.points.length&&(yf(n,e),function $X(n,t){const{line:e,target:i,above:s,below:r,area:o,scale:d}=t,p=e._loop?"angle":t.axis;n.save(),"x"===p&&r!==s&&(xV(n,i,o.top),bV(n,{line:e,target:i,color:s,scale:d,property:p}),n.restore(),n.save(),xV(n,i,o.bottom)),bV(n,{line:e,target:i,color:r,scale:d,property:p}),n.restore()}(n,{line:s,target:i,above:C,below:k,area:e,scale:r,axis:o}),Hd(n))}function xV(n,t,e){const{segments:i,points:s}=t;let r=!0,o=!1;n.beginPath();for(const d of i){const{start:p,end:_}=d,C=s[p],k=s[NM(p,_,s)];r?(n.moveTo(C.x,C.y),r=!1):(n.lineTo(C.x,e),n.lineTo(C.x,C.y)),o=!!t.pathSegment(n,d,{move:o}),o?n.closePath():n.lineTo(k.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function bV(n,t){const{line:e,target:i,property:s,color:r,scale:o}=t,d=function kX(n,t,e){const i=n.segments,s=n.points,r=t.points,o=[];for(const d of i){let{start:p,end:_}=d;_=NM(p,_,s);const C=FM(e,s[p],s[_],d.loop);if(!t.segments){o.push({source:d,target:C,start:s[p],end:s[_]});continue}const k=xB(t,C);for(const N of k){const z=FM(e,r[N.start],r[N.end],N.loop),W=_B(d,s,z);for(const Q of W)o.push({source:Q,target:N,start:{[e]:mV(C,z,"start",Math.max)},end:{[e]:mV(C,z,"end",Math.min)}})}}return o}(e,i,s);for(const{source:p,target:_,start:C,end:k}of d){const{style:{backgroundColor:N=r}={}}=p,z=!0!==i;n.save(),n.fillStyle=N,YX(n,o,z&&FM(s,C,k)),n.beginPath();const W=!!e.pathSegment(n,p);let Q;if(z){W?n.closePath():wV(n,i,k,s);const K=!!i.pathSegment(n,_,{move:W,reverse:!0});Q=W&&K,Q||wV(n,i,C,s)}n.closePath(),n.fill(Q?"evenodd":"nonzero"),n.restore()}}function YX(n,t,e){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:d}=e||{};"x"===r&&(n.beginPath(),n.rect(o,i,d-o,s-i),n.clip())}function wV(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var XX={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,o,d,p;for(o=0;o<i;++o)r=n.getDatasetMeta(o),d=r.dataset,p=null,d&&d.options&&d instanceof $T&&(p={visible:n.isDatasetVisible(o),index:o,fill:LX(d,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:d}),r.$filler=p,s.push(p);for(o=0;o<i;++o)p=s[o],p&&!1!==p.fill&&(p.fill=MX(s,o,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const d=s[o].$filler;!d||(d.line.updateControlPoints(r,d.axis),i&&d.fill&&BM(n.ctx,d,r))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;yV(r)&&BM(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!yV(i)||"beforeDatasetDraw"!==e.drawTime||BM(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const CV=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class SV extends Ic{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ts(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Os(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:d,itemHeight:p}=CV(i,r);let _,C;e.font=s.string,this.isHorizontal()?(_=this.maxWidth,C=this._fitRows(o,r,d,p)+10):(C=this.maxHeight,_=this._fitCols(o,r,d,p)+10),this.width=Math.min(_,t.maxWidth||this.maxWidth),this.height=Math.min(C,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:d}}}=this,p=this.legendHitBoxes=[],_=this.lineWidths=[0],C=s+d;let k=t;r.textAlign="left",r.textBaseline="middle";let N=-1,z=-C;return this.legendItems.forEach((W,Q)=>{const K=i+e/2+r.measureText(W.text).width;(0===Q||_[_.length-1]+K+2*d>o)&&(k+=C,_[_.length-(Q>0?0:1)]=0,z+=C,N++),p[Q]={left:0,top:z,row:N,width:K,height:s},_[_.length-1]+=K+d}),k}_fitCols(t,e,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:d}}}=this,p=this.legendHitBoxes=[],_=this.columnSizes=[],C=o-t;let k=d,N=0,z=0,W=0,Q=0;return this.legendItems.forEach((K,fe)=>{const ve=i+e/2+r.measureText(K.text).width;fe>0&&z+s+2*d>C&&(k+=N+d,_.push({width:N,height:z}),W+=N+d,Q++,N=z=0),p[fe]={left:W,top:z,col:Q,width:ve,height:s},N=Math.max(N,ve),z+=s+d}),k+=N,_.push({width:N,height:z}),k}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ty(r,this.left,this.width);if(this.isHorizontal()){let d=0,p=Yi(i,this.left+s,this.right-this.lineWidths[d]);for(const _ of e)d!==_.row&&(d=_.row,p=Yi(i,this.left+s,this.right-this.lineWidths[d])),_.top+=this.top+t+s,_.left=o.leftForLtr(o.x(p),_.width),p+=_.width+s}else{let d=0,p=Yi(i,this.top+t+s,this.bottom-this.columnSizes[d].height);for(const _ of e)_.col!==d&&(d=_.col,p=Yi(i,this.top+t+s,this.bottom-this.columnSizes[d].height)),_.top=p,_.left+=this.left+s,_.left=o.leftForLtr(o.x(_.left),_.width),p+=_.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;yf(t,this),this._draw(),Hd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,d=li.color,p=Ty(t.rtl,this.left,this.width),_=Os(o.font),{color:C,padding:k}=o,N=_.size,z=N/2;let W;this.drawTitle(),s.textAlign=p.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=_.string;const{boxWidth:Q,boxHeight:K,itemHeight:fe}=CV(o,N),Ee=this.isHorizontal(),De=this._computeTitleHeight();W=Ee?{x:Yi(r,this.left+k,this.right-i[0]),y:this.top+k+De,line:0}:{x:this.left+k,y:Yi(r,this.top+De+k,this.bottom-e[0].height),line:0},gB(this.ctx,t.textDirection);const Fe=fe+k;this.legendItems.forEach((Qe,yt)=>{s.strokeStyle=Qe.fontColor||C,s.fillStyle=Qe.fontColor||C;const Pt=s.measureText(Qe.text).width,Jt=p.textAlign(Qe.textAlign||(Qe.textAlign=o.textAlign)),Rt=Q+z+Pt;let fn=W.x,un=W.y;p.setWidth(this.width),Ee?yt>0&&fn+Rt+k>this.right&&(un=W.y+=Fe,W.line++,fn=W.x=Yi(r,this.left+k,this.right-i[W.line])):yt>0&&un+Fe>this.bottom&&(fn=W.x=fn+e[W.line].width+k,W.line++,un=W.y=Yi(r,this.top+De+k,this.bottom-e[W.line].height)),function(Qe,yt,Pt){if(isNaN(Q)||Q<=0||isNaN(K)||K<0)return;s.save();const Jt=$n(Pt.lineWidth,1);if(s.fillStyle=$n(Pt.fillStyle,d),s.lineCap=$n(Pt.lineCap,"butt"),s.lineDashOffset=$n(Pt.lineDashOffset,0),s.lineJoin=$n(Pt.lineJoin,"miter"),s.lineWidth=Jt,s.strokeStyle=$n(Pt.strokeStyle,d),s.setLineDash($n(Pt.lineDash,[])),o.usePointStyle){const Rt={radius:K*Math.SQRT2/2,pointStyle:Pt.pointStyle,rotation:Pt.rotation,borderWidth:Jt},fn=p.xPlus(Qe,Q/2);DT(s,Rt,fn,yt+z,o.pointStyleWidth&&Q)}else{const Rt=yt+Math.max((N-K)/2,0),fn=p.leftForLtr(Qe,Q),un=zd(Pt.borderRadius);s.beginPath(),Object.values(un).some(zn=>0!==zn)?Fg(s,{x:fn,y:Rt,w:Q,h:K,radius:un}):s.rect(fn,Rt,Q,K),s.fill(),0!==Jt&&s.stroke()}s.restore()}(p.x(fn),un,Qe),fn=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(Jt,fn+Q+z,Ee?fn+Rt:this.right,t.rtl),function(Qe,yt,Pt){_f(s,Pt.text,Qe,yt+fe/2,_,{strikethrough:Pt.hidden,textAlign:p.textAlign(Pt.textAlign)})}(p.x(fn),un,Qe),Ee?W.x+=Rt+k:W.y+=Fe}),mB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Os(e.font),s=xr(e.padding);if(!e.display)return;const r=Ty(t.rtl,this.left,this.width),o=this.ctx,d=e.position,_=s.top+i.size/2;let C,k=this.left,N=this.width;if(this.isHorizontal())N=Math.max(...this.lineWidths),C=this.top+_,k=Yi(t.align,k,this.right-N);else{const W=this.columnSizes.reduce((Q,K)=>Math.max(Q,K.height),0);C=_+Yi(t.align,this.top,this.bottom-W-t.labels.padding-this._computeTitleHeight())}const z=Yi(d,k,k+N);o.textAlign=r.textAlign(fT(d)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,_f(o,e.text,z,C,i)}_computeTitleHeight(){const t=this.options.title,e=Os(t.font),i=xr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(Cc(t,this.left,this.right)&&Cc(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Cc(t,s.left,s.left+s.width)&&Cc(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function ZX(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const s=this._hoveredItem,r=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(s,i);s&&!r&&ts(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&ts(e.onHover,[t,i,this],this)}else i&&ts(e.onClick,[t,i,this],this)}}var KX={id:"legend",_element:SV,start(n,t,e){const i=n.legend=new SV({ctx:n.ctx,options:e,chart:n});ro.configure(n,i,e),ro.addBox(n,i)},stop(n){ro.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ro.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const d=o.controller.getStyle(e?0:void 0),p=xr(d.borderWidth);return{text:t[o.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class VM extends Ic{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=Vi(i.text)?i.text.length:1;this._padding=xr(i.padding);const r=s*Os(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:o}=this,d=o.align;let _,C,k,p=0;return this.isHorizontal()?(C=Yi(d,i,r),k=e+t,_=r-i):("left"===o.position?(C=i+t,k=Yi(d,s,e),p=-.5*as):(C=r-t,k=Yi(d,e,s),p=.5*as),_=s-e),{titleX:C,titleY:k,maxWidth:_,rotation:p}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Os(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:d,maxWidth:p,rotation:_}=this._drawArgs(r);_f(t,e.text,0,0,i,{color:e.color,maxWidth:p,rotation:_,textAlign:fT(e.align),textBaseline:"middle",translation:[o,d]})}}var JX={id:"title",_element:VM,start(n,t,e){!function QX(n,t){const e=new VM({ctx:n.ctx,options:t,chart:n});ro.configure(n,e,t),ro.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){ro.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ro.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const XT=new WeakMap;var e8={id:"subtitle",start(n,t,e){const i=new VM({ctx:n.ctx,options:e,chart:n});ro.configure(n,i,e),ro.addBox(n,i),XT.set(n,i)},stop(n){ro.removeBox(n,XT.get(n)),XT.delete(n)},beforeUpdate(n,t,e){const i=XT.get(n);ro.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const z0={average(n){if(!n.length)return!1;let t,e,i=0,s=0,r=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const d=o.tooltipPosition();i+=d.x,s+=d.y,++r}}return{x:i/r,y:s/r}},nearest(n,t){if(!n.length)return!1;let r,o,d,e=t.x,i=t.y,s=Number.POSITIVE_INFINITY;for(r=0,o=n.length;r<o;++r){const p=n[r].element;if(p&&p.hasValue()){const C=cy(t,p.getCenterPoint());C<s&&(s=C,d=p)}}if(d){const p=d.tooltipPosition();e=p.x,i=p.y}return{x:e,y:i}}};function Eu(n,t){return t&&(Vi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function jd(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function t8(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:d}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:d,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function TV(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:d}=t,p=Os(t.bodyFont),_=Os(t.titleFont),C=Os(t.footerFont),k=r.length,N=s.length,z=i.length,W=xr(t.padding);let Q=W.height,K=0,fe=i.reduce((Ee,De)=>Ee+De.before.length+De.lines.length+De.after.length,0);fe+=n.beforeBody.length+n.afterBody.length,k&&(Q+=k*_.lineHeight+(k-1)*t.titleSpacing+t.titleMarginBottom),fe&&(Q+=z*(t.displayColors?Math.max(d,p.lineHeight):p.lineHeight)+(fe-z)*p.lineHeight+(fe-1)*t.bodySpacing),N&&(Q+=t.footerMarginTop+N*C.lineHeight+(N-1)*t.footerSpacing);let ve=0;const Te=function(Ee){K=Math.max(K,e.measureText(Ee).width+ve)};return e.save(),e.font=_.string,Mi(n.title,Te),e.font=p.string,Mi(n.beforeBody.concat(n.afterBody),Te),ve=t.displayColors?o+2+t.boxPadding:0,Mi(i,Ee=>{Mi(Ee.before,Te),Mi(Ee.lines,Te),Mi(Ee.after,Te)}),ve=0,e.font=C.string,Mi(n.footer,Te),e.restore(),K+=W.width,{width:K,height:Q}}function s8(n,t,e,i){const{x:s,width:r}=e,{width:o,chartArea:{left:d,right:p}}=n;let _="center";return"center"===i?_=s<=(d+p)/2?"left":"right":s<=r/2?_="left":s>=o-r/2&&(_="right"),function i8(n,t,e,i){const{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if("left"===n&&s+r+o>t.width||"right"===n&&s-r-o<0)return!0}(_,n,t,e)&&(_="center"),_}function AV(n,t,e){const i=e.yAlign||t.yAlign||function n8(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||s8(n,t,e,i),yAlign:i}}function EV(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:d,yAlign:p}=e,_=s+r,{topLeft:C,topRight:k,bottomLeft:N,bottomRight:z}=zd(o);let W=function r8(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,d);const Q=function o8(n,t,e){let{y:i,height:s}=n;return"top"===t?i+=e:i-="bottom"===t?s+e:s/2,i}(t,p,_);return"center"===p?"left"===d?W+=_:"right"===d&&(W-=_):"left"===d?W-=Math.max(C,N)+s:"right"===d&&(W+=Math.max(k,z)+s),{x:tr(W,0,i.width-t.width),y:tr(Q,0,i.height-t.height)}}function qT(n,t,e){const i=xr(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function DV(n){return Eu([],jd(n))}function kV(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let IV=(()=>{class n extends Ic{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&i.options.animation&&s.animations,o=new SB(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function a8(n,t,e){return Dc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:s}=i,r=s.beforeTitle.apply(this,[e]),o=s.title.apply(this,[e]),d=s.afterTitle.apply(this,[e]);let p=[];return p=Eu(p,jd(r)),p=Eu(p,jd(o)),p=Eu(p,jd(d)),p}getBeforeBody(e,i){return DV(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:s}=i,r=[];return Mi(e,o=>{const d={before:[],lines:[],after:[]},p=kV(s,o);Eu(d.before,jd(p.beforeLabel.call(this,o))),Eu(d.lines,p.label.call(this,o)),Eu(d.after,jd(p.afterLabel.call(this,o))),r.push(d)}),r}getAfterBody(e,i){return DV(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:s}=i,r=s.beforeFooter.apply(this,[e]),o=s.footer.apply(this,[e]),d=s.afterFooter.apply(this,[e]);let p=[];return p=Eu(p,jd(r)),p=Eu(p,jd(o)),p=Eu(p,jd(d)),p}_createItems(e){const i=this._active,s=this.chart.data,r=[],o=[],d=[];let _,C,p=[];for(_=0,C=i.length;_<C;++_)p.push(t8(this.chart,i[_]));return e.filter&&(p=p.filter((k,N,z)=>e.filter(k,N,z,s))),e.itemSort&&(p=p.sort((k,N)=>e.itemSort(k,N,s))),Mi(p,k=>{const N=kV(e.callbacks,k);r.push(N.labelColor.call(this,k)),o.push(N.labelPointStyle.call(this,k)),d.push(N.labelTextColor.call(this,k))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=d,this.dataPoints=p,p}update(e,i){const s=this.options.setContext(this.getContext()),r=this._active;let o,d=[];if(r.length){const p=z0[s.position].call(this,r,this._eventPosition);d=this._createItems(s),this.title=this.getTitle(d,s),this.beforeBody=this.getBeforeBody(d,s),this.body=this.getBody(d,s),this.afterBody=this.getAfterBody(d,s),this.footer=this.getFooter(d,s);const _=this._size=TV(this,s),C=Object.assign({},p,_),k=AV(this.chart,s,C),N=EV(s,C,k,this.chart);this.xAlign=k.xAlign,this.yAlign=k.yAlign,o={opacity:1,x:N.x,y:N.y,width:_.width,height:_.height,caretX:p.x,caretY:p.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=d,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,s,r){const o=this.getCaretPosition(e,s,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,s){const{xAlign:r,yAlign:o}=this,{caretSize:d,cornerRadius:p}=s,{topLeft:_,topRight:C,bottomLeft:k,bottomRight:N}=zd(p),{x:z,y:W}=e,{width:Q,height:K}=i;let fe,ve,Te,Ee,De,Fe;return"center"===o?(De=W+K/2,"left"===r?(fe=z,ve=fe-d,Ee=De+d,Fe=De-d):(fe=z+Q,ve=fe+d,Ee=De-d,Fe=De+d),Te=fe):(ve="left"===r?z+Math.max(_,k)+d:"right"===r?z+Q-Math.max(C,N)-d:this.caretX,"top"===o?(Ee=W,De=Ee-d,fe=ve-d,Te=ve+d):(Ee=W+K,De=Ee+d,fe=ve+d,Te=ve-d),Fe=Ee),{x1:fe,x2:ve,x3:Te,y1:Ee,y2:De,y3:Fe}}drawTitle(e,i,s){const r=this.title,o=r.length;let d,p,_;if(o){const C=Ty(s.rtl,this.x,this.width);for(e.x=qT(this,s.titleAlign,s),i.textAlign=C.textAlign(s.titleAlign),i.textBaseline="middle",d=Os(s.titleFont),p=s.titleSpacing,i.fillStyle=s.titleColor,i.font=d.string,_=0;_<o;++_)i.fillText(r[_],C.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+p,_+1===o&&(e.y+=s.titleMarginBottom-p)}}_drawColorBox(e,i,s,r,o){const d=this.labelColors[s],p=this.labelPointStyles[s],{boxHeight:_,boxWidth:C,boxPadding:k}=o,N=Os(o.bodyFont),z=qT(this,"left",o),W=r.x(z),K=i.y+(_<N.lineHeight?(N.lineHeight-_)/2:0);if(o.usePointStyle){const fe={radius:Math.min(C,_)/2,pointStyle:p.pointStyle,rotation:p.rotation,borderWidth:1},ve=r.leftForLtr(W,C)+C/2,Te=K+_/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Rg(e,fe,ve,Te),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,Rg(e,fe,ve,Te)}else{e.lineWidth=ri(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const fe=r.leftForLtr(W,C-k),ve=r.leftForLtr(r.xPlus(W,1),C-k-2),Te=zd(d.borderRadius);Object.values(Te).some(Ee=>0!==Ee)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Fg(e,{x:fe,y:K,w:C,h:_,radius:Te}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),Fg(e,{x:ve,y:K+1,w:C-2,h:_-2,radius:Te}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(fe,K,C,_),e.strokeRect(fe,K,C,_),e.fillStyle=d.backgroundColor,e.fillRect(ve,K+1,C-2,_-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,i,s){const{body:r}=this,{bodySpacing:o,bodyAlign:d,displayColors:p,boxHeight:_,boxWidth:C,boxPadding:k}=s,N=Os(s.bodyFont);let z=N.lineHeight,W=0;const Q=Ty(s.rtl,this.x,this.width),K=function(Pt){i.fillText(Pt,Q.x(e.x+W),e.y+z/2),e.y+=z+o},fe=Q.textAlign(d);let ve,Te,Ee,De,Fe,Qe,yt;for(i.textAlign=d,i.textBaseline="middle",i.font=N.string,e.x=qT(this,fe,s),i.fillStyle=s.bodyColor,Mi(this.beforeBody,K),W=p&&"right"!==fe?"center"===d?C/2+k:C+2+k:0,De=0,Qe=r.length;De<Qe;++De){for(ve=r[De],Te=this.labelTextColors[De],i.fillStyle=Te,Mi(ve.before,K),Ee=ve.lines,p&&Ee.length&&(this._drawColorBox(i,e,De,Q,s),z=Math.max(N.lineHeight,_)),Fe=0,yt=Ee.length;Fe<yt;++Fe)K(Ee[Fe]),z=N.lineHeight;Mi(ve.after,K)}W=0,z=N.lineHeight,Mi(this.afterBody,K),e.y-=o}drawFooter(e,i,s){const r=this.footer,o=r.length;let d,p;if(o){const _=Ty(s.rtl,this.x,this.width);for(e.x=qT(this,s.footerAlign,s),e.y+=s.footerMarginTop,i.textAlign=_.textAlign(s.footerAlign),i.textBaseline="middle",d=Os(s.footerFont),i.fillStyle=s.footerColor,i.font=d.string,p=0;p<o;++p)i.fillText(r[p],_.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+s.footerSpacing}}drawBackground(e,i,s,r){const{xAlign:o,yAlign:d}=this,{x:p,y:_}=e,{width:C,height:k}=s,{topLeft:N,topRight:z,bottomLeft:W,bottomRight:Q}=zd(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(p+N,_),"top"===d&&this.drawCaret(e,i,s,r),i.lineTo(p+C-z,_),i.quadraticCurveTo(p+C,_,p+C,_+z),"center"===d&&"right"===o&&this.drawCaret(e,i,s,r),i.lineTo(p+C,_+k-Q),i.quadraticCurveTo(p+C,_+k,p+C-Q,_+k),"bottom"===d&&this.drawCaret(e,i,s,r),i.lineTo(p+W,_+k),i.quadraticCurveTo(p,_+k,p,_+k-W),"center"===d&&"left"===o&&this.drawCaret(e,i,s,r),i.lineTo(p,_+N),i.quadraticCurveTo(p,_,p+N,_),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const d=z0[e.position].call(this,this._active,this._eventPosition);if(!d)return;const p=this._size=TV(this,e),_=Object.assign({},d,this._size),C=AV(i,e,_),k=EV(e,_,C,i);(r._to!==k.x||o._to!==k.y)&&(this.xAlign=C.xAlign,this.yAlign=C.yAlign,this.width=p.width,this.height=p.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,k))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const d=xr(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,i),gB(e,i.textDirection),o.y+=d.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),mB(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const s=this._active,r=e.map(({datasetIndex:p,index:_})=>{const C=this.chart.getDatasetMeta(p);if(!C)throw new Error("Cannot find a dataset at index "+p);return{datasetIndex:p,element:C.data[_],index:_}}),o=!f0(s,r),d=this._positionChanged(r,i);(o||d)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],d=this._getActiveElements(e,o,i,s),p=this._positionChanged(d,e),_=i||!f0(d,o)||p;return _&&(this._active=d,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),_}_getActiveElements(e,i,s,r){const o=this.options;if("mouseout"===e.type)return[];if(!r)return i;const d=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&d.reverse(),d}_positionChanged(e,i){const{caretX:s,caretY:r,options:o}=this,d=z0[o.position].call(this,e,i);return!1!==d&&(s!==d.x||r!==d.y)}}return n.positioners=z0,n})();var l8={id:"tooltip",_element:IV,positioners:z0,afterInit(n,t,e){e&&(n.tooltip=new IV({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ia,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ia,beforeBody:ia,beforeLabel:ia,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return yi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ia,afterBody:ia,beforeFooter:ia,footer:ia,afterFooter:ia}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},c8=Object.freeze({__proto__:null,Decimation:DX,Filler:XX,Legend:KX,SubTitle:e8,Title:JX,Tooltip:l8});class ZT extends Bg{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(yi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:tr(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function d8(n,t,e,i){const s=n.indexOf(t);return-1===s?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):s!==n.lastIndexOf(t)?e:s}(i,t,$n(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function MV(n,t,{horizontal:e,minRotation:i}){const s=sa(i),r=(e?Math.sin(s):Math.cos(s))||.001;return Math.min(t/r,.75*t*(""+n).length)}ZT.id="category",ZT.defaults={ticks:{callback:ZT.prototype.getLabelForValue}};class KT extends Bg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return yi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=p=>s=e?s:p,d=p=>r=i?r:p;if(t){const p=bc(s),_=bc(r);p<0&&_<0?d(0):p>0&&_>0&&o(0)}if(s===r){let p=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(p=Math.abs(.05*r)),d(r+p),t||o(s-p)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let s,{maxTicksLimit:e,stepSize:i}=t;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function f8(n,t){const e=[],{bounds:s,step:r,min:o,max:d,precision:p,count:_,maxTicks:C,maxDigits:k,includeBounds:N}=n,z=r||1,W=C-1,{min:Q,max:K}=t,fe=!yi(o),ve=!yi(d),Te=!yi(_),Ee=(K-Q)/(k+1);let Fe,Qe,yt,Pt,De=qI((K-Q)/W/z)*z;if(De<1e-14&&!fe&&!ve)return[{value:Q},{value:K}];Pt=Math.ceil(K/De)-Math.floor(Q/De),Pt>W&&(De=qI(Pt*De/W/z)*z),yi(p)||(Fe=Math.pow(10,p),De=Math.ceil(De*Fe)/Fe),"ticks"===s?(Qe=Math.floor(Q/De)*De,yt=Math.ceil(K/De)*De):(Qe=Q,yt=K),fe&&ve&&r&&function lT(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((d-o)/r,De/1e3)?(Pt=Math.round(Math.min((d-o)/De,C)),De=(d-o)/Pt,Qe=o,yt=d):Te?(Qe=fe?o:Qe,yt=ve?d:yt,Pt=_-1,De=(yt-Qe)/Pt):(Pt=(yt-Qe)/De,Pt=oy(Pt,Math.round(Pt),De/1e3)?Math.round(Pt):Math.ceil(Pt));const Jt=Math.max(ZI(De),ZI(Qe));Fe=Math.pow(10,yi(p)?Jt:p),Qe=Math.round(Qe*Fe)/Fe,yt=Math.round(yt*Fe)/Fe;let Rt=0;for(fe&&(N&&Qe!==o?(e.push({value:o}),Qe<o&&Rt++,oy(Math.round((Qe+Rt*De)*Fe)/Fe,o,MV(o,Ee,n))&&Rt++):Qe<o&&Rt++);Rt<Pt;++Rt)e.push({value:Math.round((Qe+Rt*De)*Fe)/Fe});return ve&&N&&yt!==d?e.length&&oy(e[e.length-1].value,d,MV(d,Ee,n))?e[e.length-1].value=d:e.push({value:d}):(!ve||yt===d)&&e.push({value:yt}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Ig(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Gd(t,this.chart.options.locale,this.options.ticks.format)}}class HM extends KT{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_s(t)?t:0,this.max=_s(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=sa(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function LV(n){return n/Math.pow(10,Math.floor(Ca(n)))==1}HM.id="linear",HM.defaults={ticks:{callback:FT.formatters.numeric}};class zM extends Bg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=KT.prototype.parse.apply(this,[t,e]);if(0!==i)return _s(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_s(t)?Math.max(0,t):null,this.max=_s(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=p=>i=t?i:p,o=p=>s=e?s:p,d=(p,_)=>Math.pow(10,Math.floor(Ca(p))+_);i===s&&(i<=0?(r(1),o(10)):(r(d(i,-1)),o(d(s,1)))),i<=0&&r(d(s,-1)),s<=0&&o(d(i,1)),this._zero&&this.min!==this._suggestedMin&&i===d(this.min,0)&&r(d(i,-1)),this.min=i,this.max=s}buildTicks(){const t=this.options,i=function p8(n,t){const e=Math.floor(Ca(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),s=[];let r=hr(n.min,Math.pow(10,Math.floor(Ca(t.min)))),o=Math.floor(Ca(r)),d=Math.floor(r/Math.pow(10,o)),p=o<0?Math.pow(10,Math.abs(o)):1;do{s.push({value:r,major:LV(r)}),++d,10===d&&(d=1,++o,p=o>=0?1:p),r=Math.round(d*Math.pow(10,o)*p)/p}while(o<e||o===e&&d<i);const _=hr(n.max,r);return s.push({value:_,major:LV(r)}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Ig(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Gd(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ca(t),this._valueRange=Ca(this.max)-Ca(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ca(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function UM(n){const t=n.ticks;if(t.display&&n.display){const e=xr(t.backdropPadding);return $n(t.font&&t.font.size,li.font.size)+e.height}return 0}function g8(n,t,e){return e=Vi(e)?e:[e],{w:Bd(n,t.string,e),h:e.length*t.lineHeight}}function PV(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function v8(n,t,e,i,s){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let d=0,p=0;i.start<t.l?(d=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-d)):i.end>t.r&&(d=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+d)),s.start<t.t?(p=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-p)):s.end>t.b&&(p=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+p))}function _8(n){return 0===n||180===n?"center":n<180?"left":"right"}function x8(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function b8(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function OV(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Oi);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}zM.id="logarithmic",zM.defaults={ticks:{callback:FT.formatters.logarithmic,major:{enabled:!0}}};class U0 extends KT{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=xr(UM(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=_s(t)&&!isNaN(t)?t:0,this.max=_s(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/UM(this.options))}generateTickLabels(t){KT.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=ts(this.options.pointLabels.callback,[e,i],this);return s||0===s?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function m8(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,d=o.centerPointLabels?as/r:0;for(let p=0;p<r;p++){const _=o.setContext(n.getPointLabelContext(p));s[p]=_.padding;const C=n.getPointPosition(p,n.drawingArea+s[p],d),k=Os(_.font),N=g8(n.ctx,k,n._pointLabels[p]);i[p]=N;const z=so(n.getIndexAngle(p)+d),W=Math.round(ay(z));v8(e,t,z,PV(W,C.x,N.w,0,180),PV(W,C.y,N.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function y8(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,o=UM(r)/2,d=n.drawingArea,p=r.pointLabels.centerPointLabels?as/s:0;for(let _=0;_<s;_++){const C=n.getPointPosition(_,d+o+e[_],p),k=Math.round(ay(so(C.angle+As))),N=t[_],z=b8(C.y,N.h,k),W=_8(k),Q=x8(C.x,N.w,W);i.push({x:C.x,y:z,textAlign:W,left:Q,top:z,right:Q+N.w,bottom:z+N.h})}return i}(n,i,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return so(t*(Oi/(this._pointLabels.length||1))+sa(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(yi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(yi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function S8(n,t,e){return Dc(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-As+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),OV(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s}=e,r=this._pointLabels.length;let o,d,p;if(e.pointLabels.display&&function w8(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=i.setContext(n.getPointLabelContext(s)),o=Os(r.font),{x:d,y:p,textAlign:_,left:C,top:k,right:N,bottom:z}=n._pointLabelItems[s],{backdropColor:W}=r;if(!yi(W)){const Q=zd(r.borderRadius),K=xr(r.backdropPadding);e.fillStyle=W;const fe=C-K.left,ve=k-K.top,Te=N-C+K.width,Ee=z-k+K.height;Object.values(Q).some(De=>0!==De)?(e.beginPath(),Fg(e,{x:fe,y:ve,w:Te,h:Ee,radius:Q}),e.fill()):e.fillRect(fe,ve,Te,Ee)}_f(e,n._pointLabels[s],d,p+o.lineHeight/2,o,{color:r.color,textAlign:_,textBaseline:"middle"})}}(this,r),s.display&&this.ticks.forEach((_,C)=>{0!==C&&(d=this.getDistanceFromCenterForValue(_.value),function C8(n,t,e,i){const s=n.ctx,r=t.circular,{color:o,lineWidth:d}=t;!r&&!i||!o||!d||e<0||(s.save(),s.strokeStyle=o,s.lineWidth=d,s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset,s.beginPath(),OV(n,e,r,i),s.closePath(),s.stroke(),s.restore())}(this,s.setContext(this.getContext(C-1)),d,r))}),i.display){for(t.save(),o=r-1;o>=0;o--){const _=i.setContext(this.getPointLabelContext(o)),{color:C,lineWidth:k}=_;!k||!C||(t.lineWidth=k,t.strokeStyle=C,t.setLineDash(_.borderDash),t.lineDashOffset=_.borderDashOffset,d=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),p=this.getPointPosition(o,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(p.x,p.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,p)=>{if(0===p&&!e.reverse)return;const _=i.setContext(this.getContext(p)),C=Os(_.font);if(r=this.getDistanceFromCenterForValue(this.ticks[p].value),_.showLabelBackdrop){t.font=C.string,o=t.measureText(d.label).width,t.fillStyle=_.backdropColor;const k=xr(_.backdropPadding);t.fillRect(-o/2-k.left,-r-C.size/2-k.top,o+k.width,C.size+k.height)}_f(t,d.label,0,-r,C,{color:_.color})}),t.restore()}drawTitle(){}}U0.id="radialLinear",U0.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:FT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},U0.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},U0.descriptors={angleLines:{_fallback:"grid"}};const QT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ra=Object.keys(QT);function T8(n,t){return n-t}function RV(n,t){if(yi(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),_s(o)||(o="string"==typeof i?e.parse(o,i):e.parse(o)),null===o?null:(s&&(o="week"!==s||!wc(r)&&!0!==r?e.startOf(o,s):e.startOf(o,"isoWeek",r)),+o)}function FV(n,t,e,i){const s=ra.length;for(let r=ra.indexOf(n);r<s-1;++r){const o=QT[ra[r]],d=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(d*o.size))<=i)return ra[r]}return ra[s-1]}function NV(n,t,e){if(e){if(e.length){const{lo:i,hi:s}=pf(e,t);n[e[i]>=t?e[i]:e[s]]=!0}}else n[t]=!0}function BV(n,t,e){const i=[],s={},r=t.length;let o,d;for(o=0;o<r;++o)d=t[o],s[d]=o,i.push({value:d,major:!1});return 0!==r&&e?function D8(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let d,p;for(d=r;d<=o;d=+s.add(d,1,i))p=e[d],p>=0&&(t[p].major=!0);return t}(n,i,s,e):i}let GM=(()=>{class n extends Bg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const s=e.time||(e.time={}),r=this._adapter=new f6._date(e.adapters.date);r.init(i),ff(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:RV(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:d,maxDefined:p}=this.getUserBounds();function _(C){!d&&!isNaN(C.min)&&(r=Math.min(r,C.min)),!p&&!isNaN(C.max)&&(o=Math.max(o,C.max))}(!d||!p)&&(_(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&_(this.getMinMax(!1))),r=_s(r)&&!isNaN(r)?r:+i.startOf(Date.now(),s),o=_s(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],s=e[e.length-1]),{min:i,max:s}}buildTicks(){const e=this.options,i=e.time,s=e.ticks,r="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,p=function nB(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}(r,o,this.max);return this._unit=i.unit||(s.autoSkip?FV(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function A8(n,t,e,i,s){for(let r=ra.length-1;r>=ra.indexOf(e);r--){const o=ra[r];if(QT[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return ra[e?ra.indexOf(e):0]}(this,p.length,i.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function E8(n){for(let t=ra.indexOf(n)+1,e=ra.length;t<e;++t)if(QT[ra[t]].common)return ra[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&p.reverse(),BV(this,p,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let r,o,i=0,s=0;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),i=1===e.length?1-r:(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),s=1===e.length?o:(o-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;i=tr(i,0,d),s=tr(s,0,d),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const e=this._adapter,i=this.min,s=this.max,r=this.options,o=r.time,d=o.unit||FV(o.minUnit,i,s,this._getLabelCapacity(i)),p=$n(o.stepSize,1),_="week"===d&&o.isoWeekday,C=wc(_)||!0===_,k={};let z,W,N=i;if(C&&(N=+e.startOf(N,"isoWeek",_)),N=+e.startOf(N,C?"day":d),e.diff(s,i,d)>1e5*p)throw new Error(i+" and "+s+" are too far apart with stepSize of "+p+" "+d);const Q="data"===r.ticks.source&&this.getDataTimestamps();for(z=N,W=0;z<s;z=+e.add(z,p,d),W++)NV(k,z,Q);return(z===s||"ticks"===r.bounds||1===W)&&NV(k,z,Q),Object.keys(k).sort((K,fe)=>K-fe).map(K=>+K)}getLabelForValue(e){const s=this.options.time;return this._adapter.format(e,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}_tickFormatFunction(e,i,s,r){const o=this.options,d=o.time.displayFormats,p=this._unit,_=this._majorUnit,k=_&&d[_],N=s[i],W=this._adapter.format(e,r||(_&&k&&N&&N.major?k:p&&d[p])),Q=o.ticks.callback;return Q?ts(Q,[W,i,s],this):W}generateTickLabels(e){let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,s=this.ctx.measureText(e).width,r=sa(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),d=Math.sin(r),p=this._resolveTickFontOptions(0).size;return{w:s*o+p*d,h:s*d+p*o}}_getLabelCapacity(e){const i=this.options.time,s=i.displayFormats,r=s[i.unit]||s.millisecond,o=this._tickFormatFunction(e,0,BV(this,[e],this._majorUnit),r),d=this._getLabelSize(o),p=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return p>0?p:1}getDataTimestamps(){let i,s,e=this._cache.data||[];if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,s=r.length;i<s;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,s;if(e.length)return e;const r=this.getLabels();for(i=0,s=r.length;i<s;++i)e.push(RV(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return uT(e.sort(T8))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function JT(n,t,e){let r,o,d,p,i=0,s=n.length-1;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Sc(n,"pos",t)),({pos:r,time:d}=n[i]),({pos:o,time:p}=n[s])):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Sc(n,"time",t)),({time:r,pos:d}=n[i]),({time:o,pos:p}=n[s]));const _=o-r;return _?d+(p-d)*(t-r)/_:d}class WM extends GM{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=JT(e,this.min),this._tableRange=JT(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let o,d,p,_,C;for(o=0,d=t.length;o<d;++o)_=t[o],_>=e&&_<=i&&s.push(_);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,d=s.length;o<d;++o)C=s[o+1],p=s[o-1],_=s[o],Math.round((C+p)/2)!==_&&r.push({time:_,pos:o/(d-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(JT(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return JT(this._table,i*this._tableRange+this._minPos,!0)}}WM.id="timeseries",WM.defaults=GM.defaults,WT.register(h6,SX,c8,Object.freeze({__proto__:null,CategoryScale:ZT,LinearScale:HM,LogarithmicScale:zM,RadialLinearScale:U0,TimeScale:GM,TimeSeriesScale:WM}));const eA=WT,Du=()=>{const n=new Date,t=n.getFullYear();let e=n.getMonth()+1,i=n.getDate(),s=n.getHours(),r=n.getMinutes(),o=n.getSeconds(),d=i.toString(),p=e.toString();return i<10&&(d="0"+i),e<10&&(p="0"+e),{noHour:`${t.toString()}-${p}-${d}`,full:`${t.toString()}-${p}-${d} ${s}:${r}:${o}`,firstOfDay:`${t.toString()}-${p}-${d} 00:00:00`,standard:`${VV(`${d}-${p}-${t.toString()} ${s}:${r}`).dayShort} ${d} ${VV(`${d}-${p}-${t.toString()} ${s}:${r}`).monthShort} ${t.toString()} GMT+0100`}},VV=n=>{let t=n.slice(0,11).split("-"),e=new Date(+t[2],Number(t[1])-1,+t[0]);return{dayShort:e.toLocaleDateString("en-US",{weekday:"short"}),dayLong:e.toLocaleDateString("en-US",{weekday:"long"}),monthShort:e.toLocaleDateString("en-US",{month:"short"}),monthLong:e.toLocaleDateString("en-US",{month:"long"})}},jM=()=>{const n=new Date,t=n.getMinutes();let e;t>=0&&t<15?e=0:t>=15&&t<30?e=15:t>=30&&t<45?e=30:t>=45&&(e=45);let i=new Date(n.getFullYear(),n.getMonth(),n.getDay(),n.getHours(),e,n.getSeconds()),s=new Intl.DateTimeFormat("es",{hour:"2-digit"}).format(i);return`${Du().noHour} ${s}:${0==e?"00":e}:00`},tA=(n,t)=>{const e=new Date(n.split(" ")[0]),i=new Date(e.getTime());i.setDate(e.getDate()-t);const s=i.getFullYear();let r=i.getMonth()+1,o=i.getDate(),d=o.toString(),p=r.toString();return o<10&&(d="0"+o),r<10&&(p="0"+r),{objFormated:`${s}-${p}-${d} 00:00:00`,last:`${s}-${p}-${d} 23:45:00`,title:M8(i.toString().split("(")[0].split(" "),4)}},M8=(n,t)=>(n.splice(t,1),n.splice(n.length-1,1),n.join(" "));var Xi=ue(5813);function $M(){return(0,ur.e)((n,t)=>{let e,i=!1;n.subscribe((0,js.x)(t,s=>{const r=e;e=s,i&&t.next([r,s]),i=!0}))})}var hn,Mc=ue(2011),L8=(ue(5881),ue(3942)),ot=ue(5861),Do=ue(9681),G0=ue(4859),Cf=ue(1877),ci=ue(2090),P8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$d={},YM=YM||{},Vn=P8||self;function nA(){}function iA(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function W0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var XM="closure_uid_"+(1e9*Math.random()>>>0),R8=0;function F8(n,t,e){return n.call.apply(n.bind,arguments)}function N8(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function oo(n,t,e){return(oo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F8:N8).apply(null,arguments)}function sA(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,s,r){for(var o=Array(arguments.length-2),d=2;d<arguments.length;d++)o[d-2]=arguments[d];return t.prototype[s].apply(i,o)}}function Sf(){this.s=this.s,this.o=this.o}Sf.prototype.s=!1,Sf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function O8(n){Object.prototype.hasOwnProperty.call(n,XM)&&n[XM]||(n[XM]=++R8)}(this)},Sf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HV=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function qM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function zV(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(iA(i)){const s=n.length||0,r=i.length||0;n.length=s+r;for(let o=0;o<r;o++)n[s+o]=i[o]}else n.push(i)}}function ao(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ao.prototype.h=function(){this.defaultPrevented=!0};var V8=function(){if(!Vn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vn.addEventListener("test",nA,t),Vn.removeEventListener("test",nA,t)}catch{}return n}();function rA(n){return/^[\s\xa0]*$/.test(n)}var UV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ZM(n,t){return n<t?-1:n>t?1:0}function oA(){var n=Vn.navigator;return n&&(n=n.userAgent)?n:""}function ku(n){return-1!=oA().indexOf(n)}function KM(n){return KM[" "](n),n}KM[" "]=nA;var aA,n,z8=ku("Opera"),Ey=ku("Trident")||ku("MSIE"),GV=ku("Edge"),QM=GV||Ey,WV=ku("Gecko")&&!(-1!=oA().toLowerCase().indexOf("webkit")&&!ku("Edge"))&&!(ku("Trident")||ku("MSIE"))&&!ku("Edge"),U8=-1!=oA().toLowerCase().indexOf("webkit")&&!ku("Edge");function jV(){var n=Vn.document;return n?n.documentMode:void 0}e:{var JM="",eL=(n=oA(),WV?/rv:([^\);]+)(\)|;)/.exec(n):GV?/Edge\/([\d\.]+)/.exec(n):Ey?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):U8?/WebKit\/(\S+)/.exec(n):z8?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(eL&&(JM=eL?eL[1]:""),Ey){var tL=jV();if(null!=tL&&tL>parseFloat(JM)){aA=String(tL);break e}}aA=JM}var G8={};var j8=Vn.document&&Ey&&(jV()||parseInt(aA,10))||void 0;function j0(n,t){if(ao.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(WV){e:{try{KM(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&j0.X.h.call(this)}}Vr(j0,ao);var $8={2:"touch",3:"pen",4:"mouse"};j0.prototype.h=function(){j0.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $0="closure_listenable_"+(1e6*Math.random()|0),Y8=0;function X8(n,t,e,i,s){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=s,this.key=++Y8,this.ba=this.ea=!1}function lA(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function iL(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function YV(n){const t={};for(const e in n)t[e]=n[e];return t}const XV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qV(n,t){let e,i;for(let s=1;s<arguments.length;s++){for(e in i=arguments[s],i)n[e]=i[e];for(let r=0;r<XV.length;r++)e=XV[r],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function cA(n){this.src=n,this.g={},this.h=0}function sL(n,t){var e=t.type;if(e in n.g){var r,i=n.g[e],s=HV(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(lA(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function rL(n,t,e,i){for(var s=0;s<n.length;++s){var r=n[s];if(!r.ba&&r.listener==t&&r.capture==!!e&&r.ha==i)return s}return-1}cA.prototype.add=function(n,t,e,i,s){var r=n.toString();(n=this.g[r])||(n=this.g[r]=[],this.h++);var o=rL(n,t,i,s);return-1<o?(t=n[o],e||(t.ea=!1)):((t=new X8(t,this.src,r,!!i,s)).ea=e,n.push(t)),t};var oL="closure_lm_"+(1e6*Math.random()|0),aL={};function ZV(n,t,e,i,s){if(i&&i.once)return QV(n,t,e,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)ZV(n,t[r],e,i,s);return null}return e=dL(e),n&&n[$0]?n.N(t,e,W0(i)?!!i.capture:!!i,s):KV(n,t,e,!1,i,s)}function KV(n,t,e,i,s,r){if(!t)throw Error("Invalid event type");var o=W0(s)?!!s.capture:!!s,d=cL(n);if(d||(n[oL]=d=new cA(n)),(e=d.add(t,e,i,o,r)).proxy)return e;if(i=function q8(){const t=Z8;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)V8||(s=o),void 0===s&&(s=!1),n.addEventListener(t.toString(),i,s);else if(n.attachEvent)n.attachEvent(eH(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function QV(n,t,e,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)QV(n,t[r],e,i,s);return null}return e=dL(e),n&&n[$0]?n.O(t,e,W0(i)?!!i.capture:!!i,s):KV(n,t,e,!0,i,s)}function JV(n,t,e,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)JV(n,t[r],e,i,s);else i=W0(i)?!!i.capture:!!i,e=dL(e),n&&n[$0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=rL(r=n.g[t],e,i,s))&&(lA(r[e]),Array.prototype.splice.call(r,e,1),0==r.length&&(delete n.g[t],n.h--))):n&&(n=cL(n))&&(t=n.g[t.toString()],n=-1,t&&(n=rL(t,e,i,s)),(e=-1<n?t[n]:null)&&lL(e))}function lL(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[$0])sL(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(eH(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=cL(t))?(sL(e,n),0==e.h&&(e.src=null,t[oL]=null)):lA(n)}}}function eH(n){return n in aL?aL[n]:aL[n]="on"+n}function Z8(n,t){if(n.ba)n=!0;else{t=new j0(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&lL(n),n=e.call(i,t)}return n}function cL(n){return(n=n[oL])instanceof cA?n:null}var uL="__closure_events_fn_"+(1e9*Math.random()>>>0);function dL(n){return"function"==typeof n?n:(n[uL]||(n[uL]=function(t){return n.handleEvent(t)}),n[uL])}function br(){Sf.call(this),this.i=new cA(this),this.P=this,this.I=null}function Hr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ao(t,n);else if(t instanceof ao)t.target=t.target||n;else{var s=t;qV(t=new ao(i,n),s)}if(s=!0,e)for(var r=e.length-1;0<=r;r--){var o=t.g=e[r];s=uA(o,i,!0,t)&&s}if(s=uA(o=t.g=n,i,!0,t)&&s,s=uA(o,i,!1,t)&&s,e)for(r=0;r<e.length;r++)s=uA(o=t.g=e[r],i,!1,t)&&s}function uA(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.ba&&o.capture==e){var d=o.listener,p=o.ha||o.src;o.ea&&sL(n.i,o),s=!1!==d.call(p,i)&&s}}return s&&!i.defaultPrevented}Vr(br,Sf),br.prototype[$0]=!0,br.prototype.removeEventListener=function(n,t,e,i){JV(this,n,t,e,i)},br.prototype.M=function(){if(br.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)lA(e[i]);delete n.g[t],n.h--}}this.I=null},br.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},br.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var hL=Vn.JSON.stringify;function K8(){var n=iH;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var fL,tH=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new J8,n=>n.reset());class J8{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function eq(n){Vn.setTimeout(()=>{throw n},0)}function nH(n,t){fL||function tq(){var n=Vn.Promise.resolve(void 0);fL=function(){n.then(nq)}}(),pL||(fL(),pL=!0),iH.add(n,t)}var pL=!1,iH=new class Q8{constructor(){this.h=this.g=null}add(t,e){const i=tH.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function nq(){for(var n;n=K8();){try{n.h.call(n.g)}catch(e){eq(e)}var t=tH;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}pL=!1}function dA(n,t){br.call(this),this.h=n||1,this.g=t||Vn,this.j=oo(this.lb,this),this.l=Date.now()}function gL(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function mL(n,t,e){if("function"==typeof n)e&&(n=oo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=oo(n.handleEvent,n)}return 2147483647<Number(t)?-1:Vn.setTimeout(n,t||0)}function sH(n){n.g=mL(()=>{n.g=null,n.i&&(n.i=!1,sH(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Vr(dA,br),(hn=dA.prototype).ca=!1,hn.R=null,hn.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hr(this,"tick"),this.ca&&(gL(this),this.start()))}},hn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hn.M=function(){dA.X.M.call(this),gL(this),delete this.g};class iq extends Sf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:sH(this)}M(){super.M(),this.g&&(Vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Y0(n){Sf.call(this),this.h=n,this.g={}}Vr(Y0,Sf);var rH=[];function oH(n,t,e,i){Array.isArray(e)||(e&&(rH[0]=e.toString()),e=rH);for(var s=0;s<e.length;s++){var r=ZV(t,e[s],i||n.handleEvent,!1,n.h||n);if(!r)break;n.g[r.key]=r}}function aH(n){iL(n.g,function(t,e){this.g.hasOwnProperty(e)&&lL(t)},n),n.g={}}function hA(){this.g=!0}function Dy(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function aq(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return hL(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Y0.prototype.M=function(){Y0.X.M.call(this),aH(this)},Y0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hA.prototype.Aa=function(){this.g=!1},hA.prototype.info=function(){};var Hg={},lH=null;function fA(){return lH=lH||new br}function cH(n){ao.call(this,Hg.Pa,n)}function X0(n){const t=fA();Hr(t,new cH(t))}function uH(n,t){ao.call(this,Hg.STAT_EVENT,n),this.stat=t}function ko(n){const t=fA();Hr(t,new uH(t,n))}function dH(n,t){ao.call(this,Hg.Qa,n),this.size=t}function q0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vn.setTimeout(function(){n()},t)}Hg.Pa="serverreachability",Vr(cH,ao),Hg.STAT_EVENT="statevent",Vr(uH,ao),Hg.Qa="timingevent",Vr(dH,ao);var pA={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},hH={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vL(){}function pH(){}vL.prototype.h=null;var xL,Z0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yL(){ao.call(this,"d")}function _L(){ao.call(this,"c")}function gA(){}function K0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Y0(this),this.O=lq,this.T=new dA(n=QM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gH}function gH(){this.i=null,this.g="",this.h=!1}Vr(yL,ao),Vr(_L,ao),Vr(gA,vL),gA.prototype.g=function(){return new XMLHttpRequest},gA.prototype.i=function(){return{}},xL=new gA;var lq=45e3,bL={},mA={};function wL(n,t,e){n.K=1,n.v=xA(Yd(t)),n.s=e,n.P=!0,mH(n,null)}function mH(n,t){n.F=Date.now(),Q0(n),n.A=Yd(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),AH(e.i,"t",i),n.C=0,e=n.l.H,n.h=new gH,n.g=ZH(n.l,e?t:null,!n.s),0<n.N&&(n.L=new iq(oo(n.La,n,n.g),n.N)),oH(n.S,n.g,"readystatechange",n.ib),t=n.H?YV(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),X0(),function sq(n,t,e,i,s,r){n.info(function(){if(n.g)if(r)for(var o="",d=r.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var C=_[0];_=_[1];var k=C.split("_");o=2<=k.length&&"type"==k[1]?o+(C+"=")+_+"&":o+(C+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function vH(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function yH(n,t,e){let s,i=!0;for(;!n.I&&n.C<e.length;){if(s=cq(n,e),s==mA){4==t&&(n.o=4,ko(14),i=!1),Dy(n.j,n.m,null,"[Incomplete Response]");break}if(s==bL){n.o=4,ko(15),Dy(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Dy(n.j,n.m,s,null),CL(n,s)}vH(n)&&s!=mA&&s!=bL&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ko(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),ML(t),t.K=!0,ko(11))):(Dy(n.j,n.m,e,"[Invalid Chunked Response]"),zg(n),J0(n))}function cq(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?mA:(e=Number(t.substring(e,i)),isNaN(e)?bL:(i+=1)+e>t.length?mA:(t=t.substr(i,e),n.C=i+e,t))}function Q0(n){n.V=Date.now()+n.O,_H(n,n.O)}function _H(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=q0(oo(n.gb,n),t)}function vA(n){n.B&&(Vn.clearTimeout(n.B),n.B=null)}function J0(n){0==n.l.G||n.I||$H(n.l,n)}function zg(n){vA(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,gL(n.T),aH(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function CL(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||SL(e.h,n)))if(!n.J&&SL(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;AA(e),SA(e)}IL(e),ko(18)}}else e.Ba=s[1],0<e.Ba-e.T&&37500>s[2]&&e.L&&0==e.A&&!e.v&&(e.v=q0(oo(e.cb,e),6e3));if(1>=kH(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Gg(e,11)}else if((n.J||e.g==n)&&AA(e),!rA(t))for(s=e.Fa.g.parse(t),t=0;t<s.length;t++){let _=s[t];if(e.T=_[0],_=_[1],2==e.G)if("c"==_[0]){e.I=_[1],e.ka=_[2];const C=_[3];null!=C&&(e.ma=C,e.j.info("VER="+e.ma));const k=_[4];null!=k&&(e.Ca=k,e.j.info("SVER="+e.Ca));const N=_[5];null!=N&&"number"==typeof N&&0<N&&(e.J=i=1.5*N,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const z=n.g;if(z){const W=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var r=i.h;r.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(TL(r,r.h),r.h=null))}if(i.D){const Q=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.za=Q,xs(i.F,i.D,Q))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var o=n;if((i=e).sa=qH(i,i.H?i.ka:null,i.V),o.J){IH(i.h,o);var d=o,p=i.J;p&&d.setTimeout(p),d.B&&(vA(d),Q0(d)),i.g=o}else WH(i);0<e.i.length&&TA(e)}else"stop"!=_[0]&&"close"!=_[0]||Gg(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Gg(e,7):kL(e):"noop"!=_[0]&&e.l&&e.l.wa(_),e.A=0)}X0()}catch{}}function xH(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(iA(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function dq(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(iA(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function uq(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(iA(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],e&&e[r],n)}(hn=K0.prototype).setTimeout=function(n){this.O=n},hn.ib=function(n){n=n.target;const t=this.L;t&&3==Xd(n)?t.l():this.La(n)},hn.La=function(n){try{if(n==this.g)e:{const C=Xd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||QM||this.g&&(this.h.h||this.g.fa()||BH(this.g)))){this.I||4!=C||7==t||X0(),vA(this);var e=this.g.aa();this.Y=e;t:if(vH(this)){var i=BH(this.g);n="";var s=i.length,r=4==Xd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zg(this),J0(this);var o="";break t}this.h.i=new Vn.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==e,function rq(n,t,e,i,s,r,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+r+" "+o})}(this.j,this.u,this.A,this.m,this.U,C,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rA(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,ko(12),zg(this),J0(this);break e}Dy(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,CL(this,e)}this.P?(yH(this,C,o),QM&&this.i&&3==C&&(oH(this.S,this.T,"tick",this.hb),this.T.start())):(Dy(this.j,this.m,o,null),CL(this,o)),4==C&&zg(this),this.i&&!this.I&&(4==C?$H(this.l,this):(this.i=!1,Q0(this)))}else 400==e&&0<o.indexOf("Unknown SID")?(this.o=3,ko(12)):(this.o=0,ko(13)),zg(this),J0(this)}}}catch{}},hn.hb=function(){if(this.g){var n=Xd(this.g),t=this.g.fa();this.C<t.length&&(vA(this),yH(this,n,t),this.i&&4!=n&&Q0(this))}},hn.cancel=function(){this.I=!0,zg(this)},hn.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function oq(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(X0(),ko(17)),zg(this),this.o=2,J0(this)):_H(this,this.V-n)};var bH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ug(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ug){this.h=void 0!==t?t:n.h,yA(this,n.j),this.s=n.s,this.g=n.g,_A(this,n.m),this.l=n.l,t=n.i;var e=new nb;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),wH(this,e),this.o=n.o}else n&&(e=String(n).match(bH))?(this.h=!!t,yA(this,e[1]||"",!0),this.s=eb(e[2]||""),this.g=eb(e[3]||"",!0),_A(this,e[4]),this.l=eb(e[5]||"",!0),wH(this,e[6]||"",!0),this.o=eb(e[7]||"")):(this.h=!!t,this.i=new nb(null,this.h))}function Yd(n){return new Ug(n)}function yA(n,t,e){n.j=e?eb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function _A(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function wH(n,t,e){t instanceof nb?(n.i=t,function yq(n,t){t&&!n.j&&(Tf(n),n.i=null,n.g.forEach(function(e,i){var s=i.toLowerCase();i!=s&&(SH(this,i),AH(this,s,e))},n)),n.j=t}(n.i,n.h)):(e||(t=tb(t,mq)),n.i=new nb(t,n.h))}function xs(n,t,e){n.i.set(t,e)}function xA(n){return xs(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,fq),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ug.prototype.toString=function(){var n=[],t=this.j;t&&n.push(tb(t,CH,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(tb(t,CH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(tb(e,"/"==e.charAt(0)?gq:pq,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",tb(e,vq)),n.join("")};var CH=/[#\/\?@]/g,pq=/[#\?:]/g,gq=/[#\?]/g,mq=/[#\?@]/g,vq=/#/g;function nb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Tf(n){n.g||(n.g=new Map,n.h=0,n.i&&function hq(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),s=null;if(0<=i){var r=n[e].substring(0,i);s=n[e].substring(i+1)}else r=n[e];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function SH(n,t){Tf(n),t=ky(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function TH(n,t){return Tf(n),t=ky(n,t),n.g.has(t)}function AH(n,t,e){SH(n,t),0<e.length&&(n.i=null,n.g.set(ky(n,t),qM(e)),n.h+=e.length)}function ky(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function EH(n){this.l=n||xq,n=Vn.PerformanceNavigationTiming?0<(n=Vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vn.g&&Vn.g.Ga&&Vn.g.Ga()&&Vn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(hn=nb.prototype).add=function(n,t){Tf(this),this.i=null,n=ky(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},hn.forEach=function(n,t){Tf(this),this.g.forEach(function(e,i){e.forEach(function(s){n.call(t,s,i,this)},this)},this)},hn.oa=function(){Tf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const s=n[i];for(let r=0;r<s.length;r++)e.push(t[i])}return e},hn.W=function(n){Tf(this);let t=[];if("string"==typeof n)TH(this,n)&&(t=t.concat(this.g.get(ky(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},hn.set=function(n,t){return Tf(this),this.i=null,TH(this,n=ky(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},hn.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},hn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const r=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var s=r;""!==o[i]&&(s+="="+encodeURIComponent(String(o[i]))),n.push(s)}}return this.i=n.join("&")};var xq=10;function DH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function kH(n){return n.h?1:n.g?n.g.size:0}function SL(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function TL(n,t){n.g?n.g.add(t):n.h=t}function IH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function MH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return qM(n.i)}function AL(){}function bq(){this.g=new AL}function wq(n,t,e){const i=e||"";try{xH(n,function(s,r){let o=s;W0(s)&&(o=hL(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function bA(n,t,e,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function ib(n){this.l=n.ac||null,this.j=n.jb||!1}function wA(n,t){br.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=EL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}EH.prototype.cancel=function(){if(this.i=MH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},AL.prototype.stringify=function(n){return Vn.JSON.stringify(n,void 0)},AL.prototype.parse=function(n){return Vn.JSON.parse(n,void 0)},Vr(ib,vL),ib.prototype.g=function(){return new wA(this.l,this.j)},ib.prototype.i=function(n){return function(){return n}}({}),Vr(wA,br);var EL=0;function LH(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function sb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rb(n)}function rb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(hn=wA.prototype).open=function(n,t){if(this.readyState!=EL)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,rb(this)},hn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Vn).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},hn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sb(this)),this.readyState=EL},hn.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rb(this)),this.g&&(this.readyState=3,rb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Vn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LH(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},hn.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?sb(this):rb(this),3==this.readyState&&LH(this)}},hn.Va=function(n){this.g&&(this.response=this.responseText=n,sb(this))},hn.Ua=function(n){this.g&&(this.response=n,sb(this))},hn.ga=function(){this.g&&sb(this)},hn.setRequestHeader=function(n,t){this.v.append(n,t)},hn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},hn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(wA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Sq=Vn.JSON.parse;function Rs(n){br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=PH,this.K=this.L=!1}Vr(Rs,br);var PH="",Tq=/^https?$/i,Aq=["POST","PUT"];function OH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,RH(n),CA(n)}function RH(n){n.D||(n.D=!0,Hr(n,"complete"),Hr(n,"error"))}function FH(n){if(n.h&&typeof YM<"u"&&(!n.C[1]||4!=Xd(n)||2!=n.aa()))if(n.v&&4==Xd(n))mL(n.Ha,0,n);else if(Hr(n,"readystatechange"),4==Xd(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var s=String(n.H).match(bH)[1]||null;if(!s&&Vn.self&&Vn.self.location){var r=Vn.self.location.protocol;s=r.substr(0,r.length-1)}i=!Tq.test(s?s.toLowerCase():"")}e=i}if(e)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var o=2<Xd(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",RH(n)}}finally{CA(n)}}}function CA(n,t){if(n.g){NH(n);const e=n.g,i=n.C[0]?nA:null;n.g=null,n.C=null,t||Hr(n,"ready");try{e.onreadystatechange=i}catch{}}}function NH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vn.clearTimeout(n.A),n.A=null)}function Xd(n){return n.g?n.g.readyState:0}function BH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case PH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function VH(n){let t="";return iL(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function DL(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=VH(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):xs(n,t,e))}function ob(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function HH(n){this.Ca=0,this.i=[],this.j=new hA,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ob("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ob("baseRetryDelayMs",5e3,n),this.bb=ob("retryDelaySeedMs",1e4,n),this.$a=ob("forwardChannelMaxRetries",2,n),this.ta=ob("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new EH(n&&n.concurrentRequestLimit),this.Fa=new bq,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function kL(n){if(zH(n),3==n.G){var t=n.U++,e=Yd(n.F);xs(e,"SID",n.I),xs(e,"RID",t),xs(e,"TYPE","terminate"),ab(n,e),(t=new K0(n,n.j,t,void 0)).K=2,t.v=xA(Yd(e)),e=!1,Vn.navigator&&Vn.navigator.sendBeacon&&(e=Vn.navigator.sendBeacon(t.v.toString(),"")),!e&&Vn.Image&&((new Image).src=t.v,e=!0),e||(t.g=ZH(t.l,null),t.g.da(t.v)),t.F=Date.now(),Q0(t)}XH(n)}function SA(n){n.g&&(ML(n),n.g.cancel(),n.g=null)}function zH(n){SA(n),n.u&&(Vn.clearTimeout(n.u),n.u=null),AA(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vn.clearTimeout(n.m),n.m=null)}function TA(n){DH(n.h)||n.m||(n.m=!0,nH(n.Ja,n),n.C=0)}function UH(n,t){var e;e=t?t.m:n.U++;const i=Yd(n.F);xs(i,"SID",n.I),xs(i,"RID",e),xs(i,"AID",n.T),ab(n,i),n.o&&n.s&&DL(i,n.o,n.s),e=new K0(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=GH(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),TL(n.h,e),wL(e,i,t)}function ab(n,t){n.ia&&iL(n.ia,function(e,i){xs(t,i,e)}),n.l&&xH({},function(e,i){xs(t,i,e)})}function GH(n,t,e){e=Math.min(n.i.length,e);var i=n.l?oo(n.l.Ra,n.l,n):null;e:{var s=n.i;let r=-1;for(;;){const o=["count="+e];-1==r?0<e?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let d=!0;for(let p=0;p<e;p++){let _=s[p].h;const C=s[p].g;if(_-=r,0>_)r=Math.max(0,s[p].h-100),d=!1;else try{wq(C,o,"req"+_+"_")}catch{i&&i(C)}}if(d){i=o.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function WH(n){n.g||n.u||(n.Z=1,nH(n.Ia,n),n.A=0)}function IL(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=q0(oo(n.Ia,n),YH(n,n.A)),n.A++,0))}function ML(n){null!=n.B&&(Vn.clearTimeout(n.B),n.B=null)}function jH(n){n.g=new K0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Yd(n.sa);xs(t,"RID","rpc"),xs(t,"SID",n.I),xs(t,"CI",n.L?"0":"1"),xs(t,"AID",n.T),xs(t,"TYPE","xmlhttp"),ab(n,t),n.o&&n.s&&DL(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=xA(Yd(t)),e.s=null,e.P=!0,mH(e,n)}function AA(n){null!=n.v&&(Vn.clearTimeout(n.v),n.v=null)}function $H(n,t){var e=null;if(n.g==t){AA(n),ML(n),n.g=null;var i=2}else{if(!SL(n.h,t))return;e=t.D,IH(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=n.C;Hr(i=fA(),new dH(i,e)),TA(n)}else WH(n);else if(3==(s=t.o)||0==s&&0<n.pa||!(1==i&&function Dq(n,t){return!(kH(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=q0(oo(n.Ja,n,t),YH(n,n.C)),n.C++,0)))}(n,t)||2==i&&IL(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),s){case 1:Gg(n,5);break;case 4:Gg(n,10);break;case 3:Gg(n,6);break;default:Gg(n,2)}}function YH(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Gg(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=oo(n.kb,n);e||(e=new Ug("//www.google.com/images/cleardot.gif"),Vn.location&&"http"==Vn.location.protocol||yA(e,"https"),xA(e)),function Cq(n,t){const e=new hA;if(Vn.Image){const i=new Image;i.onload=sA(bA,e,i,"TestLoadImage: loaded",!0,t),i.onerror=sA(bA,e,i,"TestLoadImage: error",!1,t),i.onabort=sA(bA,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=sA(bA,e,i,"TestLoadImage: timeout",!1,t),Vn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ko(2);n.G=0,n.l&&n.l.va(t),XH(n),zH(n)}function XH(n){if(n.G=0,n.la=[],n.l){const t=MH(n.h);(0!=t.length||0!=n.i.length)&&(zV(n.la,t),zV(n.la,n.i),n.h.i.length=0,qM(n.i),n.i.length=0),n.l.ua()}}function qH(n,t,e){var i=e instanceof Ug?Yd(e):new Ug(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),_A(i,i.m);else{var s=Vn.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new Ug(null,void 0);i&&yA(r,i),t&&(r.g=t),s&&_A(r,s),e&&(r.l=e),i=r}return t=n.za,(e=n.D)&&t&&xs(i,e,t),xs(i,"VER",n.ma),ab(n,i),i}function ZH(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Rs(e&&n.Da&&!n.ra?new ib({jb:!0}):n.ra)).Ka(n.H),t}function KH(){}function EA(){if(Ey&&!(10<=Number(j8)))throw Error("Environmental error: no available transport.")}function Sa(n,t){br.call(this),this.g=new HH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!rA(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rA(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Iy(this)}function QH(n){yL.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function JH(){_L.call(this),this.status=1}function Iy(n){this.g=n}(hn=Rs.prototype).Ka=function(n){this.L=n},hn.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xL.g(),this.C=function fH(n){return n.h||(n.h=n.i())}(this.u?this.u:xL),this.g.onreadystatechange=oo(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(r){return void OH(this,r)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)e.set(s,i[s]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const r of i.keys())e.set(r,i.get(r))}i=Array.from(e.keys()).find(r=>"content-type"==r.toLowerCase()),s=Vn.FormData&&n instanceof Vn.FormData,!(0<=HV(Aq,t))||i||s||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of e)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NH(this),0<this.B&&((this.K=function Eq(n){return Ey&&function W8(){return function H8(n){var t=G8;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=UV(String(aA)).split("."),e=UV("9").split("."),i=Math.max(t.length,e.length);for(let o=0;0==n&&o<i;o++){var s=t[o]||"",r=e[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],0==s[0].length&&0==r[0].length)break;n=ZM(0==s[1].length?0:parseInt(s[1],10),0==r[1].length?0:parseInt(r[1],10))||ZM(0==s[2].length,0==r[2].length)||ZM(s[2],r[2]),s=s[3],r=r[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=oo(this.qa,this)):this.A=mL(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(r){OH(this,r)}},hn.qa=function(){typeof YM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},hn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),CA(this))},hn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),CA(this,!0)),Rs.X.M.call(this)},hn.Ha=function(){this.s||(this.F||this.v||this.l?FH(this):this.fb())},hn.fb=function(){FH(this)},hn.aa=function(){try{return 2<Xd(this)?this.g.status:-1}catch{return-1}},hn.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},hn.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Sq(t)}},hn.Ea=function(){return this.m},hn.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(hn=HH.prototype).ma=8,hn.G=1,hn.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const s=new K0(this,this.j,n,void 0);let r=this.s;if(this.S&&(r?(r=YV(r),qV(r,this.S)):r=this.S),null!==this.o||this.N||(s.H=r,r=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=GH(this,s,t),xs(e=Yd(this.F),"RID",n),xs(e,"CVER",22),this.D&&xs(e,"X-HTTP-Session-Id",this.D),ab(this,e),r&&(this.N?t="headers="+encodeURIComponent(String(VH(r)))+"&"+t:this.o&&DL(e,this.o,r)),TL(this.h,s),this.Ya&&xs(e,"TYPE","init"),this.O?(xs(e,"$req",t),xs(e,"SID","null"),s.Z=!0,wL(s,e,null)):wL(s,e,t),this.G=2}}else 3==this.G&&(n?UH(this,n):0==this.i.length||DH(this.h)||UH(this))},hn.Ia=function(){if(this.u=null,jH(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=q0(oo(this.eb,this),n)}},hn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ko(10),SA(this),jH(this))},hn.cb=function(){null!=this.v&&(this.v=null,SA(this),IL(this),ko(19))},hn.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ko(2)):(this.j.info("Failed to ping google.com"),ko(1))},(hn=KH.prototype).xa=function(){},hn.wa=function(){},hn.va=function(){},hn.ua=function(){},hn.Ra=function(){},EA.prototype.g=function(n,t){return new Sa(n,t)},Vr(Sa,br),Sa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;ko(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=qH(n,null,n.V),TA(n)},Sa.prototype.close=function(){kL(this.g)},Sa.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=hL(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&TA(t)},Sa.prototype.M=function(){this.g.l=null,delete this.j,kL(this.g),delete this.g,Sa.X.M.call(this)},Vr(QH,yL),Vr(JH,_L),Vr(Iy,KH),Iy.prototype.xa=function(){Hr(this.g,"a")},Iy.prototype.wa=function(n){Hr(this.g,new QH(n))},Iy.prototype.va=function(n){Hr(this.g,new JH)},Iy.prototype.ua=function(){Hr(this.g,"b")},EA.prototype.createWebChannel=EA.prototype.g,Sa.prototype.send=Sa.prototype.u,Sa.prototype.open=Sa.prototype.m,Sa.prototype.close=Sa.prototype.close,pA.NO_ERROR=0,pA.TIMEOUT=8,pA.HTTP_ERROR=6,hH.COMPLETE="complete",pH.EventType=Z0,Z0.OPEN="a",Z0.CLOSE="b",Z0.ERROR="c",Z0.MESSAGE="d",br.prototype.listen=br.prototype.N,Rs.prototype.listenOnce=Rs.prototype.O,Rs.prototype.getLastError=Rs.prototype.Oa,Rs.prototype.getLastErrorCode=Rs.prototype.Ea,Rs.prototype.getStatus=Rs.prototype.aa,Rs.prototype.getResponseJson=Rs.prototype.Sa,Rs.prototype.getResponseText=Rs.prototype.fa,Rs.prototype.send=Rs.prototype.da,Rs.prototype.setWithCredentials=Rs.prototype.Ka;var kq=$d.createWebChannelTransport=function(){return new EA},Iq=$d.getStatEventTarget=function(){return fA()},LL=$d.ErrorCode=pA,Mq=$d.EventType=hH,Lq=$d.Event=Hg,ez=$d.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Pq=$d.FetchXmlHttpFactory=ib,DA=$d.WebChannel=pH,Oq=$d.XhrIo=Rs;const tz="@firebase/firestore";class wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let My="9.13.0";const Af=new Cf.Yd("@firebase/firestore");function PL(){return Af.logLevel}function Dt(n,...t){if(Af.logLevel<=Cf.in.DEBUG){const e=t.map(OL);Af.debug(`Firestore (${My}): ${n}`,...e)}}function Ys(n,...t){if(Af.logLevel<=Cf.in.ERROR){const e=t.map(OL);Af.error(`Firestore (${My}): ${n}`,...e)}}function Wg(n,...t){if(Af.logLevel<=Cf.in.WARN){const e=t.map(OL);Af.warn(`Firestore (${My}): ${n}`,...e)}}function OL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function on(n="Unexpected state"){const t=`FIRESTORE (${My}) INTERNAL ASSERTION FAILED: `+n;throw Ys(t),new Error(t)}function Dn(n,t){n||on()}function $t(n,t){return n}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ci.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class nz{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(wr.UNAUTHENTICATED))}shutdown(){}}class Bq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Vq{constructor(t){this.t=t,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let s=this.i;const r=_=>this.i!==s?(s=this.i,e(_)):Promise.resolve();let o=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fr,t.enqueueRetryable(()=>r(this.currentUser))};const d=()=>{const _=o;t.enqueueRetryable((0,ot.Z)(function*(){yield _.promise,yield r(i.currentUser)}))},p=_=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dn("string"==typeof i.accessToken),new nz(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dn(null===t||"string"==typeof t),new wr(t)}}class Hq{constructor(t,e,i,s){this.h=t,this.l=e,this.m=i,this.g=s,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Dn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class zq{constructor(t,e,i,s){this.h=t,this.l=e,this.m=i,this.g=s}getToken(){return Promise.resolve(new Hq(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iz{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uq{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=r=>{null!=r.error&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.A;return this.A=r.token,Dt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.T.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.T.getImmediate({optional:!0});r?s(r):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dn("string"==typeof e.token),this.A=e.token,new iz(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gq(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class sz{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=Gq(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<e&&(i+=t.charAt(s[r]%t.length))}return i}}function Hn(n,t){return n<t?-1:n>t?1:0}function Ly(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}function rz(n){return n+"\0"}class bs{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ct(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bs.fromMillis(Date.now())}static fromDate(t){return bs.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new bs(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Hn(this.nanoseconds,t.nanoseconds):Hn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new kn(t)}static min(){return new kn(new bs(0,0))}static max(){return new kn(new bs(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lb{constructor(t,e,i){void 0===e?e=0:e>t.length&&on(),void 0===i?i=t.length-e:i>t.length-e&&on(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===lb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof lb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const r=t.get(s),o=e.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class _i extends lb{construct(t,e,i){return new _i(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(Je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new _i(e)}static emptyPath(){return new _i([])}}const Wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fs extends lb{construct(t,e,i){return new Fs(t,e,i)}static isValidIdentifier(t){return Wq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fs(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const r=()=>{if(0===i.length)throw new Ct(Je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;s<t.length;){const d=t[s];if("\\"===d){if(s+1===t.length)throw new Ct(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[s+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ct(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,s+=2}else"`"===d?(o=!o,s++):"."!==d||o?(i+=d,s++):(r(),s++)}if(r(),o)throw new Ct(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fs(e)}static emptyPath(){return new Fs([])}}class Wt{constructor(t){this.path=t}static fromPath(t){return new Wt(_i.fromString(t))}static fromName(t){return new Wt(_i.fromString(t).popFirst(5))}static empty(){return new Wt(_i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===_i.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return _i.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Wt(new _i(t.slice()))}}class kA{constructor(t,e,i,s){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=s}}function RL(n){return n.fields.find(t=>2===t.kind)}function jg(n){return n.fields.filter(t=>2!==t.kind)}kA.UNKNOWN_ID=-1;class IA{constructor(t,e){this.fieldPath=t,this.kind=e}}class cb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new cb(0,Ta.min())}}function oz(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=kn.fromTimestamp(1e9===i?new bs(e+1,0):new bs(e,i));return new Ta(s,Wt.empty(),t)}function az(n){return new Ta(n.readTime,n.key,-1)}class Ta{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ta(kn.min(),Wt.empty(),-1)}static max(){return new Ta(kn.max(),Wt.empty(),-1)}}function FL(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Wt.comparator(n.documentKey,t.documentKey),0!==e?e:Hn(n.largestBatchId,t.largestBatchId))}const lz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ef(n){return NL.apply(this,arguments)}function NL(){return NL=(0,ot.Z)(function*(n){if(n.code!==Je.FAILED_PRECONDITION||n.message!==lz)throw n;Dt("LocalStore","Unexpectedly lost primary lease")}),NL.apply(this,arguments)}class Ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&on(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ke((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(e,r).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ke?e:Ke.resolve(e)}catch(e){return Ke.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ke.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ke.reject(e)}static resolve(t){return new Ke((e,i)=>{e(t)})}static reject(t){return new Ke((e,i)=>{i(t)})}static waitFor(t){return new Ke((e,i)=>{let s=0,r=0,o=!1;t.forEach(d=>{++s,d.next(()=>{++r,o&&r===s&&e()},p=>i(p))}),o=!0,r===s&&e()})}static or(t){let e=Ke.resolve(!1);for(const i of t)e=e.next(s=>s?Ke.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,r)=>{i.push(e.call(this,s,r))}),this.waitFor(i)}static mapArray(t,e){return new Ke((i,s)=>{const r=t.length,o=new Array(r);let d=0;for(let p=0;p<r;p++){const _=p;e(t[_]).next(C=>{o[_]=C,++d,d===r&&i(o)},C=>s(C))}})}static doWhile(t,e){return new Ke((i,s)=>{const r=()=>{!0===t()?e().next(()=>{r()},s):i()};r()})}}class MA{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new fr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new ub(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const s=BL(i.target.error);this.P.reject(new ub(t,s))}}static open(t,e,i,s){try{return new MA(e,t.transaction(s,i))}catch(r){throw new ub(e,r)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Dt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Xq(e)}}class Lc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Lc.D((0,ci.z$)())&&Ys("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Dt("SimpleDb","Removing database:",t),$g(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,ci.hl)())return!1;if(Lc.N())return!0;const t=(0,ci.z$)(),e=Lc.D(t),i=0<e&&e<10,s=Lc.k(t),r=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||r)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,ot.Z)(function*(){return e.db||(Dt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,s)=>{const r=indexedDB.open(e.name,e.version);r.onsuccess=o=>{i(o.target.result)},r.onblocked=()=>{s(new ub(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const d=o.target.error;s("VersionError"===d.name?new Ct(Je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ct(Je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new ub(t,d))},r.onupgradeneeded=o=>{Dt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.S.$(o.target.result,r.transaction,o.oldVersion,e.version).next(()=>{Dt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){var r=this;return(0,ot.Z)(function*(){const o="readonly"===e;let d=0;for(;;){++d;try{r.db=yield r.F(t);const p=MA.open(r.db,t,o?"readonly":"readwrite",i),_=s(p).next(C=>(p.V(),C)).catch(C=>(p.abort(C),Ke.reject(C))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,C="FirebaseError"!==_.name&&d<3;if(Dt("SimpleDb","Transaction failed with error:",_.message,"Retrying:",C),r.close(),!C)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yq{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return $g(this.U.delete())}}class ub extends Ct{constructor(t,e){super(Je.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Df(n){return"IndexedDbTransactionError"===n.name}class Xq{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Dt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Dt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),$g(i)}add(t){return Dt("SimpleDb","ADD",this.store.name,t,t),$g(this.store.add(t))}get(t){return $g(this.store.get(t)).next(e=>(void 0===e&&(e=null),Dt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Dt("SimpleDb","DELETE",this.store.name,t),$g(this.store.delete(t))}count(){return Dt("SimpleDb","COUNT",this.store.name),$g(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const s=this.cursor(i),r=[];return this.H(s,(o,d)=>{r.push(d)}).next(()=>r)}{const s=this.store.getAll(i.range);return new Ke((r,o)=>{s.onerror=d=>{o(d.target.error)},s.onsuccess=d=>{r(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ke((s,r)=>{i.onerror=o=>{r(o.target.error)},i.onsuccess=o=>{s(o.target.result)}})}Y(t,e){Dt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const s=this.cursor(i);return this.H(s,(r,o,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.H(s,e)}tt(t){const e=this.cursor({});return new Ke((i,s)=>{e.onerror=r=>{const o=BL(r.target.error);s(o)},e.onsuccess=r=>{const o=r.target.result;o?t(o.primaryKey,o.value).next(d=>{d?o.continue():i()}):i()}})}H(t,e){const i=[];return new Ke((s,r)=>{t.onerror=o=>{r(o.target.error)},t.onsuccess=o=>{const d=o.target.result;if(!d)return void s();const p=new Yq(d),_=e(d.primaryKey,d.value,p);if(_ instanceof Ke){const C=_.catch(k=>(p.done(),Ke.reject(k)));i.push(C)}p.isDone?s():null===p.G?d.continue():d.continue(p.G)}}).next(()=>Ke.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function $g(n){return new Ke((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const s=BL(i.target.error);e(s)}})}let uz=!1;function BL(n){const t=Lc.D((0,ci.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uz||(uz=!0,setTimeout(()=>{throw i},0)),i}}return n}class qq{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Dt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ot.Z)(function*(){e.task=null;try{Dt("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Df(i)?Dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ef(i)}yield e.nt(6e4)}))}}class Zq{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ot.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let s=e,r=!0;return Ke.doWhile(()=>!0===r&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return Dt("IndexBackiller",`Processing collection: ${o}`),this.rt(t,o,s).next(d=>{s-=d,i.add(o)});r=!1})).next(()=>e-s)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,i).next(r=>{const o=r.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ot(s,r)).next(d=>(Dt("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>o.size)}))}ot(t,e){let i=t;return e.changes.forEach((s,r)=>{const o=az(r);FL(o,i)>0&&(i=o)}),new Ta(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class oa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function dz(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yg(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function hz(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}oa.at=-1;class Ns{constructor(t,e){this.comparator=t,this.root=e||zr.EMPTY}insert(t,e){return new Ns(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(t){return new Ns(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new LA(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new LA(this.root,t,this.comparator,!1)}getReverseIterator(){return new LA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new LA(this.root,t,this.comparator,!0)}}class LA{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?i(t.key,e):1,e&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zr{constructor(t,e,i,s,r){this.key=t,this.value=e,this.color=i??zr.RED,this.left=s??zr.EMPTY,this.right=r??zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,r){return new zr(t??this.key,e??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===r?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return zr.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw on();const t=this.left.check();if(t!==this.right.check())throw on();return t+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1,zr.EMPTY=new class{constructor(){this.size=0}get key(){throw on()}get value(){throw on()}get color(){throw on()}get left(){throw on()}get right(){throw on()}copy(n,t,e,i,s){return this}insert(n,t,e){return new zr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qi{constructor(t){this.comparator=t,this.data=new Ns(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new fz(this.data.getIterator())}getIteratorFrom(t){return new fz(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof qi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,r=i.getNext().key;if(0!==this.comparator(s,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new qi(this.comparator);return e.data=t,e}}class fz{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Py(n){return n.hasNext()?n.getNext():void 0}class Aa{constructor(t){this.fields=t,t.sort(Fs.comparator)}static empty(){return new Aa([])}unionWith(t){let e=new qi(Fs.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Aa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ly(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new pr(e)}static fromUint8Array(t){const e=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(t);return new pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Hn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const Qq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kf(n){if(Dn(!!n),"string"==typeof n){let t=0;const e=Qq.exec(n);if(Dn(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bs(n.seconds),nanos:Bs(n.nanos)}}function Bs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xg(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function VL(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function pz(n){const t=n.mapValue.fields.__previous_value__;return VL(t)?pz(t):t}function db(n){const t=kf(n.mapValue.fields.__local_write_time__.timestampValue);return new bs(t.seconds,t.nanos)}class Jq{constructor(t,e,i,s,r,o,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class If{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new If("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof If&&t.projectId===this.projectId&&t.database===this.database}}function hb(n){return null==n}function fb(n){return 0===n&&1/n==-1/0}function gz(n){return"number"==typeof n&&Number.isInteger(n)&&!fb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Mf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},PA={nullValue:"NULL_VALUE"};function qg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?VL(n)?4:_z(n)?9007199254740991:10:on()}function Iu(n,t){if(n===t)return!0;const e=qg(n);if(e!==qg(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return db(n).isEqual(db(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=kf(i.timestampValue),o=kf(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Xg(n.bytesValue).isEqual(Xg(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return Bs(i.geoPointValue.latitude)===Bs(s.geoPointValue.latitude)&&Bs(i.geoPointValue.longitude)===Bs(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Bs(i.integerValue)===Bs(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=Bs(i.doubleValue),o=Bs(s.doubleValue);return r===o?fb(r)===fb(o):isNaN(r)&&isNaN(o)}return!1}(n,t);case 9:return Ly(n.arrayValue.values||[],t.arrayValue.values||[],Iu);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(dz(r)!==dz(o))return!1;for(const d in r)if(r.hasOwnProperty(d)&&(void 0===o[d]||!Iu(r[d],o[d])))return!1;return!0}(n,t);default:return on()}var s}function pb(n,t){return void 0!==(n.values||[]).find(e=>Iu(e,t))}function Lf(n,t){if(n===t)return 0;const e=qg(n),i=qg(t);if(e!==i)return Hn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Hn(n.booleanValue,t.booleanValue);case 2:return function(s,r){const o=Bs(s.integerValue||s.doubleValue),d=Bs(r.integerValue||r.doubleValue);return o<d?-1:o>d?1:o===d?0:isNaN(o)?isNaN(d)?0:-1:1}(n,t);case 3:return mz(n.timestampValue,t.timestampValue);case 4:return mz(db(n),db(t));case 5:return Hn(n.stringValue,t.stringValue);case 6:return function(s,r){const o=Xg(s),d=Xg(r);return o.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(s,r){const o=s.split("/"),d=r.split("/");for(let p=0;p<o.length&&p<d.length;p++){const _=Hn(o[p],d[p]);if(0!==_)return _}return Hn(o.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,r){const o=Hn(Bs(s.latitude),Bs(r.latitude));return 0!==o?o:Hn(Bs(s.longitude),Bs(r.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,r){const o=s.values||[],d=r.values||[];for(let p=0;p<o.length&&p<d.length;++p){const _=Lf(o[p],d[p]);if(_)return _}return Hn(o.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,r){if(s===Mf.mapValue&&r===Mf.mapValue)return 0;if(s===Mf.mapValue)return 1;if(r===Mf.mapValue)return-1;const o=s.fields||{},d=Object.keys(o),p=r.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let C=0;C<d.length&&C<_.length;++C){const k=Hn(d[C],_[C]);if(0!==k)return k;const N=Lf(o[d[C]],p[_[C]]);if(0!==N)return N}return Hn(d.length,_.length)}(n.mapValue,t.mapValue);default:throw on()}}function mz(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Hn(n,t);const e=kf(n),i=kf(t),s=Hn(e.seconds,i.seconds);return 0!==s?s:Hn(e.nanos,i.nanos)}function Oy(n){return HL(n)}function HL(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=kf(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xg(n.bytesValue).toBase64():"referenceValue"in n?Wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=HL(o);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const d of s)o?o=!1:r+=",",r+=`${d}:${HL(i.fields[d])}`;return r+"}"}(n.mapValue):on();var t}function Zg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function zL(n){return!!n&&"integerValue"in n}function gb(n){return!!n&&"arrayValue"in n}function vz(n){return!!n&&"nullValue"in n}function yz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OA(n){return!!n&&"mapValue"in n}function mb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Yg(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=mb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function _z(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function e7(n){return"nullValue"in n?PA:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zg(If.empty(),Wt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:on()}function t7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zg(If.empty(),Wt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Mf:on()}function xz(n,t){const e=Lf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function bz(n,t){const e=Lf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ur{constructor(t){this.value=t}static empty(){return new Ur({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!OA(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mb(e)}setAll(t){let e=Fs.emptyPath(),i={},s=[];t.forEach((o,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,s),i={},s=[],e=d.popLast()}o?i[d.lastSegment()]=mb(o):s.push(d.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,i,s)}delete(t){const e=this.field(t.popLast());OA(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Iu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];OA(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Yg(e,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Ur(mb(this.value))}}function wz(n){const t=[];return Yg(n.fields,(e,i)=>{const s=new Fs([e]);if(OA(i)){const r=wz(i.mapValue).fields;if(0===r.length)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new Aa(t)}class cs{constructor(t,e,i,s,r,o){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.data=r,this.documentState=o}static newInvalidDocument(t){return new cs(t,0,kn.min(),kn.min(),Ur.empty(),0)}static newFoundDocument(t,e,i){return new cs(t,1,e,kn.min(),i,0)}static newNoDocument(t,e){return new cs(t,2,e,kn.min(),Ur.empty(),0)}static newUnknownDocument(t,e){return new cs(t,3,e,kn.min(),Ur.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof cs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class n7{constructor(t,e=null,i=[],s=[],r=null,o=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=d,this.ht=null}}function Cz(n,t=null,e=[],i=[],s=null,r=null,o=null){return new n7(n,t,e,i,s,r,o)}function Kg(n){const t=$t(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(s=i).field.canonicalString()+s.op.toString()+Oy(s.value);var s}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),hb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Oy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Oy(i)).join(",")),t.ht=e}return t.ht}function vb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!d7(n.orderBy[s],t.orderBy[s]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((e=n.filters[s]).op!==(i=t.filters[s]).op||!e.field.isEqual(i.field)||!Iu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Dz(n.startAt,t.startAt)&&Dz(n.endAt,t.endAt)}function RA(n){return Wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function FA(n,t){return n.filters.filter(e=>e instanceof Gr&&e.field.isEqual(t))}function Sz(n,t,e){let i=PA,s=!0;for(const r of FA(n,t)){let o=PA,d=!0;switch(r.op){case"<":case"<=":o=e7(r.value);break;case"==":case"in":case">=":o=r.value;break;case">":o=r.value,d=!1;break;case"!=":case"not-in":o=PA}xz({value:i,inclusive:s},{value:o,inclusive:d})<0&&(i=o,s=d)}if(null!==e)for(let r=0;r<n.orderBy.length;++r)if(n.orderBy[r].field.isEqual(t)){const o=e.position[r];xz({value:i,inclusive:s},{value:o,inclusive:e.inclusive})<0&&(i=o,s=e.inclusive);break}return{value:i,inclusive:s}}function Tz(n,t,e){let i=Mf,s=!0;for(const r of FA(n,t)){let o=Mf,d=!0;switch(r.op){case">=":case">":o=t7(r.value),d=!1;break;case"==":case"in":case"<=":o=r.value;break;case"<":o=r.value,d=!1;break;case"!=":case"not-in":o=Mf}bz({value:i,inclusive:s},{value:o,inclusive:d})>0&&(i=o,s=d)}if(null!==e)for(let r=0;r<n.orderBy.length;++r)if(n.orderBy[r].field.isEqual(t)){const o=e.position[r];bz({value:i,inclusive:s},{value:o,inclusive:e.inclusive})>0&&(i=o,s=e.inclusive);break}return{value:i,inclusive:s}}class Gr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new s7(t,e,i):"array-contains"===e?new a7(t,i):"in"===e?new l7(t,i):"not-in"===e?new c7(t,i):"array-contains-any"===e?new u7(t,i):new Gr(t,e,i)}static lt(t,e,i){return"in"===e?new r7(t,i):new o7(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Lf(e,this.value)):null!==e&&qg(this.value)===qg(e)&&this.ft(Lf(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return on()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class s7 extends Gr{constructor(t,e,i){super(t,e,i),this.key=Wt.fromName(i.referenceValue)}matches(t){const e=Wt.comparator(t.key,this.key);return this.ft(e)}}class r7 extends Gr{constructor(t,e){super(t,"in",e),this.keys=Az(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class o7 extends Gr{constructor(t,e){super(t,"not-in",e),this.keys=Az(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Az(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Wt.fromName(i.referenceValue))}class a7 extends Gr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gb(e)&&pb(e.arrayValue,this.value)}}class l7 extends Gr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&pb(this.value.arrayValue,e)}}class c7 extends Gr{constructor(t,e){super(t,"not-in",e)}matches(t){if(pb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!pb(this.value.arrayValue,e)}}class u7 extends Gr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>pb(this.value.arrayValue,i))}}class Pf{constructor(t,e){this.position=t,this.inclusive=e}}class Ry{constructor(t,e="asc"){this.field=t,this.dir=e}}function d7(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Ez(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const r=t[s],o=n.position[s];if(i=r.field.isKeyField()?Wt.comparator(Wt.fromName(o.referenceValue),e.key):Lf(o,e.data.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return i}function Dz(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Iu(n.position[e],t.position[e]))return!1;return!0}class qd{constructor(t,e=null,i=[],s=[],r=null,o="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function kz(n,t,e,i,s,r,o,d){return new qd(n,t,e,i,s,r,o,d)}function Fy(n){return new qd(n)}function Iz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function UL(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function GL(n){for(const t of n.filters)if(t.dt())return t.field;return null}function WL(n){return null!==n.collectionGroup}function Ny(n){const t=$t(n);if(null===t._t){t._t=[];const e=GL(t),i=UL(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Ry(e)),t._t.push(new Ry(Fs.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t._t.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ry(Fs.keyField(),r))}}}return t._t}function Io(n){const t=$t(n);if(!t.wt)if("F"===t.limitType)t.wt=Cz(t.path,t.collectionGroup,Ny(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of Ny(t))e.push(new Ry(r.field,"desc"===r.dir?"asc":"desc"));const i=t.endAt?new Pf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Pf(t.startAt.position,t.startAt.inclusive):null;t.wt=Cz(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}return t.wt}function NA(n,t,e){return new qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yb(n,t){return vb(Io(n),Io(t))&&n.limitType===t.limitType}function Mz(n){return`${Kg(Io(n))}|lt:${n.limitType}`}function jL(n){return`Query(target=${function i7(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Oy(i.value)}`;var i}).join(", ")}]`),hb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Oy(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Oy(e)).join(",")),`Target(${t})`}(Io(n))}; limitType=${n.limitType})`}function $L(n,t){return t.isFoundDocument()&&function(e,i){const s=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):Wt.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(n,t)&&function(e,i){for(const s of e.explicitOrderBy)if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(e,i){for(const s of e.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(s,r,o){const d=Ez(s,r,o);return s.inclusive?d<=0:d<0}(e.startAt,Ny(e),i)||e.endAt&&!function(s,r,o){const d=Ez(s,r,o);return s.inclusive?d>=0:d>0}(e.endAt,Ny(e),i)));var e,i}function Lz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pz(n){return(t,e)=>{let i=!1;for(const s of Ny(n)){const r=h7(s,t,e);if(0!==r)return r;i=i||s.field.isKeyField()}return 0}}function h7(n,t,e){const i=n.field.isKeyField()?Wt.comparator(t.key,e.key):function(s,r,o){const d=r.data.field(s),p=o.data.field(s);return null!==d&&null!==p?Lf(d,p):on()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return on()}}function Oz(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fb(t)?"-0":t}}function Rz(n){return{integerValue:""+n}}function Fz(n,t){return gz(t)?Rz(t):Oz(n,t)}class BA{constructor(){this._=void 0}}function f7(n,t,e){return n instanceof By?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(r.fields.__previous_value__=s),{mapValue:r}}(e,t):n instanceof Qg?Bz(n,t):n instanceof Jg?Vz(n,t):function(i,s){const r=Nz(i,s),o=Hz(r)+Hz(i.yt);return zL(r)&&zL(i.yt)?Rz(o):Oz(i.It,o)}(n,t)}function p7(n,t,e){return n instanceof Qg?Bz(n,t):n instanceof Jg?Vz(n,t):e}function Nz(n,t){return n instanceof Vy?zL(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class By extends BA{}class Qg extends BA{constructor(t){super(),this.elements=t}}function Bz(n,t){const e=zz(t);for(const i of n.elements)e.some(s=>Iu(s,i))||e.push(i);return{arrayValue:{values:e}}}class Jg extends BA{constructor(t){super(),this.elements=t}}function Vz(n,t){let e=zz(t);for(const i of n.elements)e=e.filter(s=>!Iu(s,i));return{arrayValue:{values:e}}}class Vy extends BA{constructor(t,e){super(),this.It=t,this.yt=e}}function Hz(n){return Bs(n.integerValue||n.doubleValue)}function zz(n){return gb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _b{constructor(t,e){this.field=t,this.transform=e}}class m7{constructor(t,e){this.version=t,this.transformResults=e}}class ws{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ws}static exists(t){return new ws(void 0,t)}static updateTime(t){return new ws(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function VA(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class HA{}function Uz(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new zy(n.key,ws.none()):new Hy(n.key,n.data,ws.none());{const e=n.data,i=Ur.empty();let s=new qi(Fs.comparator);for(let r of t.fields)if(!s.has(r)){let o=e.field(r);null===o&&r.length>1&&(r=r.popLast(),o=e.field(r)),null===o?i.delete(r):i.set(r,o),s=s.add(r)}return new Zd(n.key,i,new Aa(s.toArray()),ws.none())}}function v7(n,t,e){n instanceof Hy?function(i,s,r){const o=i.value.clone(),d=jz(i.fieldTransforms,s,r.transformResults);o.setAll(d),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(n,t,e):n instanceof Zd?function(i,s,r){if(!VA(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=jz(i.fieldTransforms,s,r.transformResults),d=s.data;d.setAll(Wz(i)),d.setAll(o),s.convertToFoundDocument(r.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function xb(n,t,e,i){return n instanceof Hy?function(s,r,o,d){if(!VA(s.precondition,r))return o;const p=s.value.clone(),_=$z(s.fieldTransforms,d,r);return p.setAll(_),r.convertToFoundDocument(r.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Zd?function(s,r,o,d){if(!VA(s.precondition,r))return o;const p=$z(s.fieldTransforms,d,r),_=r.data;return _.setAll(Wz(s)),_.setAll(p),r.convertToFoundDocument(r.version,_).setHasLocalMutations(),null===o?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(C=>C.field))}(n,t,e,i):(o=e,VA(n.precondition,r=t)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o);var r,o}function y7(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),r=Nz(i.transform,s||null);null!=r&&(null===e&&(e=Ur.empty()),e.set(i.field,r))}return e||null}function Gz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Ly(e,i,(s,r)=>function g7(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Qg&&i instanceof Qg||e instanceof Jg&&i instanceof Jg?Ly(e.elements,i.elements,Iu):e instanceof Vy&&i instanceof Vy?Iu(e.yt,i.yt):e instanceof By&&i instanceof By);var e,i}(s,r))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Hy extends HA{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zd extends HA{constructor(t,e,i,s,r=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Wz(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function jz(n,t,e){const i=new Map;Dn(n.length===e.length);for(let s=0;s<e.length;s++){const r=n[s],o=r.transform,d=t.data.field(r.field);i.set(r.field,p7(o,d,e[s]))}return i}function $z(n,t,e){const i=new Map;for(const s of n){const r=s.transform,o=e.data.field(s.field);i.set(s.field,f7(r,o,t))}return i}class zy extends HA{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YL extends HA{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _7{constructor(t){this.count=t}}var nr,xi;function Yz(n){switch(n){default:return on();case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0}}function Xz(n){if(void 0===n)return Ys("GRPC error has no .code"),Je.UNKNOWN;switch(n){case nr.OK:return Je.OK;case nr.CANCELLED:return Je.CANCELLED;case nr.UNKNOWN:return Je.UNKNOWN;case nr.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case nr.INTERNAL:return Je.INTERNAL;case nr.UNAVAILABLE:return Je.UNAVAILABLE;case nr.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case nr.NOT_FOUND:return Je.NOT_FOUND;case nr.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case nr.ABORTED:return Je.ABORTED;case nr.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case nr.DATA_LOSS:return Je.DATA_LOSS;default:return on()}}(xi=nr||(nr={}))[xi.OK=0]="OK",xi[xi.CANCELLED=1]="CANCELLED",xi[xi.UNKNOWN=2]="UNKNOWN",xi[xi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xi[xi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xi[xi.NOT_FOUND=5]="NOT_FOUND",xi[xi.ALREADY_EXISTS=6]="ALREADY_EXISTS",xi[xi.PERMISSION_DENIED=7]="PERMISSION_DENIED",xi[xi.UNAUTHENTICATED=16]="UNAUTHENTICATED",xi[xi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xi[xi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xi[xi.ABORTED=10]="ABORTED",xi[xi.OUT_OF_RANGE=11]="OUT_OF_RANGE",xi[xi.UNIMPLEMENTED=12]="UNIMPLEMENTED",xi[xi.INTERNAL=13]="INTERNAL",xi[xi.UNAVAILABLE=14]="UNAVAILABLE",xi[xi.DATA_LOSS=15]="DATA_LOSS";class Of{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,r]of i)if(this.equalsFn(s,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return this.inner[i]=[[t,e]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Yg(this.inner,(e,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return hz(this.inner)}size(){return this.innerSize}}const x7=new Ns(Wt.comparator);function aa(){return x7}const qz=new Ns(Wt.comparator);function bb(...n){let t=qz;for(const e of n)t=t.insert(e.key,e);return t}function Zz(n){let t=qz;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Mu(){return wb()}function Kz(){return wb()}function wb(){return new Of(n=>n.toString(),(n,t)=>n.isEqual(t))}const b7=new Ns(Wt.comparator),w7=new qi(Wt.comparator);function qn(...n){let t=w7;for(const e of n)t=t.add(e);return t}const C7=new qi(Hn);function zA(){return C7}class Cb{constructor(t,e,i,s,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Sb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cb(kn.min(),s,zA(),aa(),qn())}}class Sb{constructor(t,e,i,s,r){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Sb(i,e,qn(),qn(),qn())}}class UA{constructor(t,e,i,s){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=s}}class Qz{constructor(t,e){this.targetId=t,this.At=e}}class Jz{constructor(t,e,i=pr.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class eU{constructor(){this.Rt=0,this.bt=nU(),this.Pt=pr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=qn(),e=qn(),i=qn();return this.bt.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:on()}}),new Sb(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=nU()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class S7{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=aa(),this.qt=tU(),this.Kt=new qi(Hn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:on()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,s)=>{this.Ht(s)&&e(s)})}Yt(t){const e=t.targetId,i=t.At.count,s=this.Xt(e);if(s){const r=s.target;if(RA(r))if(0===i){const o=new Wt(r.path);this.jt(e,o,cs.newNoDocument(o,kn.min()))}else Dn(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((r,o)=>{const d=this.Xt(o);if(d){if(r.current&&RA(d.target)){const p=new Wt(d.target.path);null!==this.Ut.get(p)||this.ee(o,p)||this.jt(o,p,cs.newNoDocument(p,t))}r.Dt&&(e.set(o,r.xt()),r.Nt())}});let i=qn();this.qt.forEach((r,o)=>{let d=!0;o.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(r))}),this.Ut.forEach((r,o)=>o.setReadTime(t));const s=new Cb(t,e,this.Kt,this.Ut,i);return this.Ut=aa(),this.qt=tU(),this.Kt=new qi(Hn),s}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const s=this.zt(t);this.ee(t,e)?s.kt(e,1):s.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new eU,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new qi(Hn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Dt("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new eU),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function tU(){return new Ns(Wt.comparator)}function nU(){return new Ns(Wt.comparator)}const T7={asc:"ASCENDING",desc:"DESCENDING"},A7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E7{constructor(t,e){this.databaseId=t,this.gt=e}}function Tb(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iU(n,t){return n.gt?t.toBase64():t.toUint8Array()}function D7(n,t){return Tb(n,t.toTimestamp())}function Cr(n){return Dn(!!n),kn.fromTimestamp(function(t){const e=kf(t);return new bs(e.seconds,e.nanos)}(n))}function XL(n,t){return(e=n,new _i(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function sU(n){const t=_i.fromString(n);return Dn(hU(t)),t}function Ab(n,t){return XL(n.databaseId,t.path)}function Lu(n,t){const e=sU(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Wt(oU(e))}function qL(n,t){return XL(n.databaseId,t)}function rU(n){const t=sU(n);return 4===t.length?_i.emptyPath():oU(t)}function Eb(n){return new _i(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oU(n){return Dn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aU(n,t,e){return{name:Ab(n,t),fields:e.value.mapValue.fields}}function lU(n,t,e){const i=Lu(n,t.name),s=Cr(t.updateTime),r=new Ur({mapValue:{fields:t.fields}}),o=cs.newFoundDocument(i,s,r);return e&&o.setHasCommittedMutations(),e?o.setHasCommittedMutations():o}function Db(n,t){let e;if(t instanceof Hy)e={update:aU(n,t.key,t.value)};else if(t instanceof zy)e={delete:Ab(n,t.key)};else if(t instanceof Zd)e={update:aU(n,t.key,t.data),updateMask:N7(t.fieldMask)};else{if(!(t instanceof YL))return on();e={verify:Ab(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof By)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qg)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Jg)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vy)return{fieldPath:r.field.canonicalString(),increment:o.yt};throw on()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:D7(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:on()),e;var s}function ZL(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?ws.updateTime(Cr(s.updateTime)):void 0!==s.exists?ws.exists(s.exists):ws.none():ws.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(r,o){let d=null;"setToServerValue"in o?(Dn("REQUEST_TIME"===o.setToServerValue),d=new By):"appendMissingElements"in o?d=new Qg(o.appendMissingElements.values||[]):"removeAllFromArray"in o?d=new Jg(o.removeAllFromArray.values||[]):"increment"in o?d=new Vy(r,o.increment):on();const p=Fs.fromServerFormat(o.fieldPath);return new _b(p,d)}(n,s)):[];var s;if(t.update){const s=Lu(n,t.update.name),r=new Ur({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Aa((t.updateMask.fieldPaths||[]).map(_=>Fs.fromServerFormat(_)));return new Zd(s,r,o,e,i)}return new Hy(s,r,e,i)}if(t.delete){const s=Lu(n,t.delete);return new zy(s,e)}if(t.verify){const s=Lu(n,t.verify);return new YL(s,e)}return on()}function cU(n,t){return{documents:[qL(n,t.path)]}}function KL(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=qL(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=qL(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(p){if(0===p.length)return;const _=p.map(C=>function(k){if("=="===k.op){if(yz(k.value))return{unaryFilter:{field:Uy(k.field),op:"IS_NAN"}};if(vz(k.value))return{unaryFilter:{field:Uy(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(yz(k.value))return{unaryFilter:{field:Uy(k.field),op:"IS_NOT_NAN"}};if(vz(k.value))return{unaryFilter:{field:Uy(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uy(k.field),op:O7(k.op),value:k.value}}}(C));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);s&&(e.structuredQuery.where=s);const r=function(p){if(0!==p.length)return p.map(_=>{return{field:Uy((C=_).field),direction:P7(C.dir)};var C})}(t.orderBy);r&&(e.structuredQuery.orderBy=r);const o=(_=t.limit,n.gt||hb(_)?_:{value:_});var _,d,p;return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function uU(n){let t=rU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Dn(1===i);const C=e.from[0];C.allDescendants?s=C.collectionId:t=t.child(C.collectionId)}let r=[];e.where&&(r=dU(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(C=>{return new Ry(Gy((k=C).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let d=null;e.limit&&(d=function(C){let k;return k="object"==typeof C?C.value:C,hb(k)?null:k}(e.limit));let p=null;var C;e.startAt&&(p=new Pf((C=e.startAt).values||[],!!C.before));let _=null;return e.endAt&&(_=function(C){return new Pf(C.values||[],!C.before)}(e.endAt)),kz(t,s,o,r,d,"F",p,_)}function dU(n){return n?void 0!==n.unaryFilter?[F7(n)]:void 0!==n.fieldFilter?[R7(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>dU(t)).reduce((t,e)=>t.concat(e)):on():[]}function P7(n){return T7[n]}function O7(n){return A7[n]}function Uy(n){return{fieldPath:n.canonicalString()}}function Gy(n){return Fs.fromServerFormat(n.fieldPath)}function R7(n){return Gr.create(Gy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return on()}}(n.fieldFilter.op),n.fieldFilter.value)}function F7(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Gy(n.unaryFilter.field);return Gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Gy(n.unaryFilter.field);return Gr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gy(n.unaryFilter.field);return Gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gy(n.unaryFilter.field);return Gr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return on()}}function N7(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Mo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fU(t)),t=B7(n.get(e),t);return fU(t)}function B7(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=r}}return e}function fU(n){return n+"\x01\x01"}function Pu(n){const t=n.length;if(Dn(t>=2),2===t)return Dn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_i.emptyPath();const e=t-2,i=[];let s="";for(let r=0;r<t;){const o=n.indexOf("\x01",r);switch((o<0||o>e)&&on(),n.charAt(o+1)){case"\x01":const d=n.substring(r,o);let p;0===s.length?p=d:(s+=d,p=s,s=""),i.push(p);break;case"\x10":s+=n.substring(r,o),s+="\0";break;case"\x11":s+=n.substring(r,o+1);break;default:on()}r=o+2}return new _i(i)}const pU=["userId","batchId"];function GA(n,t){return[n,Mo(t)]}function gU(n,t,e){return[n,Mo(t),e]}const V7={},H7=["prefixPath","collectionGroup","readTime","documentId"],z7=["prefixPath","collectionGroup","documentId"],U7=["collectionGroup","readTime","prefixPath","documentId"],G7=["canonicalId","targetId"],W7=["targetId","path"],j7=["path","targetId"],$7=["collectionId","parent"],Y7=["indexId","uid"],X7=["uid","sequenceNumber"],q7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Z7=["indexId","uid","orderedDocumentKey"],K7=["userId","collectionPath","documentId"],Q7=["userId","collectionPath","largestBatchId"],J7=["userId","collectionGroup","largestBatchId"],mU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eZ=[...mU,"documentOverlays"],vU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yU=vU,tZ=[...yU,"indexConfiguration","indexState","indexEntries"];class QL extends cz{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Sr(n,t){const e=$t(n);return Lc.M(e.ie,t)}class JL{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&v7(r,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=xb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=xb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Kz();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let d=this.applyToLocalView(o,r.mutatedFields);d=e.has(s.key)?null:d;const p=Uz(o,d);null!==p&&i.set(s.key,p),o.isValidDocument()||o.convertToNoDocument(kn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qn())}isEqual(t){return this.batchId===t.batchId&&Ly(this.mutations,t.mutations,(e,i)=>Gz(e,i))&&Ly(this.baseMutations,t.baseMutations,(e,i)=>Gz(e,i))}}class eP{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Dn(t.mutations.length===i.length);let s=b7;const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new eP(t,e,i,s)}}class tP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rf{constructor(t,e,i,s,r=kn.min(),o=kn.min(),d=pr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=d}withSequenceNumber(t){return new Rf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Rf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Rf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class _U{constructor(t){this.re=t}}function xU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:WA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Ab(s=n.re,(r=t).key),fields:r.data.value.mapValue.fields,updateTime:Tb(s,r.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:em(t.version)};else{if(!t.isUnknownDocument())return on();i.unknownDocument={path:e.path.toArray(),version:em(t.version)}}var s,r;return i}function WA(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function em(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function tm(n){const t=new bs(n.seconds,n.nanoseconds);return kn.fromTimestamp(t)}function nm(n,t){const e=(t.baseMutations||[]).map(r=>ZL(n.re,r));for(let r=0;r<t.mutations.length-1;++r){const o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(o.updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}const i=t.mutations.map(r=>ZL(n.re,r)),s=bs.fromMillis(t.localWriteTimeMs);return new JL(t.batchId,s,e,i)}function kb(n){const t=tm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?tm(n.lastLimboFreeSnapshotVersion):kn.min();let i;var s;return void 0!==n.query.documents?(Dn(1===(s=n.query).documents.length),i=Io(Fy(rU(s.documents[0])))):i=Io(uU(n.query)),new Rf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,pr.fromBase64String(n.resumeToken))}function bU(n,t){const e=em(t.snapshotVersion),i=em(t.lastLimboFreeSnapshotVersion);let s;s=RA(t.target)?cU(n.re,t.target):KL(n.re,t.target);const r=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Kg(t.target),readTime:e,resumeToken:r,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function nP(n){const t=uU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NA(t,t.limit,"L"):t}function iP(n,t){return new tP(t.largestBatchId,ZL(n.re,t.overlayMutation))}function wU(n,t){const e=t.path.lastSegment();return[n,Mo(t.path.popLast()),e]}function CU(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:em(i.readTime),documentKey:Mo(i.documentKey.path),largestBatchId:i.largestBatchId}}class iZ{getBundleMetadata(t,e){return SU(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:tm(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return SU(t).put({bundleId:(i=e).id,createTime:em(Cr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return TU(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:nP(s.bundledQuery),readTime:tm(s.readTime)};var s})}saveNamedQuery(t,e){return TU(t).put({name:(i=e).name,readTime:em(Cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function SU(n){return Sr(n,"bundles")}function TU(n){return Sr(n,"namedQueries")}class jA{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new jA(t,e.uid||"")}getOverlay(t,e){return Ib(t).get(wU(this.userId,e)).next(i=>i?iP(this.It,i):null)}getOverlays(t,e){const i=Mu();return Ke.forEach(e,s=>this.getOverlay(t,s).next(r=>{null!==r&&i.set(s,r)})).next(()=>i)}saveOverlays(t,e,i){const s=[];return i.forEach((r,o)=>{const d=new tP(e,o);s.push(this.ue(t,d))}),Ke.waitFor(s)}removeOverlaysForBatchId(t,e,i){const s=new Set;e.forEach(o=>s.add(Mo(o.getCollectionPath())));const r=[];return s.forEach(o=>{const d=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);r.push(Ib(t).Y("collectionPathOverlayIndex",d))}),Ke.waitFor(r)}getOverlaysForCollection(t,e,i){const s=Mu(),r=Mo(e),o=IDBKeyRange.bound([this.userId,r,i],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ib(t).W("collectionPathOverlayIndex",o).next(d=>{for(const p of d){const _=iP(this.It,p);s.set(_.getKey(),_)}return s})}getOverlaysForCollectionGroup(t,e,i,s){const r=Mu();let o;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ib(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,C)=>{const k=iP(this.It,_);r.size()<s||k.largestBatchId===o?(r.set(k.getKey(),k),o=k.largestBatchId):C.done()}).next(()=>r)}ue(t,e){return Ib(t).put(function(i,s,r){const[o,d,p]=wU(s,r.mutation.key);return{userId:s,collectionPath:d,documentId:p,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:Db(i.re,r.mutation)}}(this.It,this.userId,e))}}function Ib(n){return Sr(n,"documentOverlays")}class im{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Bs(t.integerValue));else if("doubleValue"in t){const i=Bs(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),fb(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Xg(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?_z(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):on()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const s of Object.keys(i))this._e(s,e),this.ae(i[s],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const s of i)this.ae(s,e)}ge(t,e){this.le(e,37),Wt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function sZ(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function AU(n){const t=64-function(e){let i=0;for(let s=0;s<8;++s){const r=sZ(255&e[s]);if(i+=r,8!==r)break}return i}(n);return Math.ceil(t/8)}im.Te=new im;class rZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const s=e.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const s=e.codePointAt(0);this.Pe(240|s>>>18),this.Pe(128|63&s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s)}}this.ve()}De(t){const e=this.Ce(t),i=AU(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=255&e[s]}Ne(t){const e=this.Ce(t),i=AU(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(s){const r=new DataView(new ArrayBuffer(8));return r.setFloat64(0,s,!1),new Uint8Array(r.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let s=1;s<e.length;++s)e[s]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class oZ{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class aZ{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class Mb{constructor(){this.Be=new rZ,this.Le=new oZ(this.Be),this.Ue=new aZ(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class sm{constructor(t,e,i,s){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=s}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new sm(this.indexId,this.documentKey,this.arrayValue,i)}}function rm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=EU(n.arrayValue,t.arrayValue),0!==e?e:(e=EU(n.directionalValue,t.directionalValue),0!==e?e:Wt.comparator(n.documentKey,t.documentKey)))}function EU(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class lZ{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=RL(t);if(void 0!==e&&!this.ze(e))return!1;const i=jg(t);let s=0,r=0;for(;s<i.length&&this.ze(i[s]);++s);if(s===i.length)return!0;if(void 0!==this.je){const o=i[s];if(!this.He(this.je,o)||!this.Je(this.Ge[r++],o))return!1;++s}for(;s<i.length;++s){const o=i[s];if(r>=this.Ge.length||!this.Je(this.Ge[r++],o))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class cZ{constructor(){this.Ye=new sP}addToCollectionParentIndex(t,e){return this.Ye.add(e),Ke.resolve()}getCollectionParents(t,e){return Ke.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return Ke.resolve()}deleteFieldIndex(t,e){return Ke.resolve()}getDocumentsMatchingTarget(t,e){return Ke.resolve(null)}getIndexType(t,e){return Ke.resolve(0)}getFieldIndexes(t,e){return Ke.resolve([])}getNextCollectionGroupToUpdate(t){return Ke.resolve(null)}getMinOffset(t,e){return Ke.resolve(Ta.min())}getMinOffsetFromCollectionGroup(t,e){return Ke.resolve(Ta.min())}updateCollectionGroup(t,e,i){return Ke.resolve()}updateIndexEntries(t,e){return Ke.resolve()}}class sP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new qi(_i.comparator),r=!s.has(i);return this.index[e]=s.add(i),r}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new qi(_i.comparator)).toArray()}}const $A=new Uint8Array(0);class uZ{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new sP,this.Ze=new Of(i=>Kg(i),(i,s)=>vb(i,s)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const r={collectionId:i,parent:Mo(s)};return DU(t).put(r)}return Ke.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[rz(e),""],!1,!0);return DU(t).W(s).next(r=>{for(const o of r){if(o.collectionId!==e)break;i.push(Pu(o.parent))}return i})}addFieldIndex(t,e){const i=YA(t),s={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var o;delete s.indexId;const r=i.add(s);if(e.indexState){const o=Pb(t);return r.next(d=>{o.put(CU(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return r.next()}deleteFieldIndex(t,e){const i=YA(t),s=Pb(t),r=Lb(t);return i.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Lb(t);let s=!0;const r=new Map;return Ke.forEach(this.tn(e),o=>this.en(t,o).next(d=>{s&&(s=!!d),r.set(o,d)})).next(()=>{if(s){let o=qn();const d=[];return Ke.forEach(r,(p,_)=>{var C;Dt("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Te=>`${Te.fieldPath}:${Te.kind}`).join(",")}`} to execute ${Kg(e)}`);const k=function(Te,Ee){const De=RL(Ee);if(void 0===De)return null;for(const Fe of FA(Te,De.fieldPath))switch(Fe.op){case"array-contains-any":return Fe.value.arrayValue.values||[];case"array-contains":return[Fe.value]}return null}(_,p),N=function(Te,Ee){const De=new Map;for(const Fe of jg(Ee))for(const Qe of FA(Te,Fe.fieldPath))switch(Qe.op){case"==":case"in":De.set(Fe.fieldPath.canonicalString(),Qe.value);break;case"not-in":case"!=":return De.set(Fe.fieldPath.canonicalString(),Qe.value),Array.from(De.values())}return null}(_,p),z=function(Te,Ee){const De=[];let Fe=!0;for(const Qe of jg(Ee)){const yt=0===Qe.kind?Sz(Te,Qe.fieldPath,Te.startAt):Tz(Te,Qe.fieldPath,Te.startAt);De.push(yt.value),Fe&&(Fe=yt.inclusive)}return new Pf(De,Fe)}(_,p),W=function(Te,Ee){const De=[];let Fe=!0;for(const Qe of jg(Ee)){const yt=0===Qe.kind?Tz(Te,Qe.fieldPath,Te.endAt):Sz(Te,Qe.fieldPath,Te.endAt);De.push(yt.value),Fe&&(Fe=yt.inclusive)}return new Pf(De,Fe)}(_,p),Q=this.nn(p,_,z),K=this.nn(p,_,W),fe=this.sn(p,_,N),ve=this.rn(p.indexId,k,Q,z.inclusive,K,W.inclusive,fe);return Ke.forEach(ve,Te=>i.J(Te,e.limit).next(Ee=>{Ee.forEach(De=>{const Fe=Wt.fromSegments(De.documentKey);o.has(Fe)||(o=o.add(Fe),d.push(Fe))})}))}).next(()=>d)}return Ke.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,s,r,o,d){const p=(null!=e?e.length:1)*Math.max(i.length,r.length),_=p/(null!=e?e.length:1),C=[];for(let k=0;k<p;++k){const N=e?this.on(e[k/_]):$A,z=this.un(t,N,i[k%_],s),W=this.cn(t,N,r[k%_],o),Q=d.map(K=>this.un(t,N,K,!0));C.push(...this.createRange(z,W,Q))}return C}un(t,e,i,s){const r=new sm(t,Wt.empty(),e,i);return s?r:r.Ke()}cn(t,e,i,s){const r=new sm(t,Wt.empty(),e,i);return s?r.Ke():r}en(t,e){const i=new lZ(e),s=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(r=>{let o=null;for(const d of r)i.We(d)&&(!o||d.fields.length>o.fields.length)&&(o=d);return o})}getIndexType(t,e){let i=2;return Ke.forEach(this.tn(e),s=>this.en(t,s).next(r=>{r?0!==i&&r.fields.length<function(o){let d=new qi(Fs.comparator),p=!1;for(const _ of o.filters){const C=_;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:d=d.add(C.field))}for(const _ of o.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(s)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new Mb;for(const s of jg(t)){const r=e.data.field(s.fieldPath);if(null==r)return null;const o=i.qe(s.kind);im.Te.ce(r,o)}return i.$e()}on(t){const e=new Mb;return im.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new Mb;return im.Te.ce(Zg(this.databaseId,e),i.qe(function(s){const r=jg(s);return 0===r.length?0:r[r.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let s=[];s.push(new Mb);let r=0;for(const o of jg(t)){const d=i[r++];for(const p of s)if(this.ln(e,o.fieldPath)&&gb(d))s=this.fn(s,o,d);else{const _=p.qe(o.kind);im.Te.ce(d,_)}}return this.dn(s)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const s=[...t],r=[];for(const o of i.arrayValue.values||[])for(const d of s){const p=new Mb;p.seed(d.$e()),im.Te.ce(o,p.qe(e.kind)),r.push(p)}return r}ln(t,e){return!!t.filters.find(i=>i instanceof Gr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=YA(t),s=Pb(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(r=>{const o=[];return Ke.forEach(r,d=>s.get([d.indexId,this.uid]).next(p=>{o.push(function(_,C){const k=C?new cb(C.sequenceNumber,new Ta(tm(C.readTime),new Wt(Pu(C.documentKey)),C.largestBatchId)):cb.empty(),N=_.fields.map(([z,W])=>new IA(Fs.fromServerFormat(z),W));return new kA(_.indexId,_.collectionGroup,N,k)}(d,p))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,s)=>{const r=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==r?r:Hn(i.collectionGroup,s.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const s=YA(t),r=Pb(t);return this._n(t).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>Ke.forEach(d,p=>r.put(CU(p.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return Ke.forEach(e,(s,r)=>{const o=i.get(s.collectionGroup);return(o?Ke.resolve(o):this.getFieldIndexes(t,s.collectionGroup)).next(d=>(i.set(s.collectionGroup,d),Ke.forEach(d,p=>this.wn(t,s,p).next(_=>{const C=this.mn(r,p);return _.isEqual(C)?Ke.resolve():this.gn(t,r,p,_,C)}))))})}yn(t,e,i,s){return Lb(t).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,s){return Lb(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const s=Lb(t);let r=new qi(rm);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(o,d)=>{r=r.add(new sm(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>r)}mn(t,e){let i=new qi(rm);const s=this.an(e,t);if(null==s)return i;const r=RL(e);if(null!=r){const o=t.data.field(r.fieldPath);if(gb(o))for(const d of o.arrayValue.values||[])i=i.add(new sm(e.indexId,t.key,this.on(d),s))}else i=i.add(new sm(e.indexId,t.key,$A,s));return i}gn(t,e,i,s,r){Dt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(d,p,_,C,k){const N=d.getIterator(),z=p.getIterator();let W=Py(N),Q=Py(z);for(;W||Q;){let K=!1,fe=!1;if(W&&Q){const ve=_(W,Q);ve<0?fe=!0:ve>0&&(K=!0)}else null!=W?fe=!0:K=!0;K?(C(Q),Q=Py(z)):fe?(k(W),W=Py(N)):(W=Py(N),Q=Py(z))}}(s,r,rm,d=>{o.push(this.yn(t,e,i,d))},d=>{o.push(this.pn(t,e,i,d))}),Ke.waitFor(o)}_n(t){let e=1;return Pb(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,r)=>{r.done(),e=s.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,d)=>rm(o,d)).filter((o,d,p)=>!d||0!==rm(o,p[d-1]));const s=[];s.push(t);for(const o of i){const d=rm(o,t),p=rm(o,e);if(0===d)s[0]=t.Ke();else if(d>0&&p<0)s.push(o),s.push(o.Ke());else if(p>0)break}s.push(e);const r=[];for(let o=0;o<s.length;o+=2)r.push(IDBKeyRange.bound([s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,$A,[]],[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,$A,[]]));return r}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(kU)}getMinOffset(t,e){return Ke.mapArray(this.tn(e),i=>this.en(t,i).next(s=>s||on())).next(kU)}}function DU(n){return Sr(n,"collectionParents")}function Lb(n){return Sr(n,"indexEntries")}function YA(n){return Sr(n,"indexConfiguration")}function Pb(n){return Sr(n,"indexState")}function kU(n){Dn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;FL(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new Ta(t.readTime,t.documentKey,e)}const IU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class la{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new la(t,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function MU(n,t,e){const i=n.store("mutations"),s=n.store("documentMutations"),r=[],o=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:o},(C,k,N)=>(d++,N.delete()));r.push(p.next(()=>{Dn(1===d)}));const _=[];for(const C of e.mutations){const k=gU(t,C.key.path,e.batchId);r.push(s.delete(k)),_.push(C.key)}return Ke.waitFor(r).next(()=>_)}function XA(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw on();t=n.noDocument}return JSON.stringify(t).length}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(41943040,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);class qA{constructor(t,e,i,s){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=s,this.In={}}static oe(t,e,i,s){Dn(""!==t.uid);const r=t.isAuthenticated()?t.uid:"";return new qA(r,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ff(t).Z({index:"userMutationsIndex",range:i},(s,r,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const r=Wy(t),o=Ff(t);return o.add({}).next(d=>{Dn("number"==typeof d);const p=new JL(d,e,i,s),_=function(N,z,W){const Q=W.baseMutations.map(fe=>Db(N.re,fe)),K=W.mutations.map(fe=>Db(N.re,fe));return{userId:z,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:Q,mutations:K}}(this.It,this.userId,p),C=[];let k=new qi((N,z)=>Hn(N.canonicalString(),z.canonicalString()));for(const N of s){const z=gU(this.userId,N.key.path,d);k=k.add(N.key.path.popLast()),C.push(o.put(_)),C.push(r.put(z,V7))}return k.forEach(N=>{C.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),Ke.waitFor(C).next(()=>p)})}lookupMutationBatch(t,e){return Ff(t).get(e).next(i=>i?(Dn(i.userId===this.userId),nm(this.It,i)):null)}Tn(t,e){return this.In[e]?Ke.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.In[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let r=null;return Ff(t).Z({index:"userMutationsIndex",range:s},(o,d,p)=>{d.userId===this.userId&&(Dn(d.batchId>=i),r=nm(this.It,d)),p.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ff(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(s,r,o)=>{i=r.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ff(t).W("userMutationsIndex",e).next(i=>i.map(s=>nm(this.It,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=GA(this.userId,e.path),s=IDBKeyRange.lowerBound(i),r=[];return Wy(t).Z({range:s},(o,d,p)=>{const[_,C,k]=o,N=Pu(C);if(_===this.userId&&e.path.isEqual(N))return Ff(t).get(k).next(z=>{if(!z)throw on();Dn(z.userId===this.userId),r.push(nm(this.It,z))});p.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qi(Hn);const s=[];return e.forEach(r=>{const o=GA(this.userId,r.path),d=IDBKeyRange.lowerBound(o),p=Wy(t).Z({range:d},(_,C,k)=>{const[N,z,W]=_,Q=Pu(z);N===this.userId&&r.path.isEqual(Q)?i=i.add(W):k.done()});s.push(p)}),Ke.waitFor(s).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,r=GA(this.userId,i),o=IDBKeyRange.lowerBound(r);let d=new qi(Hn);return Wy(t).Z({range:o},(p,_,C)=>{const[k,N,z]=p,W=Pu(N);k===this.userId&&i.isPrefixOf(W)?W.length===s&&(d=d.add(z)):C.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],s=[];return e.forEach(r=>{s.push(Ff(t).get(r).next(o=>{if(null===o)throw on();Dn(o.userId===this.userId),i.push(nm(this.It,o))}))}),Ke.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return MU(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),Ke.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ke.resolve();const i=IDBKeyRange.lowerBound([this.userId]),s=[];return Wy(t).Z({range:i},(r,o,d)=>{if(r[0]===this.userId){const p=Pu(r[1]);s.push(p)}else d.done()}).next(()=>{Dn(0===s.length)})})}containsKey(t,e){return LU(t,this.userId,e)}Rn(t){return PU(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function LU(n,t,e){const i=GA(t,e.path),s=i[1],r=IDBKeyRange.lowerBound(i);let o=!1;return Wy(n).Z({range:r,X:!0},(d,p,_)=>{const[C,k,N]=d;C===t&&k===s&&(o=!0),_.done()}).next(()=>o)}function Ff(n){return Sr(n,"mutations")}function Wy(n){return Sr(n,"documentMutations")}function PU(n){return Sr(n,"mutationQueues")}class om{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new om(0)}static vn(){return new om(-1)}}class dZ{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new om(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>kn.fromTimestamp(new bs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.Sn(t,s)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>jy(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Dn(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let s=0;const r=[];return jy(t).Z((o,d)=>{const p=kb(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(s++,r.push(this.removeTargetData(t,p)))}).next(()=>Ke.waitFor(r)).next(()=>s)}forEachTarget(t,e){return jy(t).Z((i,s)=>{const r=kb(s);e(r)})}Vn(t){return OU(t).get("targetGlobalKey").next(e=>(Dn(null!==e),e))}Sn(t,e){return OU(t).put("targetGlobalKey",e)}Dn(t,e){return jy(t).put(bU(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Kg(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let r=null;return jy(t).Z({range:s,index:"queryTargetsIndex"},(o,d,p)=>{const _=kb(d);vb(e,_.target)&&(r=_,p.done())}).next(()=>r)}addMatchingKeys(t,e,i){const s=[],r=Nf(t);return e.forEach(o=>{const d=Mo(o.path);s.push(r.put({targetId:i,path:d})),s.push(this.referenceDelegate.addReference(t,i,o))}),Ke.waitFor(s)}removeMatchingKeys(t,e,i){const s=Nf(t);return Ke.forEach(e,r=>{const o=Mo(r.path);return Ke.waitFor([s.delete([i,o]),this.referenceDelegate.removeReference(t,i,r)])})}removeMatchingKeysForTargetId(t,e){const i=Nf(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=Nf(t);let r=qn();return s.Z({range:i,X:!0},(o,d,p)=>{const _=Pu(o[1]),C=new Wt(_);r=r.add(C)}).next(()=>r)}containsKey(t,e){const i=Mo(e.path),s=IDBKeyRange.bound([i],[rz(i)],!1,!0);let r=0;return Nf(t).Z({index:"documentTargetsIndex",X:!0,range:s},([o,d],p,_)=>{0!==o&&(r++,_.done())}).next(()=>r>0)}se(t,e){return jy(t).get(e).next(i=>i?kb(i):null)}}function jy(n){return Sr(n,"targets")}function OU(n){return Sr(n,"targetGlobal")}function Nf(n){return Sr(n,"targetDocuments")}function RU([n,t],[e,i]){const s=Hn(n,e);return 0===s?Hn(t,i):s}class hZ{constructor(t){this.xn=t,this.buffer=new qi(RU),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();RU(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fZ{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Dt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ot.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Df(i)?Dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ef(i)}yield e.Fn(3e5)}))}}class pZ{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ke.resolve(oa.at);const i=new hZ(e);return this.$n.forEachTarget(t,s=>i.On(s.sequenceNumber)).next(()=>this.$n.Ln(t,s=>i.On(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(IU)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IU):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,s,r,o,d,p,_;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),s=this.params.maximumSequenceNumbersToCollect):s=k,o=Date.now(),this.nthSequenceNumber(t,s))).next(k=>(i=k,d=Date.now(),this.removeTargets(t,i,e))).next(k=>(r=k,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(k=>(_=Date.now(),PL()<=Cf.in.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-C}ms\n\tDetermined least recently used ${s} in `+(d-o)+`ms\n\tRemoved ${r} targets in `+(p-d)+`ms\n\tRemoved ${k} documents in `+(_-p)+`ms\nTotal Duration: ${_-C}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:k})))}}class gZ{constructor(t,e){this.db=t,this.garbageCollector=new pZ(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,s)=>e(s))}addReference(t,e,i){return ZA(t,i)}removeReference(t,e,i){return ZA(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return ZA(t,e)}Gn(t,e){return function(i,s){let r=!1;return PU(i).tt(o=>LU(i,o,s).next(d=>(d&&(r=!0),Ke.resolve(!d)))).next(()=>r)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let r=0;return this.Kn(t,(o,d)=>{if(d<=e){const p=this.Gn(t,o).next(_=>{if(!_)return r++,i.getEntry(t,o).next(()=>(i.removeEntry(o,kn.min()),Nf(t).delete([0,Mo(o.path)])))});s.push(p)}}).next(()=>Ke.waitFor(s)).next(()=>i.apply(t)).next(()=>r)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return ZA(t,e)}Kn(t,e){const i=Nf(t);let s,r=oa.at;return i.Z({index:"documentTargetsIndex"},([o,d],{path:p,sequenceNumber:_})=>{0===o?(r!==oa.at&&e(new Wt(Pu(s)),r),r=_,s=p):r=oa.at}).next(()=>{r!==oa.at&&e(new Wt(Pu(s)),r)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ZA(n,t){return Nf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Mo(t.path),sequenceNumber:i}));var i}class FU{constructor(){this.changes=new Of(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,cs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ke.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mZ{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return am(t).put(i)}removeEntry(t,e,i){return am(t).delete(function(s,r){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],WA(r),o[o.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=cs.newInvalidDocument(e);return am(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ob(e))},(s,r)=>{i=this.jn(e,r)}).next(()=>i)}Wn(t,e){let i={size:0,document:cs.newInvalidDocument(e)};return am(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ob(e))},(s,r)=>{i={document:this.jn(e,r),size:XA(r)}}).next(()=>i)}getEntries(t,e){let i=aa();return this.zn(t,e,(s,r)=>{const o=this.jn(s,r);i=i.insert(s,o)}).next(()=>i)}Hn(t,e){let i=aa(),s=new Ns(Wt.comparator);return this.zn(t,e,(r,o)=>{const d=this.jn(r,o);i=i.insert(r,d),s=s.insert(r,XA(o))}).next(()=>({documents:i,Jn:s}))}zn(t,e,i){if(e.isEmpty())return Ke.resolve();let s=new qi(HU);e.forEach(p=>s=s.add(p));const r=IDBKeyRange.bound(Ob(s.first()),Ob(s.last())),o=s.getIterator();let d=o.getNext();return am(t).Z({index:"documentKeyIndex",range:r},(p,_,C)=>{const k=Wt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&HU(d,k)<0;)i(d,null),d=o.getNext();d&&d.isEqual(k)&&(i(d,_),d=o.hasNext()?o.getNext():null),d?C.j(Ob(d)):C.done()}).next(()=>{for(;d;)i(d,null),d=o.hasNext()?o.getNext():null})}getAllFromCollection(t,e,i){const s=[e.popLast().toArray(),e.lastSegment(),WA(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],r=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return am(t).W(IDBKeyRange.bound(s,r,!0)).next(o=>{let d=aa();for(const p of o){const _=this.jn(Wt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,s){let r=aa();const o=VU(e,i),d=VU(e,Ta.max());return am(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,d,!0)},(p,_,C)=>{const k=this.jn(Wt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);r=r.insert(k.key,k),r.size===s&&C.done()}).next(()=>r)}newChangeBuffer(t){return new vZ(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return BU(t).get("remoteDocumentGlobalKey").next(e=>(Dn(!!e),e))}Qn(t,e){return BU(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function nZ(n,t){let e;if(t.document)e=lU(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Wt.fromSegments(t.noDocument.path),s=tm(t.noDocument.readTime);e=cs.newNoDocument(i,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return on();{const i=Wt.fromSegments(t.unknownDocument.path),s=tm(t.unknownDocument.version);e=cs.newUnknownDocument(i,s)}}return t.readTime&&e.setReadTime(function(i){const s=new bs(i[0],i[1]);return kn.fromTimestamp(s)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(kn.min()))return i}return cs.newInvalidDocument(t)}}function NU(n){return new mZ(n)}class vZ extends FU{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Of(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new qi((r,o)=>Hn(r.canonicalString(),o.canonicalString()));return this.changes.forEach((r,o)=>{const d=this.Xn.get(r);if(e.push(this.Yn.removeEntry(t,r,d.readTime)),o.isValidDocument()){const p=xU(this.Yn.It,o);s=s.add(r.path.popLast()),i+=XA(p)-d.size,e.push(this.Yn.addEntry(t,r,p))}else if(i-=d.size,this.trackRemovals){const p=xU(this.Yn.It,o.convertToNoDocument(kn.min()));e.push(this.Yn.addEntry(t,r,p))}}),s.forEach(r=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,r))}),e.push(this.Yn.updateMetadata(t,i)),Ke.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:s})=>(s.forEach((r,o)=>{this.Xn.set(r,{size:o,readTime:i.get(r).readTime})}),i))}}function BU(n){return Sr(n,"remoteDocumentGlobal")}function am(n){return Sr(n,"remoteDocumentsV14")}function Ob(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function VU(n,t){const e=t.documentKey.path.toArray();return[n,WA(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function HU(n,t){const e=n.path.toArray(),i=t.path.toArray();let s=0;for(let r=0;r<e.length-2&&r<i.length-2;++r)if(s=Hn(e[r],i[r]),s)return s;return s=Hn(e.length,i.length),s||(s=Hn(e[e.length-2],i[i.length-2]),s||Hn(e[e.length-1],i[i.length-1]))}class yZ{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class zU{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.getBaseDocument(t,e,i))).next(s=>(null!==i&&xb(i.mutation,s,Aa.empty(),bs.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,qn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=qn()){const s=Mu();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(r=>{let o=bb();return r.forEach((d,p)=>{o=o.insert(d,p.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Mu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,qn()))}populateOverlays(t,e,i){const s=[];return i.forEach(r=>{e.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,d)=>{e.set(o,d)})})}computeViews(t,e,i,s){let r=aa();const o=wb(),d=wb();return e.forEach((p,_)=>{const C=i.get(_.key);s.has(_.key)&&(void 0===C||C.mutation instanceof Zd)?r=r.insert(_.key,_):void 0!==C&&(o.set(_.key,C.mutation.getFieldMask()),xb(C.mutation,_,C.mutation.getFieldMask(),bs.now()))}),this.recalculateAndSaveOverlays(t,r).next(p=>(p.forEach((_,C)=>o.set(_,C)),e.forEach((_,C)=>{var k;return d.set(_,new yZ(C,null!==(k=o.get(_))&&void 0!==k?k:null))}),d))}recalculateAndSaveOverlays(t,e){const i=wb();let s=new Ns((o,d)=>o-d),r=qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const d of o)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let C=i.get(p)||Aa.empty();C=d.applyToLocalView(_,C),i.set(p,C);const k=(s.get(d.batchId)||qn()).add(p);s=s.insert(d.batchId,k)})}).next(()=>{const o=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,C=p.value,k=Kz();C.forEach(N=>{if(!r.has(N)){const z=Uz(e.get(N),i.get(N));null!==z&&k.set(N,z),r=r.add(N)}}),o.push(this.documentOverlayCache.saveOverlays(t,_,k))}return Ke.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Wt.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):WL(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var s}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-r.size):Ke.resolve(Mu());let d=-1,p=r;return o.next(_=>Ke.forEach(_,(C,k)=>(d<k.largestBatchId&&(d=k.largestBatchId),r.get(C)?Ke.resolve():this.getBaseDocument(t,C,k).next(N=>{p=p.insert(C,N)}))).next(()=>this.populateOverlays(t,_,r)).next(()=>this.computeViews(t,p,_,qn())).next(C=>({batchId:d,changes:Zz(C)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Wt(e)).next(i=>{let s=bb();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const s=e.collectionGroup;let r=bb();return this.indexManager.getCollectionParents(t,s).next(o=>Ke.forEach(o,d=>{const p=(_=e,C=d.child(s),new qd(C,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,C;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((C,k)=>{r=r.insert(C,k)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,e,i){let s;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(r=>(s=r,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(r=>{r.forEach((d,p)=>{const _=p.getKey();null===s.get(_)&&(s=s.insert(_,cs.newInvalidDocument(_)))});let o=bb();return s.forEach((d,p)=>{const _=r.get(d);void 0!==_&&xb(_.mutation,p,Aa.empty(),bs.now()),$L(e,p)&&(o=o.insert(d,p))}),o})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):Ke.resolve(cs.newInvalidDocument(e))}}class _Z{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Ke.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Cr(i.createTime)}),Ke.resolve()}getNamedQuery(t,e){return Ke.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:nP(i.bundledQuery),readTime:Cr(i.readTime)}),Ke.resolve();var i}}class xZ{constructor(){this.overlays=new Ns(Wt.comparator),this.es=new Map}getOverlay(t,e){return Ke.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Mu();return Ke.forEach(e,s=>this.getOverlay(t,s).next(r=>{null!==r&&i.set(s,r)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,r)=>{this.ue(t,e,r)}),Ke.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.es.get(i);return void 0!==s&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.es.delete(i)),Ke.resolve()}getOverlaysForCollection(t,e,i){const s=Mu(),r=e.length+1,o=new Wt(e.child("")),d=this.overlays.getIteratorFrom(o);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===r&&p.largestBatchId>i&&s.set(p.getKey(),p)}return Ke.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let r=new Ns((_,C)=>_-C);const o=this.overlays.getIterator();for(;o.hasNext();){const _=o.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let C=r.get(_.largestBatchId);null===C&&(C=Mu(),r=r.insert(_.largestBatchId,C)),C.set(_.getKey(),_)}}const d=Mu(),p=r.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,C)=>d.set(_,C)),!(d.size()>=s)););return Ke.resolve(d)}ue(t,e,i){const s=this.overlays.get(i.key);if(null!==s){const o=this.es.get(s.largestBatchId).delete(i.key);this.es.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new tP(e,i));let r=this.es.get(e);void 0===r&&(r=qn(),this.es.set(e,r)),this.es.set(e,r.add(i.key))}}class rP{constructor(){this.ns=new qi(Tr.ss),this.rs=new qi(Tr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Tr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Tr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Wt(new _i([])),i=new Tr(e,t),s=new Tr(e,t+1),r=[];return this.rs.forEachInRange([i,s],o=>{this.cs(o),r.push(o.key)}),r}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Wt(new _i([])),i=new Tr(e,t),s=new Tr(e,t+1);let r=qn();return this.rs.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const e=new Tr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Tr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Wt.comparator(t.key,e.key)||Hn(t._s,e._s)}static os(t,e){return Hn(t._s,e._s)||Wt.comparator(t.key,e.key)}}class bZ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new qi(Tr.ss)}checkEmpty(t){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,s){const r=this.ws;this.ws++;const o=new JL(r,e,i,s);this.mutationQueue.push(o);for(const d of s)this.gs=this.gs.add(new Tr(d.key,r)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Ke.resolve(o)}lookupMutationBatch(t,e){return Ke.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.ps(e+1),r=s<0?0:s;return Ke.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Tr(e,0),s=new Tr(e,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([i,s],o=>{const d=this.ys(o._s);r.push(d)}),Ke.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qi(Hn);return e.forEach(s=>{const r=new Tr(s,0),o=new Tr(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([r,o],d=>{i=i.add(d._s)})}),Ke.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let r=i;Wt.isDocumentKey(r)||(r=r.child(""));const o=new Tr(new Wt(r),0);let d=new qi(Hn);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===s&&(d=d.add(p._s)),!0)},o),Ke.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const s=this.ys(i);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){Dn(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Ke.forEach(e.mutations,s=>{const r=new Tr(s.key,e.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Tr(e,0),s=this.gs.firstAfterOrEqual(i);return Ke.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return Ke.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class wZ{constructor(t){this.Es=t,this.docs=new Ns(Wt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),r=s?s.size:0,o=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ke.resolve(i?i.document.mutableCopy():cs.newInvalidDocument(e))}getEntries(t,e){let i=aa();return e.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():cs.newInvalidDocument(s))}),Ke.resolve(i)}getAllFromCollection(t,e,i){let s=aa();const r=new Wt(e.child("")),o=this.docs.getIteratorFrom(r);for(;o.hasNext();){const{key:d,value:{document:p}}=o.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||FL(az(p),i)<=0||(s=s.insert(p.key,p.mutableCopy()))}return Ke.resolve(s)}getAllFromCollectionGroup(t,e,i,s){on()}As(t,e){return Ke.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new CZ(this)}getSize(t){return Ke.resolve(this.size)}}class CZ extends FU{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Yn.addEntry(t,s)):this.Yn.removeEntry(i)}),Ke.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class SZ{constructor(t){this.persistence=t,this.Rs=new Of(e=>Kg(e),vb),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rP,this.targetCount=0,this.vs=om.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,s)=>e(s)),Ke.resolve()}getLastRemoteSnapshotVersion(t){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ke.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Ke.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new om(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Ke.resolve()}updateTargetData(t,e){return this.Dn(e),Ke.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(t,e,i){let s=0;const r=[];return this.Rs.forEach((o,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(o),r.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)}),Ke.waitFor(r).next(()=>s)}getTargetCount(t){return Ke.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Ke.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Ke.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const s=this.persistence.referenceDelegate,r=[];return s&&e.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),Ke.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Ke.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Ke.resolve(i)}containsKey(t,e){return Ke.resolve(this.Ps.containsKey(e))}}class UU{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new oa(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new SZ(this),this.indexManager=new cZ,this.remoteDocumentCache=new wZ(i=>this.referenceDelegate.xs(i)),this.It=new _U(e),this.Ns=new _Z(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new xZ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new bZ(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Dt("MemoryPersistence","Starting transaction:",t);const s=new TZ(this.Ss.next());return this.referenceDelegate.ks(),i(s).next(r=>this.referenceDelegate.Os(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ms(t,e){return Ke.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class TZ extends cz{constructor(t){super(),this.currentSequenceNumber=t}}class KA{constructor(t){this.persistence=t,this.Fs=new rP,this.$s=null}static Bs(t){return new KA(t)}get Ls(){if(this.$s)return this.$s;throw on()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Ke.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Ke.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(s=>this.Ls.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(r=>this.Ls.add(r.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ls,i=>{const s=Wt.fromPath(i);return this.Us(t,s).next(r=>{r||e.removeEntry(s,kn.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return Ke.or([()=>Ke.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class AZ{constructor(t){this.It=t}$(t,e,i,s){const r=new MA("createOrUpgrade",e);var d;i<1&&s>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pU,{unique:!0}),d.createObjectStore("documentMutations"),GU(t),function(d){d.createObjectStore("remoteDocuments")}(t));let o=Ke.resolve();return i<3&&s>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),GU(t)),o=o.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(r))),i<4&&s>=4&&(0!==i&&(o=o.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pU,{unique:!0});const C=p.store("mutations"),k=_.map(N=>C.put(N));return Ke.waitFor(k)})}(t,r))),o=o.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&s>=5&&(o=o.next(()=>this.qs(r))),i<6&&s>=6&&(o=o.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(r)))),i<7&&s>=7&&(o=o.next(()=>this.Gs(r))),i<8&&s>=8&&(o=o.next(()=>this.Qs(t,r))),i<9&&s>=9&&(o=o.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&s>=10&&(o=o.next(()=>this.js(r))),i<11&&s>=11&&(o=o.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&s>=12&&(o=o.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:K7});p.createIndex("collectionPathOverlayIndex",Q7,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",J7,{unique:!1})}(t)})),i<13&&s>=13&&(o=o.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:H7});p.createIndex("documentKeyIndex",z7),p.createIndex("collectionGroupIndex",U7)}(t)).next(()=>this.Ws(t,r)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(o=o.next(()=>this.zs(t,r))),i<15&&s>=15&&(o=o.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:Y7}).createIndex("sequenceNumberIndex",X7,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:q7}).createIndex("documentKeyIndex",Z7,{unique:!1})}(t))),o}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,s)=>{e+=XA(s)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(s=>Ke.forEach(s,r=>{const o=IDBKeyRange.bound([r.userId,-1],[r.userId,r.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(d=>Ke.forEach(d,p=>{Dn(p.userId===r.userId);const _=nm(this.It,p);return MU(t,r.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(s=>{const r=[];return i.Z((o,d)=>{const p=new _i(o),_=[0,Mo(p)];r.push(e.get(_).next(C=>C?Ke.resolve():e.put({targetId:0,path:Mo(p),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(r))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:$7});const i=e.store("collectionParents"),s=new sP,r=o=>{if(s.add(o)){const d=o.lastSegment(),p=o.popLast();return i.put({collectionId:d,parent:Mo(p)})}};return e.store("remoteDocuments").Z({X:!0},(o,d)=>{const p=new _i(o);return r(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([o,d,p],_)=>{const C=Pu(d);return r(C.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,s)=>{const r=kb(s),o=bU(this.It,r);return e.put(o)})}Ws(t,e){const i=e.store("remoteDocuments"),s=[];return i.Z((r,o)=>{const d=e.store("remoteDocumentsV14"),p=(_=o,_.document?new Wt(_i.fromString(_.document.name).popFirst(5)):_.noDocument?Wt.fromSegments(_.noDocument.path):_.unknownDocument?Wt.fromSegments(_.unknownDocument.path):on()).path.toArray();var _;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(d.put(C))}).next(()=>Ke.waitFor(s))}zs(t,e){const i=e.store("mutations"),s=NU(this.It),r=new UU(KA.Bs,this.It.re);return i.W().next(o=>{const d=new Map;return o.forEach(p=>{var _;let C=null!==(_=d.get(p.userId))&&void 0!==_?_:qn();nm(this.It,p).keys().forEach(k=>C=C.add(k)),d.set(p.userId,C)}),Ke.forEach(d,(p,_)=>{const C=new wr(_),k=jA.oe(this.It,C),N=r.getIndexManager(C),z=qA.oe(C,this.It,N,r.referenceDelegate);return new zU(s,z,k,N).recalculateAndSaveOverlaysForDocumentKeys(new QL(e,oa.at),p).next()})})}}function GU(n){n.createObjectStore("targetDocuments",{keyPath:W7}).createIndex("documentTargetsIndex",j7,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",G7,{unique:!0}),n.createObjectStore("targetGlobal")}const oP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aP{constructor(t,e,i,s,r,o,d,p,_,C,k=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=r,this.window=o,this.document=d,this.Js=_,this.Ys=C,this.Xs=k,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!aP.C())throw new Ct(Je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gZ(this,s),this.ii=e+"main",this.It=new _U(p),this.ri=new Lc(this.ii,this.Xs,new AZ(this.It)),this.Cs=new dZ(this.referenceDelegate,this.It),this.remoteDocumentCache=NU(this.It),this.Ns=new iZ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===C&&Ys("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(Je.FAILED_PRECONDITION,oP);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new oa(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,ot.Z)(function*(s){if(e.started)return t(s)});return function(s){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,ot.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,ot.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>QA(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Df(t))return Dt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Rb(t).get("owner").next(e=>Ke.resolve(this.mi(e)))}gi(t){return QA(t).delete(this.clientId)}yi(){var t=this;return(0,ot.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=Sr(i,"clientMetadata");return s.W().next(r=>{const o=t.Ii(r,18e5),d=r.filter(p=>-1===o.indexOf(p));return Ke.forEach(d,p=>s.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Ke.resolve(!0):Rb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ct(Je.FAILED_PRECONDITION,oP);return!1}}return!(!this.networkEnabled||!this.inForeground)||QA(t).W().next(i=>void 0===this.Ii(i,5e3).find(s=>{if(this.clientId!==s.clientId){const o=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||o&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Dt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ot.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new QL(e,oa.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>QA(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return qA.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new uZ(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return jA.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Dt("IndexedDbPersistence","Starting transaction:",t);const s="readonly"===e?"readonly":"readwrite",r=15===(o=this.Xs)?tZ:14===o?yU:13===o?vU:12===o?eZ:11===o?mU:void on();var o;let d;return this.ri.runTransaction(t,s,r,p=>(d=new QL(p,this.Ss?this.Ss.next():oa.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw Ys(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ct(Je.FAILED_PRECONDITION,lz);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return Rb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ct(Je.FAILED_PRECONDITION,oP)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rb(t).put("owner",e)}static C(){return Lc.C()}_i(t){const e=Rb(t);return e.get("owner").next(i=>this.mi(i)?(Dt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ke.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ys(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ci.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Dt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ys("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Ys("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Rb(n){return Sr(n,"owner")}function QA(n){return Sr(n,"clientMetadata")}function lP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class cP{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=s}static Ci(t,e){let i=qn(),s=qn();for(const r of e.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new cP(t,e.fromCache,i,s)}}class WU{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,s){return this.ki(t,e).next(r=>r||this.Oi(t,e,s,i)).next(r=>r||this.Mi(t,e))}ki(t,e){if(Iz(e))return Ke.resolve(null);let i=Io(e);return this.indexManager.getIndexType(t,i).next(s=>0===s?null:(null!==e.limit&&1===s&&(e=NA(e,null,"F"),i=Io(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=qn(...r);return this.Ni.getDocuments(t,o).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,o,p.readTime)?this.ki(t,NA(e,null,"F")):this.Bi(t,_,e,p)}))})))}Oi(t,e,i,s){return Iz(e)||s.isEqual(kn.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(r=>{const o=this.Fi(e,r);return this.$i(e,o,i,s)?this.Mi(t,e):(PL()<=Cf.in.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jL(e)),this.Bi(t,o,e,oz(s,-1)))})}Fi(t,e){let i=new qi(Pz(t));return e.forEach((s,r)=>{$L(t,r)&&(i=i.add(r))}),i}$i(t,e,i,s){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Mi(t,e){return PL()<=Cf.in.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",jL(e)),this.Ni.getDocumentsMatchingQuery(t,e,Ta.min())}Bi(t,e,i,s){return this.Ni.getDocumentsMatchingQuery(t,i,s).next(r=>(e.forEach(o=>{r=r.insert(o.key,o)}),r))}}class EZ{constructor(t,e,i,s){this.persistence=t,this.Li=e,this.It=s,this.Ui=new Ns(Hn),this.qi=new Of(r=>Kg(r),vb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function jU(n,t,e,i){return new EZ(n,t,e,i)}function $U(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,ot.Z)(function*(n,t){const e=$t(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],d=[];let p=qn();for(const _ of s){o.push(_.batchId);for(const C of _.mutations)p=p.add(C.key)}for(const _ of r){d.push(_.batchId);for(const C of _.mutations)p=p.add(C.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:o,addedBatchIds:d}))})})}),uP.apply(this,arguments)}function DZ(n,t){const e=$t(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=e.Gi.newChangeBuffer({trackRemovals:!0});return function(o,d,p,_){const C=p.batch,k=C.keys();let N=Ke.resolve();return k.forEach(z=>{N=N.next(()=>_.getEntry(d,z)).next(W=>{const Q=p.docVersions.get(z);Dn(null!==Q),W.version.compareTo(Q)<0&&(C.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),_.addEntry(W)))})}),N.next(()=>o.mutationQueue.removeMutationBatch(d,C))}(e,i,t,r).next(()=>r.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let d=qn();for(let p=0;p<o.mutationResults.length;++p)o.mutationResults[p].transformResults.length>0&&(d=d.add(o.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function YU(n){const t=$t(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function kZ(n,t){const e=$t(n),i=t.snapshotVersion;let s=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=e.Gi.newChangeBuffer({trackRemovals:!0});s=e.Ui;const d=[];t.targetChanges.forEach((C,k)=>{const N=s.get(k);if(!N)return;d.push(e.Cs.removeMatchingKeys(r,C.removedDocuments,k).next(()=>e.Cs.addMatchingKeys(r,C.addedDocuments,k)));let z=N.withSequenceNumber(r.currentSequenceNumber);var W,Q,K;t.targetMismatches.has(k)?z=z.withResumeToken(pr.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):C.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(C.resumeToken,i)),s=s.insert(k,z),Q=z,K=C,(0===(W=N).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(r,z))});let p=aa(),_=qn();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(r,C))}),d.push(XU(r,o,t.documentUpdates).next(C=>{p=C.Wi,_=C.zi})),!i.isEqual(kn.min())){const C=e.Cs.getLastRemoteSnapshotVersion(r).next(k=>e.Cs.setTargetsMetadata(r,r.currentSequenceNumber,i));d.push(C)}return Ke.waitFor(d).next(()=>o.apply(r)).next(()=>e.localDocuments.getLocalViewOfDocuments(r,p,_)).next(()=>p)}).then(r=>(e.Ui=s,r))}function XU(n,t,e){let i=qn(),s=qn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=aa();return e.forEach((d,p)=>{const _=r.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(kn.min())?(t.removeEntry(d,p.readTime),o=o.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),o=o.insert(d,p)):Dt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:o,zi:s}})}function IZ(n,t){const e=$t(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function $y(n,t){const e=$t(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Cs.getTargetData(i,t).next(r=>r?(s=r,Ke.resolve(s)):e.Cs.allocateTargetId(i).next(o=>(s=new Rf(t,o,0,i.currentSequenceNumber),e.Cs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ui.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Yy(n,t,e){return dP.apply(this,arguments)}function dP(){return dP=(0,ot.Z)(function*(n,t,e){const i=$t(n),s=i.Ui.get(t),r=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Df(o))throw o;Dt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ui=i.Ui.remove(t),i.qi.delete(s.target)}),dP.apply(this,arguments)}function JA(n,t,e){const i=$t(n);let s=kn.min(),r=qn();return i.persistence.runTransaction("Execute query","readonly",o=>function(d,p,_){const C=$t(d),k=C.qi.get(_);return void 0!==k?Ke.resolve(C.Ui.get(k)):C.Cs.getTargetData(p,_)}(i,o,Io(t)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,d.targetId).next(p=>{r=p})}).next(()=>i.Li.getDocumentsMatchingQuery(o,t,e?s:kn.min(),e?r:qn())).next(d=>(KU(i,Lz(t),d),{documents:d,Hi:r})))}function qU(n,t){const e=$t(n),i=$t(e.Cs),s=e.Ui.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",r=>i.se(r,t).next(o=>o?o.target:null))}function ZU(n,t){const e=$t(n),i=e.Ki.get(t)||kn.min();return e.persistence.runTransaction("Get new document changes","readonly",s=>e.Gi.getAllFromCollectionGroup(s,t,oz(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(KU(e,t,s),s))}function KU(n,t,e){let i=n.Ki.get(t)||kn.min();e.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Ki.set(t,i)}function hP(){return hP=(0,ot.Z)(function*(n,t,e,i){const s=$t(n);let r=qn(),o=aa();for(const _ of e){const C=t.Ji(_.metadata.name);_.document&&(r=r.add(C));const k=t.Yi(_);k.setReadTime(t.Xi(_.metadata.readTime)),o=o.insert(C,k)}const d=s.Gi.newChangeBuffer({trackRemovals:!0}),p=yield $y(s,(_=i,Io(Fy(_i.fromString(`__bundle__/docs/${_}`)))));var _;return s.persistence.runTransaction("Apply bundle documents","readwrite",_=>XU(_,d,o).next(C=>(d.apply(_),C)).next(C=>s.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>s.Cs.addMatchingKeys(_,r,p.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(_,C.Wi,C.zi)).next(()=>C.Wi)))}),hP.apply(this,arguments)}function LZ(n,t){return fP.apply(this,arguments)}function fP(){return fP=(0,ot.Z)(function*(n,t,e=qn()){const i=yield $y(n,Io(nP(t.bundledQuery))),s=$t(n);return s.persistence.runTransaction("Save named query","readwrite",r=>{const o=Cr(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return s.Ns.saveNamedQuery(r,t);const d=i.withResumeToken(pr.EMPTY_BYTE_STRING,o);return s.Ui=s.Ui.insert(d.targetId,d),s.Cs.updateTargetData(r,d).next(()=>s.Cs.removeMatchingKeysForTargetId(r,i.targetId)).next(()=>s.Cs.addMatchingKeys(r,e,i.targetId)).next(()=>s.Ns.saveNamedQuery(r,t))})}),fP.apply(this,arguments)}function QU(n,t){return`firestore_clients_${n}_${t}`}function JU(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function pP(n,t){return`firestore_targets_${n}_${t}`}class e1{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static Zi(t,e,i){const s=JSON.parse(i);let r,o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code,o&&(r=new Ct(s.error.code,s.error.message))),o?new e1(t,e,s.state,r):(Ys("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let s,r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code,r&&(s=new Ct(i.error.code,i.error.message))),r?new Fb(t,i.state,s):(Ys("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class t1{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let s="object"==typeof i&&i.activeTargetIds instanceof Array,r=zA();for(let o=0;s&&o<i.activeTargetIds.length;++o)s=gz(i.activeTargetIds[o]),r=r.add(i.activeTargetIds[o]);return s?new t1(t,r):(Ys("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class gP{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new gP(e.clientId,e.onlineState):(Ys("SharedClientState",`Failed to parse online state: ${t}`),null)}}class mP{constructor(){this.activeTargetIds=zA()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vP{constructor(t,e,i,s,r){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ns(Hn),this.started=!1,this.cr=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ar=QU(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mP),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ot.Z)(function*(){const e=yield t.syncEngine.vi();for(const s of e){if(s===t.sr)continue;const r=t.getItem(QU(t.persistenceKey,s));if(r){const o=t1.Zi(s,r);o&&(t.ur=t.ur.insert(o.clientId,o))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const s=t.yr(i);s&&t.pr(s)}for(const s of t.cr)t.rr(s);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(pP(this.persistenceKey,t));if(i){const s=Fb.Zi(t,i);s&&(e=s.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(pP(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.Er(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Dt("SharedClientState","READ",t,e),e}setItem(t,e){Dt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Dt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Dt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ys("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ot.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const s=e.vr(i.key);return e.Vr(s,null)}{const s=e.Sr(i.key,i.newValue);if(s)return e.Vr(s.clientId,s)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const s=e.Dr(i.key,i.newValue);if(s)return e.Cr(s)}}else if(e._r.test(i.key)){if(null!==i.newValue){const s=e.Nr(i.key,i.newValue);if(s)return e.kr(s)}}else if(i.key===e.wr){if(null!==i.newValue){const s=e.yr(i.newValue);if(s)return e.pr(s)}}else if(i.key===e.hr){const s=function(r){let o=oa.at;if(null!=r)try{const d=JSON.parse(r);Dn("number"==typeof d),o=d}catch(d){Ys("SharedClientState","Failed to read sequence number from WebStorage",d)}return o}(i.newValue);s!==oa.at&&e.sequenceNumberHandler(s)}else if(i.key===e.mr){const s=e.Or(i.newValue);yield Promise.all(s.map(r=>e.syncEngine.Mr(r)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const s=new e1(this.currentUser,t,e,i),r=JU(this.persistenceKey,this.currentUser,t);this.setItem(r,s.tr())}Er(t){const e=JU(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const s=pP(this.persistenceKey,t),r=new Fb(t,e,i);this.setItem(s,r.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return t1.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),s=Number(i[1]);return e1.Zi(new wr(void 0!==i[2]?i[2]:null),s,e)}Nr(t,e){const i=this._r.exec(t),s=Number(i[1]);return Fb.Zi(s,e)}yr(t){return gP.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,ot.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Dt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),s=this.Ir(this.ur),r=this.Ir(i),o=[],d=[];return r.forEach(p=>{s.has(p)||o.push(p)}),s.forEach(p=>{r.has(p)||d.push(p)}),this.syncEngine.Br(o,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=zA();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class e3{constructor(){this.Lr=new mP,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new mP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class PZ{qr(t){}shutdown(){}}class t3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RZ{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class FZ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,s,r){const o=this.ho(t,e);Dt("RestConnection","Sending: ",o,i);const d={};return this.lo(d,s,r),this.fo(t,o,d,i).then(p=>(Dt("RestConnection","Received: ",p),p),p=>{throw Wg("RestConnection",`${t} failed with error: `,p,"url: ",o,"request:",i),p})}_o(t,e,i,s,r,o){return this.ao(t,e,i,s,r)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+My,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}ho(t,e){return`${this.oo}/v1/${e}:${OZ[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,s){return new Promise((r,o)=>{const d=new Oq;d.setWithCredentials(!0),d.listenOnce(Mq.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case LL.NO_ERROR:const _=d.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(_)),r(_);break;case LL.TIMEOUT:Dt("Connection",'RPC "'+t+'" timed out'),o(new Ct(Je.DEADLINE_EXCEEDED,"Request time out"));break;case LL.HTTP_ERROR:const C=d.getStatus();if(Dt("Connection",'RPC "'+t+'" failed with status:',C,"response text:",d.getResponseText()),C>0){const k=d.getResponseJson().error;if(k&&k.status&&k.message){const N=function(z){const W=z.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(W)>=0?W:Je.UNKNOWN}(k.status);o(new Ct(N,k.message))}else o(new Ct(Je.UNKNOWN,"Server responded with status "+d.getStatus()))}else o(new Ct(Je.UNAVAILABLE,"Connection failed."));break;default:on()}}finally{Dt("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(s);d.send(e,"POST",p,i,15)})}wo(t,e,i){const s=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=kq(),o=Iq(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Pq({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=s.join("");Dt("Connection","Creating WebChannel: "+p,d);const _=r.createWebChannel(p,d);let C=!1,k=!1;const N=new RZ({Hr:W=>{k?Dt("Connection","Not sending because WebChannel is closed:",W):(C||(Dt("Connection","Opening WebChannel transport."),_.open(),C=!0),Dt("Connection","WebChannel sending:",W),_.send(W))},Jr:()=>_.close()}),z=(W,Q,K)=>{W.listen(Q,fe=>{try{K(fe)}catch(ve){setTimeout(()=>{throw ve},0)}})};return z(_,DA.EventType.OPEN,()=>{k||Dt("Connection","WebChannel transport opened.")}),z(_,DA.EventType.CLOSE,()=>{k||(k=!0,Dt("Connection","WebChannel transport closed"),N.io())}),z(_,DA.EventType.ERROR,W=>{k||(k=!0,Wg("Connection","WebChannel transport errored:",W),N.io(new Ct(Je.UNAVAILABLE,"The operation could not be completed")))}),z(_,DA.EventType.MESSAGE,W=>{var Q;if(!k){const K=W.data[0];Dn(!!K);const fe=K,ve=fe.error||(null===(Q=fe[0])||void 0===Q?void 0:Q.error);if(ve){Dt("Connection","WebChannel received error:",ve);const Te=ve.status;let Ee=function(Fe){const Qe=nr[Fe];if(void 0!==Qe)return Xz(Qe)}(Te),De=ve.message;void 0===Ee&&(Ee=Je.INTERNAL,De="Unknown error status: "+Te+" with message "+ve.message),k=!0,N.io(new Ct(Ee,De)),_.close()}else Dt("Connection","WebChannel received:",K),N.ro(K)}}),z(o,Lq.STAT_EVENT,W=>{W.stat===ez.PROXY?Dt("Connection","Detected buffering proxy"):W.stat===ez.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function n3(){return typeof window<"u"?window:null}function n1(){return typeof document<"u"?document:null}function Nb(n){return new E7(n,!0)}class yP{constructor(t,e,i=1e3,s=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=s,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),s=Math.max(0,e-i);s>0&&Dt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class s3{constructor(t,e,i,s,r,o,d,p){this.Hs=t,this.vo=i,this.Vo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new yP(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ot.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,ot.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,ot.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===Je.RESOURCE_EXHAUSTED?(Ys(e.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===Je.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.So===e&&this.Go(i,s)},i=>{t(()=>{const s=new Ct(Je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(s)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{i(()=>this.Qo(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,ot.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Dt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NZ extends s3{constructor(t,e,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,o),this.It=r}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function I7(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:on(),s=t.targetChange.targetIds||[],r=function(p,_){return p.gt?(Dn(void 0===_||"string"==typeof _),pr.fromBase64String(_||"")):(Dn(void 0===_||_ instanceof Uint8Array),pr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,d=o&&function(p){const _=void 0===p.code?Je.UNKNOWN:Xz(p.code);return new Ct(_,p.message||"")}(o);e=new Jz(i,s,r,d||null)}else if("documentChange"in t){const i=t.documentChange,s=Lu(n,i.document.name),r=Cr(i.document.updateTime),o=new Ur({mapValue:{fields:i.document.fields}}),d=cs.newFoundDocument(s,r,o);e=new UA(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,s=Lu(n,i.document),r=i.readTime?Cr(i.readTime):kn.min(),o=cs.newNoDocument(s,r);e=new UA([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,s=Lu(n,i.document);e=new UA([],i.removedTargetIds||[],s,null)}else{if(!("filter"in t))return on();{const i=t.filter,r=new _7(i.count||0);e=new Qz(i.targetId,r)}}var p;return e}(this.It,t),i=function(s){if(!("targetChange"in s))return kn.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?kn.min():r.readTime?Cr(r.readTime):kn.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Eb(this.It),e.addTarget=function(s,r){let o;const d=r.target;return o=RA(d)?{documents:cU(s,d)}:{query:KL(s,d)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=iU(s,r.resumeToken):r.snapshotVersion.compareTo(kn.min())>0&&(o.readTime=Tb(s,r.snapshotVersion.toTimestamp())),o}(this.It,t);const i=function L7(n,t){const e=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return on()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Eb(this.It),e.removeTarget=t,this.Bo(e)}}class BZ extends s3{constructor(t,e,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,o),this.It=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Dn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function M7(n,t){return n&&n.length>0?(Dn(void 0!==t),n.map(e=>function(i,s){let r=Cr(i.updateTime?i.updateTime:s);return r.isEqual(kn.min())&&(r=Cr(s)),new m7(r,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Cr(t.commitTime);return this.listener.Zo(i,e)}return Dn(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Eb(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Db(this.It,i))};this.Bo(e)}}class VZ extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=s,this.nu=!1}su(){if(this.nu)throw new Ct(Je.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.ao(t,e,i,s,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ct(Je.UNKNOWN,s.toString())})}_o(t,e,i,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection._o(t,e,i,r,o,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ct(Je.UNKNOWN,r.toString())})}terminate(){this.nu=!0}}class zZ{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ys(e),this.ou=!1):Dt("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class UZ{constructor(t,e,i,s,r){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.qr(d=>{i.enqueueAndForget((0,ot.Z)(function*(){var p;Kd(o)&&(Dt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ot.Z)(function*(_){const C=$t(_);C._u.add(4),yield Xy(C),C.gu.set("Unknown"),C._u.delete(4),yield Bb(C)}),function(_){return p.apply(this,arguments)})(o))}))}),this.gu=new zZ(i,s)}}function Bb(n){return xP.apply(this,arguments)}function xP(){return xP=(0,ot.Z)(function*(n){if(Kd(n))for(const t of n.wu)yield t(!0)}),xP.apply(this,arguments)}function Xy(n){return bP.apply(this,arguments)}function bP(){return bP=(0,ot.Z)(function*(n){for(const t of n.wu)yield t(!1)}),bP.apply(this,arguments)}function s1(n,t){const e=$t(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),SP(e)?CP(e):Zy(e).ko()&&wP(e,t))}function Vb(n,t){const e=$t(n),i=Zy(e);e.du.delete(t),i.ko()&&r3(e,t),0===e.du.size&&(i.ko()?i.Fo():Kd(e)&&e.gu.set("Unknown"))}function wP(n,t){n.yu.Mt(t.targetId),Zy(n).zo(t)}function r3(n,t){n.yu.Mt(t),Zy(n).Ho(t)}function CP(n){n.yu=new S7({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Zy(n).start(),n.gu.uu()}function SP(n){return Kd(n)&&!Zy(n).No()&&n.du.size>0}function Kd(n){return 0===$t(n)._u.size}function o3(n){n.yu=void 0}function GZ(n){return TP.apply(this,arguments)}function TP(){return TP=(0,ot.Z)(function*(n){n.du.forEach((t,e)=>{wP(n,t)})}),TP.apply(this,arguments)}function WZ(n,t){return AP.apply(this,arguments)}function AP(){return AP=(0,ot.Z)(function*(n,t){o3(n),SP(n)?(n.gu.hu(t),CP(n)):n.gu.set("Unknown")}),AP.apply(this,arguments)}function jZ(n,t,e){return EP.apply(this,arguments)}function EP(){return EP=(0,ot.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof Jz&&2===t.state&&t.cause)try{yield(i=(0,ot.Z)(function*(s,r){const o=r.cause;for(const d of r.targetIds)s.du.has(d)&&(yield s.remoteSyncer.rejectListen(d,o),s.du.delete(d),s.yu.removeTarget(d))}),function(s,r){return i.apply(this,arguments)})(n,t)}catch(i){Dt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield r1(n,i)}else if(t instanceof UA?n.yu.Gt(t):t instanceof Qz?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(kn.min()))try{const i=yield YU(n.localStore);e.compareTo(i)>=0&&(yield function(s,r){const o=s.yu.te(r);return o.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=s.du.get(p);_&&s.du.set(p,_.withResumeToken(d.resumeToken,r))}}),o.targetMismatches.forEach(d=>{const p=s.du.get(d);if(!p)return;s.du.set(d,p.withResumeToken(pr.EMPTY_BYTE_STRING,p.snapshotVersion)),r3(s,d);const _=new Rf(p.target,d,1,p.sequenceNumber);wP(s,_)}),s.remoteSyncer.applyRemoteEvent(o)}(n,e))}catch(i){Dt("RemoteStore","Failed to raise snapshot:",i),yield r1(n,i)}var i}),EP.apply(this,arguments)}function r1(n,t,e){return DP.apply(this,arguments)}function DP(){return DP=(0,ot.Z)(function*(n,t,e){if(!Df(t))throw t;n._u.add(1),yield Xy(n),n.gu.set("Offline"),e||(e=()=>YU(n.localStore)),n.asyncQueue.enqueueRetryable((0,ot.Z)(function*(){Dt("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Bb(n)}))}),DP.apply(this,arguments)}function a3(n,t){return t().catch(e=>r1(n,e,t))}function qy(n){return kP.apply(this,arguments)}function kP(){return kP=(0,ot.Z)(function*(n){const t=$t(n),e=Bf(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;$Z(t);)try{const s=yield IZ(t.localStore,i);if(null===s){0===t.fu.length&&e.Fo();break}i=s.batchId,YZ(t,s)}catch(s){yield r1(t,s)}l3(t)&&c3(t)}),kP.apply(this,arguments)}function $Z(n){return Kd(n)&&n.fu.length<10}function YZ(n,t){n.fu.push(t);const e=Bf(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function l3(n){return Kd(n)&&!Bf(n).No()&&n.fu.length>0}function c3(n){Bf(n).start()}function XZ(n){return IP.apply(this,arguments)}function IP(){return IP=(0,ot.Z)(function*(n){Bf(n).eu()}),IP.apply(this,arguments)}function qZ(n){return MP.apply(this,arguments)}function MP(){return MP=(0,ot.Z)(function*(n){const t=Bf(n);for(const e of n.fu)t.Xo(e.mutations)}),MP.apply(this,arguments)}function ZZ(n,t,e){return LP.apply(this,arguments)}function LP(){return LP=(0,ot.Z)(function*(n,t,e){const i=n.fu.shift(),s=eP.from(i,t,e);yield a3(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield qy(n)}),LP.apply(this,arguments)}function KZ(n,t){return PP.apply(this,arguments)}function PP(){return PP=(0,ot.Z)(function*(n,t){var e;t&&Bf(n).Yo&&(yield(e=(0,ot.Z)(function*(i,s){if(Yz(r=s.code)&&r!==Je.ABORTED){const o=i.fu.shift();Bf(i).Mo(),yield a3(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield qy(i)}var r}),function(i,s){return e.apply(this,arguments)})(n,t)),l3(n)&&c3(n)}),PP.apply(this,arguments)}function u3(n,t){return OP.apply(this,arguments)}function OP(){return OP=(0,ot.Z)(function*(n,t){const e=$t(n);e.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const i=Kd(e);e._u.add(3),yield Xy(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Bb(e)}),OP.apply(this,arguments)}function RP(n,t){return FP.apply(this,arguments)}function FP(){return FP=(0,ot.Z)(function*(n,t){const e=$t(n);t?(e._u.delete(2),yield Bb(e)):t||(e._u.add(2),yield Xy(e),e.gu.set("Unknown"))}),FP.apply(this,arguments)}function Zy(n){return n.pu||(n.pu=function(t,e,i){const s=$t(t);return s.su(),new NZ(e,s.connection,s.authCredentials,s.appCheckCredentials,s.It,i)}(n.datastore,n.asyncQueue,{Yr:GZ.bind(null,n),Zr:WZ.bind(null,n),Wo:jZ.bind(null,n)}),n.wu.push(function(){var t=(0,ot.Z)(function*(e){e?(n.pu.Mo(),SP(n)?CP(n):n.gu.set("Unknown")):(yield n.pu.stop(),o3(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Bf(n){return n.Iu||(n.Iu=function(t,e,i){const s=$t(t);return s.su(),new BZ(e,s.connection,s.authCredentials,s.appCheckCredentials,s.It,i)}(n.datastore,n.asyncQueue,{Yr:XZ.bind(null,n),Zr:KZ.bind(null,n),tu:qZ.bind(null,n),Zo:ZZ.bind(null,n)}),n.wu.push(function(){var t=(0,ot.Z)(function*(e){e?(n.Iu.Mo(),yield qy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Dt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class NP{constructor(t,e,i,s,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,e,i,s,r){const o=Date.now()+i,d=new NP(t,e,o,s,r);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(Je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(n,t){if(Ys("AsyncQueue",`${t}: ${n}`),Df(n))return new Ct(Je.UNAVAILABLE,`${t}: ${n}`);throw n}class Qy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Wt.comparator(e.key,i.key):(e,i)=>Wt.comparator(e.key,i.key),this.keyedMap=bb(),this.sortedSet=new Ns(this.comparator)}static emptySet(t){return new Qy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Qy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class d3{constructor(){this.Tu=new Ns(Wt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):on():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Jy{constructor(t,e,i,s,r,o,d,p,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,s,r){const o=[];return e.forEach(d=>{o.push({type:0,doc:d})}),new Jy(t,e,Qy.emptySet(e),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class QZ{constructor(){this.Au=void 0,this.listeners=[]}}class JZ{constructor(){this.queries=new Of(t=>Mz(t),yb),this.onlineState="Unknown",this.Ru=new Set}}function BP(n,t){return VP.apply(this,arguments)}function VP(){return VP=(0,ot.Z)(function*(n,t){const e=$t(n),i=t.query;let s=!1,r=e.queries.get(i);if(r||(s=!0,r=new QZ),s)try{r.Au=yield e.onListen(i)}catch(o){const d=Ky(o,`Initialization of query '${jL(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,r),r.listeners.push(t),t.bu(e.onlineState),r.Au&&t.Pu(r.Au)&&UP(e)}),VP.apply(this,arguments)}function HP(n,t){return zP.apply(this,arguments)}function zP(){return zP=(0,ot.Z)(function*(n,t){const e=$t(n),i=t.query;let s=!1;const r=e.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=0===r.listeners.length)}if(s)return e.queries.delete(i),e.onUnlisten(i)}),zP.apply(this,arguments)}function e9(n,t){const e=$t(n);let i=!1;for(const s of t){const o=e.queries.get(s.query);if(o){for(const d of o.listeners)d.Pu(s)&&(i=!0);o.Au=s}}i&&UP(e)}function t9(n,t,e){const i=$t(n),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(e);i.queries.delete(t)}function UP(n){n.Ru.forEach(t=>{t.next()})}class GP{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)3!==s.type&&i.push(s);t=new Jy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Jy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class n9{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class h3{constructor(t){this.It=t}Ji(t){return Lu(this.It,t)}Yi(t){return t.metadata.exists?lU(this.It,t.document,!1):cs.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Cr(t)}}class i9{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f3(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=_i.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new h3(this.It);for(const s of t)if(s.metadata.queries){const r=i.Ji(s.metadata.name);for(const o of s.metadata.queries){const d=(e.get(o)||qn()).add(r);e.set(o,d)}}return e}complete(){var t=this;return(0,ot.Z)(function*(){const e=yield function MZ(n,t,e,i){return hP.apply(this,arguments)}(t.localStore,new h3(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const s of t.queries)yield LZ(t.localStore,s,i.get(s.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function f3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class p3{constructor(t){this.key=t}}class g3{constructor(t){this.key=t}}class m3{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qn(),this.mutatedKeys=qn(),this.Gu=Pz(t),this.Qu=new Qy(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new d3,s=e?e.Qu:this.Qu;let r=e?e.mutatedKeys:this.mutatedKeys,o=s,d=!1;const p="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,_="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((C,k)=>{const N=s.get(C),z=$L(this.query,k)?k:null,W=!!N&&this.mutatedKeys.has(N.key),Q=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let K=!1;N&&z?N.data.isEqual(z.data)?W!==Q&&(i.track({type:3,doc:z}),K=!0):this.Hu(N,z)||(i.track({type:2,doc:z}),K=!0,(p&&this.Gu(z,p)>0||_&&this.Gu(z,_)<0)&&(d=!0)):!N&&z?(i.track({type:0,doc:z}),K=!0):N&&!z&&(i.track({type:1,doc:N}),K=!0,(p||_)&&(d=!0)),K&&(z?(o=o.add(z),r=Q?r.add(C):r.delete(C)):(o=o.delete(C),r=r.delete(C)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const C="F"===this.query.limitType?o.last():o.first();o=o.delete(C.key),r=r.delete(C.key),i.track({type:1,doc:C})}return{Qu:o,zu:i,$i:d,mutatedKeys:r}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const s=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort((_,C)=>function(k,N){const z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return on()}};return z(k)-z(N)}(_.type,C.type)||this.Gu(_.doc,C.doc)),this.Ju(i);const o=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.qu;return this.qu=d,0!==r.length||p?{snapshot:new Jy(this.query,t.Qu,s,r,t.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new d3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=qn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new g3(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new p3(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=qn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Jy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class s9{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class r9{constructor(t){this.key=t,this.nc=!1}}class o9{constructor(t,e,i,s,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Of(d=>Mz(d),yb),this.rc=new Map,this.oc=new Set,this.uc=new Ns(Wt.comparator),this.cc=new Map,this.ac=new rP,this.hc={},this.lc=new Map,this.fc=om.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function a9(n,t){return WP.apply(this,arguments)}function WP(){return WP=(0,ot.Z)(function*(n,t){const e=fO(n);let i,s;const r=e.ic.get(t);if(r)i=r.targetId,e.sharedClientState.addLocalQueryTarget(i),s=r.view.ec();else{const o=yield $y(e.localStore,Io(t));e.isPrimaryClient&&s1(e.remoteStore,o);const d=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=yield jP(e,t,i,"current"===d,o.resumeToken)}return s}),WP.apply(this,arguments)}function jP(n,t,e,i,s){return $P.apply(this,arguments)}function $P(){return $P=(0,ot.Z)(function*(n,t,e,i,s){n._c=(k,N,z)=>{return(W=(0,ot.Z)(function*(Q,K,fe,ve){let Te=K.view.Wu(fe);Te.$i&&(Te=yield JA(Q.localStore,K.query,!1).then(({documents:Fe})=>K.view.Wu(Fe,Te)));const Ee=ve&&ve.targetChanges.get(K.targetId),De=K.view.applyChanges(Te,Q.isPrimaryClient,Ee);return nO(Q,K.targetId,De.Xu),De.snapshot}),function(Q,K,fe,ve){return W.apply(this,arguments)})(n,k,N,z);var W};const r=yield JA(n.localStore,t,!0),o=new m3(t,r.Hi),d=o.Wu(r.documents),p=Sb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,s),_=o.applyChanges(d,n.isPrimaryClient,p);nO(n,e,_.Xu);const C=new s9(t,e,o);return n.ic.set(t,C),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),_.snapshot}),$P.apply(this,arguments)}function l9(n,t){return YP.apply(this,arguments)}function YP(){return YP=(0,ot.Z)(function*(n,t){const e=$t(n),i=e.ic.get(t),s=e.rc.get(i.targetId);if(s.length>1)return e.rc.set(i.targetId,s.filter(r=>!yb(r,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Vb(e.remoteStore,i.targetId),e_(e,i.targetId)}).catch(Ef))):(e_(e,i.targetId),yield Yy(e.localStore,i.targetId,!0))}),YP.apply(this,arguments)}function XP(){return XP=(0,ot.Z)(function*(n,t,e){const i=pO(n);try{const s=yield function(r,o){const d=$t(r),p=bs.now(),_=o.reduce((N,z)=>N.add(z.key),qn());let C,k;return d.persistence.runTransaction("Locally write mutations","readwrite",N=>{let z=aa(),W=qn();return d.Gi.getEntries(N,_).next(Q=>{z=Q,z.forEach((K,fe)=>{fe.isValidDocument()||(W=W.add(K))})}).next(()=>d.localDocuments.getOverlayedDocuments(N,z)).next(Q=>{C=Q;const K=[];for(const fe of o){const ve=y7(fe,C.get(fe.key).overlayedDocument);null!=ve&&K.push(new Zd(fe.key,ve,wz(ve.value.mapValue),ws.exists(!0)))}return d.mutationQueue.addMutationBatch(N,p,K,o)}).next(Q=>{k=Q;const K=Q.applyToLocalDocumentSet(C,W);return d.documentOverlayCache.saveOverlays(N,Q.batchId,K)})}).then(()=>({batchId:k.batchId,changes:Zz(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,d){let p=r.hc[r.currentUser.toKey()];p||(p=new Ns(Hn)),p=p.insert(o,d),r.hc[r.currentUser.toKey()]=p}(i,s.batchId,e),yield Qd(i,s.changes),yield qy(i.remoteStore)}catch(s){const r=Ky(s,"Failed to persist write");e.reject(r)}}),XP.apply(this,arguments)}function v3(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,ot.Z)(function*(n,t){const e=$t(n);try{const i=yield kZ(e.localStore,t);t.targetChanges.forEach((s,r)=>{const o=e.cc.get(r);o&&(Dn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.nc=!0:s.modifiedDocuments.size>0?Dn(o.nc):s.removedDocuments.size>0&&(Dn(o.nc),o.nc=!1))}),yield Qd(e,i,t)}catch(i){yield Ef(i)}}),qP.apply(this,arguments)}function y3(n,t,e){const i=$t(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const s=[];i.ic.forEach((r,o)=>{const d=o.view.bu(t);d.snapshot&&s.push(d.snapshot)}),function(r,o){const d=$t(r);d.onlineState=o;let p=!1;d.queries.forEach((_,C)=>{for(const k of C.listeners)k.bu(o)&&(p=!0)}),p&&UP(d)}(i.eventManager,t),s.length&&i.sc.Wo(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function u9(n,t,e){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,ot.Z)(function*(n,t,e){const i=$t(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.cc.get(t),r=s&&s.key;if(r){let o=new Ns(Wt.comparator);o=o.insert(r,cs.newNoDocument(r,kn.min()));const d=qn().add(r),p=new Cb(kn.min(),new Map,new qi(Hn),o,d);yield v3(i,p),i.uc=i.uc.remove(r),i.cc.delete(t),iO(i)}else yield Yy(i.localStore,t,!1).then(()=>e_(i,t,e)).catch(Ef)}),ZP.apply(this,arguments)}function d9(n,t){return KP.apply(this,arguments)}function KP(){return KP=(0,ot.Z)(function*(n,t){const e=$t(n),i=t.batch.batchId;try{const s=yield DZ(e.localStore,t);tO(e,i,null),eO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Qd(e,s)}catch(s){yield Ef(s)}}),KP.apply(this,arguments)}function h9(n,t,e){return QP.apply(this,arguments)}function QP(){return QP=(0,ot.Z)(function*(n,t,e){const i=$t(n);try{const s=yield function(r,o){const d=$t(r);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,o).next(C=>(Dn(null!==C),_=C.keys(),d.mutationQueue.removeMutationBatch(p,C))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,o)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);tO(i,t,e),eO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Qd(i,s)}catch(s){yield Ef(s)}}),QP.apply(this,arguments)}function JP(){return JP=(0,ot.Z)(function*(n,t){const e=$t(n);Kd(e.remoteStore)||Dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(r){const o=$t(r);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>o.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const s=e.lc.get(i)||[];s.push(t),e.lc.set(i,s)}catch(i){const s=Ky(i,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}}),JP.apply(this,arguments)}function eO(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function tO(n,t,e){const i=$t(n);let s=i.hc[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(e?r.reject(e):r.resolve(),s=s.remove(t)),i.hc[i.currentUser.toKey()]=s}}function e_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||_3(n,i)})}function _3(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(Vb(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),iO(n))}function nO(n,t,e){for(const i of e)i instanceof p3?(n.ac.addReference(i.key,t),p9(n,i)):i instanceof g3?(Dt("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||_3(n,i.key)):on()}function p9(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Dt("SyncEngine","New document in limbo: "+e),n.oc.add(i),iO(n))}function iO(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Wt(_i.fromString(t)),i=n.fc.next();n.cc.set(i,new r9(e)),n.uc=n.uc.insert(e,i),s1(n.remoteStore,new Rf(Io(Fy(e.path)),i,2,oa.at))}}function Qd(n,t,e){return sO.apply(this,arguments)}function sO(){return sO=(0,ot.Z)(function*(n,t,e){const i=$t(n),s=[],r=[],o=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{o.push(i._c(p,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){s.push(_);const C=cP.Ci(p.targetId,_);r.push(C)}}))}),yield Promise.all(o),i.sc.Wo(s),yield(d=(0,ot.Z)(function*(p,_){const C=$t(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Ke.forEach(_,N=>Ke.forEach(N.Si,z=>C.persistence.referenceDelegate.addReference(k,N.targetId,z)).next(()=>Ke.forEach(N.Di,z=>C.persistence.referenceDelegate.removeReference(k,N.targetId,z)))))}catch(k){if(!Df(k))throw k;Dt("LocalStore","Failed to update sequence numbers: "+k)}for(const k of _){const N=k.targetId;if(!k.fromCache){const z=C.Ui.get(N),Q=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);C.Ui=C.Ui.insert(N,Q)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,r))}),sO.apply(this,arguments)}function g9(n,t){return rO.apply(this,arguments)}function rO(){return rO=(0,ot.Z)(function*(n,t){const e=$t(n);if(!e.currentUser.isEqual(t)){Dt("SyncEngine","User change. New user:",t.toKey());const i=yield $U(e.localStore,t);e.currentUser=t,(s=e).lc.forEach(o=>{o.forEach(d=>{d.reject(new Ct(Je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Qd(e,i.ji)}var s}),rO.apply(this,arguments)}function m9(n,t){const e=$t(n),i=e.cc.get(t);if(i&&i.nc)return qn().add(i.key);{let s=qn();const r=e.rc.get(t);if(!r)return s;for(const o of r){const d=e.ic.get(o);s=s.unionWith(d.view.ju)}return s}}function v9(n,t){return oO.apply(this,arguments)}function oO(){return oO=(0,ot.Z)(function*(n,t){const e=$t(n),i=yield JA(e.localStore,t.query,!0),s=t.view.tc(i);return e.isPrimaryClient&&nO(e,t.targetId,s.Xu),s}),oO.apply(this,arguments)}function y9(n,t){return aO.apply(this,arguments)}function aO(){return aO=(0,ot.Z)(function*(n,t){const e=$t(n);return ZU(e.localStore,t).then(i=>Qd(e,i))}),aO.apply(this,arguments)}function _9(n,t,e,i){return lO.apply(this,arguments)}function lO(){return lO=(0,ot.Z)(function*(n,t,e,i){const s=$t(n),r=yield function(o,d){const p=$t(o),_=$t(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>_.Tn(C,d).next(k=>k?p.localDocuments.getDocuments(C,k):Ke.resolve(null)))}(s.localStore,t);var d;null!==r?("pending"===e?yield qy(s.remoteStore):"acknowledged"===e||"rejected"===e?(tO(s,t,i||null),eO(s,t),d=t,$t($t(s.localStore).mutationQueue).An(d)):on(),yield Qd(s,r)):Dt("SyncEngine","Cannot apply mutation batch with id: "+t)}),lO.apply(this,arguments)}function cO(){return cO=(0,ot.Z)(function*(n,t){const e=$t(n);if(fO(e),pO(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),s=yield x3(e,i.toArray());e.dc=!0,yield RP(e.remoteStore,!0);for(const r of s)s1(e.remoteStore,r)}else if(!1===t&&!1!==e.dc){const i=[];let s=Promise.resolve();e.rc.forEach((r,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):s=s.then(()=>(e_(e,o),Yy(e.localStore,o,!0))),Vb(e.remoteStore,o)}),yield s,yield x3(e,i),function(r){const o=$t(r);o.cc.forEach((d,p)=>{Vb(o.remoteStore,p)}),o.ac.fs(),o.cc=new Map,o.uc=new Ns(Wt.comparator)}(e),e.dc=!1,yield RP(e.remoteStore,!1)}}),cO.apply(this,arguments)}function x3(n,t,e){return uO.apply(this,arguments)}function uO(){return uO=(0,ot.Z)(function*(n,t,e){const i=$t(n),s=[],r=[];for(const o of t){let d;const p=i.rc.get(o);if(p&&0!==p.length){d=yield $y(i.localStore,Io(p[0]));for(const _ of p){const C=i.ic.get(_),k=yield v9(i,C);k.snapshot&&r.push(k.snapshot)}}else{const _=yield qU(i.localStore,o);d=yield $y(i.localStore,_),yield jP(i,b3(_),o,!1,d.resumeToken)}s.push(d)}return i.sc.Wo(r),s}),uO.apply(this,arguments)}function b3(n){return kz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function b9(n){const t=$t(n);return $t($t(t.localStore).persistence).vi()}function w9(n,t,e,i){return dO.apply(this,arguments)}function dO(){return dO=(0,ot.Z)(function*(n,t,e,i){const s=$t(n);if(s.dc)return void Dt("SyncEngine","Ignoring unexpected query state notification.");const r=s.rc.get(t);if(r&&r.length>0)switch(e){case"current":case"not-current":{const o=yield ZU(s.localStore,Lz(r[0])),d=Cb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,pr.EMPTY_BYTE_STRING);yield Qd(s,o,d);break}case"rejected":yield Yy(s.localStore,t,!0),e_(s,t,i);break;default:on()}}),dO.apply(this,arguments)}function C9(n,t,e){return hO.apply(this,arguments)}function hO(){return hO=(0,ot.Z)(function*(n,t,e){const i=fO(n);if(i.dc){for(const s of t){if(i.rc.has(s)){Dt("SyncEngine","Adding an already active target "+s);continue}const r=yield qU(i.localStore,s),o=yield $y(i.localStore,r);yield jP(i,b3(r),o.targetId,!1,o.resumeToken),s1(i.remoteStore,o)}for(const s of e)i.rc.has(s)&&(yield Yy(i.localStore,s,!1).then(()=>{Vb(i.remoteStore,s),e_(i,s)}).catch(Ef))}}),hO.apply(this,arguments)}function fO(n){const t=$t(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=v3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u9.bind(null,t),t.sc.Wo=e9.bind(null,t.eventManager),t.sc.wc=t9.bind(null,t.eventManager),t}function pO(n){const t=$t(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h9.bind(null,t),t}class w3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ot.Z)(function*(){e.It=Nb(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return jU(this.persistence,new WU,t.initialUser,this.It)}yc(t){return new UU(KA.Bs,this.It)}gc(t){return new e3}terminate(){var t=this;return(0,ot.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class C3 extends w3{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ot.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield pO(i.Ac.syncEngine),yield qy(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return jU(this.persistence,new WU,t.initialUser,this.It)}Tc(t,e){return new fZ(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new Zq(e,this.persistence);return new qq(t.asyncQueue,i)}yc(t){const e=lP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?la.withCacheSize(this.cacheSizeBytes):la.DEFAULT;return new aP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,n3(),n1(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new e3}}class T9 extends C3{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ot.Z)(function*(){yield e().call(i,t);const s=i.Ac.syncEngine;i.sharedClientState instanceof vP&&(i.sharedClientState.syncEngine={Fr:_9.bind(null,s),$r:w9.bind(null,s),Br:C9.bind(null,s),vi:b9.bind(null,s),Mr:y9.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var r=(0,ot.Z)(function*(o){yield function x9(n,t){return cO.apply(this,arguments)}(i.Ac.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return r.apply(this,arguments)}}())})()}gc(t){const e=n3();if(!vP.C(e))throw new Ct(Je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=lP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new vP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class gO{initialize(t,e){var i=this;return(0,ot.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>y3(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=g9.bind(null,i.syncEngine),yield RP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new JZ}createDatastore(t){const e=Nb(t.databaseInfo.databaseId),i=new FZ(t.databaseInfo);return new VZ(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,r=d=>y3(this.syncEngine,d,0),o=t3.C()?new t3:new PZ,new UZ(e,i,s,r,o);var e,i,s,r,o}createSyncEngine(t,e){return function(i,s,r,o,d,p,_){const C=new o9(i,s,r,o,d,p);return _&&(C.dc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ot.Z)(function*(e){const i=$t(e);Dt("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Xy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function mO(n,t,e){if(!e)throw new Ct(Je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function S3(n,t,e,i){if(!0===t&&!0===i)throw new Ct(Je.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function T3(n){if(!Wt.isDocumentKey(n))throw new Ct(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function A3(n){if(Wt.isDocumentKey(n))throw new Ct(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function o1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":on()}function hi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=o1(n);throw new Ct(Je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function E3(n,t){if(t<=0)throw new Ct(Je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const D3=new Map;class k3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ct(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ct(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,S3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hb{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ct(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Nq;switch(e.type){case"gapi":return new zq(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ct(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=D3.get(t);e&&(Dt("ComponentProvider","Removing Datastore"),D3.delete(t),e.terminate())}(this),Promise.resolve()}}function I3(n,t,e,i={}){var s;const r=(n=hi(n,Hb))._getSettings();if("firestore.googleapis.com"!==r.host&&r.host!==t&&Wg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},r),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let o,d;if("string"==typeof i.mockUserToken)o=i.mockUserToken,d=wr.MOCK_USER;else{o=(0,ci.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ct(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new wr(p)}n._authCredentials=new Bq(new nz(o,d))}}class gs{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gs(this.firestore,t,this._key)}}class lo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new lo(this.firestore,t,this._query)}}class Ou extends lo{constructor(t,e,i){super(t,e,Fy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gs(this.firestore,null,new Wt(t))}withConverter(t){return new Ou(this.firestore,t,this._path)}}function M3(n,t,...e){if(n=(0,ci.m9)(n),mO("collection","path",t),n instanceof Hb){const i=_i.fromString(t,...e);return A3(i),new Ou(n,null,i)}{if(!(n instanceof gs||n instanceof Ou))throw new Ct(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_i.fromString(t,...e));return A3(i),new Ou(n.firestore,null,i)}}function a1(n,t,...e){if(n=(0,ci.m9)(n),1===arguments.length&&(t=sz.R()),mO("doc","path",t),n instanceof Hb){const i=_i.fromString(t,...e);return T3(i),new gs(n,null,new Wt(i))}{if(!(n instanceof gs||n instanceof Ou))throw new Ct(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_i.fromString(t,...e));return T3(i),new gs(n.firestore,n instanceof Ou?n.converter:null,new Wt(i))}}function L3(n,t){return n=(0,ci.m9)(n),t=(0,ci.m9)(t),(n instanceof gs||n instanceof Ou)&&(t instanceof gs||t instanceof Ou)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function vO(n,t){return n=(0,ci.m9)(n),t=(0,ci.m9)(t),n instanceof lo&&t instanceof lo&&n.firestore===t.firestore&&yb(n._query,t._query)&&n.converter===t.converter}function P3(n,t=10240){let e=0;return{read:()=>(0,ot.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ot.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class l1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Ys("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class E9{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new fr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,ot.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,ot.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,ot.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),s=Number(i);isNaN(s)&&t.Dc(`length string (${i}) is not valid number`);const r=yield t.Cc(s);return new n9(JSON.parse(r),e.length+s)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,ot.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,ot.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,ot.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class I9{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ot.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ct(Je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,ot.Z)(function*(r,o){const d=$t(r),p=Eb(d.It)+"/documents",_={documents:o.map(z=>Ab(d.It,z))},C=yield d._o("BatchGetDocuments",p,_,o.length),k=new Map;C.forEach(z=>{const W=function k7(n,t){return"found"in t?function(e,i){Dn(!!i.found);const s=Lu(e,i.found.name),r=Cr(i.found.updateTime),o=new Ur({mapValue:{fields:i.found.fields}});return cs.newFoundDocument(s,r,o)}(n,t):"missing"in t?function(e,i){Dn(!!i.missing),Dn(!!i.readTime);const s=Lu(e,i.missing),r=Cr(i.readTime);return cs.newNoDocument(s,r)}(n,t):on()}(d.It,z);k.set(W.key.toString(),W)});const N=[];return o.forEach(z=>{const W=k.get(z.toString());Dn(!!W),N.push(W)}),N}),function(r,o){return s.apply(this,arguments)})(e.datastore,t);var s;return i.forEach(s=>e.recordVersion(s)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new zy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ot.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,s)=>{const r=Wt.fromPath(s);t.mutations.push(new YL(r,t.precondition(r)))}),yield(i=(0,ot.Z)(function*(s,r){const o=$t(s),d=Eb(o.It)+"/documents",p={writes:r.map(_=>Db(o.It,_))};yield o.ao("Commit",d,p)}),function(s,r){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw on();e=kn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ct(Je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(kn.min())?ws.exists(!1):ws.updateTime(e):ws.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(kn.min()))throw new Ct(Je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ws.updateTime(e)}return ws.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class M9{constructor(t,e,i,s,r){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=s,this.deferred=r,this.kc=i.maxAttempts,this.xo=new yP(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,ot.Z)(function*(){const e=new I9(t.datastore),i=t.Mc(e);i&&i.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(r=>{t.Fc(r)}))}).catch(s=>{t.Fc(s)})}))}Mc(t){try{const e=this.updateFunction(t);return!hb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Yz(e)}return!1}}class L9{constructor(t,e,i,s){var r=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=wr.UNAUTHENTICATED,this.clientId=sz.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,ot.Z)(function*(d){Dt("FirestoreClient","Received user=",d.uid),yield r.authCredentialListener(d),r.user=d});return function(d){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(Dt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,ot.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(Je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ot.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ky(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function O3(n,t){return yO.apply(this,arguments)}function yO(){return yO=(0,ot.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var s=(0,ot.Z)(function*(r){i.isEqual(r)||(yield $U(t.localStore,r),i=r)});return function(r){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),yO.apply(this,arguments)}function R3(n,t){return _O.apply(this,arguments)}function _O(){return _O=(0,ot.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield xO(n);Dt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(s=>u3(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,r)=>u3(t.remoteStore,r)),n.onlineComponents=t}),_O.apply(this,arguments)}function xO(n){return bO.apply(this,arguments)}function bO(){return bO=(0,ot.Z)(function*(n){return n.offlineComponents||(Dt("FirestoreClient","Using default OfflineComponentProvider"),yield O3(n,new w3)),n.offlineComponents}),bO.apply(this,arguments)}function c1(n){return wO.apply(this,arguments)}function wO(){return wO=(0,ot.Z)(function*(n){return n.onlineComponents||(Dt("FirestoreClient","Using default OnlineComponentProvider"),yield R3(n,new gO)),n.onlineComponents}),wO.apply(this,arguments)}function F3(n){return xO(n).then(t=>t.persistence)}function u1(n){return xO(n).then(t=>t.localStore)}function CO(n){return c1(n).then(t=>t.remoteStore)}function SO(n){return c1(n).then(t=>t.syncEngine)}function t_(n){return TO.apply(this,arguments)}function TO(){return TO=(0,ot.Z)(function*(n){const t=yield c1(n),e=t.eventManager;return e.onListen=a9.bind(null,t.syncEngine),e.onUnlisten=l9.bind(null,t.syncEngine),e}),TO.apply(this,arguments)}function B3(n,t,e={}){const i=new fr;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function(s,r,o,d,p){const _=new l1({next:k=>{r.enqueueAndForget(()=>HP(s,C));const N=k.docs.has(o);!N&&k.fromCache?p.reject(new Ct(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&k.fromCache&&d&&"server"===d.source?p.reject(new Ct(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(k)},error:k=>p.reject(k)}),C=new GP(Fy(o.path),_,{includeMetadataChanges:!0,Nu:!0});return BP(s,C)}(yield t_(n),n.asyncQueue,t,e,i)})),i.promise}function V3(n,t,e={}){const i=new fr;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function(s,r,o,d,p){const _=new l1({next:k=>{r.enqueueAndForget(()=>HP(s,C)),k.fromCache&&"server"===d.source?p.reject(new Ct(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(k)},error:k=>p.reject(k)}),C=new GP(o,_,{includeMetadataChanges:!0,Nu:!0});return BP(s,C)}(yield t_(n),n.asyncQueue,t,e,i)})),i.promise}class H9{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new yP(this,"async_queue_retry"),this.Wc=()=>{const e=n1();e&&Dt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=n1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=n1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new fr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,ot.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Df(e))throw e;Dt("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Ys("INTERNAL UNHANDLED ERROR: ",function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+"\n"+r.stack),o}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const s=NP.createAndSchedule(this,t,e,i,r=>this.Yc(r));return this.qc.push(s),s}zc(){this.Kc&&on()}verifyOperationInProgress(){}Xc(){var t=this;return(0,ot.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function AO(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class z9{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ms extends Hb{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new H9,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||H3(this),this._firestoreClient.terminate()}}function G9(n,t){const e="object"==typeof n?n:(0,Do.getApp)(),i="string"==typeof n?n:t||"(default)",s=(0,Do._getProvider)(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=(0,ci.P0)("firestore");r&&I3(s,...r)}return s}function Xs(n){return n._firestoreClient||H3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function H3(n){var t;const e=n._freezeSettings(),i=(r=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Jq(n._databaseId,r,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var r,d;n._firestoreClient=new L9(n._authCredentials,n._appCheckCredentials,n._queue,i)}function z3(n,t,e){const i=new fr;return n.asyncQueue.enqueue((0,ot.Z)(function*(){try{yield O3(n,e),yield R3(n,t),i.resolve()}catch(s){const r=s;if(!("FirebaseError"===(o=r).name?o.code===Je.FAILED_PRECONDITION||o.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;Wg("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function U3(n){if(n._initialized||n._terminated)throw new Ct(Je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ru{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ru(pr.fromBase64String(t))}catch(e){throw new Ct(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ru(pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ct(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lm{constructor(t){this._methodName=t}}class d1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Hn(this._lat,t._lat)||Hn(this._long,t._long)}}const Q9=/^__.*__$/;class J9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Zd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hy(t,this.data,e,this.fieldTransforms)}}class G3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Zd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function W3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw on()}}class h1{constructor(t,e,i,s,r,o){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=s,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new h1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.ia({path:i,oa:!1});return s.ua(t),s}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.ia({path:i,oa:!1});return s.na(),s}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return g1(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(W3(this.sa)&&Q9.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class eK{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||Nb(t)}da(t,e,i,s=!1){return new h1({sa:t,methodName:e,fa:i,path:Fs.emptyPath(),oa:!1,la:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function cm(n){const t=n._freezeSettings(),e=Nb(n._databaseId);return new eK(n._databaseId,!!t.ignoreUndefinedProperties,e)}function f1(n,t,e,i,s,r={}){const o=n.da(r.merge||r.mergeFields?2:0,t,e,s);IO("Data must be an object, but it was:",o,i);const d=Y3(i,o);let p,_;if(r.merge)p=new Aa(o.fieldMask),_=o.fieldTransforms;else if(r.mergeFields){const C=[];for(const k of r.mergeFields){const N=MO(t,k,e);if(!o.contains(N))throw new Ct(Je.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);q3(C,N)||C.push(N)}p=new Aa(C),_=o.fieldTransforms.filter(k=>p.covers(k.field))}else p=null,_=o.fieldTransforms;return new J9(new Ur(d),p,_)}class zb extends lm{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zb}}function j3(n,t,e){return new h1({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class EO extends lm{_toFieldTransform(t){return new _b(t.path,new By)}isEqual(t){return t instanceof EO}}class tK extends lm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=j3(this,t,!0),i=this._a.map(r=>um(r,e)),s=new Qg(i);return new _b(t.path,s)}isEqual(t){return this===t}}class nK extends lm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=j3(this,t,!0),i=this._a.map(r=>um(r,e)),s=new Jg(i);return new _b(t.path,s)}isEqual(t){return this===t}}class iK extends lm{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Vy(t.It,Fz(t.It,this.wa));return new _b(t.path,e)}isEqual(t){return this===t}}function DO(n,t,e,i){const s=n.da(1,t,e);IO("Data must be an object, but it was:",s,i);const r=[],o=Ur.empty();Yg(i,(p,_)=>{const C=p1(t,p,e);_=(0,ci.m9)(_);const k=s.ca(C);if(_ instanceof zb)r.push(C);else{const N=um(_,k);null!=N&&(r.push(C),o.set(C,N))}});const d=new Aa(r);return new G3(o,d,s.fieldTransforms)}function kO(n,t,e,i,s,r){const o=n.da(1,t,e),d=[MO(t,i,e)],p=[s];if(r.length%2!=0)throw new Ct(Je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<r.length;N+=2)d.push(MO(t,r[N])),p.push(r[N+1]);const _=[],C=Ur.empty();for(let N=d.length-1;N>=0;--N)if(!q3(_,d[N])){const z=d[N];let W=p[N];W=(0,ci.m9)(W);const Q=o.ca(z);if(W instanceof zb)_.push(z);else{const K=um(W,Q);null!=K&&(_.push(z),C.set(z,K))}}const k=new Aa(_);return new G3(C,k,o.fieldTransforms)}function $3(n,t,e,i=!1){return um(e,n.da(i?4:3,t))}function um(n,t){if(X3(n=(0,ci.m9)(n)))return IO("Unsupported field value:",t,n),Y3(n,t);if(n instanceof lm)return function(e,i){if(!W3(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const s=[];let r=0;for(const o of e){let d=um(o,i.aa(r));null==d&&(d={nullValue:"NULL_VALUE"}),s.push(d),r++}return{arrayValue:{values:s}}}(n,t)}return function(e,i){if(null===(e=(0,ci.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fz(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=bs.fromDate(e);return{timestampValue:Tb(i.It,s)}}if(e instanceof bs){const s=new bs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tb(i.It,s)}}if(e instanceof d1)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ru)return{bytesValue:iU(i.It,e._byteString)};if(e instanceof gs){const s=i.databaseId,r=e.firestore._databaseId;if(!r.isEqual(s))throw i.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:XL(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${o1(e)}`)}(n,t)}function Y3(n,t){const e={};return hz(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yg(n,(i,s)=>{const r=um(s,t.ra(i));null!=r&&(e[i]=r)}),{mapValue:{fields:e}}}function X3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bs||n instanceof d1||n instanceof Ru||n instanceof gs||n instanceof lm)}function IO(n,t,e){if(!X3(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=o1(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function MO(n,t,e){if((t=(0,ci.m9)(t))instanceof Jd)return t._internalPath;if("string"==typeof t)return p1(n,t);throw g1("Field path arguments must be of type string or ",n,!1,void 0,e)}const sK=new RegExp("[~\\*/\\[\\]]");function p1(n,t,e){if(t.search(sK)>=0)throw g1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jd(...t.split("."))._internalPath}catch{throw g1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function g1(n,t,e,i,s){const r=i&&!i.isEmpty(),o=void 0!==s;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(r||o)&&(p+=" (found",r&&(p+=` in field ${i}`),o&&(p+=` in document ${s}`),p+=")"),new Ct(Je.INVALID_ARGUMENT,d+n+p)}function q3(n,t){return n.some(e=>e.isEqual(t))}class Ub{constructor(t,e,i,s,r){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new rK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(m1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class rK extends Ub{data(){return super.data()}}function m1(n,t){return"string"==typeof t?p1(n,t):t instanceof Jd?t._internalPath:t._delegate._internalPath}function Z3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gb{}function Vf(n,...t){for(const e of t)n=e._apply(n);return n}class oK extends Gb{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=cm(t.firestore),i=function(s,r,o,d,p,_,C){let k;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ct(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){nG(C,_);const z=[];for(const W of C)z.push(tG(d,s,W));k={arrayValue:{values:z}}}else k=tG(d,s,C)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||nG(C,_),k=$3(o,"where",C,"in"===_||"not-in"===_);const N=Gr.create(p,_,k);return function(z,W){if(W.dt()){const K=GL(z);if(null!==K&&!K.isEqual(W.field))throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${K.toString()}' and '${W.field.toString()}'`);const fe=UL(z);null!==fe&&iG(0,W.field,fe)}const Q=function(K,fe){for(const ve of K.filters)if(fe.indexOf(ve.op)>=0)return ve.op;return null}(z,function(K){switch(K){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==Q)throw new Ct(Je.INVALID_ARGUMENT,Q===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${Q.toString()}' filters.`)}(s,N),N}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new lo(t.firestore,t.converter,function(s,r){const o=s.filters.concat([r]);return new qd(s.path,s.collectionGroup,s.explicitOrderBy.slice(),o,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,i))}}class lK extends Gb{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,s,r){if(null!==i.startAt)throw new Ct(Je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(Je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ry(s,r);return function(d,p){if(null===UL(d)){const _=GL(d);null!==_&&iG(0,_,p.field)}}(i,o),o}(t._query,this.ma,this.pa);return new lo(t.firestore,t.converter,function(i,s){const r=i.explicitOrderBy.concat([s]);return new qd(i.path,i.collectionGroup,r,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class K3 extends Gb{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new lo(t.firestore,t.converter,NA(t._query,this.Ia,this.Ta))}}class Q3 extends Gb{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=eG(t,this.type,this.Ea,this.Aa);return new lo(t.firestore,t.converter,(s=e,new qd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class J3 extends Gb{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=eG(t,this.type,this.Ea,this.Aa);return new lo(t.firestore,t.converter,(s=e,new qd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function eG(n,t,e,i){if(e[0]=(0,ci.m9)(e[0]),e[0]instanceof Ub)return function(s,r,o,d,p){if(!d)throw new Ct(Je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const _=[];for(const C of Ny(s))if(C.field.isKeyField())_.push(Zg(r,d.key));else{const k=d.data.field(C.field);if(VL(k))throw new Ct(Je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const N=C.field.canonicalString();throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}_.push(k)}return new Pf(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const s=cm(n.firestore);return function(r,o,d,p,_,C){const k=r.explicitOrderBy;if(_.length>k.length)throw new Ct(Je.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let z=0;z<_.length;z++){const W=_[z];if(k[z].field.isKeyField()){if("string"!=typeof W)throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof W}`);if(!WL(r)&&-1!==W.indexOf("/"))throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${W}' contains a slash.`);const Q=r.path.child(_i.fromString(W));if(!Wt.isDocumentKey(Q))throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const K=new Wt(Q);N.push(Zg(o,K))}else{const Q=$3(d,p,W);N.push(Q)}}return new Pf(N,C)}(n._query,n.firestore._databaseId,s,t,e,i)}}function tG(n,t,e){if("string"==typeof(e=(0,ci.m9)(e))){if(""===e)throw new Ct(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WL(t)&&-1!==e.indexOf("/"))throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(_i.fromString(e));if(!Wt.isDocumentKey(i))throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zg(n,new Wt(i))}if(e instanceof gs)return Zg(n,e._key);throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o1(e)}.`)}function nG(n,t){if(!Array.isArray(n)||0===n.length)throw new Ct(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ct(Je.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function iG(n,t,e){if(!e.isEqual(t))throw new Ct(Je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class LO{convertValue(t,e="none"){switch(qg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw on()}}convertObject(t,e){const i={};return Yg(t.fields,(s,r)=>{i[s]=this.convertValue(r,e)}),i}convertGeoPoint(t){return new d1(Bs(t.latitude),Bs(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=pz(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(db(t));default:return null}}convertTimestamp(t){const e=kf(t);return new bs(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=_i.fromString(t);Dn(hU(i));const s=new If(i.get(1),i.get(3)),r=new Wt(i.popFirst(5));return s.isEqual(e)||Ys(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}function v1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class mK extends LO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ru(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gs(this.firestore,null,e)}}class dm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eh extends Ub{constructor(t,e,i,s,r,o){super(t,e,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(m1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Wb extends eh{data(t={}){return super.data(t)}}class Hf{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new dm(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Wb(this._firestore,this._userDataWriter,i.key,i,new dm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new Wb(i._firestore,i._userDataWriter,o.doc.key,o.doc,new dm(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:r++}))}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||3!==o.type).map(o=>{const d=new Wb(i._firestore,i._userDataWriter,o.doc.key,o.doc,new dm(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==o.type&&(p=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),1!==o.type&&(r=r.add(o.doc),_=r.indexOf(o.doc.key)),{type:vK(o.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return on()}}function sG(n,t){return n instanceof eh&&t instanceof eh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Hf&&t instanceof Hf&&n._firestore===t._firestore&&vO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class zf extends LO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ru(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gs(this.firestore,null,e)}}function rG(n,t,e){n=hi(n,gs);const i=hi(n.firestore,ms),s=v1(n.converter,t,e);return n_(i,[f1(cm(i),"setDoc",n._key,s,null!==n.converter,e).toMutation(n._key,ws.none())])}function oG(n,t,e,...i){n=hi(n,gs);const s=hi(n.firestore,ms),r=cm(s);let o;return o="string"==typeof(t=(0,ci.m9)(t))||t instanceof Jd?kO(r,"updateDoc",n._key,t,e,i):DO(r,"updateDoc",n._key,t),n_(s,[o.toMutation(n._key,ws.exists(!0))])}function aG(n,...t){var e,i,s;n=(0,ci.m9)(n);let r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||AO(t[o])||(r=t[o],o++);const d={includeMetadataChanges:r.includeMetadataChanges};if(AO(t[o])){const k=t[o];t[o]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[o+1]=null===(i=k.error)||void 0===i?void 0:i.bind(k),t[o+2]=null===(s=k.complete)||void 0===s?void 0:s.bind(k)}let p,_,C;if(n instanceof gs)_=hi(n.firestore,ms),C=Fy(n._key.path),p={next:k=>{t[o]&&t[o](PO(_,n,k))},error:t[o+1],complete:t[o+2]};else{const k=hi(n,lo);_=hi(k.firestore,ms),C=k._query;const N=new zf(_);p={next:z=>{t[o]&&t[o](new Hf(_,N,k,z))},error:t[o+1],complete:t[o+2]},Z3(n._query)}return function(k,N,z,W){const Q=new l1(W),K=new GP(N,Q,z);return k.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return BP(yield t_(k),K)})),()=>{Q.bc(),k.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return HP(yield t_(k),K)}))}}(Xs(_),C,d,p)}function n_(n,t){return function(e,i){const s=new fr;return e.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function c9(n,t,e){return XP.apply(this,arguments)}(yield SO(e),i,s)})),s.promise}(Xs(n),t)}function PO(n,t,e){const i=e.docs.get(t._key),s=new zf(n);return new eh(n,s,t._key,i,new dm(e.hasPendingWrites,e.fromCache),t.converter)}const EK={maxAttempts:5};class lG{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cm(t)}set(t,e,i){this._verifyNotCommitted();const s=Uf(t,this._firestore),r=v1(s.converter,e,i),o=f1(this._dataReader,"WriteBatch.set",s._key,r,null!==s.converter,i);return this._mutations.push(o.toMutation(s._key,ws.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const r=Uf(t,this._firestore);let o;return o="string"==typeof(e=(0,ci.m9)(e))||e instanceof Jd?kO(this._dataReader,"WriteBatch.update",r._key,e,i,s):DO(this._dataReader,"WriteBatch.update",r._key,e),this._mutations.push(o.toMutation(r._key,ws.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Uf(t,this._firestore);return this._mutations=this._mutations.concat(new zy(e._key,ws.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(Je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uf(n,t){if((n=(0,ci.m9)(n)).firestore!==t)throw new Ct(Je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class DK extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=cm(t)}get(t){const e=Uf(t,this._firestore),i=new mK(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return on();const r=s[0];if(r.isFoundDocument())return new Ub(this._firestore,i,r.key,r,e.converter);if(r.isNoDocument())return new Ub(this._firestore,i,e._key,null,e.converter);throw on()})}set(t,e,i){const s=Uf(t,this._firestore),r=v1(s.converter,e,i),o=f1(this._dataReader,"Transaction.set",s._key,r,null!==s.converter,i);return this._transaction.set(s._key,o),this}update(t,e,i,...s){const r=Uf(t,this._firestore);let o;return o="string"==typeof(e=(0,ci.m9)(e))||e instanceof Jd?kO(this._dataReader,"Transaction.update",r._key,e,i,s):DO(this._dataReader,"Transaction.update",r._key,e),this._transaction.update(r._key,o),this}delete(t){const e=Uf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Uf(t,this._firestore),i=new zf(this._firestore);return super.get(t).then(s=>new eh(this._firestore,i,e._key,s._document,new dm(!1,!1),e.converter))}}function OO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function uG(){if(typeof Uint8Array>"u")throw new Ct("unimplemented","Uint8Arrays are not available in this environment.")}function dG(){if(!function Kq(){return typeof atob<"u"}())throw new Ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){My=Do.SDK_VERSION,(0,Do._registerComponent)(new G0.wA("firestore",(e,{instanceIdentifier:i,options:s})=>{const r=e.getProvider("app").getImmediate(),o=new ms(new Vq(e.getProvider("auth-internal")),new Uq(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ct(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(d.options.projectId,p)}(r,i),r);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),(0,Do.registerVersion)(tz,"3.7.2",n),(0,Do.registerVersion)(tz,"3.7.2","esm2017")}();class jb{constructor(t){this._delegate=t}static fromBase64String(t){return dG(),new jb(Ru.fromBase64String(t))}static fromUint8Array(t){return uG(),new jb(Ru.fromUint8Array(t))}toBase64(){return dG(),this._delegate.toBase64()}toUint8Array(){return uG(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RO(n){return function NK(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class BK{enableIndexedDbPersistence(t,e){return function W9(n,t){U3(n=hi(n,ms));const e=Xs(n),i=n._freezeSettings(),s=new gO;return z3(e,s,new C3(s,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function j9(n){U3(n=hi(n,ms));const t=Xs(n),e=n._freezeSettings(),i=new gO;return z3(t,i,new T9(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function $9(n){if(n._initialized&&!n._terminated)throw new Ct(Je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ot.Z)(function*(){try{yield(e=(0,ot.Z)(function*(i){if(!Lc.C())return Promise.resolve();const s=i+"main";yield Lc.delete(s)}),function(i){return e.apply(this,arguments)})(lP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class hG{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof If||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Wg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){I3(this._delegate,t,e,i)}enableNetwork(){return function X9(n){return function P9(n){return n.asyncQueue.enqueue((0,ot.Z)(function*(){const t=yield F3(n),e=yield CO(n);return t.setNetworkEnabled(!0),function(i){const s=$t(i);return s._u.delete(0),Bb(s)}(e)}))}(Xs(n=hi(n,ms)))}(this._delegate)}disableNetwork(){return function q9(n){return function O9(n){return n.asyncQueue.enqueue((0,ot.Z)(function*(){const t=yield F3(n),e=yield CO(n);return t.setNetworkEnabled(!1),(i=(0,ot.Z)(function*(s){const r=$t(s);r._u.add(0),yield Xy(r),r.gu.set("Offline")}),function(s){return i.apply(this,arguments)})(e);var i}))}(Xs(n=hi(n,ms)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,S3("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Y9(n){return function(t){const e=new fr;return t.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function f9(n,t){return JP.apply(this,arguments)}(yield SO(t),e)})),e.promise}(Xs(n=hi(n,ms)))}(this._delegate)}onSnapshotsInSync(t){return function AK(n,t){return function N9(n,t){const e=new l1(t);return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return i=yield t_(n),s=e,$t(i).Ru.add(s),void s.next();var i,s})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return i=yield t_(n),s=e,void $t(i).Ru.delete(s);var i,s}))}}(Xs(n=hi(n,ms)),AO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new i_(this,M3(this._delegate,t))}catch(e){throw Lo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Al(this,a1(this._delegate,t))}catch(e){throw Lo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Po(this,function A9(n,t){if(n=hi(n,Hb),mO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ct(Je.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new lo(n,null,(e=t,new qd(_i.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Lo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function kK(n,t,e){n=hi(n,ms);const i=Object.assign(Object.assign({},EK),e);return function(s){if(s.maxAttempts<1)throw new Ct(Je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,r,o){const d=new fr;return s.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){const p=yield function N3(n){return c1(n).then(t=>t.datastore)}(s);new M9(s.asyncQueue,p,o,r,d).run()})),d.promise}(Xs(n),s=>t(new DK(n,s)),i)}(this._delegate,e=>t(new fG(this,e)))}batch(){return Xs(this._delegate),new pG(new lG(this._delegate,t=>n_(this._delegate,t)))}loadBundle(t){return function Z9(n,t){const e=Xs(n=hi(n,ms)),i=new z9;return function B9(n,t,e,i){const s=function(r,o){let d;return d="string"==typeof r?(new TextEncoder).encode(r):r,p=function(p,_){if(p instanceof Uint8Array)return P3(p,_);if(p instanceof ArrayBuffer)return P3(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new E9(p,o);var p}(e,Nb(t));n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){!function S9(n,t,e){const i=$t(n);var s;(s=(0,ot.Z)(function*(r,o,d){try{const p=yield o.getMetadata();if(yield function(N,z){const W=$t(N),Q=Cr(z.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",K=>W.Ns.getBundleMetadata(K,z.id)).then(K=>!!K&&K.createTime.compareTo(Q)>=0)}(r.localStore,p))return yield o.close(),d._completeWith({taskState:"Success",documentsLoaded:(N=p).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);d._updateProgress(f3(p));const _=new i9(p,r.localStore,o.It);let C=yield o.mc();for(;C;){const N=yield _.Fu(C);N&&d._updateProgress(N),C=yield o.mc()}const k=yield _.complete();return yield Qd(r,k.Lu,void 0),yield function(N,z){const W=$t(N);return W.persistence.runTransaction("Save bundle","readwrite",Q=>W.Ns.saveBundleMetadata(Q,z))}(r.localStore,p),d._completeWith(k.progress),Promise.resolve(k.Bu)}catch(p){return Wg("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var N}),function(r,o,d){return s.apply(this,arguments)})(i,t,e).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}(yield SO(n),s,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function K9(n,t){return function V9(n,t){return n.asyncQueue.enqueue((0,ot.Z)(function*(){return function(e,i){const s=$t(e);return s.persistence.runTransaction("Get named query","readonly",r=>s.Ns.getNamedQuery(r,i))}(yield u1(n),t)}))}(Xs(n=hi(n,ms)),t).then(e=>e?new lo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Po(this,e):null)}}class y1 extends LO{constructor(t){super(),this.firestore=t}convertBytes(t){return new jb(new Ru(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Al.forKey(e,this.firestore,null)}}class fG{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new y1(t)}get(t){const e=fm(t);return this._delegate.get(e).then(i=>new $b(this._firestore,new eh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const s=fm(t);return i?(OO("Transaction.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const r=fm(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,i,...s),this}delete(t){const e=fm(t);return this._delegate.delete(e),this}}class pG{constructor(t){this._delegate=t}set(t,e,i){const s=fm(t);return i?(OO("WriteBatch.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const r=fm(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,i,...s),this}delete(t){const e=fm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class hm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Wb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=hm.INSTANCES;let s=i.get(t);s||(s=new WeakMap,i.set(t,s));let r=s.get(e);return r||(r=new hm(t,new y1(t),e),s.set(e,r)),r}}hm.INSTANCES=new WeakMap;class Al{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new y1(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Al(e,new gs(e._delegate,i,new Wt(t)))}static forKey(t,e,i){return new Al(e,new gs(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new i_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new i_(this.firestore,M3(this._delegate,t))}catch(e){throw Lo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ci.m9)(t))instanceof gs&&L3(this._delegate,t)}set(t,e){e=OO("DocumentReference.set",e);try{return e?rG(this._delegate,t,e):rG(this._delegate,t)}catch(i){throw Lo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?oG(this._delegate,t):oG(this._delegate,t,e,...i)}catch(s){throw Lo(s,"updateDoc()","DocumentReference.update()")}}delete(){return function SK(n){return n_(hi(n.firestore,ms),[new zy(n._key,ws.none())])}(this._delegate)}onSnapshot(...t){const e=gG(t),i=mG(t,s=>new $b(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return aG(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function _K(n){n=hi(n,gs);const t=hi(n.firestore,ms),e=Xs(t),i=new zf(t);return function R9(n,t){const e=new fr;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return(i=(0,ot.Z)(function*(s,r,o){try{const d=yield function(p,_){const C=$t(p);return C.persistence.runTransaction("read document","readonly",k=>C.localDocuments.getDocument(k,_))}(s,r);d.isFoundDocument()?o.resolve(d):d.isNoDocument()?o.resolve(null):o.reject(new Ct(Je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Ky(d,`Failed to get document '${r} from cache`);o.reject(p)}}),function(s,r,o){return i.apply(this,arguments)})(yield u1(n),t,e);var i})),e.promise}(e,n._key).then(s=>new eh(t,i,n._key,s,new dm(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function xK(n){n=hi(n,gs);const t=hi(n.firestore,ms);return B3(Xs(t),n._key,{source:"server"}).then(e=>PO(t,n,e))}(this._delegate):function yK(n){n=hi(n,gs);const t=hi(n.firestore,ms);return B3(Xs(t),n._key).then(e=>PO(t,n,e))}(this._delegate),e.then(i=>new $b(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Al(this.firestore,this._delegate.withConverter(t?hm.getInstance(this.firestore,t):null))}}function Lo(n,t,e){return n.message=n.message.replace(t,e),n}function gG(n){for(const t of n)if("object"==typeof t&&!RO(t))return t;return{}}function mG(n,t){var e,i;let s;return s=RO(n[0])?n[0]:RO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:r=>{s.next&&s.next(t(r))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class $b{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Al(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return sG(this._delegate,t._delegate)}}class Yb extends $b{data(t){const e=this._delegate.data(t);return function Fq(n,t){n||on()}(void 0!==e),e}}class Po{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new y1(t)}where(t,e,i){try{return new Po(this.firestore,Vf(this._delegate,function aK(n,t,e){const i=t,s=m1("where",n);return new oK(s,i,e)}(t,e,i)))}catch(s){throw Lo(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Po(this.firestore,Vf(this._delegate,function cK(n,t="asc"){const e=t,i=m1("orderBy",n);return new lK(i,e)}(t,e)))}catch(i){throw Lo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Po(this.firestore,Vf(this._delegate,function uK(n){return E3("limit",n),new K3("limit",n,"F")}(t)))}catch(e){throw Lo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Po(this.firestore,Vf(this._delegate,function dK(n){return E3("limitToLast",n),new K3("limitToLast",n,"L")}(t)))}catch(e){throw Lo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Po(this.firestore,Vf(this._delegate,function hK(...n){return new Q3("startAt",n,!0)}(...t)))}catch(e){throw Lo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Po(this.firestore,Vf(this._delegate,function fK(...n){return new Q3("startAfter",n,!1)}(...t)))}catch(e){throw Lo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Po(this.firestore,Vf(this._delegate,function pK(...n){return new J3("endBefore",n,!1)}(...t)))}catch(e){throw Lo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Po(this.firestore,Vf(this._delegate,function gK(...n){return new J3("endAt",n,!0)}(...t)))}catch(e){throw Lo(e,"endAt()","Query.endAt()")}}isEqual(t){return vO(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function wK(n){n=hi(n,lo);const t=hi(n.firestore,ms),e=Xs(t),i=new zf(t);return function F9(n,t){const e=new fr;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return(i=(0,ot.Z)(function*(s,r,o){try{const d=yield JA(s,r,!0),p=new m3(r,d.Hi),_=p.Wu(d.documents),C=p.applyChanges(_,!1);o.resolve(C.snapshot)}catch(d){const p=Ky(d,`Failed to execute query '${r} against cache`);o.reject(p)}}),function(s,r,o){return i.apply(this,arguments)})(yield u1(n),t,e);var i})),e.promise}(e,n._query).then(s=>new Hf(t,i,n,s))}(this._delegate):"server"===t?.source?function CK(n){n=hi(n,lo);const t=hi(n.firestore,ms),e=Xs(t),i=new zf(t);return V3(e,n._query,{source:"server"}).then(s=>new Hf(t,i,n,s))}(this._delegate):function bK(n){n=hi(n,lo);const t=hi(n.firestore,ms),e=Xs(t),i=new zf(t);return Z3(n._query),V3(e,n._query).then(s=>new Hf(t,i,n,s))}(this._delegate),e.then(i=>new FO(this.firestore,new Hf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=gG(t),i=mG(t,s=>new FO(this.firestore,new Hf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return aG(this._delegate,e,i)}withConverter(t){return new Po(this.firestore,this._delegate.withConverter(t?hm.getInstance(this.firestore,t):null))}}class HK{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Yb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Yb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new HK(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Yb(this._firestore,i))})}isEqual(t){return sG(this._delegate,t._delegate)}}class i_ extends Po{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Al(this.firestore,t):null}doc(t){try{return new Al(this.firestore,void 0===t?a1(this._delegate):a1(this._delegate,t))}catch(e){throw Lo(e,"doc()","CollectionReference.doc()")}}add(t){return function TK(n,t){const e=hi(n.firestore,ms),i=a1(n),s=v1(n.converter,t);return n_(e,[f1(cm(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,ws.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Al(this.firestore,e))}isEqual(t){return L3(this._delegate,t._delegate)}withConverter(t){return new i_(this.firestore,this._delegate.withConverter(t?hm.getInstance(this.firestore,t):null))}}function fm(n){return hi(n,gs)}class NO{constructor(...t){this._delegate=new Jd(...t)}static documentId(){return new NO(Fs.keyField().canonicalString())}isEqual(t){return(t=(0,ci.m9)(t))instanceof Jd&&this._delegate._internalPath.isEqual(t._internalPath)}}class pm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function MK(){return new EO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new pm(t)}static delete(){const t=function IK(){return new zb("deleteField")}();return t._methodName="FieldValue.delete",new pm(t)}static arrayUnion(...t){const e=function LK(...n){return new tK("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new pm(e)}static arrayRemove(...t){const e=function PK(...n){return new nK("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new pm(e)}static increment(t){const e=function OK(n){return new iK("increment",n)}(t);return e._methodName="FieldValue.increment",new pm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const zK={Firestore:hG,GeoPoint:d1,Timestamp:bs,Blob:jb,Transaction:fG,WriteBatch:pG,DocumentReference:Al,DocumentSnapshot:$b,Query:Po,QueryDocumentSnapshot:Yb,QuerySnapshot:FO,CollectionReference:i_,FieldPath:NO,FieldValue:pm,setLogLevel:function VK(n){!function Rq(n){Af.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GK(n){(function UK(n,t){n.INTERNAL.registerComponent(new G0.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),s=e.getProvider("firestore").getImmediate();return t(i,s)},"PUBLIC").setServiceProps(Object.assign({},zK)))})(n,(t,e)=>new hG(t,e,new BK)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(L8.Z);var vG=ue(6451),_1=ue(5363),WK=ue(6063);class jK extends Pi.x{constructor(t=1/0,e=1/0,i=WK.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:o}=this;e||(i.push(t),!s&&i.push(r.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:s}=this,r=s.slice();for(let o=0;o<r.length&&!t.closed;o+=i?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:s}=this,r=(s?1:2)*t;if(t<1/0&&r<i.length&&i.splice(0,i.length-r),!s){const o=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=o;p+=2)d=p;d&&i.splice(0,d+1)}}}var yG=ue(3099);function _G(n,t,e){let i,s=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:s=!1,scheduler:e}=n):i=n??1/0,(0,yG.B)({connector:()=>new jK(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function xG(n,t){return(0,fl.m)(t)?$s(()=>n,t):$s(()=>n)}var BO=ue(9468),x1=ue(5867);class gm{constructor(t){return t}}class VO{constructor(){return(0,x1.C6)()}}const bG=new Map,qK={activated:!1,tokenObservers:[]},ZK={initialized:!1,enabled:!1};function Ar(n){return bG.get(n)||qK}function El(n,t){bG.set(n,t)}function b1(){return ZK}class tQ{constructor(t,e,i,s,r){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ot.Z)(function*(){e.stop();try{e.pending=new ci.BH,yield function nQ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ci.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Oo=new ci.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CG(n){if(!Ar(n).activated)throw Oo.create("use-before-activation",{appName:n.name})}function GO(n,t){return WO.apply(this,arguments)}function WO(){return WO=(0,ot.Z)(function*({url:n,body:t},e){var i,s;const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const z=yield o.getHeartbeatsHeader();z&&(r["X-Firebase-Client"]=z)}const d={method:"POST",body:JSON.stringify(t),headers:r};let p,_;try{p=yield fetch(n,d)}catch(z){throw Oo.create("fetch-network-error",{originalErrorMessage:null===(i=z)||void 0===i?void 0:i.message})}if(200!==p.status)throw Oo.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(z){throw Oo.create("fetch-parse-error",{originalErrorMessage:null===(s=z)||void 0===s?void 0:s.message})}const C=_.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const k=1e3*Number(C[1]),N=Date.now();return{token:_.token,expireTimeMillis:N+k,issuedAtTimeMillis:N}}),WO.apply(this,arguments)}function oQ(n,t){const{projectId:e,appId:i,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:t}}}const Xb="firebase-app-check-store";let S1=null;function TG(){return S1||(S1=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{var r;t(Oo.create("storage-open",{originalErrorMessage:null===(r=s.target.error)||void 0===r?void 0:r.message}))},i.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Xb,{keyPath:"compositeKey"})}}catch(i){t(Oo.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),S1)}function jO(){return jO=(0,ot.Z)(function*(n,t){const i=(yield TG()).transaction(Xb,"readwrite"),r=i.objectStore(Xb).put({compositeKey:n,value:t});return new Promise((o,d)=>{r.onsuccess=p=>{o()},i.onerror=p=>{var _;d(Oo.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),jO.apply(this,arguments)}const qb=new Cf.Yd("@firebase/app-check");function XO(n,t){return(0,ci.hl)()?function uQ(n,t){return function AG(n,t){return jO.apply(this,arguments)}(function DG(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{qb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function kG(){return b1().enabled}function IG(){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,ot.Z)(function*(){const n=b1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ZO.apply(this,arguments)}const mQ={error:"UNKNOWN_ERROR"};function vQ(n){return ci.US.encodeString(JSON.stringify(n),!1)}function T1(n){return KO.apply(this,arguments)}function KO(){return KO=(0,ot.Z)(function*(n,t=!1){const e=n.app;CG(e);const i=Ar(e);let r,s=i.token;if(s&&!s_(s)&&(El(e,Object.assign(Object.assign({},i),{token:void 0})),s=void 0),!s){const p=yield i.cachedTokenPromise;p&&(s_(p)?s=p:yield XO(e,void 0))}if(!t&&s&&s_(s))return{token:s.token};let d,o=!1;if(kG()){i.exchangeTokenPromise||(i.exchangeTokenPromise=GO(oQ(e,yield IG()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const p=yield i.exchangeTokenPromise;return yield XO(e,p),El(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),s=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?qb.warn(p.message):qb.error(p),r=p}return s?r?d=s_(s)?{token:s.token,internalError:r}:PG(r):(d={token:s.token},El(e,Object.assign(Object.assign({},i),{token:s})),yield XO(e,s)):d=PG(r),o&&LG(e,d),d}),KO.apply(this,arguments)}function JO(n,t){const e=Ar(n),i=e.tokenObservers.filter(s=>s.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),El(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function MG(n){const{app:t}=n,e=Ar(t);let i=e.tokenRefresher;i||(i=function yQ(n){const{app:t}=n;return new tQ((0,ot.Z)(function*(){let i;if(i=Ar(t).token?yield T1(n,!0):yield T1(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ar(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),El(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function LG(n,t){const e=Ar(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function s_(n){return n.expireTimeMillis-Date.now()>0}function PG(n){return{token:vQ(mQ),error:n}}class _Q{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ar(this.app);for(const e of t)JO(this.app,e.next);return Promise.resolve()}}const zG="app-check-internal";!function PQ(){(0,Do._registerComponent)(new G0.wA("app-check",n=>function xQ(n,t){return new _Q(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(zG).initialize()})),(0,Do._registerComponent)(new G0.wA(zG,n=>function bQ(n){return{getToken:t=>T1(n,t),addTokenListener:t=>function QO(n,t,e,i){const{app:s}=n,r=Ar(s),o={next:e,error:i,type:t};if(El(s,Object.assign(Object.assign({},r),{tokenObservers:[...r.tokenObservers,o]})),r.token&&s_(r.token)){const d=r.token;Promise.resolve().then(()=>{e({token:d.token}),MG(n)}).catch(()=>{})}r.cachedTokenPromise.then(()=>MG(n))}(n,"INTERNAL",t),removeTokenListener:t=>JO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Do.registerVersion)("@firebase/app-check","0.5.16")}();class Zb{constructor(){return(0,Xi.vb)("app-check")}}typeof window<"u"&&window,ue(127);const GG=new g.OlP("angularfire2.auth.use-emulator"),WG=new g.OlP("angularfire2.auth.settings"),jG=new g.OlP("angularfire2.auth.tenant-id"),$G=new g.OlP("angularfire2.auth.langugage-code"),YG=new g.OlP("angularfire2.auth.use-device-language"),XG=new g.OlP("angularfire.auth.persistence"),qG=(n,t,e,i,s,r,o,d)=>(0,Mc.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=s,r&&p.useDeviceLanguage(),o)for(const[_,C]of Object.entries(o))p.settings[_]=C;return d&&p.setPersistence(d),p},[e,i,s,r,o,d]);let ZG=(()=>{class n{constructor(e,i,s,r,o,d,p,_,C,k,N,z){const W=new Pi.x,Q=Qt(void 0).pipe((0,_1.Q)(o.outsideAngular),$s(()=>r.runOutsideAngular(()=>Promise.resolve().then(ue.bind(ue,5881)))),(0,rn.U)(()=>(0,Mc.on)(e,r,i)),(0,rn.U)(K=>qG(K,r,d,_,C,k,p,N)),_G({bufferSize:1,refCount:!1}));if(Uo(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qt(null);else{Q.pipe(cc()).subscribe();const fe=Q.pipe($s(Ee=>Ee.getRedirectResult().then(De=>De,()=>null)),Xi.iC,_G({bufferSize:1,refCount:!1})),ve=Q.pipe($s(Ee=>new no.y(De=>({unsubscribe:r.runOutsideAngular(()=>Ee.onAuthStateChanged(Fe=>De.next(Fe),Fe=>De.error(Fe),()=>De.complete()))})))),Te=Q.pipe($s(Ee=>new no.y(De=>({unsubscribe:r.runOutsideAngular(()=>Ee.onIdTokenChanged(Fe=>De.next(Fe),Fe=>De.error(Fe),()=>De.complete()))}))));this.authState=fe.pipe(xG(ve),(0,BO.R)(o.outsideAngular),(0,_1.Q)(o.insideAngular)),this.user=fe.pipe(xG(Te),(0,BO.R)(o.outsideAngular),(0,_1.Q)(o.insideAngular)),this.idToken=this.user.pipe($s(Ee=>Ee?(0,Yn.D)(Ee.getIdToken()):Qt(null))),this.idTokenResult=this.user.pipe($s(Ee=>Ee?(0,Yn.D)(Ee.getIdTokenResult()):Qt(null))),this.credential=(0,vG.T)(fe,W,this.authState.pipe(Nr(Ee=>!Ee))).pipe((0,rn.U)(Ee=>Ee?.user?Ee:null),(0,BO.R)(o.outsideAngular),(0,_1.Q)(o.insideAngular))}return(0,Mc.pX)(this,Q,r,{spy:{apply:(K,fe,ve)=>{(K.startsWith("signIn")||K.startsWith("createUser"))&&ve.then(Te=>W.next(Te))}}})}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Mc.Dh),g.LFG(Mc.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Xi.HU),g.LFG(GG,8),g.LFG(WG,8),g.LFG(jG,8),g.LFG($G,8),g.LFG(YG,8),g.LFG(XG,8),g.LFG(Zb,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function KG(n,t){return function VQ(n,t=Gv.z){return new no.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function sR(n,t){return KG(n,t).pipe((0,rn.U)(e=>({payload:e,type:"query"})))}function E1(n,t){return sR(n,t).pipe(lc(void 0),$M(),(0,rn.U)(([e,i])=>{const s=i.payload.docChanges(),r=s.map(o=>({type:o.type,payload:o}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((o,d)=>{const p=s.find(C=>C.doc.ref.isEqual(o.ref)),_=e?.payload.docs.find(C=>C.ref.isEqual(o.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(o.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(o.metadata)||r.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:o}})}),r}))}function QG(n,t,e){return E1(n,e).pipe(Wp((i,s)=>function zQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function UQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return rR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return rR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return rR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,s.map(r=>r.payload),t),[]),Zx(),(0,rn.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function rR(n,t,e,...i){const s=n.slice();return s.splice(t,e,...i),s}function JG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class eW{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=E1(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,rn.U)(i=>i.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(lc(void 0),$M(),Nr(([i,s])=>s.length>0||!i),(0,rn.U)(([i,s])=>s),Xi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Wp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=JG(t);return QG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(t={}){return sR(this.query,this.afs.schedulers.outsideAngular).pipe((0,rn.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Xi.iC)}get(t){return(0,Yn.D)(this.query.get(t)).pipe(Xi.iC)}add(t){return this.ref.add(t)}doc(t){return new tW(this.ref.doc(t),this.afs)}}class tW{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:s,query:r}=nW(i,e);return new eW(s,r,this.afs)}snapshotChanges(){return function HQ(n,t){return KG(n,t).pipe(lc(void 0),$M(),(0,rn.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,rn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Yn.D)(this.ref.get(t)).pipe(Xi.iC)}}class GQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?E1(this.query,this.afs.schedulers.outsideAngular).pipe((0,rn.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Nr(e=>e.length>0),Xi.iC):E1(this.query,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Wp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=JG(t);return QG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(t={}){return sR(this.query,this.afs.schedulers.outsideAngular).pipe((0,rn.U)(i=>i.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),Xi.iC)}get(t){return(0,Yn.D)(this.query.get(t)).pipe(Xi.iC)}}const WQ=new g.OlP("angularfire2.enableFirestorePersistence"),jQ=new g.OlP("angularfire2.firestore.persistenceSettings"),$Q=new g.OlP("angularfire2.firestore.settings"),YQ=new g.OlP("angularfire2.firestore.use-emulator");function nW(n,t=(e=>e)){return{query:t(n),ref:n}}let XQ=(()=>{class n{constructor(e,i,s,r,o,d,p,_,C,k,N,z,W,Q,K,fe,ve){this.schedulers=p;const Te=(0,Mc.on)(e,d,i),Ee=C;k&&qG(Te,d,N,W,Q,K,z,fe),[this.firestore,this.persistenceEnabled$]=(0,Mc.cc)(`${Te.name}.firestore`,"AngularFirestore",Te.name,()=>{const De=d.runOutsideAngular(()=>Te.firestore());if(r&&De.settings(r),Ee&&De.useEmulator(...Ee),s&&!Uo(o)){const Fe=()=>{try{return(0,Yn.D)(De.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Qe){return typeof console<"u"&&console.warn(Qe),Qt(!1)}};return[De,d.runOutsideAngular(Fe)]}return[De,Qt(!1)]},[r,Ee,s])}collection(e,i){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:o}=nW(s,i),d=this.schedulers.ngZone.run(()=>r);return new eW(d,o,this)}collectionGroup(e,i){const s=i||(o=>o),r=this.firestore.collectionGroup(e);return new GQ(s(r),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>i);return new tW(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Mc.Dh),g.LFG(Mc.xv,8),g.LFG(WQ,8),g.LFG($Q,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Xi.HU),g.LFG(jQ,8),g.LFG(YQ,8),g.LFG(ZG,8),g.LFG(GG,8),g.LFG(WG,8),g.LFG(jG,8),g.LFG($G,8),g.LFG(YG,8),g.LFG(XG,8),g.LFG(Zb,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oR=(()=>{class n{constructor(e){this.firestore=e}getData(e,i){return this.firestore.collection("wmtscan-data",s=>s.orderBy("timestamp").startAt(e).endAt(i)).valueChanges()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(XQ))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qQ=(()=>{class n{constructor(e){this._aNodeData=e,this.chartID="main",this.daysBack=7,this.currentDay=!1,this.aspectRatio=2,this.lineTension=.2,this.dateFrom=Du().firstOfDay,this.destroy$=new Pi.x}ngOnInit(){this.dateFrom=tA(Du().firstOfDay,this.daysBack).objFormated,this.dateEndBefore=this.currentDay?jM():Du().firstOfDay,this._aNodeData.getData(this.dateFrom,this.dateEndBefore).pipe(wl(this.destroy$)).subscribe(e=>{this.chart.data.labels=e.map(i=>i.timestamp.slice(0,-3)),this.chart.data.datasets[0]={label:"Number of users",yAxisID:"yAxis0",type:"line",pointStyle:"dash",tension:this.lineTension,fill:!0,backgroundColor:"rgba(208, 27, 108, 0.15)",borderColor:"#FD7E14",data:e.map(i=>i.users)},this.chart.data.datasets[1]={label:"Network consumption [GB]",yAxisID:"yAxis1",type:"bar",backgroundColor:"rgba(90, 35, 149, 0.7)",data:e.map(i=>i.network_usage/1073741824)},this.chart.options.scales={yAxis0:{grid:{display:!1},position:"right",title:{display:!0,text:"Number of users connected to WMT network"},ticks:{font:{size:12}}},yAxis1:{grid:{display:!1},beginAtZero:!1,position:"left",title:{display:!0,text:"Network consumption [GB]"},ticks:{font:{size:12}}},x:{grid:{display:!1},ticks:{font:{size:10}}}},this.chart.update()})}ngAfterViewInit(){setTimeout(()=>{this.createChart()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}createChart(){eA.defaults.color="#fff",this.chart=new eA(this.chartID,{data:{labels:[],datasets:[]},options:{aspectRatio:this.aspectRatio,responsive:!0,maintainAspectRatio:!1}})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(oR))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-chart"]],inputs:{chartID:"chartID",daysBack:"daysBack",currentDay:"currentDay",aspectRatio:"aspectRatio",lineTension:"lineTension"},decls:4,vars:2,consts:[[1,"chart-container"],[3,"id"]],template:function(e,i){1&e&&(g.TgZ(0,"div")(1,"div",0)(2,"canvas",1),g._uU(3),g.qZA()()()),2&e&&(g.xp6(2),g.s9C("id",i.chartID),g.xp6(1),g.Oqu(i.chart))},styles:["canvas[_ngcontent-%COMP%]{width:100%!important}.button-box[_ngcontent-%COMP%]{padding:16px 16px 0;border:1px solid yellow;display:flex;justify-content:flex-end}"]}),n})();const ZQ=["*"];let KQ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-card"]],inputs:{title:"title"},ngContentSelectors:ZQ,decls:6,vars:1,consts:[[1,"dashboard-card"],[1,"dashboard-card-content"]],template:function(e,i){1&e&&(g.F$t(),g.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),g._uU(3),g.qZA()(),g.TgZ(4,"mat-card-content",1),g.Hsn(5),g.qZA()()),2&e&&(g.xp6(3),g.hij(" ",i.title," "))},dependencies:[u0,tT,Fd,zI],styles:[".dashboard-card[_ngcontent-%COMP%]{background-color:#191919}"]}),n})();const QQ=n=>{let t=0;for(let e=0;e<n.length;e++)t+=n[e];return t/n.length},JQ=n=>{const{length:t}=n;return n.sort((e,i)=>e-i),t%2==0?(n[t/2-1]+n[t/2])/2:n[(t-1)/2]},aR=["#00009a","#0200ad","#0000bc","#0000cf","#0000de","#0401ee","#0000fe","#000fff","#001ffe","#022eff","#003fff","#004eff","#005ffe","#0071fe","#0185fd","#0298ff","#02acff","#00bfff","#03cfff","#02dfff","#00effc","#01ffff","#0fffee","#1fffdd","#30fece","#3dffbf","#4ffeaf","#5ffe9d","#71fe8e","#85fe77","#97fe67","#aaff50","#beff41","#cfff2e","#e0ff1f","#eeff0b","#ffff01","#fdef01","#ffdf00","#ffcf00","#fcbf00","#ffaf00","#fea002","#ff8f00","#fe8000","#fd6802","#fc5501","#ff4000","#fe2f02","#ff1e00","#ff0e02","#fe0000","#ec0100","#de0101","#cf0000","#be0002","#ae0001","#a00000","#8e0100","#790304"];function eJ(n,t){let e=[],i=(t-n)/aR.length,s=aR.map((r,o)=>n+i*o);for(let r=0;r<s.length-1;r++)e.push({from:s[r],to:s[r+1],color:aR[r]});return e}let tJ=(()=>{class n{constructor(e){this._aNodeData=e,this.daysBack=7,this.currentDay=!0,this.aspectRatio=2,this.dataType="users",this.dateFrom=Du().firstOfDay,this.uniqDateArray=[],this.groupDateData={},this.chartLineColor=["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#FF10F0"],this.destroy$=new Pi.x}ngOnInit(){this.uniqDateArray=[],this.dateFrom=tA(Du().firstOfDay,this.daysBack).objFormated,this.dateEnd=this.currentDay?jM():Du().firstOfDay,this._aNodeData.getData(this.dateFrom,this.dateEnd).pipe(wl(this.destroy$)).subscribe(e=>{e.map(i=>{i.timestamp.slice(0,10)!=this.uniqDateArray[this.uniqDateArray.length-1]&&this.uniqDateArray.push(i.timestamp.slice(0,10)),this.totalDataList=e.map(s=>"users"==this.dataType?s.users:"network"==this.dataType?s.network_usage/1073741824:s.airnodes)}),this.uniqDateArray.map(i=>{this.groupDateData[i]=e.filter(({timestamp:s})=>s.slice(0,10)==i)}),this.chart.data.labels=this.groupDateData[this.dateFrom.slice(0,10)].map(i=>i.timestamp.slice(10,19)),this.uniqDateArray.forEach((i,s)=>{this.chart.data.datasets[s]={label:s!=this.uniqDateArray.length-1?i:`Today ${i}`,borderWidth:s!=this.uniqDateArray.length-1?.75*(s+1):8,type:"line",pointStyle:"dash",tension:.4,fill:!1,borderColor:7==s?"#08f7fe":this.chartLineColor[s],data:this.groupDateData[i].map(r=>"users"==this.dataType?r.users:"network"==this.dataType?r.network_usage/1073741824:r.airnodes)}}),this.chart.data.datasets[this.uniqDateArray.length]={label:"Weekly Mean",borderWidth:2,type:"line",pointStyle:"dash",tension:.4,fill:!1,borderColor:"#9CFF2E",data:Array(96).fill(QQ(this.totalDataList)),borderDash:[20,20]},this.chart.data.datasets[this.uniqDateArray.length+1]={label:"Weekly Median",borderWidth:2,type:"line",pointStyle:"dash",tension:.4,fill:!1,borderColor:"#FFFF00",data:Array(96).fill(JQ(this.totalDataList)),borderDash:[20,20]},this.chart.data.datasets[this.uniqDateArray.length+2]={label:"Weekly Max",borderWidth:1,type:"line",pointStyle:"dash",tension:.4,fill:!1,borderColor:"red",data:Array(96).fill(Math.max(...this.totalDataList)),borderDash:[10,10]},this.chart.data.datasets[this.uniqDateArray.length+3]={label:"Weekly Min",borderWidth:1,type:"line",pointStyle:"dash",tension:.4,fill:!1,borderColor:"blue",data:Array(96).fill(Math.min(...this.totalDataList)),borderDash:[10,10]},this.chart.update()})}ngAfterViewInit(){setTimeout(()=>{this.createChart()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}createChart(){eA.defaults.color="#fff",this.chart=new eA(this.chartID,{data:{labels:[],datasets:[]},options:{aspectRatio:this.aspectRatio,responsive:!0,maintainAspectRatio:!1}})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(oR))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-comp-chart"]],inputs:{chartID:"chartID",daysBack:"daysBack",currentDay:"currentDay",aspectRatio:"aspectRatio",dataType:"dataType"},decls:4,vars:2,consts:[[1,"chart-container"],[3,"id"]],template:function(e,i){1&e&&(g.TgZ(0,"div")(1,"div",0)(2,"canvas",1),g._uU(3),g.qZA()()()),2&e&&(g.xp6(2),g.s9C("id",i.chartID),g.xp6(1),g.Oqu(i.chart))},styles:["canvas[_ngcontent-%COMP%]{width:100%!important}"]}),n})();var iW=ue(4408);let lR,nJ=1;const D1={};function sW(n){return n in D1&&(delete D1[n],!0)}const iJ={setImmediate(n){const t=nJ++;return D1[t]=!0,lR||(lR=Promise.resolve()),lR.then(()=>sW(t)&&n()),t},clearImmediate(n){sW(n)}},{setImmediate:sJ,clearImmediate:rJ}=iJ,k1={setImmediate(...n){const{delegate:t}=k1;return(t?.setImmediate||sJ)(...n)},clearImmediate(n){const{delegate:t}=k1;return(t?.clearImmediate||rJ)(n)},delegate:void 0};var rW=ue(7565);const oW=new class aJ extends rW.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class oJ extends iW.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=k1.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:r}=t;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(k1.clearImmediate(e),t._scheduled=void 0)}});var aW=ue(3597);const lJ=["chart"];let lW=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnChanges(e){oW.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.forecastDataPoints&&(e.forecastDataPoints=this.forecastDataPoints),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new aW(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,s,r){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,s,r))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,s))}addYaxisAnnotation(e,i,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,s))}addPointAnnotation(e,i,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,s))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.R0b))},n.\u0275cmp=g.Xpm({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&g.Gf(lJ,7),2&e){let s;g.iGM(s=g.CRH())&&(i.chartElement=s.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[g.TTD],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&g._UZ(0,"div",null,0)},changeDetection:0}),n})();window.ApexCharts=aW;let cJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[]]}),n})();const uJ=["chart"];let dJ=(()=>{class n{constructor(e){this._aNodeData=e,this.daysBack=7,this.currentDay=!0,this.dataType="users",this.dateFrom=Du().firstOfDay,this.uniqDateArray=[],this.groupDateData={},this.heatDataSeries=[],this.destroy$=new Pi.x,this.chartOptions={}}ngOnInit(){this.uniqDateArray=[],this.dateFrom=tA(Du().firstOfDay,this.daysBack).objFormated,this.dateEnd=this.currentDay?jM():Du().firstOfDay,this._aNodeData.getData(tA(this.dateFrom,1).last,this.dateEnd).pipe(wl(this.destroy$)).subscribe(e=>{this.totalDataList=[],this.newOgDataArray=[],this.uniqDateArray=[],e.map((i,s,r)=>{0!=s&&(this.newOgDataArray.push({airnodes:i.airnodes,timestamp:i.timestamp,network_usage:(r[s].network_usage-r[s-1].network_usage)/r[s-1].network_usage*100,users:(r[s].users-r[s-1].users)/r[s-1].users*100}),"users"==this.dataType?this.totalDataList.push((r[s].users-r[s-1].users)/r[s-1].users*100):"network"==this.dataType&&this.totalDataList.push((r[s].network_usage-r[s-1].network_usage)/r[s-1].network_usage*100))}),this.newOgDataArray.map(i=>{i.timestamp.slice(0,10)!=this.uniqDateArray[this.uniqDateArray.length-1]&&this.uniqDateArray.push(i.timestamp.slice(0,10))}),this.heatDataSeries=[],this.uniqDateArray.map(i=>{this.groupDateData[i]=this.newOgDataArray.filter(({timestamp:s})=>s.slice(0,10)==i),this.heatDataSeries.push({name:i.toString(),data:this.groupDateData[i].map(s=>({x:s.timestamp.slice(11,16),y:"users"==this.dataType?s.users:"network"==this.dataType?s.network_usage:0}))})}),this.maxTotalData=Math.max(...this.totalDataList),this.minTotalData=Math.min(...this.totalDataList),this.chartOptions={chart:{height:500,type:"heatmap"},dataLabels:{enabled:!1},grid:{show:!1,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},plotOptions:{heatmap:{shadeIntensity:.5,distributed:!0,colorScale:{ranges:eJ(this.minTotalData,this.maxTotalData)}}},legend:{show:!1},series:this.heatDataSeries,title:{text:"HeatMap Chart with Color Range"}}})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(oR))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-heatmap"]],viewQuery:function(e,i){if(1&e&&g.Gf(uJ,5),2&e){let s;g.iGM(s=g.CRH())&&(i.chart=s.first)}},inputs:{daysBack:"daysBack",currentDay:"currentDay",dataType:"dataType"},decls:2,vars:8,consts:[["id","chart"],[3,"chart","colors","dataLabels","grid","legend","plotOptions","series","title"]],template:function(e,i){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"apx-chart",1),g.qZA()),2&e&&(g.xp6(1),g.Q6J("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("dataLabels",i.chartOptions.dataLabels)("grid",i.chartOptions.grid)("legend",i.chartOptions.legend)("plotOptions",i.chartOptions.plotOptions)("series",i.chartOptions.series)("title",i.chartOptions.title))},dependencies:[lW]}),n})(),cW=(()=>{class n{constructor(e){this._dateCalc=e,this.mainChartTitle="Users and Network Consumption [GB]. Central European Time (CET) ",this.chartCurrentDayTitle="24h Current Day. User and Network Consumption [GB].  "+this._dateCalc.getNowTimeStamp().standard,this.chartPreviousDayTitle="24h Previous Day. User and Network Consumption [GB].  "+this._dateCalc.getPreviousDay(this._dateCalc.getNowTimeStamp().noHour,1).title}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(iT))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-dashboard"]],decls:18,vars:25,consts:[[1,"main-cards"],[1,"card1",3,"title"],["chartID","main",3,"daysBack","currentDay","aspectRatio","lineTension"],[1,"column"],[1,"card2",3,"title"],["chartID","previous",3,"daysBack","currentDay","aspectRatio","lineTension"],[1,"card3",3,"title"],["chartID","current",3,"daysBack","currentDay","aspectRatio","lineTension"],[1,"comp-box"],["title","Weekly Comparison Unique Users 24h GMT+0100",1,"card4"],["chartID","comp","dataType","users",3,"daysBack","currentDay","aspectRatio"],["title","Weekly Comparison Network Usage 24h GMT+0100",1,"card5"],["chartID","net-comp","dataType","network",3,"daysBack","currentDay","aspectRatio"],[1,"heat-box"],["title","Heatmap Last 10 days 24h Unique Users 24h GMT+0100",1,"card6"],["dataType","users",3,"daysBack","currentDay"],["title","Heatmap Last 10 days Network Usage 24h GMT+0100",1,"card7"],["dataType","network",3,"daysBack","currentDay"]],template:function(e,i){1&e&&(g.TgZ(0,"div",0)(1,"app-card",1),g._UZ(2,"app-chart",2),g.qZA(),g.TgZ(3,"div",3)(4,"app-card",4),g._UZ(5,"app-chart",5),g.qZA(),g.TgZ(6,"app-card",6),g._UZ(7,"app-chart",7),g.qZA()(),g.TgZ(8,"div",8)(9,"app-card",9),g._UZ(10,"app-comp-chart",10),g.qZA(),g.TgZ(11,"app-card",11),g._UZ(12,"app-comp-chart",12),g.qZA()(),g.TgZ(13,"div",13)(14,"app-card",14),g._UZ(15,"app-heatmap",15),g.qZA(),g.TgZ(16,"app-card",16),g._UZ(17,"app-heatmap",17),g.qZA()()()),2&e&&(g.xp6(1),g.s9C("title",i.mainChartTitle),g.xp6(1),g.Q6J("daysBack",20)("currentDay",!0)("aspectRatio",3)("lineTension",.6),g.xp6(2),g.s9C("title",i.chartPreviousDayTitle),g.xp6(1),g.Q6J("daysBack",1)("currentDay",!1)("aspectRatio",2)("lineTension",.3),g.xp6(1),g.MGl("title"," ",i.chartCurrentDayTitle,""),g.xp6(1),g.Q6J("daysBack",0)("currentDay",!0)("aspectRatio",2)("lineTension",.3),g.xp6(3),g.Q6J("daysBack",7)("currentDay",!0)("aspectRatio",1.3),g.xp6(2),g.Q6J("daysBack",7)("currentDay",!0)("aspectRatio",1.3),g.xp6(3),g.Q6J("daysBack",10)("currentDay",!0),g.xp6(2),g.Q6J("daysBack",10)("currentDay",!0))},dependencies:[qQ,KQ,tJ,dJ],styles:[".main-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:linear-gradient(124deg,rgb(208,27,108) 0%,rgb(243,130,32) 14%,rgb(83,44,124) 100%)}.card1[_ngcontent-%COMP%]{padding:16px;height:100%}.column[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:16px}.card2[_ngcontent-%COMP%]{width:48vw;padding-left:16px;padding-right:8px}.card3[_ngcontent-%COMP%]{padding-right:16px;padding-left:8px;width:48vw}.comp-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:16px}.card4[_ngcontent-%COMP%]{width:100%;padding:0 8px 0 16px}.card5[_ngcontent-%COMP%]{width:100%;padding:0 16px 0 8px}.heat-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:0 16px 16px}.card6[_ngcontent-%COMP%]{width:100%}.card7[_ngcontent-%COMP%]{padding-top:16px;width:100%}"]}),n})();const hJ=[{path:"dashboard",component:cW},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:cW},{path:"about",component:d0}];let fJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Vx.forRoot(hJ),Vx]}),n})();const uW_firebase={locationId:"us-central",apiKey:"AIzaSyDf5mKOuej0JbqbIGFgrB5Yt6c38XwDREQ",authDomain:"wmtdata-scraper.firebaseapp.com",projectId:"wmtdata-scraper",storageBucket:"wmtdata-scraper.appspot.com",messagingSenderId:"1094634279342",appId:"1:1094634279342:web:77cc62cb07559511f6383f",measurementId:"G-TZ2FLZ4366"};ue(8247);class uR{constructor(){return(0,Xi.vb)("auth")}}class hR{constructor(t){return t}}const hW="firestore",fR=new g.OlP("angularfire2.firestore-instances");function _J(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new hR(i)}}const xJ={provide:class vJ{constructor(){return(0,Xi.vb)(hW)}},deps:[[new g.FiY,fR]]},bJ={provide:hR,useFactory:function yJ(n,t){const e=(0,Xi.JM)(hW,n,t);return e&&new hR(e)},deps:[[new g.FiY,fR],gm]};let wJ=(()=>{class n{constructor(){(0,x1.KN)("angularfire",Xi.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[bJ,xJ]}),n})();function CJ(n,...t){return{ngModule:wJ,providers:[{provide:fR,useFactory:_J(n),multi:!0,deps:[g.R0b,g.zs3,Xi.HU,VO,[new g.FiY,uR],[new g.FiY,Zb],...t]}]}}const SJ=(0,Xi.u3)(G9,!0),fW="firebasestorage.googleapis.com";class Vs extends ci.ZR{constructor(t,e,i=0){super(pR(t),`Firebase Storage: ${e} (${pR(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return pR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function pR(n){return"storage/"+n}function mR(n){return new Vs("invalid-argument",n)}function yW(){return new Vs("app-deleted","The Firebase app was deleted.")}class Ro{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ro.makeFromUrl(t,e)}catch{return new Ro(t,"")}if(""===i.path)return i;throw function OJ(n){return new Vs("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+s+"(/(.*))?$","i");function _(Ee){Ee.path_=decodeURIComponent(Ee.path)}const k=e.replace(/[.]/g,"\\."),Te=[{regex:d,indices:{bucket:1,path:3},postModify:function r(Ee){"/"===Ee.path.charAt(Ee.path.length-1)&&(Ee.path_=Ee.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===fW?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Ee=0;Ee<Te.length;Ee++){const De=Te[Ee],Fe=De.regex.exec(t);if(Fe){let yt=Fe[De.indices.path];yt||(yt=""),i=new Ro(Fe[De.indices.bucket],yt),De.postModify(i);break}}if(null==i)throw function PJ(n){return new Vs("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class VJ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function yR(n,t,e,i){if(i<t)throw mR(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw mR(`Invalid value for '${n}'. Expected ${e} or less.`)}var Gf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Gf||(Gf={})),Gf))();class jJ{constructor(t,e,i,s,r,o,d,p,_,C,k,N=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=C,this.connectionFactory_=k,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,W)=>{this.resolve_=z,this.reject_=W,this.start_()})}start_(){const e=(i,s)=>{const r=this.resolve_,o=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function UJ(n){return void 0!==n}(p)?r():r(p)}catch(p){o(p)}else if(null!==d){const p=function gR(){return new Vs("unknown","An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=d.getErrorText(),o(this.errorCallback_?this.errorCallback_(d,p):p)}else o(s.canceled?this.appDelete_?yW():function mW(){return new Vs("canceled","User canceled the upload/download.")}():function gW(){return new Vs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new M1(!1,null,!0)):this.backoffId_=function HJ(n,t,e){let i=1,s=null,r=null,o=!1,d=0;function p(){return 2===d}let _=!1;function C(...K){_||(_=!0,t.apply(null,K))}function k(K){s=setTimeout(()=>{s=null,n(z,p())},K)}function N(){r&&clearTimeout(r)}function z(K,...fe){if(_)return void N();if(K)return N(),void C.call(null,K,...fe);if(p()||o)return N(),void C.call(null,K,...fe);let Te;i<64&&(i*=2),1===d?(d=2,Te=0):Te=1e3*(i+Math.random()),k(Te)}let W=!1;function Q(K){W||(W=!0,N(),!_&&(null!==s?(K||(d=2),clearTimeout(s),k(0)):K||(d=1)))}return k(0),r=setTimeout(()=>{o=!0,Q(!0)},e),Q}((i,s)=>{if(s)return void i(!1,new M1(!1,null,!0));const r=this.connectionFactory_();this.pendingConnection_=r;const o=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const d=r.getErrorCode()===Gf.NO_ERROR,p=r.getStatus();if((!d||function bW(n,t){const e=n>=500&&n<600,s=-1!==[408,429].indexOf(n),r=-1!==t.indexOf(n);return e||s||r}(p,this.additionalRetryCodes_))&&this.retry){const C=r.getErrorCode()===Gf.ABORT;return void i(!1,new M1(!1,null,C))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new M1(_,r))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function zJ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class M1{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}class mm{constructor(t,e){this._service=t,this._location=e instanceof Ro?e:Ro.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new mm(t,e)}get root(){const t=new Ro(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function AW(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const t=function ree(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ro(this._location.bucket,t);return new mm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function BJ(n){return new Vs("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function zW(n,t){const e=t?.storageBucket;return null==e?null:Ro.makeFromBucketSpec(e,n)}class TR{constructor(t,e,i,s,r){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=fW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Ro.makeFromBucketSpec(s,this._host):zW(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ro.makeFromBucketSpec(this._url,t):zW(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ot.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ot.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mm(this,t)}_makeRequest(t,e,i,s,r=!0){if(this._deleted)return new VJ(yW());{const o=function ZJ(n,t,e,i,s,r,o=!0){const d=function xW(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function XJ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function $J(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function YJ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(_,r),function qJ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new jJ(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,o)}(t,this._appId,i,s,e,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ot.Z)(function*(){const[s,r]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,s,r).getPromise()})()}}const UW="@firebase/storage",WW="storage";function Wee(n=(0,Do.getApp)(),t){n=(0,ci.m9)(n);const i=(0,Do._getProvider)(n,WW).getImmediate({identifier:t}),s=(0,ci.P0)("storage");return s&&function jee(n,t,e,i={}){!function Gee(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken="string"==typeof s?s:(0,ci.Sg)(s,n.app.options.projectId))}(n,t,e,i)}(i,...s),i}function $ee(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new TR(e,i,s,t,Do.SDK_VERSION)}!function Yee(){(0,Do._registerComponent)(new G0.wA(WW,$ee,"PUBLIC").setMultipleInstances(!0)),(0,Do.registerVersion)(UW,"0.9.13",""),(0,Do.registerVersion)(UW,"0.9.13","esm2017")}();class AR{constructor(t){return t}}const jW="storage",ER=new g.OlP("angularfire2.storage-instances");function Zee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new AR(i)}}const Kee={provide:class Xee{constructor(){return(0,Xi.vb)(jW)}},deps:[[new g.FiY,ER]]},Qee={provide:AR,useFactory:function qee(n,t){const e=(0,Xi.JM)(jW,n,t);return e&&new AR(e)},deps:[[new g.FiY,ER],gm]};let Jee=(()=>{class n{constructor(){(0,x1.KN)("angularfire",Xi.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[Qee,Kee]}),n})();function ete(n,...t){return{ngModule:Jee,providers:[{provide:ER,useFactory:Zee(n),multi:!0,deps:[g.R0b,g.zs3,Xi.HU,VO,[new g.FiY,uR],[new g.FiY,Zb],...t]}]}}const tte=(0,Xi.u3)(Wee,!0);var nte=ue(655);class DR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class $W extends DR{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class ite extends DR{constructor(t,e,i,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ste extends DR{constructor(t){super(),this.element=t instanceof g.SBq?t.nativeElement:t}}class YW extends class rte{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof $W?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ite?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ste?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=o=>{const d=o.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector||g.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ote=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();var ate=ue(1144);const lte=["addListener","removeListener"],cte=["addEventListener","removeEventListener"],ute=["on","off"];function R1(n,t,e,i){if((0,fl.m)(e)&&(i=e,e=void 0),i)return R1(n,t,e).pipe(j_(i));const[s,r]=function fte(n){return(0,fl.m)(n.addEventListener)&&(0,fl.m)(n.removeEventListener)}(n)?cte.map(o=>d=>n[o](t,d,e)):function dte(n){return(0,fl.m)(n.addListener)&&(0,fl.m)(n.removeListener)}(n)?lte.map(XW(n,t)):function hte(n){return(0,fl.m)(n.on)&&(0,fl.m)(n.off)}(n)?ute.map(XW(n,t)):[];if(!s&&(0,ate.z)(n))return(0,_r.z)(o=>R1(o,t,e))((0,md.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new no.y(o=>{const d=(...p)=>o.next(1<p.length?p:p[0]);return s(d),()=>r(d)})}function XW(n,t){return e=>i=>n[e](t,i)}function pte(){}function kR(n){return null==n?pte:function(){return this.querySelector(n)}}function qW(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function mte(){return[]}function ZW(n){return null==n?mte:function(){return this.querySelectorAll(n)}}function KW(n){return function(){return this.matches(n)}}function QW(n){return function(t){return t.matches(n)}}var _te=Array.prototype.find;function bte(){return this.firstElementChild}var Cte=Array.prototype.filter;function Ste(){return this.children}function JW(n){return new Array(n.length)}function F1(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function kte(n){return function(){return n}}function Ite(n,t,e,i,s,r){for(var d,o=0,p=t.length,_=r.length;o<_;++o)(d=t[o])?(d.__data__=r[o],i[o]=d):e[o]=new F1(n,r[o]);for(;o<p;++o)(d=t[o])&&(s[o]=d)}function Mte(n,t,e,i,s,r,o){var d,p,z,_=new Map,C=t.length,k=r.length,N=new Array(C);for(d=0;d<C;++d)(p=t[d])&&(N[d]=z=o.call(p,p.__data__,d,t)+"",_.has(z)?s[d]=p:_.set(z,p));for(d=0;d<k;++d)z=o.call(n,r[d],d,r)+"",(p=_.get(z))?(i[d]=p,p.__data__=r[d],_.delete(z)):e[d]=new F1(n,r[d]);for(d=0;d<C;++d)(p=t[d])&&_.get(N[d])===p&&(s[d]=p)}function Lte(n){return n.__data__}function Vte(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}F1.prototype={constructor:F1,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var IR="http://www.w3.org/1999/xhtml";const ej={svg:"http://www.w3.org/2000/svg",xhtml:IR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function N1(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),ej.hasOwnProperty(t)?{space:ej[t],local:n}:n}function $te(n){return function(){this.removeAttribute(n)}}function Yte(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Xte(n,t){return function(){this.setAttribute(n,t)}}function qte(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Zte(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function Kte(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function tj(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Jte(n){return function(){this.style.removeProperty(n)}}function ene(n,t,e){return function(){this.style.setProperty(n,t,e)}}function tne(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function a_(n,t){return n.style.getPropertyValue(t)||tj(n).getComputedStyle(n,null).getPropertyValue(t)}function ine(n){return function(){delete this[n]}}function sne(n,t){return function(){this[n]=t}}function rne(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function nj(n){return n.trim().split(/^|\s+/)}function MR(n){return n.classList||new ij(n)}function ij(n){this._node=n,this._names=nj(n.getAttribute("class")||"")}function sj(n,t){for(var e=MR(n),i=-1,s=t.length;++i<s;)e.add(t[i])}function rj(n,t){for(var e=MR(n),i=-1,s=t.length;++i<s;)e.remove(t[i])}function ane(n){return function(){sj(this,n)}}function lne(n){return function(){rj(this,n)}}function cne(n,t){return function(){(t.apply(this,arguments)?sj:rj)(this,n)}}function dne(){this.textContent=""}function hne(n){return function(){this.textContent=n}}function fne(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function gne(){this.innerHTML=""}function mne(n){return function(){this.innerHTML=n}}function vne(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function _ne(){this.nextSibling&&this.parentNode.appendChild(this)}function bne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cne(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===IR&&t.documentElement.namespaceURI===IR?t.createElement(n):t.createElementNS(e,n)}}function Sne(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function oj(n){var t=N1(n);return(t.local?Sne:Cne)(t)}function Ane(){return null}function Dne(){var n=this.parentNode;n&&n.removeChild(this)}function Ine(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Mne(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Rne(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function Fne(n){return function(){var t=this.__on;if(t){for(var r,e=0,i=-1,s=t.length;e<s;++e)r=t[e],n.type&&r.type!==n.type||r.name!==n.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function Nne(n,t,e){return function(){var s,i=this.__on,r=function One(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,d=i.length;o<d;++o)if((s=i[o]).type===n.type&&s.name===n.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=e),void(s.value=t);this.addEventListener(n.type,r,e),s={type:n.type,name:n.name,value:t,listener:r,options:e},i?i.push(s):this.__on=[s]}}function aj(n,t,e){var i=tj(n),s=i.CustomEvent;"function"==typeof s?s=new s(t,e):(s=i.document.createEvent("Event"),e?(s.initEvent(t,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(t,!1,!1)),n.dispatchEvent(s)}function Vne(n,t){return function(){return aj(this,n,t)}}function Hne(n,t){return function(){return aj(this,n,t.apply(this,arguments))}}ij.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var lj=[null];function ua(n,t){this._groups=n,this._parents=t}function cj(){return new ua([[document.documentElement]],lj)}ua.prototype=cj.prototype={constructor:ua,select:function gte(n){"function"!=typeof n&&(n=kR(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var p,_,r=t[s],o=r.length,d=i[s]=new Array(o),C=0;C<o;++C)(p=r[C])&&(_=n.call(p,p.__data__,C,r))&&("__data__"in p&&(_.__data__=p.__data__),d[C]=_);return new ua(i,this._parents)},selectAll:function yte(n){n="function"==typeof n?function vte(n){return function(){var t=n.apply(this,arguments);return null==t?[]:qW(t)}}(n):ZW(n);for(var t=this._groups,e=t.length,i=[],s=[],r=0;r<e;++r)for(var p,o=t[r],d=o.length,_=0;_<d;++_)(p=o[_])&&(i.push(n.call(p,p.__data__,_,o)),s.push(p));return new ua(i,s)},selectChild:function wte(n){return this.select(null==n?bte:function xte(n){return function(){return _te.call(this.children,n)}}("function"==typeof n?n:QW(n)))},selectChildren:function Ate(n){return this.selectAll(null==n?Ste:function Tte(n){return function(){return Cte.call(this.children,n)}}("function"==typeof n?n:QW(n)))},filter:function Ete(n){"function"!=typeof n&&(n=KW(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var p,r=t[s],o=r.length,d=i[s]=[],_=0;_<o;++_)(p=r[_])&&n.call(p,p.__data__,_,r)&&d.push(p);return new ua(i,this._parents)},data:function Pte(n,t){if(!arguments.length)return Array.from(this,Lte);var e=t?Mte:Ite,i=this._parents,s=this._groups;"function"!=typeof n&&(n=kte(n));for(var r=s.length,o=new Array(r),d=new Array(r),p=new Array(r),_=0;_<r;++_){var C=i[_],k=s[_],N=k.length,z=qW(n.call(C,C&&C.__data__,_,i)),W=z.length,Q=d[_]=new Array(W),K=o[_]=new Array(W),fe=p[_]=new Array(N);e(C,k,Q,K,fe,z,t);for(var Ee,De,ve=0,Te=0;ve<W;++ve)if(Ee=Q[ve]){for(ve>=Te&&(Te=ve+1);!(De=K[Te])&&++Te<W;);Ee._next=De||null}}return(o=new ua(o,i))._enter=d,o._exit=p,o},enter:function Dte(){return new ua(this._enter||this._groups.map(JW),this._parents)},exit:function Ote(){return new ua(this._exit||this._groups.map(JW),this._parents)},join:function Rte(n,t,e){var i=this.enter(),s=this,r=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=t&&(s=t(s)),null==e?r.remove():e(r),i&&s?i.merge(s).order():s},merge:function Fte(n){if(!(n instanceof ua))throw new Error("invalid merge");for(var t=this._groups,e=n._groups,i=t.length,r=Math.min(i,e.length),o=new Array(i),d=0;d<r;++d)for(var N,p=t[d],_=e[d],C=p.length,k=o[d]=new Array(C),z=0;z<C;++z)(N=p[z]||_[z])&&(k[z]=N);for(;d<i;++d)o[d]=t[d];return new ua(o,this._parents)},selection:function Gne(){return this},order:function Nte(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],s=i.length-1,r=i[s];--s>=0;)(o=i[s])&&(r&&4^o.compareDocumentPosition(r)&&r.parentNode.insertBefore(o,r),r=o);return this},sort:function Bte(n){function t(k,N){return k&&N?n(k.__data__,N.__data__):!k-!N}n||(n=Vte);for(var e=this._groups,i=e.length,s=new Array(i),r=0;r<i;++r){for(var _,o=e[r],d=o.length,p=s[r]=new Array(d),C=0;C<d;++C)(_=o[C])&&(p[C]=_);p.sort(t)}return new ua(s,this._parents).order()},call:function Hte(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function zte(){return Array.from(this)},node:function Ute(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],s=0,r=i.length;s<r;++s){var o=i[s];if(o)return o}return null},size:function Gte(){let n=0;for(const t of this)++n;return n},empty:function Wte(){return!this.node()},each:function jte(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var d,s=t[e],r=0,o=s.length;r<o;++r)(d=s[r])&&n.call(d,d.__data__,r,s);return this},attr:function Qte(n,t){var e=N1(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?Yte:$te:"function"==typeof t?e.local?Kte:Zte:e.local?qte:Xte)(e,t))},style:function nne(n,t,e){return arguments.length>1?this.each((null==t?Jte:"function"==typeof t?tne:ene)(n,t,e??"")):a_(this.node(),n)},property:function one(n,t){return arguments.length>1?this.each((null==t?ine:"function"==typeof t?rne:sne)(n,t)):this.node()[n]},classed:function une(n,t){var e=nj(n+"");if(arguments.length<2){for(var i=MR(this.node()),s=-1,r=e.length;++s<r;)if(!i.contains(e[s]))return!1;return!0}return this.each(("function"==typeof t?cne:t?ane:lne)(e,t))},text:function pne(n){return arguments.length?this.each(null==n?dne:("function"==typeof n?fne:hne)(n)):this.node().textContent},html:function yne(n){return arguments.length?this.each(null==n?gne:("function"==typeof n?vne:mne)(n)):this.node().innerHTML},raise:function xne(){return this.each(_ne)},lower:function wne(){return this.each(bne)},append:function Tne(n){var t="function"==typeof n?n:oj(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function Ene(n,t){var e="function"==typeof n?n:oj(n),i=null==t?Ane:"function"==typeof t?t:kR(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function kne(){return this.each(Dne)},clone:function Lne(n){return this.select(n?Mne:Ine)},datum:function Pne(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Bne(n,t,e){var s,o,i=Rne(n+""),r=i.length;if(!(arguments.length<2)){for(d=t?Nne:Fne,s=0;s<r;++s)this.each(d(i[s],t,e));return this}var d=this.node().__on;if(d)for(var C,p=0,_=d.length;p<_;++p)for(s=0,C=d[p];s<r;++s)if((o=i[s]).type===C.type&&o.name===C.name)return C.value},dispatch:function zne(n,t){return this.each(("function"==typeof t?Hne:Vne)(n,t))},[Symbol.iterator]:function*Une(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],s=0,r=i.length;s<r;++s)(o=i[s])&&(yield o)}};const tw=cj;var Wne={value:()=>{}};function uj(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new B1(e)}function B1(n){this._=n}function jne(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}function $ne(n,t){for(var s,e=0,i=n.length;e<i;++e)if((s=n[e]).name===t)return s.value}function dj(n,t,e){for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n[i]=Wne,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}B1.prototype=uj.prototype={constructor:B1,on:function(n,t){var s,e=this._,i=jne(n+"",e),r=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<o;)if(s=(n=i[r]).type)e[s]=dj(e[s],n.name,t);else if(null==t)for(s in e)e[s]=dj(e[s],n.name,null);return this}for(;++r<o;)if((s=(n=i[r]).type)&&(s=$ne(e[s],n.name)))return s},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new B1(n)},call:function(n,t){if((s=arguments.length-2)>0)for(var s,r,e=new Array(s),i=0;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,s=(r=this._[n]).length;i<s;++i)r[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,r=i.length;s<r;++s)i[s].value.apply(t,e)}};const hj=uj;function PR(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function fj(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function nw(){}var V1=1/.7,l_="\\s*([+-]?\\d+)\\s*",sw="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qne=/^#([0-9a-f]{3,8})$/,Zne=new RegExp("^rgb\\("+[l_,l_,l_]+"\\)$"),Kne=new RegExp("^rgb\\("+[Bu,Bu,Bu]+"\\)$"),Qne=new RegExp("^rgba\\("+[l_,l_,l_,sw]+"\\)$"),Jne=new RegExp("^rgba\\("+[Bu,Bu,Bu,sw]+"\\)$"),eie=new RegExp("^hsl\\("+[sw,Bu,Bu]+"\\)$"),tie=new RegExp("^hsla\\("+[sw,Bu,Bu,sw]+"\\)$"),pj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gj(){return this.rgb().formatHex()}function mj(){return this.rgb().formatRgb()}function vm(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=qne.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?vj(t):3===e?new Ea(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?H1(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?H1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Zne.exec(n))?new Ea(t[1],t[2],t[3],1):(t=Kne.exec(n))?new Ea(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Qne.exec(n))?H1(t[1],t[2],t[3],t[4]):(t=Jne.exec(n))?H1(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eie.exec(n))?xj(t[1],t[2]/100,t[3]/100,1):(t=tie.exec(n))?xj(t[1],t[2]/100,t[3]/100,t[4]):pj.hasOwnProperty(n)?vj(pj[n]):"transparent"===n?new Ea(NaN,NaN,NaN,0):null}function vj(n){return new Ea(n>>16&255,n>>8&255,255&n,1)}function H1(n,t,e,i){return i<=0&&(n=t=e=NaN),new Ea(n,t,e,i)}function iie(n){return n instanceof nw||(n=vm(n)),n?new Ea((n=n.rgb()).r,n.g,n.b,n.opacity):new Ea}function z1(n,t,e,i){return 1===arguments.length?iie(n):new Ea(n,t,e,i??1)}function Ea(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function yj(){return"#"+OR(this.r)+OR(this.g)+OR(this.b)}function _j(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function OR(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function xj(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Vu(n,t,e,i)}function bj(n){if(n instanceof Vu)return new Vu(n.h,n.s,n.l,n.opacity);if(n instanceof nw||(n=vm(n)),!n)return new Vu;if(n instanceof Vu)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,s=Math.min(t,e,i),r=Math.max(t,e,i),o=NaN,d=r-s,p=(r+s)/2;return d?(o=t===r?(e-i)/d+6*(e<i):e===r?(i-t)/d+2:(t-e)/d+4,d/=p<.5?r+s:2-r-s,o*=60):d=p>0&&p<1?0:o,new Vu(o,d,p,n.opacity)}function Vu(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function RR(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function wj(n,t,e,i,s){var r=n*n,o=r*n;return((1-3*n+3*r-o)*t+(4-6*r+3*o)*e+(1+3*n+3*r-3*o)*i+o*s)/6}PR(nw,vm,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:gj,formatHex:gj,formatHsl:function nie(){return bj(this).formatHsl()},formatRgb:mj,toString:mj}),PR(Ea,z1,fj(nw,{brighter:function(n){return n=null==n?V1:Math.pow(V1,n),new Ea(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Ea(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yj,formatHex:yj,formatRgb:_j,toString:_j})),PR(Vu,function sie(n,t,e,i){return 1===arguments.length?bj(n):new Vu(n,t,e,i??1)},fj(nw,{brighter:function(n){return n=null==n?V1:Math.pow(V1,n),new Vu(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Vu(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,s=2*e-i;return new Ea(RR(n>=240?n-240:n+120,s,i),RR(n,s,i),RR(n<120?n+240:n-120,s,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const FR=n=>()=>n;function Sj(n,t){var e=t-n;return e?function Cj(n,t){return function(e){return n+e*t}}(n,e):FR(isNaN(n)?t:n)}const U1=function n(t){var e=function lie(n){return 1==(n=+n)?Sj:function(t,e){return e-t?function aie(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):FR(isNaN(t)?e:t)}}(t);function i(s,r){var o=e((s=z1(s)).r,(r=z1(r)).r),d=e(s.g,r.g),p=e(s.b,r.b),_=Sj(s.opacity,r.opacity);return function(C){return s.r=o(C),s.g=d(C),s.b=p(C),s.opacity=_(C),s+""}}return i.gamma=n,i}(1);function Tj(n){return function(t){var o,d,e=t.length,i=new Array(e),s=new Array(e),r=new Array(e);for(o=0;o<e;++o)d=z1(t[o]),i[o]=d.r||0,s[o]=d.g||0,r[o]=d.b||0;return i=n(i),s=n(s),r=n(r),d.opacity=1,function(p){return d.r=i(p),d.g=s(p),d.b=r(p),d+""}}}function Fc(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}Tj(function rie(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),s=n[i],r=n[i+1];return wj((e-i/t)*t,i>0?n[i-1]:2*s-r,s,r,i<t-1?n[i+2]:2*r-s)}}),Tj(function oie(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return wj((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var NR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BR=new RegExp(NR.source,"g");function Ej(n,t){var i,s,r,e=NR.lastIndex=BR.lastIndex=0,o=-1,d=[],p=[];for(n+="",t+="";(i=NR.exec(n))&&(s=BR.exec(t));)(r=s.index)>e&&(r=t.slice(e,r),d[o]?d[o]+=r:d[++o]=r),(i=i[0])===(s=s[0])?d[o]?d[o]+=s:d[++o]=s:(d[++o]=null,p.push({i:o,x:Fc(i,s)})),e=BR.lastIndex;return e<t.length&&(r=t.slice(e),d[o]?d[o]+=r:d[++o]=r),d.length<2?p[0]?function hie(n){return function(t){return n(t)+""}}(p[0].x):function die(n){return function(){return n}}(t):(t=p.length,function(_){for(var k,C=0;C<t;++C)d[(k=p[C]).i]=k.x(_);return d.join("")})}var W1,aw,c_=0,rw=0,ow=0,j1=0,ym=0,$1=0,lw="object"==typeof performance&&performance.now?performance:Date,Ij="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function VR(){return ym||(Ij(vie),ym=lw.now()+$1)}function vie(){ym=0}function Y1(){this._call=this._time=this._next=null}function Mj(n,t,e){var i=new Y1;return i.restart(n,t,e),i}function Lj(){ym=(j1=lw.now())+$1,c_=rw=0;try{!function yie(){VR(),++c_;for(var t,n=W1;n;)(t=ym-n._time)>=0&&n._call.call(null,t),n=n._next;--c_}()}finally{c_=0,function xie(){for(var n,e,t=W1,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:W1=e);aw=n,HR(i)}(),ym=0}}function _ie(){var n=lw.now(),t=n-j1;t>1e3&&($1-=t,j1=n)}function HR(n){c_||(rw&&(rw=clearTimeout(rw)),n-ym>24?(n<1/0&&(rw=setTimeout(Lj,n-lw.now()-$1)),ow&&(ow=clearInterval(ow))):(ow||(j1=lw.now(),ow=setInterval(_ie,1e3)),c_=1,Ij(Lj)))}function Pj(n,t,e){var i=new Y1;return i.restart(s=>{i.stop(),n(s+t)},t=null==t?0:+t,e),i}Y1.prototype=Mj.prototype={constructor:Y1,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?VR():+e)+(null==t?0:+t),!this._next&&aw!==this&&(aw?aw._next=this:W1=this,aw=this),this._call=n,this._time=e,HR()},stop:function(){this._call&&(this._call=null,this._time=1/0,HR())}};var bie=hj("start","end","cancel","interrupt"),wie=[];function Z1(n,t,e,i,s,r){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function Cie(n,t,e){var s,i=n.__transition;function o(_){var C,k,N,z;if(1!==e.state)return p();for(C in i)if((z=i[C]).name===e.name){if(3===z.state)return Pj(o);4===z.state?(z.state=6,z.timer.stop(),z.on.call("interrupt",n,n.__data__,z.index,z.group),delete i[C]):+C<t&&(z.state=6,z.timer.stop(),z.on.call("cancel",n,n.__data__,z.index,z.group),delete i[C])}if(Pj(function(){3===e.state&&(e.state=4,e.timer.restart(d,e.delay,e.time),d(_))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,s=new Array(N=e.tween.length),C=0,k=-1;C<N;++C)(z=e.tween[C].value.call(n,n.__data__,e.index,e.group))&&(s[++k]=z);s.length=k+1}}function d(_){for(var C=_<e.duration?e.ease.call(null,_/e.duration):(e.timer.restart(p),e.state=5,1),k=-1,N=s.length;++k<N;)s[k].call(n,C);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),p())}function p(){for(var _ in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=Mj(function r(_){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=_&&o(_-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:s,on:bie,tween:wie,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function GR(n,t){var e=Nc(n,t);if(e.state>0)throw new Error("too late; already scheduled");return e}function Hu(n,t){var e=Nc(n,t);if(e.state>3)throw new Error("too late; already running");return e}function Nc(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var K1,Nj=180/Math.PI,jR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bj(n,t,e,i,s,r){var o,d,p;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(p=n*e+t*i)&&(e-=n*p,i-=t*p),(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d,p/=d),n*i<t*e&&(n=-n,t=-t,p=-p,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,n)*Nj,skewX:Math.atan(p)*Nj,scaleX:o,scaleY:d}}function Vj(n,t,e,i){function s(_){return _.length?_.pop()+" ":""}return function(_,C){var k=[],N=[];return _=n(_),C=n(C),function r(_,C,k,N,z,W){if(_!==k||C!==N){var Q=z.push("translate(",null,t,null,e);W.push({i:Q-4,x:Fc(_,k)},{i:Q-2,x:Fc(C,N)})}else(k||N)&&z.push("translate("+k+t+N+e)}(_.translateX,_.translateY,C.translateX,C.translateY,k,N),function o(_,C,k,N){_!==C?(_-C>180?C+=360:C-_>180&&(_+=360),N.push({i:k.push(s(k)+"rotate(",null,i)-2,x:Fc(_,C)})):C&&k.push(s(k)+"rotate("+C+i)}(_.rotate,C.rotate,k,N),function d(_,C,k,N){_!==C?N.push({i:k.push(s(k)+"skewX(",null,i)-2,x:Fc(_,C)}):C&&k.push(s(k)+"skewX("+C+i)}(_.skewX,C.skewX,k,N),function p(_,C,k,N,z,W){if(_!==k||C!==N){var Q=z.push(s(z)+"scale(",null,",",null,")");W.push({i:Q-4,x:Fc(_,k)},{i:Q-2,x:Fc(C,N)})}else(1!==k||1!==N)&&z.push(s(z)+"scale("+k+","+N+")")}(_.scaleX,_.scaleY,C.scaleX,C.scaleY,k,N),_=C=null,function(z){for(var K,W=-1,Q=N.length;++W<Q;)k[(K=N[W]).i]=K.x(z);return k.join("")}}}var Eie=Vj(function Tie(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?jR:Bj(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Die=Vj(function Aie(n){return null!=n&&(K1||(K1=document.createElementNS("http://www.w3.org/2000/svg","g")),K1.setAttribute("transform",n),n=K1.transform.baseVal.consolidate())?Bj((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):jR},", ",")",")");function kie(n,t){var e,i;return function(){var s=Hu(this,n),r=s.tween;if(r!==e)for(var o=0,d=(i=e=r).length;o<d;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}s.tween=i}}function Iie(n,t,e){var i,s;if("function"!=typeof e)throw new Error;return function(){var r=Hu(this,n),o=r.tween;if(o!==i){s=(i=o).slice();for(var d={name:t,value:e},p=0,_=s.length;p<_;++p)if(s[p].name===t){s[p]=d;break}p===_&&s.push(d)}r.tween=s}}function $R(n,t,e){var i=n._id;return n.each(function(){var s=Hu(this,i);(s.value||(s.value={}))[t]=e.apply(this,arguments)}),function(s){return Nc(s,i).value[t]}}function Hj(n,t){var e;return("number"==typeof t?Fc:t instanceof vm?U1:(e=vm(t))?(t=e,U1):Ej)(n,t)}function Lie(n){return function(){this.removeAttribute(n)}}function Pie(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Oie(n,t,e){var i,r,s=e+"";return function(){var o=this.getAttribute(n);return o===s?null:o===i?r:r=t(i=o,e)}}function Rie(n,t,e){var i,r,s=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===s?null:o===i?r:r=t(i=o,e)}}function Fie(n,t,e){var i,s,r;return function(){var o,p,d=e(this);return null==d?void this.removeAttribute(n):(o=this.getAttribute(n))===(p=d+"")?null:o===i&&p===s?r:(s=p,r=t(i=o,d))}}function Nie(n,t,e){var i,s,r;return function(){var o,p,d=e(this);return null==d?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(p=d+"")?null:o===i&&p===s?r:(s=p,r=t(i=o,d))}}function Vie(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Hie(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function zie(n,t){var e,i;function s(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&Hie(n,r)),e}return s._value=t,s}function Uie(n,t){var e,i;function s(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&Vie(n,r)),e}return s._value=t,s}function Wie(n,t){return function(){GR(this,n).delay=+t.apply(this,arguments)}}function jie(n,t){return t=+t,function(){GR(this,n).delay=t}}function Yie(n,t){return function(){Hu(this,n).duration=+t.apply(this,arguments)}}function Xie(n,t){return t=+t,function(){Hu(this,n).duration=t}}function Zie(n,t){if("function"!=typeof t)throw new Error;return function(){Hu(this,n).ease=t}}function ise(n,t,e){var i,s,r=function nse(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?GR:Hu;return function(){var o=r(this,n),d=o.on;d!==i&&(s=(i=d).copy()).on(t,e),o.on=s}}var cse=tw.prototype.constructor;function zj(n){return function(){this.style.removeProperty(n)}}function mse(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function vse(n,t,e){var i,s;function r(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&mse(n,o,e)),i}return r._value=t,r}function wse(n){return function(t){this.textContent=n.call(this,t)}}function Cse(n){var t,e;function i(){var s=n.apply(this,arguments);return s!==e&&(t=(e=s)&&wse(s)),t}return i._value=n,i}var Ese=0;function ih(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function Uj(){return++Ese}var _m=tw.prototype;ih.prototype=function Dse(n){return tw().transition(n)}.prototype={constructor:ih,select:function ase(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=kR(n));for(var i=this._groups,s=i.length,r=new Array(s),o=0;o<s;++o)for(var C,k,d=i[o],p=d.length,_=r[o]=new Array(p),N=0;N<p;++N)(C=d[N])&&(k=n.call(C,C.__data__,N,d))&&("__data__"in C&&(k.__data__=C.__data__),_[N]=k,Z1(_[N],t,e,N,_,Nc(C,e)));return new ih(r,this._parents,t,e)},selectAll:function lse(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=ZW(n));for(var i=this._groups,s=i.length,r=[],o=[],d=0;d<s;++d)for(var C,p=i[d],_=p.length,k=0;k<_;++k)if(C=p[k]){for(var z,N=n.call(C,C.__data__,k,p),W=Nc(C,e),Q=0,K=N.length;Q<K;++Q)(z=N[Q])&&Z1(z,t,e,Q,N,W);r.push(N),o.push(C)}return new ih(r,o,t,e)},filter:function ese(n){"function"!=typeof n&&(n=KW(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var p,r=t[s],o=r.length,d=i[s]=[],_=0;_<o;++_)(p=r[_])&&n.call(p,p.__data__,_,r)&&d.push(p);return new ih(i,this._parents,this._name,this._id)},merge:function tse(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,r=Math.min(i,e.length),o=new Array(i),d=0;d<r;++d)for(var N,p=t[d],_=e[d],C=p.length,k=o[d]=new Array(C),z=0;z<C;++z)(N=p[z]||_[z])&&(k[z]=N);for(;d<i;++d)o[d]=t[d];return new ih(o,this._parents,this._name,this._id)},selection:function use(){return new cse(this._groups,this._parents)},transition:function Tse(){for(var n=this._name,t=this._id,e=Uj(),i=this._groups,s=i.length,r=0;r<s;++r)for(var p,o=i[r],d=o.length,_=0;_<d;++_)if(p=o[_]){var C=Nc(p,t);Z1(p,n,e,_,o,{time:C.time+C.delay+C.duration,delay:0,duration:C.duration,ease:C.ease})}return new ih(i,this._parents,n,e)},call:_m.call,nodes:_m.nodes,node:_m.node,size:_m.size,empty:_m.empty,each:_m.each,on:function sse(n,t){var e=this._id;return arguments.length<2?Nc(this.node(),e).on.on(n):this.each(ise(e,n,t))},attr:function Bie(n,t){var e=N1(n),i="transform"===e?Die:Hj;return this.attrTween(n,"function"==typeof t?(e.local?Nie:Fie)(e,i,$R(this,"attr."+n,t)):null==t?(e.local?Pie:Lie)(e):(e.local?Rie:Oie)(e,i,t))},attrTween:function Gie(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=N1(n);return this.tween(e,(i.local?zie:Uie)(i,t))},style:function gse(n,t,e){var i="transform"==(n+="")?Eie:Hj;return null==t?this.styleTween(n,function dse(n,t){var e,i,s;return function(){var r=a_(this,n),o=(this.style.removeProperty(n),a_(this,n));return r===o?null:r===e&&o===i?s:s=t(e=r,i=o)}}(n,i)).on("end.style."+n,zj(n)):"function"==typeof t?this.styleTween(n,function fse(n,t,e){var i,s,r;return function(){var o=a_(this,n),d=e(this),p=d+"";return null==d&&(this.style.removeProperty(n),p=d=a_(this,n)),o===p?null:o===i&&p===s?r:(s=p,r=t(i=o,d))}}(n,i,$R(this,"style."+n,t))).each(function pse(n,t){var e,i,s,d,r="style."+t,o="end."+r;return function(){var p=Hu(this,n),_=p.on,C=null==p.value[r]?d||(d=zj(t)):void 0;(_!==e||s!==C)&&(i=(e=_).copy()).on(o,s=C),p.on=i}}(this._id,n)):this.styleTween(n,function hse(n,t,e){var i,r,s=e+"";return function(){var o=a_(this,n);return o===s?null:o===i?r:r=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function yse(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,vse(n,t,e??""))},text:function bse(n){return this.tween("text","function"==typeof n?function xse(n){return function(){var t=n(this);this.textContent=t??""}}($R(this,"text",n)):function _se(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function Sse(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,Cse(n))},remove:function ose(){return this.on("end.remove",function rse(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function Mie(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=Nc(this.node(),e).tween,s=0,r=i.length;s<r;++s)if((o=i[s]).name===n)return o.value;return null}return this.each((null==t?kie:Iie)(e,n,t))},delay:function $ie(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Wie:jie)(t,n)):Nc(this.node(),t).delay},duration:function qie(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Yie:Xie)(t,n)):Nc(this.node(),t).duration},ease:function Kie(n){var t=this._id;return arguments.length?this.each(Zie(t,n)):Nc(this.node(),t).ease},easeVarying:function Jie(n){if("function"!=typeof n)throw new Error;return this.each(function Qie(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;Hu(this,n).ease=e}}(this._id,n))},end:function Ase(){var n,t,e=this,i=e._id,s=e.size();return new Promise(function(r,o){var d={value:o},p={value:function(){0==--s&&r()}};e.each(function(){var _=Hu(this,i),C=_.on;C!==n&&((t=(n=C).copy())._.cancel.push(d),t._.interrupt.push(d),t._.end.push(p)),_.on=t}),0===s&&r()})},[Symbol.iterator]:_m[Symbol.iterator]};var Ise={time:null,delay:0,duration:250,ease:function kse(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function Mse(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}tw.prototype.interrupt=function Sie(n){return this.each(function(){!function WR(n,t){var i,s,o,e=n.__transition,r=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(s=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):r=!1;r&&delete n.__transition}}(this,n)})},tw.prototype.transition=function Lse(n){var t,e;n instanceof ih?(t=n._id,n=n._name):(t=Uj(),(e=Ise).time=VR(),n=null==n?null:n+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var p,o=i[r],d=o.length,_=0;_<d;++_)(p=o[_])&&Z1(p,n,t,_,o,e||Mse(p,t));return new ih(i,this._parents,n,t)};Math;function cw(n){return{type:n}}function Xj(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function JR(n){let t=n,e=n;function i(o,d,p,_){for(null==p&&(p=0),null==_&&(_=o.length);p<_;){const C=p+_>>>1;e(o[C],d)<0?p=C+1:_=C}return p}return 1===n.length&&(t=(o,d)=>n(o)-d,e=function Wse(n){return(t,e)=>Xj(n(t),e)}(n)),{left:i,center:function r(o,d,p,_){null==p&&(p=0),null==_&&(_=o.length);const C=i(o,d,p,_-1);return C>p&&t(o[C-1],d)>-t(o[C],d)?C-1:C},right:function s(o,d,p,_){for(null==p&&(p=0),null==_&&(_=o.length);p<_;){const C=p+_>>>1;e(o[C],d)>0?_=C:p=C+1}return p}}}["w","e"].map(cw),["n","s"].map(cw),["n","w","e","s","nw","ne","sw","se"].map(cw);var eF=Math.sqrt(50),tF=Math.sqrt(10),nF=Math.sqrt(2);function iF(n,t,e){var i=Math.abs(t-n)/Math.max(0,e),s=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/s;return r>=eF?s*=10:r>=tF?s*=5:r>=nF&&(s*=2),t<n?-s:s}const rh=1e3,Dl=6e4,oh=60*Dl,xm=24*oh,sF=7*xm,Zj=30*xm,rF=365*xm;var oF=new Date,aF=new Date;function Er(n,t,e,i){function s(r){return n(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=function(r){return n(r=new Date(+r)),r},s.ceil=function(r){return n(r=new Date(r-1)),t(r,1),n(r),r},s.round=function(r){var o=s(r),d=s.ceil(r);return r-o<d-r?o:d},s.offset=function(r,o){return t(r=new Date(+r),null==o?1:Math.floor(o)),r},s.range=function(r,o,d){var _,p=[];if(r=s.ceil(r),d=null==d?1:Math.floor(d),!(r<o&&d>0))return p;do{p.push(_=new Date(+r)),t(r,d),n(r)}while(_<r&&r<o);return p},s.filter=function(r){return Er(function(o){if(o>=o)for(;n(o),!r(o);)o.setTime(o-1)},function(o,d){if(o>=o)if(d<0)for(;++d<=0;)for(;t(o,-1),!r(o););else for(;--d>=0;)for(;t(o,1),!r(o););})},e&&(s.count=function(r,o){return oF.setTime(+r),aF.setTime(+o),n(oF),n(aF),Math.floor(e(oF,aF))},s.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?function(o){return i(o)%r==0}:function(o){return s.count(0,o)%r==0}):s:null}),s}var eE=Er(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});eE.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Er(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):eE:null};const $se=eE;var Kj=Er(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+t*rh)},function(n,t){return(t-n)/rh},function(n){return n.getUTCSeconds()});const uw=Kj;var Qj=Er(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*rh)},function(n,t){n.setTime(+n+t*Dl)},function(n,t){return(t-n)/Dl},function(n){return n.getMinutes()});const Jj=Qj;var e$=Er(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*rh-n.getMinutes()*Dl)},function(n,t){n.setTime(+n+t*oh)},function(n,t){return(t-n)/oh},function(n){return n.getHours()});const t$=e$;var n$=Er(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Dl)/xm,n=>n.getDate()-1);const tE=n$;function bm(n){return Er(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dl)/sF})}var nE=bm(0),iE=bm(1),h_=(bm(2),bm(3),bm(4)),i$=(bm(5),bm(6),Er(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())},function(n){return n.getMonth()}));const s$=i$;var lF=Er(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});lF.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Er(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const wm=lF;var r$=Er(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*Dl)},function(n,t){return(t-n)/Dl},function(n){return n.getUTCMinutes()});const Kse=r$;var o$=Er(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+t*oh)},function(n,t){return(t-n)/oh},function(n){return n.getUTCHours()});const Qse=o$;var a$=Er(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/xm},function(n){return n.getUTCDate()-1});const cF=a$;function Cm(n){return Er(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/sF})}var uF=Cm(0),sE=Cm(1),f_=(Cm(2),Cm(3),Cm(4)),l$=(Cm(5),Cm(6),Er(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()}));const ire=l$;var dF=Er(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});dF.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Er(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const p_=dF;function c$(n,t,e,i,s,r){const o=[[uw,1,rh],[uw,5,5e3],[uw,15,15e3],[uw,30,3e4],[r,1,Dl],[r,5,5*Dl],[r,15,15*Dl],[r,30,30*Dl],[s,1,oh],[s,3,3*oh],[s,6,6*oh],[s,12,12*oh],[i,1,xm],[i,2,2*xm],[e,1,sF],[t,1,Zj],[t,3,3*Zj],[n,1,rF]];function p(_,C,k){const N=Math.abs(C-_)/k,z=JR(([,,K])=>K).right(o,N);if(z===o.length)return n.every(iF(_/rF,C/rF,k));if(0===z)return $se.every(Math.max(iF(_,C,k),1));const[W,Q]=o[N/o[z-1][2]<o[z][2]/N?z-1:z];return W.every(Q)}return[function d(_,C,k){const N=C<_;N&&([_,C]=[C,_]);const z=k&&"function"==typeof k.range?k:p(_,C,k),W=z?z.range(_,+C+1):[];return N?W.reverse():W},p]}const[Mge,Lge]=c$(p_,ire,uF,cF,Qse,Kse),[sre,rre]=c$(wm,s$,nE,tE,t$,Jj);function hF(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function fF(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function dw(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var u$={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,are=/^%/,lre=/[\\^$*+?|[\]().{}]/g;function Ei(n,t,e){var i=n<0?"-":"",s=(i?-n:n)+"",r=s.length;return i+(r<e?new Array(e-r+1).join(t)+s:s)}function cre(n){return n.replace(lre,"\\$&")}function hw(n){return new RegExp("^(?:"+n.map(cre).join("|")+")","i")}function fw(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function ure(n,t,e){var i=Dr.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function dre(n,t,e){var i=Dr.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function hre(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function fre(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function pre(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function d$(n,t,e){var i=Dr.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function h$(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function gre(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function mre(n,t,e){var i=Dr.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function vre(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function f$(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function yre(n,t,e){var i=Dr.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function p$(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function _re(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function xre(n,t,e){var i=Dr.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function bre(n,t,e){var i=Dr.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function wre(n,t,e){var i=Dr.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Cre(n,t,e){var i=are.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function Sre(n,t,e){var i=Dr.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Tre(n,t,e){var i=Dr.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function g$(n,t){return Ei(n.getDate(),t,2)}function Are(n,t){return Ei(n.getHours(),t,2)}function Ere(n,t){return Ei(n.getHours()%12||12,t,2)}function Dre(n,t){return Ei(1+tE.count(wm(n),n),t,3)}function m$(n,t){return Ei(n.getMilliseconds(),t,3)}function kre(n,t){return m$(n,t)+"000"}function Ire(n,t){return Ei(n.getMonth()+1,t,2)}function Mre(n,t){return Ei(n.getMinutes(),t,2)}function Lre(n,t){return Ei(n.getSeconds(),t,2)}function Pre(n){var t=n.getDay();return 0===t?7:t}function Ore(n,t){return Ei(nE.count(wm(n)-1,n),t,2)}function v$(n){var t=n.getDay();return t>=4||0===t?h_(n):h_.ceil(n)}function Rre(n,t){return n=v$(n),Ei(h_.count(wm(n),n)+(4===wm(n).getDay()),t,2)}function Fre(n){return n.getDay()}function Nre(n,t){return Ei(iE.count(wm(n)-1,n),t,2)}function Bre(n,t){return Ei(n.getFullYear()%100,t,2)}function Vre(n,t){return Ei((n=v$(n)).getFullYear()%100,t,2)}function Hre(n,t){return Ei(n.getFullYear()%1e4,t,4)}function zre(n,t){var e=n.getDay();return Ei((n=e>=4||0===e?h_(n):h_.ceil(n)).getFullYear()%1e4,t,4)}function Ure(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ei(t/60|0,"0",2)+Ei(t%60,"0",2)}function y$(n,t){return Ei(n.getUTCDate(),t,2)}function Gre(n,t){return Ei(n.getUTCHours(),t,2)}function Wre(n,t){return Ei(n.getUTCHours()%12||12,t,2)}function jre(n,t){return Ei(1+cF.count(p_(n),n),t,3)}function _$(n,t){return Ei(n.getUTCMilliseconds(),t,3)}function $re(n,t){return _$(n,t)+"000"}function Yre(n,t){return Ei(n.getUTCMonth()+1,t,2)}function Xre(n,t){return Ei(n.getUTCMinutes(),t,2)}function qre(n,t){return Ei(n.getUTCSeconds(),t,2)}function Zre(n){var t=n.getUTCDay();return 0===t?7:t}function Kre(n,t){return Ei(uF.count(p_(n)-1,n),t,2)}function x$(n){var t=n.getUTCDay();return t>=4||0===t?f_(n):f_.ceil(n)}function Qre(n,t){return n=x$(n),Ei(f_.count(p_(n),n)+(4===p_(n).getUTCDay()),t,2)}function Jre(n){return n.getUTCDay()}function eoe(n,t){return Ei(sE.count(p_(n)-1,n),t,2)}function toe(n,t){return Ei(n.getUTCFullYear()%100,t,2)}function noe(n,t){return Ei((n=x$(n)).getUTCFullYear()%100,t,2)}function ioe(n,t){return Ei(n.getUTCFullYear()%1e4,t,4)}function soe(n,t){var e=n.getUTCDay();return Ei((n=e>=4||0===e?f_(n):f_.ceil(n)).getUTCFullYear()%1e4,t,4)}function roe(){return"+0000"}function b$(){return"%"}function w$(n){return+n}function C$(n){return Math.floor(+n/1e3)}!function coe(n){(function ore(n){var t=n.dateTime,e=n.date,i=n.time,s=n.periods,r=n.days,o=n.shortDays,d=n.months,p=n.shortMonths,_=hw(s),C=fw(s),k=hw(r),N=fw(r),z=hw(o),W=fw(o),Q=hw(d),K=fw(d),fe=hw(p),ve=fw(p),Te={a:function At(zt){return o[zt.getDay()]},A:function Zt(zt){return r[zt.getDay()]},b:function en(zt){return p[zt.getMonth()]},B:function Un(zt){return d[zt.getMonth()]},c:null,d:g$,e:g$,f:kre,g:Vre,G:zre,H:Are,I:Ere,j:Dre,L:m$,m:Ire,M:Mre,p:function ui(zt){return s[+(zt.getHours()>=12)]},q:function Zn(zt){return 1+~~(zt.getMonth()/3)},Q:w$,s:C$,S:Lre,u:Pre,U:Ore,V:Rre,w:Fre,W:Nre,x:null,X:null,y:Bre,Y:Hre,Z:Ure,"%":b$},Ee={a:function ir(zt){return o[zt.getUTCDay()]},A:function bi(zt){return r[zt.getUTCDay()]},b:function ka(zt){return p[zt.getUTCMonth()]},B:function Il(zt){return d[zt.getUTCMonth()]},c:null,d:y$,e:y$,f:$re,g:noe,G:soe,H:Gre,I:Wre,j:jre,L:_$,m:Yre,M:Xre,p:function Ti(zt){return s[+(zt.getUTCHours()>=12)]},q:function Ml(zt){return 1+~~(zt.getUTCMonth()/3)},Q:w$,s:C$,S:qre,u:Zre,U:Kre,V:Qre,w:Jre,W:eoe,x:null,X:null,y:toe,Y:ioe,Z:roe,"%":b$},De={a:function Jt(zt,Fn,ni){var Lt=z.exec(Fn.slice(ni));return Lt?(zt.w=W.get(Lt[0].toLowerCase()),ni+Lt[0].length):-1},A:function Rt(zt,Fn,ni){var Lt=k.exec(Fn.slice(ni));return Lt?(zt.w=N.get(Lt[0].toLowerCase()),ni+Lt[0].length):-1},b:function fn(zt,Fn,ni){var Lt=fe.exec(Fn.slice(ni));return Lt?(zt.m=ve.get(Lt[0].toLowerCase()),ni+Lt[0].length):-1},B:function un(zt,Fn,ni){var Lt=Q.exec(Fn.slice(ni));return Lt?(zt.m=K.get(Lt[0].toLowerCase()),ni+Lt[0].length):-1},c:function zn(zt,Fn,ni){return yt(zt,t,Fn,ni)},d:f$,e:f$,f:wre,g:h$,G:d$,H:p$,I:p$,j:yre,L:bre,m:vre,M:_re,p:function Pt(zt,Fn,ni){var Lt=_.exec(Fn.slice(ni));return Lt?(zt.p=C.get(Lt[0].toLowerCase()),ni+Lt[0].length):-1},q:mre,Q:Sre,s:Tre,S:xre,u:dre,U:hre,V:fre,w:ure,W:pre,x:function gn(zt,Fn,ni){return yt(zt,e,Fn,ni)},X:function xt(zt,Fn,ni){return yt(zt,i,Fn,ni)},y:h$,Y:d$,Z:gre,"%":Cre};function Fe(zt,Fn){return function(ni){var Vo,Wn,zs,Lt=[],Hs=-1,Hi=0,Bo=zt.length;for(ni instanceof Date||(ni=new Date(+ni));++Hs<Bo;)37===zt.charCodeAt(Hs)&&(Lt.push(zt.slice(Hi,Hs)),null!=(Wn=u$[Vo=zt.charAt(++Hs)])?Vo=zt.charAt(++Hs):Wn="e"===Vo?" ":"0",(zs=Fn[Vo])&&(Vo=zs(ni,Wn)),Lt.push(Vo),Hi=Hs+1);return Lt.push(zt.slice(Hi,Hs)),Lt.join("")}}function Qe(zt,Fn){return function(ni){var Hi,Bo,Lt=dw(1900,void 0,1);if(yt(Lt,zt,ni+="",0)!=ni.length)return null;if("Q"in Lt)return new Date(Lt.Q);if("s"in Lt)return new Date(1e3*Lt.s+("L"in Lt?Lt.L:0));if(Fn&&!("Z"in Lt)&&(Lt.Z=0),"p"in Lt&&(Lt.H=Lt.H%12+12*Lt.p),void 0===Lt.m&&(Lt.m="q"in Lt?Lt.q:0),"V"in Lt){if(Lt.V<1||Lt.V>53)return null;"w"in Lt||(Lt.w=1),"Z"in Lt?(Bo=(Hi=fF(dw(Lt.y,0,1))).getUTCDay(),Hi=Bo>4||0===Bo?sE.ceil(Hi):sE(Hi),Hi=cF.offset(Hi,7*(Lt.V-1)),Lt.y=Hi.getUTCFullYear(),Lt.m=Hi.getUTCMonth(),Lt.d=Hi.getUTCDate()+(Lt.w+6)%7):(Bo=(Hi=hF(dw(Lt.y,0,1))).getDay(),Hi=Bo>4||0===Bo?iE.ceil(Hi):iE(Hi),Hi=tE.offset(Hi,7*(Lt.V-1)),Lt.y=Hi.getFullYear(),Lt.m=Hi.getMonth(),Lt.d=Hi.getDate()+(Lt.w+6)%7)}else("W"in Lt||"U"in Lt)&&("w"in Lt||(Lt.w="u"in Lt?Lt.u%7:"W"in Lt?1:0),Bo="Z"in Lt?fF(dw(Lt.y,0,1)).getUTCDay():hF(dw(Lt.y,0,1)).getDay(),Lt.m=0,Lt.d="W"in Lt?(Lt.w+6)%7+7*Lt.W-(Bo+5)%7:Lt.w+7*Lt.U-(Bo+6)%7);return"Z"in Lt?(Lt.H+=Lt.Z/100|0,Lt.M+=Lt.Z%100,fF(Lt)):hF(Lt)}}function yt(zt,Fn,ni,Lt){for(var Vo,Wn,Hs=0,Hi=Fn.length,Bo=ni.length;Hs<Hi;){if(Lt>=Bo)return-1;if(37===(Vo=Fn.charCodeAt(Hs++))){if(Vo=Fn.charAt(Hs++),!(Wn=De[Vo in u$?Fn.charAt(Hs++):Vo])||(Lt=Wn(zt,ni,Lt))<0)return-1}else if(Vo!=ni.charCodeAt(Lt++))return-1}return Lt}return Te.x=Fe(e,Te),Te.X=Fe(i,Te),Te.c=Fe(t,Te),Ee.x=Fe(e,Ee),Ee.X=Fe(i,Ee),Ee.c=Fe(t,Ee),{format:function(zt){var Fn=Fe(zt+="",Te);return Fn.toString=function(){return zt},Fn},parse:function(zt){var Fn=Qe(zt+="",!1);return Fn.toString=function(){return zt},Fn},utcFormat:function(zt){var Fn=Fe(zt+="",Ee);return Fn.toString=function(){return zt},Fn},utcParse:function(zt){var Fn=Qe(zt+="",!0);return Fn.toString=function(){return zt},Fn}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),JR(Xj),JR(function uoe(n){return null===n?NaN:+n});var I$,Soe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oE(n){if(!(t=Soe.exec(n)))throw new Error("invalid format: "+n);var t;return new gF({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function gF(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function aE(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function M$(n,t){var e=aE(n,t);if(!e)return n+"";var i=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}oE.prototype=gF.prototype,gF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const L$={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function Toe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>M$(100*n,t),r:M$,s:function Ioe(n,t){var e=aE(n,t);if(!e)return n+"";var i=e[0],s=e[1],r=s-(I$=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,o=i.length;return r===o?i:r>o?i+new Array(r-o+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+aE(n,Math.max(0,t+r-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function P$(n){return n}var O$=Array.prototype.map,R$=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Moe(n){var t=void 0===n.grouping||void 0===n.thousands?P$:function Eoe(n,t){return function(e,i){for(var s=e.length,r=[],o=0,d=n[0],p=0;s>0&&d>0&&(p+d+1>i&&(d=Math.max(1,i-p)),r.push(e.substring(s-=d,s+d)),!((p+=d+1)>i));)d=n[o=(o+1)%n.length];return r.reverse().join(t)}}(O$.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",s=void 0===n.decimal?".":n.decimal+"",r=void 0===n.numerals?P$:function Doe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(O$.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",d=void 0===n.minus?"\u2212":n.minus+"",p=void 0===n.nan?"NaN":n.nan+"";function _(k){var N=(k=oE(k)).fill,z=k.align,W=k.sign,Q=k.symbol,K=k.zero,fe=k.width,ve=k.comma,Te=k.precision,Ee=k.trim,De=k.type;"n"===De?(ve=!0,De="g"):L$[De]||(void 0===Te&&(Te=12),Ee=!0,De="g"),(K||"0"===N&&"="===z)&&(K=!0,N="0",z="=");var Fe="$"===Q?e:"#"===Q&&/[boxX]/.test(De)?"0"+De.toLowerCase():"",Qe="$"===Q?i:/[%p]/.test(De)?o:"",yt=L$[De],Pt=/[defgprs%]/.test(De);function Jt(Rt){var zn,gn,xt,fn=Fe,un=Qe;if("c"===De)un=yt(Rt)+un,Rt="";else{var At=(Rt=+Rt)<0||1/Rt<0;if(Rt=isNaN(Rt)?p:yt(Math.abs(Rt),Te),Ee&&(Rt=function koe(n){e:for(var s,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=s=e;break;case"0":0===i&&(i=e),s=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(s+1):n}(Rt)),At&&0==+Rt&&"+"!==W&&(At=!1),fn=(At?"("===W?W:d:"-"===W||"("===W?"":W)+fn,un=("s"===De?R$[8+I$/3]:"")+un+(At&&"("===W?")":""),Pt)for(zn=-1,gn=Rt.length;++zn<gn;)if(48>(xt=Rt.charCodeAt(zn))||xt>57){un=(46===xt?s+Rt.slice(zn+1):Rt.slice(zn))+un,Rt=Rt.slice(0,zn);break}}ve&&!K&&(Rt=t(Rt,1/0));var Zt=fn.length+Rt.length+un.length,en=Zt<fe?new Array(fe-Zt+1).join(N):"";switch(ve&&K&&(Rt=t(en+Rt,en.length?fe-un.length:1/0),en=""),z){case"<":Rt=fn+Rt+un+en;break;case"=":Rt=fn+en+Rt+un;break;case"^":Rt=en.slice(0,Zt=en.length>>1)+fn+Rt+un+en.slice(Zt);break;default:Rt=en+fn+Rt+un}return r(Rt)}return Te=void 0===Te?6:/[gprs]/.test(De)?Math.max(1,Math.min(21,Te)):Math.max(0,Math.min(20,Te)),Jt.toString=function(){return k+""},Jt}return{format:_,formatPrefix:function C(k,N){var z=_(((k=oE(k)).type="f",k)),W=3*Math.max(-8,Math.min(8,Math.floor(function v_(n){return(n=aE(Math.abs(n)))?n[1]:NaN}(N)/3))),Q=Math.pow(10,-W),K=R$[8+W/3];return function(fe){return z(Q*fe)+K}}}}!function Loe(n){Moe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Symbol("implicit"),ue(6087);const Voe=["caretElm"];function Hoe(n,t){}const zoe=function(n){return{model:n}};function Uoe(n,t){if(1&n&&(g.TgZ(0,"span"),g.YNc(1,Hoe,0,0,"ng-template",5),g.qZA()),2&n){const e=g.oxw();g.xp6(1),g.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",g.VKq(2,zoe,e.context))}}function Goe(n,t){if(1&n&&g._UZ(0,"span",6),2&n){const e=g.oxw();g.Q6J("innerHTML",e.title,g.oJD)}}function vle(n,t,e){e=e||{};let i,s,r,o=null,d=0;function p(){d=!1===e.leading?0:+new Date,o=null,r=n.apply(i,s)}return function(){const _=+new Date;!d&&!1===e.leading&&(d=_);const C=t-(_-d);return i=this,s=arguments,C<=0?(clearTimeout(o),o=null,d=_,r=n.apply(i,s)):!o&&!1!==e.trailing&&(o=setTimeout(p,C)),r}}function yle(n,t){return function(i,s,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:r.enumerable,value:vle(r.value,n,t)}),this[s]}}}}var ti=(()=>(function(n){n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center"}(ti||(ti={})),ti))();function W$(n,t,e){return e===ti.Top?n.top-7:e===ti.Bottom?n.top+n.height-t.height+7:e===ti.Center?n.top+n.height/2-t.height/2:void 0}function j$(n,t,e){return e===ti.Left?n.left-7:e===ti.Right?n.left+n.width-t.width+7:e===ti.Center?n.left+n.width/2-t.width/2:void 0}class Da{static calculateVerticalAlignment(t,e,i){let s=W$(t,e,i);return s+e.height>window.innerHeight&&(s=window.innerHeight-e.height),s}static calculateVerticalCaret(t,e,i,s){let r;s===ti.Top&&(r=t.height/2-i.height/2+7),s===ti.Bottom&&(r=e.height-t.height/2-i.height/2-7),s===ti.Center&&(r=e.height/2-i.height/2);const o=W$(t,e,s);return o+e.height>window.innerHeight&&(r+=o+e.height-window.innerHeight),r}static calculateHorizontalAlignment(t,e,i){let s=j$(t,e,i);return s+e.width>window.innerWidth&&(s=window.innerWidth-e.width),s}static calculateHorizontalCaret(t,e,i,s){let r;s===ti.Left&&(r=t.width/2-i.width/2+7),s===ti.Right&&(r=e.width-t.width/2-i.width/2-7),s===ti.Center&&(r=e.width/2-i.width/2);const o=j$(t,e,s);return o+e.width>window.innerWidth&&(r+=o+e.width-window.innerWidth),r}static shouldFlip(t,e,i,s){let r=!1;return i===ti.Right&&t.left+t.width+e.width+s>window.innerWidth&&(r=!0),i===ti.Left&&t.left-e.width-s<0&&(r=!0),i===ti.Top&&t.top-e.height-s<0&&(r=!0),i===ti.Bottom&&t.top+t.height+e.height+s>window.innerHeight&&(r=!0),r}static positionCaret(t,e,i,s,r){let o=0,d=0;return t===ti.Right?(d=-7,o=Da.calculateVerticalCaret(i,e,s,r)):t===ti.Left?(d=e.width,o=Da.calculateVerticalCaret(i,e,s,r)):t===ti.Top?(o=e.height,d=Da.calculateHorizontalCaret(i,e,s,r)):t===ti.Bottom&&(o=-7,d=Da.calculateHorizontalCaret(i,e,s,r)),{top:o,left:d}}static positionContent(t,e,i,s,r){let o=0,d=0;return t===ti.Right?(d=i.left+i.width+s,o=Da.calculateVerticalAlignment(i,e,r)):t===ti.Left?(d=i.left-e.width-s,o=Da.calculateVerticalAlignment(i,e,r)):t===ti.Top?(o=i.top-e.height-s,d=Da.calculateHorizontalAlignment(i,e,r)):t===ti.Bottom&&(o=i.top+i.height+s,d=Da.calculateHorizontalAlignment(i,e,r)),{top:o,left:d}}static determinePlacement(t,e,i,s){if(Da.shouldFlip(i,e,t,s)){if(t===ti.Right)return ti.Left;if(t===ti.Left)return ti.Right;if(t===ti.Top)return ti.Bottom;if(t===ti.Bottom)return ti.Top}return t}}let _F,_le=(()=>{class n{constructor(e,i,s){this.element=e,this.renderer=i,this.platformId=s}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Is(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const s=e.getBoundingClientRect();this.checkFlip(i,s),this.positionContent(e,i,s),this.showCaret&&this.positionCaret(i,s),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,s){const{top:r,left:o}=Da.positionContent(this.placement,s,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:o,left:d}=Da.positionCaret(this.placement,i,e,r,this.alignment);this.renderer.setStyle(s,"top",`${o}px`),this.renderer.setStyle(s,"left",`${d}px`)}checkFlip(e,i){this.placement=Da.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.Lbi))},n.\u0275cmp=g.Xpm({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&g.Gf(Voe,5),2&e){let s;g.iGM(s=g.CRH())&&(i.caretElm=s.first)}},hostVars:2,hostBindings:function(e,i){1&e&&g.NdJ("resize",function(){return i.onWindowResize()},!1,g.Jf7),2&e&&g.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(g.TgZ(0,"div"),g._UZ(1,"span",0,1),g.TgZ(3,"div",2),g.YNc(4,Uoe,2,4,"span",3),g.YNc(5,Goe,1,1,"span",4),g.qZA()()),2&e&&(g.xp6(1),g.Gre("tooltip-caret position-",i.placement,""),g.Q6J("hidden",!i.showCaret),g.xp6(3),g.Q6J("ngIf",!i.title),g.xp6(1),g.Q6J("ngIf",i.title))},dependencies:[Z,Si],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,nte.gn)([yle(100)],n.prototype,"onWindowResize",null),n})(),$$=(()=>{class n{constructor(e,i,s){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=s}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function ble(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const s=Object.getOwnPropertyNames(i.inputs);for(const r of s)e.instance[r]=i.inputs[r]}if(void 0!==i.outputs){const s=Object.getOwnPropertyNames(i.outputs);for(const r of s)e.instance[r]=i.outputs[r]}}return e}appendComponent(e,i={},s){s||(s=this.getRootViewContainer());const r=this.getComponentRootNode(s),o=new YW(r,this.componentFactoryResolver,this.applicationRef,this.injector),d=new $W(e),p=o.attach(d);return this.projectComponentBindings(p,i),p}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(g.LFG(g.z2F),g.LFG(g._Vd),g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),mF=(()=>{class n extends class xle{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}{constructor(e){super(e),this.type=_le}}return n.\u0275fac=function(e){return new(e||n)(g.LFG($$))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Q$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[zo]]}),n})(),eY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[$$,mF],imports:[[zo]]}),n})();typeof window<"u"?_F=window:typeof global<"u"&&(_F=global);let kl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[zo,Q$,eY],zo,Q$,eY]}),n})(),Ple=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),lY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),Ole=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),Rle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),Fle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),cY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})();Math;let bF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),Vle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl,bF,cY]]}),n})(),zle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),Ule=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl]]}),n})(),Gle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[kl,bF,lY]]}),n})(),jle=(()=>{class n{constructor(){!function Wle(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[kl,Ple,lY,Ole,Rle,Fle,cY,Vle,zle,bF,Ule,Gle]}),n})(),dY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Ag,ps,Ag,ps]}),n})(),CY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps,ps]}),n})(),cue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ps,ps]}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Ag,Dg,ps,WS,zo,Ag,ps,WS,cue]}),n})();const xw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=xw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(r=>{e=void 0,n(r)});return new vd.w0(()=>e?.(s))},requestAnimationFrame(...n){const{delegate:t}=xw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=xw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Sue extends rW.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class Cue extends iW.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=xw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:r}=t;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(xw.cancelAnimationFrame(e),t._scheduled=void 0)}});var Eue=ue(3532);function O5(n,t=Gv.z){return function Aue(n){return(0,ur.e)((t,e)=>{let i=!1,s=null,r=null,o=!1;const d=()=>{if(r?.unsubscribe(),r=null,i){i=!1;const _=s;s=null,e.next(_)}o&&e.complete()},p=()=>{r=null,o&&e.complete()};t.subscribe((0,js.x)(e,_=>{i=!0,s=_,r||(0,md.Xf)(n(_)).subscribe(r=(0,js.x)(e,d,p))},()=>{o=!0,(!i||!r||r.closed)&&e.complete()}))})}(()=>function kue(n=0,t,e=Gv.P){let i=-1;return null!=t&&((0,Eue.K)(t)?e=t:i=t),new no.y(s=>{let r=function Due(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;r<0&&(r=0);let o=0;return e.schedule(function(){s.closed||(s.next(o++),0<=i?this.schedule(void 0,i):s.complete())},r)})}(n,t))}let Mue=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Pi.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new no.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(O5(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nr(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Pd(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>R1(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b),g.LFG(na),g.LFG(be,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R5=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Pi.x,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(O5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(na),g.LFG(g.R0b),g.LFG(be,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),F5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Tg,bw,Tg,bw]}),n})();const N5=rS();class Pue{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ps(-this._previousScrollPosition.left),t.style.top=Ps(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,r=i.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),N5&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),N5&&(i.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Oue{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class B5{enable(){}disable(){}attach(){}}function jF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function V5(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Rue{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();jF(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Fue=(()=>{class n{constructor(e,i,s,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new B5,this.close=o=>new Oue(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Pue(this._viewportRuler,this._document),this.reposition=o=>new Rue(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Mue),g.LFG(R5),g.LFG(g.R0b),g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nue{constructor(t){if(this.scrollStrategy=new B5,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Bue{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let H5=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vue=(()=>{class n extends H5{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){const d=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be),g.LFG(g.R0b,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hue=(()=>{class n extends H5{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=_u(r)},this._clickListener=r=>{const o=_u(r),d="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const C=p[_];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(o)||C.overlayElement.contains(d))break;const k=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(r)):k.next(r)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be),g.LFG(na),g.LFG(g.R0b,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z5=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Hv()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(e),Hv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(be),g.LFG(na))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zue{constructor(t,e,i,s,r,o,d,p,_,C=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Pi.x,this._attachments=new Pi.x,this._detachments=new Pi.x,this._locationChanges=vd.w0.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new Pi.x,this._outsidePointerEvents=new Pi.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yd(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ps(this._config.width),t.height=Ps(this._config.height),t.minWidth=Ps(this._config.minWidth),t.minHeight=Ps(this._config.minHeight),t.maxWidth=Ps(this._config.maxWidth),t.maxHeight=Ps(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const s=jv(e||[]).filter(r=>!!r);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(wl((0,vG.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const U5="cdk-overlay-connected-position-bounding-box",Uue=/([A-Za-z%]+)$/;class Gue{constructor(t,e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pi.x,this._resizeSubscription=vd.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(U5),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let o;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,s,d),_=this._getOverlayPoint(p,e,d),C=this._getOverlayFit(_,e,i,d);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(C,_,i)?r.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!o||o.overlayFit.visibleArea<C.visibleArea)&&(o={overlayFit:C,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(r.length){let d=null,p=-1;for(const _ of r){const C=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);C>p&&(p=C,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&km(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(U5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,r;if("center"==i.originX)s=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;s="start"==i.originX?o:d}return e.left<0&&(s-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,i){let s,r;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,i,s){const r=W5(e);let{x:o,y:d}=t,p=this._getOffset(s,"x"),_=this._getOffset(s,"y");p&&(o+=p),_&&(d+=_);let N=0-d,z=d+r.height-i.height,W=this._subtractOverflows(r.width,0-o,o+r.width-i.width),Q=this._subtractOverflows(r.height,N,z),K=W*Q;return{visibleArea:K,isCompletelyWithinViewport:r.width*r.height===K,fitsInViewportVertically:Q===r.height,fitsInViewportHorizontally:W==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,r=i.right-e.x,o=G5(this._overlayRef.getConfig().minHeight),d=G5(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=r;return(t.fitsInViewportVertically||null!=o&&o<=s)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=W5(e),r=this._viewportRect,o=Math.max(t.x+s.width-r.width,0),d=Math.max(t.y+s.height-r.height,0),p=Math.max(r.top-i.top-t.y,0),_=Math.max(r.left-i.left-t.x,0);let C=0,k=0;return C=s.width<=r.width?_||-o:t.x<this._viewportMargin?r.left-i.left-t.x:0,k=s.height<=r.height?p||-d:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:C,y:k},{x:t.x+C,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new Bue(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let r,o,d,C,k,N;if("top"===e.overlayY)o=t.y,r=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,r=i.height-d+this._viewportMargin;else{const z=Math.min(i.bottom-t.y+i.top,t.y),W=this._lastBoundingBoxSize.height;r=2*z,o=t.y-z,r>W&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-W/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)N=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)k=t.x,C=i.right-t.x;else{const z=Math.min(i.right-t.x+i.left,t.x),W=this._lastBoundingBoxSize.width;C=2*z,k=t.x-z,C>W&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-W/2)}return{top:o,left:k,bottom:d,right:N,width:C,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=Ps(i.height),s.top=Ps(i.top),s.bottom=Ps(i.bottom),s.width=Ps(i.width),s.left=Ps(i.left),s.right=Ps(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Ps(r)),o&&(s.maxWidth=Ps(o))}this._lastBoundingBoxSize=i,km(this._boundingBox.style,s)}_resetBoundingBoxStyles(){km(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){km(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const C=this._viewportRuler.getViewportScrollPosition();km(i,this._getExactOverlayY(e,t,C)),km(i,this._getExactOverlayX(e,t,C))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),o.maxHeight&&(s?i.maxHeight=Ps(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=Ps(o.maxWidth):r&&(i.maxWidth="")),km(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Ps(r.y),s}_getExactOverlayX(t,e,i){let o,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Ps(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:V5(t,i),isOriginOutsideView:jF(t,i),isOverlayClipped:V5(e,i),isOverlayOutsideView:jF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&jv(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof g.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function km(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function G5(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Uue);return e&&"px"!==e?null:parseFloat(t)}return n||null}function W5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const j5="cdk-global-overlay-wrapper";class Wue{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(j5),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:d}=i,p=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),_=!("100%"!==r&&"100vh"!==r||d&&"100%"!==d&&"100vh"!==d),C=this._xPosition,k=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let z="",W="",Q="";p?Q="flex-start":"center"===C?(Q="center",N?W=k:z=k):N?"left"===C||"end"===C?(Q="flex-end",z=k):("right"===C||"start"===C)&&(Q="flex-start",W=k):"left"===C||"start"===C?(Q="flex-start",z=k):("right"===C||"end"===C)&&(Q="flex-end",W=k),t.position=this._cssPosition,t.marginLeft=p?"0":z,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":W,e.justifyContent=Q,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(j5),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jue=(()=>{class n{constructor(e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new Wue}flexibleConnectedTo(e){return new Gue(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(R5),g.LFG(be),g.LFG(na),g.LFG(z5))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$ue=0,$F=(()=>{class n{constructor(e,i,s,r,o,d,p,_,C,k,N,z){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=d,this._ngZone=p,this._document=_,this._directionality=C,this._location=k,this._outsideClickDispatcher=N,this._animationsModuleType=z}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),o=new Nue(e);return o.direction=o.direction||this._directionality.value,new zue(r,i,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+$ue++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new YW(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Fue),g.LFG(z5),g.LFG(g._Vd),g.LFG(jue),g.LFG(Vue),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(be),g.LFG(PS),g.LFG(Pe),g.LFG(Hue),g.LFG(g.QbO,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const que={provide:new g.OlP("cdk-connected-overlay-scroll-strategy"),deps:[$F],useFactory:function Xue(n){return()=>n.scrollStrategies.reposition()}};let Zue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[$F,que],imports:[Tg,ote,F5,F5]}),n})();const ede={provide:new g.OlP("mat-menu-scroll-strategy"),deps:[$F],useFactory:function Jue(n){return()=>n.scrollStrategies.reposition()}};let Y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[ede],imports:[zo,ps,Dg,Zue,bw,ps]}),n})(),X5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[zo,ps,bw,bw,ps]}),n})();const nde=[Jv,c0,X5,CY,P5,dY,nT,Y5];let ide=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[zo,nde,Jv,c0,X5,CY,P5,dY,nT,Y5]}),n})(),sde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[BI]}),n.\u0275inj=g.cJS({imports:[Vx,ga,Fr,fJ,ide,yS,jle,CJ(()=>SJ()),ete(()=>tte()),Mc.hO.initializeApp(uW_firebase),cJ]}),n})();(0,g.G48)(),Xl().bootstrapModule(sde).catch(n=>console.error(n))},3597:(Gt,rt,ue)=>{"use strict";var g;function ye(J,a){var l=Object.keys(J);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(J);a&&(f=f.filter(function(m){return Object.getOwnPropertyDescriptor(J,m).enumerable})),l.push.apply(l,f)}return l}function te(J){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?ye(Object(l),!0).forEach(function(f){je(J,f,l[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(l)):ye(Object(l)).forEach(function(f){Object.defineProperty(J,f,Object.getOwnPropertyDescriptor(l,f))})}return J}function Ne(J){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(J)}function Se(J,a){if(!(J instanceof a))throw new TypeError("Cannot call a class as a function")}function Ze(J,a){for(var l=0;l<a.length;l++){var f=a[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(J,f.key,f)}}function be(J,a,l){return a&&Ze(J.prototype,a),l&&Ze(J,l),J}function je(J,a,l){return a in J?Object.defineProperty(J,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):J[a]=l,J}function Ie(J,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(a&&a.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),a&&Ce(J,a)}function me(J){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(J)}function Ce(J,a){return(Ce=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l})(J,a)}function Be(J,a){if(a&&("object"==typeof a||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(J)}function St(J){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,f=me(J);if(a){var m=me(this).constructor;l=Reflect.construct(f,arguments,m)}else l=f.apply(this,arguments);return Be(this,l)}}function et(J){return function(a){if(Array.isArray(a))return nt(a)}(J)||function(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(J)||jt(J)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(J,a){if(J){if("string"==typeof J)return nt(J,a);var l=Object.prototype.toString.call(J).slice(8,-1);return"Object"===l&&J.constructor&&(l=J.constructor.name),"Map"===l||"Set"===l?Array.from(J):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?nt(J,a):void 0}}function nt(J,a){(null==a||a>J.length)&&(a=J.length);for(var l=0,f=new Array(a);l<a;l++)f[l]=J[l];return f}var he=function(){function J(){Se(this,J)}return be(J,[{key:"shadeRGBColor",value:function(a,l){var f=l.split(","),m=a<0?0:255,y=a<0?-1*a:a,b=parseInt(f[0].slice(4),10),x=parseInt(f[1],10),S=parseInt(f[2],10);return"rgb("+(Math.round((m-b)*y)+b)+","+(Math.round((m-x)*y)+x)+","+(Math.round((m-S)*y)+S)+")"}},{key:"shadeHexColor",value:function(a,l){var f=parseInt(l.slice(1),16),m=a<0?0:255,y=a<0?-1*a:a,b=f>>16,x=f>>8&255,S=255&f;return"#"+(16777216+65536*(Math.round((m-b)*y)+b)+256*(Math.round((m-x)*y)+x)+(Math.round((m-S)*y)+S)).toString(16).slice(1)}},{key:"shadeColor",value:function(a,l){return J.isColorHex(l)?this.shadeHexColor(a,l):this.shadeRGBColor(a,l)}}],[{key:"bind",value:function(a,l){return function(){return a.apply(l,arguments)}}},{key:"isObject",value:function(a){return a&&"object"===Ne(a)&&!Array.isArray(a)&&null!=a}},{key:"is",value:function(a,l){return Object.prototype.toString.call(l)==="[object "+a+"]"}},{key:"listToArray",value:function(a){var l,f=[];for(l=0;l<a.length;l++)f[l]=a[l];return f}},{key:"extend",value:function(a,l){var f=this;"function"!=typeof Object.assign&&(Object.assign=function(y){if(null==y)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(y),x=1;x<arguments.length;x++){var S=arguments[x];if(null!=S)for(var D in S)S.hasOwnProperty(D)&&(b[D]=S[D])}return b});var m=Object.assign({},a);return this.isObject(a)&&this.isObject(l)&&Object.keys(l).forEach(function(y){f.isObject(l[y])&&y in a?m[y]=f.extend(a[y],l[y]):Object.assign(m,je({},y,l[y]))}),m}},{key:"extendArray",value:function(a,l){var f=[];return a.map(function(m){f.push(J.extend(l,m))}),f}},{key:"monthMod",value:function(a){return a%12}},{key:"clone",value:function(a){if(J.is("Array",a)){for(var l=[],f=0;f<a.length;f++)l[f]=this.clone(a[f]);return l}if(J.is("Null",a))return null;if(J.is("Date",a))return a;if("object"===Ne(a)){var m={};for(var y in a)a.hasOwnProperty(y)&&(m[y]=this.clone(a[y]));return m}return a}},{key:"log10",value:function(a){return Math.log(a)/Math.LN10}},{key:"roundToBase10",value:function(a){return Math.pow(10,Math.floor(Math.log10(a)))}},{key:"roundToBase",value:function(a,l){return Math.pow(l,Math.floor(Math.log(a)/Math.log(l)))}},{key:"parseNumber",value:function(a){return null===a?a:parseFloat(a)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(a){var l=String(a).split(/[eE]/);if(1===l.length)return l[0];var f="",m=a<0?"-":"",y=l[0].replace(".",""),b=Number(l[1])+1;if(b<0){for(f=m+"0.";b++;)f+="0";return f+y.replace(/^-/,"")}for(b-=y.length;b--;)f+="0";return y+f}},{key:"getDimensions",value:function(a){var l=getComputedStyle(a,null),f=a.clientHeight,m=a.clientWidth;return f-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[m-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),f]}},{key:"getBoundingClientRect",value:function(a){var l=a.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:a.clientWidth,height:a.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(a){return a.reduce(function(l,f){return Array.isArray(f)&&(f=f.reduce(function(m,y){return m.length>y.length?m:y})),l.length>f.length?l:f},0)}},{key:"hexToRgba",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==a.substring(0,1)&&(a="#999999");var f=a.replace("#","");f=f.match(new RegExp("(.{"+f.length/3+"})","g"));for(var m=0;m<f.length;m++)f[m]=parseInt(1===f[m].length?f[m]+f[m]:f[m],16);return void 0!==l&&f.push(l),"rgba("+f.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(a){return parseFloat(a.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(a)}},{key:"getPolygonPos",value:function(a,l){for(var f=[],m=2*Math.PI/l,y=0;y<l;y++){var b={};b.x=a*Math.sin(y*m),b.y=-a*Math.cos(y*m),f.push(b)}return f}},{key:"polarToCartesian",value:function(a,l,f,m){var y=(m-90)*Math.PI/180;return{x:a+f*Math.cos(y),y:l+f*Math.sin(y)}}},{key:"escapeString",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",f=a.toString().slice();return f.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(a){return a<0?0:a}},{key:"moveIndexInArray",value:function(a,l,f){if(f>=a.length)for(var m=f-a.length+1;m--;)a.push(void 0);return a.splice(f,0,a.splice(l,1)[0]),a}},{key:"extractNumber",value:function(a){return parseFloat(a.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(a,l){for(;(a=a.parentElement)&&!a.classList.contains(l););return a}},{key:"setELstyles",value:function(a,l){for(var f in l)l.hasOwnProperty(f)&&(a.style.key=l[f])}},{key:"isNumber",value:function(a){return!isNaN(a)&&parseFloat(Number(a))===a&&!isNaN(parseInt(a,10))}},{key:"isFloat",value:function(a){return Number(a)===a&&a%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var a=window.navigator.userAgent,l=a.indexOf("MSIE ");if(l>0)return parseInt(a.substring(l+5,a.indexOf(".",l)),10);if(a.indexOf("Trident/")>0){var f=a.indexOf("rv:");return parseInt(a.substring(f+3,a.indexOf(".",f)),10)}var m=a.indexOf("Edge/");return m>0&&parseInt(a.substring(m+5,a.indexOf(".",m)),10)}}]),J}(),Bt=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.setEasingFunctions()}return be(J,[{key:"setEasingFunctions",value:function(){var a;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":a="-";break;case"easein":a="<";break;case"easeout":a=">";break;case"easeinout":default:a="<>";break;case"swing":a=function(l){var f=1.70158;return(l-=1)*l*((f+1)*l+f)+1};break;case"bounce":a=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":a=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=a}}},{key:"animateLine",value:function(a,l,f,m){a.attr(l).animate(m).attr(f)}},{key:"animateMarker",value:function(a,l,f,m,y,b){l||(l=0),a.attr({r:l,width:l,height:l}).animate(m,y).attr({r:f,width:f.width,height:f.height}).afterAll(function(){b()})}},{key:"animateCircle",value:function(a,l,f,m,y){a.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(m,y).attr({r:f.r,cx:f.cx,cy:f.cy})}},{key:"animateRect",value:function(a,l,f,m,y){a.attr(l).animate(m).attr(f).afterAll(function(){return y()})}},{key:"animatePathsGradually",value:function(a){var M=this.w,L=0;M.config.chart.animations.animateGradually.enabled&&(L=M.config.chart.animations.animateGradually.delay),M.config.chart.animations.dynamicAnimation.enabled&&M.globals.dataChanged&&"bar"!==M.config.chart.type&&(L=0),this.morphSVG(a.el,a.realIndex,a.j,"line"!==M.config.chart.type||M.globals.comboCharts?a.fill:"stroke",a.pathFrom,a.pathTo,a.speed,a.delay*L)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(a){a.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(a){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:a,w:l}))}},{key:"morphSVG",value:function(a,l,f,m,y,b,x,S){var D=this,M=this.w;y||(y=a.attr("pathFrom")),b||(b=a.attr("pathTo"));var L=function(O){return"radar"===M.config.chart.type&&(x=1),"M 0 ".concat(M.globals.gridHeight)};(!y||y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y=L()),(!b||b.indexOf("undefined")>-1||b.indexOf("NaN")>-1)&&(b=L()),M.globals.shouldAnimate||(x=1),a.plot(y).animate(1,M.globals.easing,S).plot(y).animate(x,M.globals.easing,S).plot(b).afterAll(function(){he.isNumber(f)?f===M.globals.series[M.globals.maxValsInArrayIndex].length-2&&M.globals.shouldAnimate&&D.animationCompleted(a):"none"!==m&&M.globals.shouldAnimate&&(!M.globals.comboCharts&&l===M.globals.series.length-1||M.globals.comboCharts)&&D.animationCompleted(a),D.showDelayedElements()})}}]),J}(),kt=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"getDefaultFilter",value:function(a,l){var f=this.w;a.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==f.config.states.normal.filter?this.applyFilter(a,l,f.config.states.normal.filter.type,f.config.states.normal.filter.value):f.config.chart.dropShadow.enabled&&this.dropShadow(a,f.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(a,l){var f=this.w;f.config.chart.dropShadow.enabled&&!a.node.classList.contains("apexcharts-marker")&&this.dropShadow(a,f.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(a,l,f){var m=this,y=this.w,b=f.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(x){var S=y.config.chart.dropShadow;(S.enabled?m.addShadow(x,l,S):x).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:b}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"addDarkenFilter",value:function(a,l,f){var m=this,y=this.w,b=f.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(x){var S=y.config.chart.dropShadow;(S.enabled?m.addShadow(x,l,S):x).componentTransfer({rgb:{type:"linear",slope:b}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"applyFilter",value:function(a,l,f){var m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(f){case"none":this.addNormalFilter(a,l);break;case"lighten":this.addLightenFilter(a,l,{intensity:m});break;case"darken":this.addDarkenFilter(a,l,{intensity:m})}}},{key:"addShadow",value:function(a,l,f){var m=f.blur,y=f.top,b=f.left,x=f.color,S=f.opacity,D=a.flood(Array.isArray(x)?x[l]:x,S).composite(a.sourceAlpha,"in").offset(b,y).gaussianBlur(m).merge(a.source);return a.blend(a.source,D)}},{key:"dropShadow",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,m=l.top,y=l.left,b=l.blur,x=l.color,S=l.opacity,D=l.noUserSpaceOnUse,M=this.w;return a.unfilter(!0),he.isIE()&&"radialBar"===M.config.chart.type||(x=Array.isArray(x)?x[f]:x,a.filter(function(L){var O;O=he.isSafari()||he.isFirefox()||he.isIE()?L.flood(x,S).composite(L.sourceAlpha,"in").offset(y,m).gaussianBlur(b):L.flood(x,S).composite(L.sourceAlpha,"in").offset(y,m).gaussianBlur(b).merge(L.source),L.blend(L.source,O)}),D||a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)),a}},{key:"setSelectionFilter",value:function(a,l,f){var m=this.w;if(void 0!==m.globals.selectedDataPoints[l]&&m.globals.selectedDataPoints[l].indexOf(f)>-1){a.node.setAttribute("selected",!0);var y=m.config.states.active.filter;"none"!==y&&this.applyFilter(a,l,y.type,y.value)}}},{key:"_scaleFilterSize",value:function(a){!function(l){for(var f in l)l.hasOwnProperty(f)&&a.setAttribute(f,l[f])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),J}(),Pe=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"roundPathCorners",value:function(a,l){function f(le,ke,Me){var at=ke.x-le.x,ct=ke.y-le.y,Tt=Math.sqrt(at*at+ct*ct);return m(le,ke,Math.min(1,Me/Tt))}function m(le,ke,Me){return{x:le.x+(ke.x-le.x)*Me,y:le.y+(ke.y-le.y)*Me}}function y(le,ke){le.length>2&&(le[le.length-2]=ke.x,le[le.length-1]=ke.y)}function b(le){return{x:parseFloat(le[le.length-2]),y:parseFloat(le[le.length-1])}}var x=a.split(/[,\s]/).reduce(function(le,ke){var Me=ke.match("([a-zA-Z])(.+)");return Me?(le.push(Me[1]),le.push(Me[2])):le.push(ke),le},[]).reduce(function(le,ke){return parseFloat(ke)==ke&&le.length?le[le.length-1].push(ke):le.push([ke]),le},[]),S=[];if(x.length>1){var D=b(x[0]),M=null;"Z"==x[x.length-1][0]&&x[0].length>2&&(x[x.length-1]=M=["L",D.x,D.y]),S.push(x[0]);for(var L=1;L<x.length;L++){var O=S[S.length-1],H=x[L],$=H==M?x[1]:x[L+1];if($&&O&&O.length>2&&"L"==H[0]&&$.length>2&&"L"==$[0]){var j,ee,re=b(O),ce=b(H),ae=b($);j=f(ce,re,l),ee=f(ce,ae,l),y(H,j),H.origPoint=ce,S.push(H);var A=m(j,ce,.5),F=m(ce,ee,.5),X=["C",A.x,A.y,F.x,F.y,ee.x,ee.y];X.origPoint=ce,S.push(X)}else S.push(H)}if(M){var Z=b(S[S.length-1]);S.push(["Z"]),y(S[0],Z)}}else S=x;return S.reduce(function(le,ke){return le+ke.join(" ")+" "},"")}},{key:"drawLine",value:function(a,l,f,m){var y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",D=this.w,M=D.globals.dom.Paper.line().attr({x1:a,y1:l,x2:f,y2:m,stroke:y,"stroke-dasharray":b,"stroke-width":x,"stroke-linecap":S});return M}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,D=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,M=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,L=this.w,O=L.globals.dom.Paper.rect();return O.attr({x:a,y:l,width:f>0?f:0,height:m>0?m:0,rx:y,ry:y,opacity:x,"stroke-width":null!==S?S:0,stroke:null!==D?D:"none","stroke-dasharray":M}),O.node.setAttribute("fill",b),O}},{key:"drawPolygon",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",y=this.w,b=y.globals.dom.Paper.polygon(a).attr({fill:m,stroke:l,"stroke-width":f});return b}},{key:"drawCircle",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=this.w;a<0&&(a=0);var m=f.globals.dom.Paper.circle(2*a);return null!==l&&m.attr(l),m}},{key:"drawPath",value:function(a){var l=a.d,f=void 0===l?"":l,m=a.stroke,y=void 0===m?"#a8a8a8":m,b=a.strokeWidth,x=void 0===b?1:b,S=a.fill,D=a.fillOpacity,M=void 0===D?1:D,L=a.strokeOpacity,O=void 0===L?1:L,H=a.classes,$=a.strokeLinecap,j=void 0===$?null:$,ee=a.strokeDashArray,re=void 0===ee?0:ee,ce=this.w;return null===j&&(j=ce.config.stroke.lineCap),(f.indexOf("undefined")>-1||f.indexOf("NaN")>-1)&&(f="M 0 ".concat(ce.globals.gridHeight)),ce.globals.dom.Paper.path(f).attr({fill:S,"fill-opacity":M,stroke:y,"stroke-opacity":O,"stroke-linecap":j,"stroke-width":x,"stroke-dasharray":re,class:H})}},{key:"group",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,f=l.globals.dom.Paper.group();return null!==a&&f.attr(a),f}},{key:"move",value:function(a,l){return["M",a,l].join(" ")}},{key:"line",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=null;return null===f?m=[" L",a,l].join(" "):"H"===f?m=[" H",a].join(" "):"V"===f&&(m=[" V",l].join(" ")),m}},{key:"curve",value:function(a,l,f,m,y,b){return["C",a,l,f,m,y,b].join(" ")}},{key:"quadraticCurve",value:function(a,l,f,m){return["Q",a,l,f,m].join(" ")}},{key:"arc",value:function(a,l,f,m,y,b,x){var S=arguments.length>7&&void 0!==arguments[7]&&arguments[7],D="A";S&&(D="a");var M=[D,a,l,f,m,y,b,x].join(" ");return M}},{key:"renderPaths",value:function(a){var l,f=a.j,m=a.realIndex,y=a.pathFrom,b=a.pathTo,x=a.stroke,S=a.strokeWidth,D=a.strokeLinecap,M=a.fill,L=a.animationDelay,O=a.initialSpeed,H=a.dataChangeSpeed,$=a.className,j=a.shouldClipToGrid,ee=void 0===j||j,re=a.bindEventsOnPaths,ce=void 0===re||re,ae=a.drawShadow,A=void 0===ae||ae,F=this.w,X=new kt(this.ctx),Z=new Bt(this.ctx),le=this.w.config.chart.animations.enabled,ke=le&&this.w.config.chart.animations.dynamicAnimation.enabled,Me=!!(le&&!F.globals.resized||ke&&F.globals.dataChanged&&F.globals.shouldAnimate);Me?l=y:(l=b,F.globals.animationEnded=!0);var ct,at=F.config.stroke.dashArray;ct=Array.isArray(at)?at[m]:F.config.stroke.dashArray;var Tt=this.drawPath({d:l,stroke:x,strokeWidth:S,fill:M,fillOpacity:1,classes:$,strokeLinecap:D,strokeDashArray:ct});Tt.attr("index",m),ee&&Tt.attr({"clip-path":"url(#gridRectMask".concat(F.globals.cuid,")")}),"none"!==F.config.states.normal.filter.type?X.getDefaultFilter(Tt,m):F.config.chart.dropShadow.enabled&&A&&(!F.config.chart.dropShadow.enabledOnSeries||F.config.chart.dropShadow.enabledOnSeries&&-1!==F.config.chart.dropShadow.enabledOnSeries.indexOf(m))&&X.dropShadow(Tt,F.config.chart.dropShadow,m),ce&&(Tt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Tt)),Tt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Tt)),Tt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Tt))),Tt.attr({pathTo:b,pathFrom:y});var ei={el:Tt,j:f,realIndex:m,pathFrom:y,pathTo:b,fill:M,strokeWidth:S,delay:L};return!le||F.globals.resized||F.globals.dataChanged?!F.globals.resized&&F.globals.dataChanged||Z.showDelayedElements():Z.animatePathsGradually(te(te({},ei),{},{speed:O})),F.globals.dataChanged&&ke&&Me&&Z.animatePathsGradually(te(te({},ei),{},{speed:H})),Tt}},{key:"drawPattern",value:function(a,l,f){var m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,b=this.w,x=b.globals.dom.Paper.pattern(l,f,function(S){"horizontalLines"===a?S.line(0,0,f,0).stroke({color:m,width:y+1}):"verticalLines"===a?S.line(0,0,0,l).stroke({color:m,width:y+1}):"slantedLines"===a?S.line(0,0,l,f).stroke({color:m,width:y}):"squares"===a?S.rect(l,f).fill("none").stroke({color:m,width:y}):"circles"===a&&S.circle(l).fill("none").stroke({color:m,width:y})});return x}},{key:"drawGradient",value:function(a,l,f,m,y){var b,x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,M=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,L=this.w;l.length<9&&0===l.indexOf("#")&&(l=he.hexToRgba(l,m)),f.length<9&&0===f.indexOf("#")&&(f=he.hexToRgba(f,y));var O=0,H=1,$=1,j=null;null!==S&&(O=void 0!==S[0]?S[0]/100:0,H=void 0!==S[1]?S[1]/100:1,$=void 0!==S[2]?S[2]/100:1,j=void 0!==S[3]?S[3]/100:null);var ee=!("donut"!==L.config.chart.type&&"pie"!==L.config.chart.type&&"polarArea"!==L.config.chart.type&&"bubble"!==L.config.chart.type);if(b=L.globals.dom.Paper.gradient(ee?"radial":"linear",null===D||0===D.length?function(ae){ae.at(O,l,m),ae.at(H,f,y),ae.at($,f,y),null!==j&&ae.at(j,l,m)}:function(ae){(Array.isArray(D[M])?D[M]:D).forEach(function(A){ae.at(A.offset/100,A.color,A.opacity)})}),ee){var re=L.globals.gridWidth/2,ce=L.globals.gridHeight/2;b.attr("bubble"!==L.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:re,cy:ce,r:x}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===a?b.from(0,0).to(0,1):"diagonal"===a?b.from(0,0).to(1,1):"horizontal"===a?b.from(0,1).to(1,1):"diagonal2"===a&&b.from(1,0).to(0,1);return b}},{key:"getTextBasedOnMaxWidth",value:function(a){var l=a.text,f=a.maxWidth,b=this.getTextRects(l,a.fontSize,a.fontFamily),S=Math.floor(f/(b.width/l.length));return f<b.width?l.slice(0,S-3)+"...":l}},{key:"drawText",value:function(a){var l=this,f=a.x,m=a.y,y=a.text,b=a.textAnchor,x=a.fontSize,S=a.fontFamily,D=a.fontWeight,M=a.foreColor,L=a.opacity,O=a.maxWidth,H=a.cssClass,$=void 0===H?"":H,j=a.isPlainText,ee=void 0===j||j,re=this.w;void 0===y&&(y="");var ce=y;b||(b="start"),M&&M.length||(M=re.config.chart.foreColor),D=D||"regular";var ae,A={maxWidth:O,fontSize:x=x||"11px",fontFamily:S=S||re.config.chart.fontFamily};return Array.isArray(y)?ae=re.globals.dom.Paper.text(function(F){for(var X=0;X<y.length;X++)ce=y[X],O&&(ce=l.getTextBasedOnMaxWidth(te({text:y[X]},A))),0===X?F.tspan(ce):F.tspan(ce).newLine()}):(O&&(ce=this.getTextBasedOnMaxWidth(te({text:y},A))),ae=ee?re.globals.dom.Paper.plain(y):re.globals.dom.Paper.text(function(F){return F.tspan(ce)})),ae.attr({x:f,y:m,"text-anchor":b,"dominant-baseline":"auto","font-size":x,"font-family":S,"font-weight":D,fill:M,class:"apexcharts-text "+$}),ae.node.style.fontFamily=S,ae.node.style.opacity=L,ae}},{key:"drawMarker",value:function(a,l,f){a=a||0;var m=f.pSize||0,y=null;if("square"===f.shape||"rect"===f.shape){var b=void 0===f.pRadius?m/2:f.pRadius;null!==l&&m||(m=0,b=0);var x=1.2*m+b,S=this.drawRect(x,x,x,x,b);S.attr({x:a-x/2,y:l-x/2,cx:a,cy:l,class:f.class?f.class:"",fill:f.pointFillColor,"fill-opacity":f.pointFillOpacity?f.pointFillOpacity:1,stroke:f.pointStrokeColor,"stroke-width":f.pointStrokeWidth?f.pointStrokeWidth:0,"stroke-opacity":f.pointStrokeOpacity?f.pointStrokeOpacity:1}),y=S}else"circle"!==f.shape&&f.shape||(he.isNumber(l)||(m=0,l=0),y=this.drawCircle(m,{cx:a,cy:l,class:f.class?f.class:"",stroke:f.pointStrokeColor,fill:f.pointFillColor,"fill-opacity":f.pointFillOpacity?f.pointFillOpacity:1,"stroke-width":f.pointStrokeWidth?f.pointStrokeWidth:0,"stroke-opacity":f.pointStrokeOpacity?f.pointStrokeOpacity:1}));return y}},{key:"pathMouseEnter",value:function(a,l){var f=this.w,m=new kt(this.ctx),y=parseInt(a.node.getAttribute("index"),10),b=parseInt(a.node.getAttribute("j"),10);if("function"==typeof f.config.chart.events.dataPointMouseEnter&&f.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:y,dataPointIndex:b,w:f}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:y,dataPointIndex:b,w:f}]),("none"===f.config.states.active.filter.type||"true"!==a.node.getAttribute("selected"))&&"none"!==f.config.states.hover.filter.type&&!f.globals.isTouchDevice){var x=f.config.states.hover.filter;m.applyFilter(a,y,x.type,x.value)}}},{key:"pathMouseLeave",value:function(a,l){var f=this.w,m=new kt(this.ctx),y=parseInt(a.node.getAttribute("index"),10),b=parseInt(a.node.getAttribute("j"),10);"function"==typeof f.config.chart.events.dataPointMouseLeave&&f.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:y,dataPointIndex:b,w:f}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:y,dataPointIndex:b,w:f}]),"none"!==f.config.states.active.filter.type&&"true"===a.node.getAttribute("selected")||"none"!==f.config.states.hover.filter.type&&m.getDefaultFilter(a,y)}},{key:"pathMouseDown",value:function(a,l){var f=this.w,m=new kt(this.ctx),y=parseInt(a.node.getAttribute("index"),10),b=parseInt(a.node.getAttribute("j"),10),x="false";if("true"===a.node.getAttribute("selected")){if(a.node.setAttribute("selected","false"),f.globals.selectedDataPoints[y].indexOf(b)>-1){var S=f.globals.selectedDataPoints[y].indexOf(b);f.globals.selectedDataPoints[y].splice(S,1)}}else{if(!f.config.states.active.allowMultipleDataPointsSelection&&f.globals.selectedDataPoints.length>0){f.globals.selectedDataPoints=[];var D=f.globals.dom.Paper.select(".apexcharts-series path").members,M=f.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,L=function($){Array.prototype.forEach.call($,function(j){j.node.setAttribute("selected","false"),m.getDefaultFilter(j,y)})};L(D),L(M)}a.node.setAttribute("selected","true"),x="true",void 0===f.globals.selectedDataPoints[y]&&(f.globals.selectedDataPoints[y]=[]),f.globals.selectedDataPoints[y].push(b)}if("true"===x){var O=f.config.states.active.filter;if("none"!==O)m.applyFilter(a,y,O.type,O.value);else if("none"!==f.config.states.hover.filter&&!f.globals.isTouchDevice){var H=f.config.states.hover.filter;m.applyFilter(a,y,H.type,H.value)}}else"none"!==f.config.states.active.filter.type&&("none"===f.config.states.hover.filter.type||f.globals.isTouchDevice?m.getDefaultFilter(a,y):m.applyFilter(a,y,(H=f.config.states.hover.filter).type,H.value));"function"==typeof f.config.chart.events.dataPointSelection&&f.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:f.globals.selectedDataPoints,seriesIndex:y,dataPointIndex:b,w:f}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:f.globals.selectedDataPoints,seriesIndex:y,dataPointIndex:b,w:f}])}},{key:"rotateAroundCenter",value:function(a){var l={};return a&&"function"==typeof a.getBBox&&(l=a.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(a,l,f,m){var y=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],b=this.w,x=this.drawText({x:-200,y:-200,text:a,textAnchor:"start",fontSize:l,fontFamily:f,foreColor:"#fff",opacity:0});m&&x.attr("transform",m),b.globals.dom.Paper.add(x);var S=x.bbox();return y||(S=x.node.getBoundingClientRect()),x.remove(),{width:S.width,height:S.height}}},{key:"placeTextWithEllipsis",value:function(a,l,f){if("function"==typeof a.getComputedTextLength&&(a.textContent=l,l.length>0&&a.getComputedTextLength()>=f/1.1)){for(var m=l.length-3;m>0;m-=3)if(a.getSubStringLength(0,m)<=f/1.1)return void(a.textContent=l.substring(0,m)+"...");a.textContent="."}}}],[{key:"setAttrs",value:function(a,l){for(var f in l)l.hasOwnProperty(f)&&a.setAttribute(f,l[f])}}]),J}(),it=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"getStackedSeriesTotals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=this.w,f=[];if(0===l.globals.series.length)return f;for(var m=0;m<l.globals.series[l.globals.maxValsInArrayIndex].length;m++){for(var y=0,b=0;b<l.globals.series.length;b++)void 0!==l.globals.series[b][m]&&-1===a.indexOf(b)&&(y+=l.globals.series[b][m]);f.push(y)}return f}},{key:"getSeriesTotalByIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?this.w.config.series.reduce(function(l,f){return l+f},0):this.w.globals.series[a].reduce(function(l,f){return l+f},0)}},{key:"isSeriesNull",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===a?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[a].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(a){return this.w.globals.series[a].every(function(l,f,m){return l===m[0]})}},{key:"getCategoryLabels",value:function(a){var l=this.w,f=a.slice();return l.config.xaxis.convertedCatToNumeric&&(f=a.map(function(m,y){return l.config.xaxis.labels.formatter(m-l.globals.minX+1)})),f}},{key:"getLargestSeries",value:function(){var a=this.w;a.globals.maxValsInArrayIndex=a.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,a.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var a=this.w,l=0;return a.globals.markers.size.forEach(function(f){l=Math.max(l,f)}),a.config.markers.discrete&&a.config.markers.discrete.length&&a.config.markers.discrete.forEach(function(f){l=Math.max(l,f.size)}),l>0&&(l+=a.config.markers.hover.sizeOffset+1),a.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var a=this.w;a.globals.seriesTotals=a.globals.series.map(function(l,f){var m=0;if(Array.isArray(l))for(var y=0;y<l.length;y++)m+=l[y];else m+=l;return m})}},{key:"getSeriesTotalsXRange",value:function(a,l){var f=this.w;return f.globals.series.map(function(m,y){for(var b=0,x=0;x<m.length;x++)f.globals.seriesX[y][x]>a&&f.globals.seriesX[y][x]<l&&(b+=m[x]);return b})}},{key:"getPercentSeries",value:function(){var a=this.w;a.globals.seriesPercent=a.globals.series.map(function(l,f){var m=[];if(Array.isArray(l))for(var y=0;y<l.length;y++){var b=a.globals.stackedSeriesTotals[y],x=0;b&&(x=100*l[y]/b),m.push(x)}else{var S=100*l/a.globals.seriesTotals.reduce(function(D,M){return D+M},0);m.push(S)}return m})}},{key:"getCalculatedRatios",value:function(){var a,l,f,m,y=this.w.globals,b=[],x=0,S=[],D=.1,M=0;if(y.yRange=[],y.isMultipleYAxis)for(var L=0;L<y.minYArr.length;L++)y.yRange.push(Math.abs(y.minYArr[L]-y.maxYArr[L])),S.push(0);else y.yRange.push(Math.abs(y.minY-y.maxY));y.xRange=Math.abs(y.maxX-y.minX),y.zRange=Math.abs(y.maxZ-y.minZ);for(var O=0;O<y.yRange.length;O++)b.push(y.yRange[O]/y.gridHeight);if(l=y.xRange/y.gridWidth,f=Math.abs(y.initialMaxX-y.initialMinX)/y.gridWidth,a=y.yRange/y.gridWidth,m=y.xRange/y.gridHeight,(x=y.zRange/y.gridHeight*16)||(x=1),y.minY!==Number.MIN_VALUE&&0!==Math.abs(y.minY)&&(y.hasNegs=!0),y.isMultipleYAxis){S=[];for(var H=0;H<b.length;H++)S.push(-y.minYArr[H]/b[H])}else S.push(-y.minY/b[0]),y.minY!==Number.MIN_VALUE&&0!==Math.abs(y.minY)&&(D=-y.minY/a,M=y.minX/l);return{yRatio:b,invertedYRatio:a,zRatio:x,xRatio:l,initialXRatio:f,invertedXRatio:m,baseLineInvertedY:D,baseLineY:S,baseLineX:M}}},{key:"getLogSeries",value:function(a){var l=this,f=this.w;return f.globals.seriesLog=a.map(function(m,y){return f.config.yaxis[y]&&f.config.yaxis[y].logarithmic?m.map(function(b){return null===b?null:l.getLogVal(f.config.yaxis[y].logBase,b,y)}):m}),f.globals.invalidLogScale?a:f.globals.seriesLog}},{key:"getBaseLog",value:function(a,l){return Math.log(l)/Math.log(a)}},{key:"getLogVal",value:function(a,l,f){if(0===l)return 0;var m=this.w,y=0===m.globals.minYArr[f]?-1:this.getBaseLog(a,m.globals.minYArr[f]),b=(0===m.globals.maxYArr[f]?0:this.getBaseLog(a,m.globals.maxYArr[f]))-y;return l<1?l/b:(this.getBaseLog(a,l)-y)/b}},{key:"getLogYRatios",value:function(a){var l=this,f=this.w,m=this.w.globals;return m.yLogRatio=a.slice(),m.logYRange=m.yRange.map(function(y,b){if(f.config.yaxis[b]&&l.w.config.yaxis[b].logarithmic){var x,S=-Number.MAX_VALUE,D=Number.MIN_VALUE;return m.seriesLog.forEach(function(M,L){M.forEach(function(O){f.config.yaxis[L]&&f.config.yaxis[L].logarithmic&&(S=Math.max(O,S),D=Math.min(O,D))})}),x=Math.pow(m.yRange[b],Math.abs(D-S)/m.yRange[b]),m.yLogRatio[b]=x/m.gridHeight,x}}),m.invalidLogScale?a.slice():m.yLogRatio}}],[{key:"checkComboSeries",value:function(a){var l=!1,f=0,m=0;return a.length&&void 0!==a[0].type&&a.forEach(function(y){"bar"!==y.type&&"column"!==y.type&&"candlestick"!==y.type&&"boxPlot"!==y.type||f++,void 0!==y.type&&m++}),m>0&&(l=!0),{comboBarCount:f,comboCharts:l}}},{key:"extendArrayProps",value:function(a,l,f){return l.yaxis&&(l=a.extendYAxis(l,f)),l.annotations&&(l.annotations.yaxis&&(l=a.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=a.extendXAxisAnnotations(l)),l.annotations.points&&(l=a.extendPointAnnotations(l))),l}}]),J}(),st=function(){function J(a){Se(this,J),this.w=a.w,this.annoCtx=a}return be(J,[{key:"setOrientations",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=this.w;if("vertical"===a.label.orientation){var m=null!==l?l:0,y=f.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(m,"']"));if(null!==y){var b=y.getBoundingClientRect();y.setAttribute("x",parseFloat(y.getAttribute("x"))-b.height+4),y.setAttribute("y","top"===a.label.position?parseFloat(y.getAttribute("y"))+b.width:parseFloat(y.getAttribute("y"))-b.width);var x=this.annoCtx.graphics.rotateAroundCenter(y),S=x.x,D=x.y;y.setAttribute("transform","rotate(-90 ".concat(S," ").concat(D,")"))}}}},{key:"addBackgroundToAnno",value:function(a,l){var f=this.w;if(!a||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var m=f.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),y=a.getBoundingClientRect(),b=l.label.style.padding.left,x=l.label.style.padding.right,S=l.label.style.padding.top,D=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(S=l.label.style.padding.left,D=l.label.style.padding.right,b=l.label.style.padding.top,x=l.label.style.padding.bottom);var O=this.annoCtx.graphics.drawRect(y.left-m.left-b-f.globals.barPadForNumericAxis,y.top-m.top-S,y.width+b+x,y.height+S+D,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&O.node.classList.add(l.id),O}},{key:"annotationsBackground",value:function(){var a=this,l=this.w,f=function(m,y,b){var x=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(b,"-annotations .apexcharts-").concat(b,"-annotation-label[rel='").concat(y,"']"));if(x){var S=x.parentNode,D=a.addBackgroundToAnno(x,m);D&&(S.insertBefore(D.node,x),m.label.mouseEnter&&D.node.addEventListener("mouseenter",m.label.mouseEnter.bind(a,m)),m.label.mouseLeave&&D.node.addEventListener("mouseleave",m.label.mouseLeave.bind(a,m)),m.label.click&&D.node.addEventListener("click",m.label.click.bind(a,m)))}};l.config.annotations.xaxis.map(function(m,y){f(m,y,"xaxis")}),l.config.annotations.yaxis.map(function(m,y){f(m,y,"yaxis")}),l.config.annotations.points.map(function(m,y){f(m,y,"point")})}},{key:"getY1Y2",value:function(a,l){var f,m="y1"===a?l.y:l.y2,y=this.w;if(this.annoCtx.invertAxis){var b=y.globals.labels.indexOf(m);y.config.xaxis.convertedCatToNumeric&&(b=y.globals.categoryLabels.indexOf(m));var x=y.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(b+1)+")");x&&(f=parseFloat(x.getAttribute("y")))}else{var S;S=y.config.yaxis[l.yAxisIndex].logarithmic?(m=new it(this.annoCtx.ctx).getLogVal(m,l.yAxisIndex))/y.globals.yLogRatio[l.yAxisIndex]:(m-y.globals.minYArr[l.yAxisIndex])/(y.globals.yRange[l.yAxisIndex]/y.globals.gridHeight),f=y.globals.gridHeight-S,!l.marker||null!=l.y||(f=0),y.config.yaxis[l.yAxisIndex]&&y.config.yaxis[l.yAxisIndex].reversed&&(f=S)}return"string"==typeof m&&m.indexOf("px")>-1&&(f=parseFloat(m)),f}},{key:"getX1X2",value:function(a,l){var f=this.w,m=this.annoCtx.invertAxis?f.globals.minY:f.globals.minX,y=this.annoCtx.invertAxis?f.globals.maxY:f.globals.maxX,b=this.annoCtx.invertAxis?f.globals.yRange[0]:f.globals.xRange,x=(l.x-m)/(b/f.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(x=(y-l.x)/(b/f.globals.gridWidth)),"category"!==f.config.xaxis.type&&!f.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||f.globals.dataFormatXNumeric||(x=this.getStringX(l.x));var S=(l.x2-m)/(b/f.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(S=(y-l.x2)/(b/f.globals.gridWidth)),"category"!==f.config.xaxis.type&&!f.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||f.globals.dataFormatXNumeric||(S=this.getStringX(l.x2)),null!=l.x||!l.marker||(x=f.globals.gridWidth),"x1"===a&&"string"==typeof l.x&&l.x.indexOf("px")>-1&&(x=parseFloat(l.x)),"x2"===a&&"string"==typeof l.x2&&l.x2.indexOf("px")>-1&&(S=parseFloat(l.x2)),"x1"===a?x:S}},{key:"getStringX",value:function(a){var l=this.w,f=a;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(a=l.globals.categoryLabels.indexOf(a)+1);var m=l.globals.labels.indexOf(a),y=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(m+1)+")");return y&&(f=parseFloat(y.getAttribute("x"))),f}}]),J}(),Ot=function(){function J(a){Se(this,J),this.w=a.w,this.annoCtx=a,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new st(this.annoCtx)}return be(J,[{key:"addXaxisAnnotation",value:function(a,l,f){var m,y=this.w,b=this.helpers.getX1X2("x1",a),x=a.label.text,S=a.strokeDashArray;if(he.isNumber(b)){if(null==a.x2){var D=this.annoCtx.graphics.drawLine(b+a.offsetX,0+a.offsetY,b+a.offsetX,y.globals.gridHeight+a.offsetY,a.borderColor,S,a.borderWidth);l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}else{if((m=this.helpers.getX1X2("x2",a))<b){var M=b;b=m,m=M}var L=this.annoCtx.graphics.drawRect(b+a.offsetX,0+a.offsetY,m-b,y.globals.gridHeight+a.offsetY,0,a.fillColor,a.opacity,1,a.borderColor,S);L.node.classList.add("apexcharts-annotation-rect"),L.attr("clip-path","url(#gridRectMask".concat(y.globals.cuid,")")),l.appendChild(L.node),a.id&&L.node.classList.add(a.id)}var O=this.annoCtx.graphics.getTextRects(x,parseFloat(a.label.style.fontSize)),$=this.annoCtx.graphics.drawText({x:b+a.label.offsetX,y:("top"===a.label.position?4:"center"===a.label.position?y.globals.gridHeight/2+("vertical"===a.label.orientation?O.width/2:0):y.globals.gridHeight)+a.label.offsetY-("vertical"===a.label.orientation?"top"===a.label.position?O.width/2-12:-O.width/2:0),text:x,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});$.attr({rel:f}),l.appendChild($.node),this.annoCtx.helpers.setOrientations(a,f)}}},{key:"drawXAxisAnnotations",value:function(){var a=this,l=this.w,f=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(m,y){a.addXaxisAnnotation(m,f.node,y)}),f}}]),J}(),We=function(){function J(a){Se(this,J),this.w=a.w,this.annoCtx=a,this.helpers=new st(this.annoCtx)}return be(J,[{key:"addYaxisAnnotation",value:function(a,l,f){var m,y=this.w,b=a.strokeDashArray,x=this.helpers.getY1Y2("y1",a),S=a.label.text;if(null==a.y2){var D=this.annoCtx.graphics.drawLine(0+a.offsetX,x+a.offsetY,this._getYAxisAnnotationWidth(a),x+a.offsetY,a.borderColor,b,a.borderWidth);l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}else{if((m=this.helpers.getY1Y2("y2",a))>x){var M=x;x=m,m=M}var L=this.annoCtx.graphics.drawRect(0+a.offsetX,m+a.offsetY,this._getYAxisAnnotationWidth(a),x-m,0,a.fillColor,a.opacity,1,a.borderColor,b);L.node.classList.add("apexcharts-annotation-rect"),L.attr("clip-path","url(#gridRectMask".concat(y.globals.cuid,")")),l.appendChild(L.node),a.id&&L.node.classList.add(a.id)}var H=this.annoCtx.graphics.drawText({x:("right"===a.label.position?y.globals.gridWidth:"center"===a.label.position?y.globals.gridWidth/2:0)+a.label.offsetX,y:(m??x)+a.label.offsetY-3,text:S,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});H.attr({rel:f}),l.appendChild(H.node)}},{key:"_getYAxisAnnotationWidth",value:function(a){var l=this.w;return(a.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(a.width,10)/100:parseInt(a.width,10))+a.offsetX}},{key:"drawYAxisAnnotations",value:function(){var a=this,l=this.w,f=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(m,y){a.addYaxisAnnotation(m,f.node,y)}),f}}]),J}(),qe=function(){function J(a){Se(this,J),this.w=a.w,this.annoCtx=a,this.helpers=new st(this.annoCtx)}return be(J,[{key:"addPointAnnotation",value:function(a,l,f){var m=this.helpers.getX1X2("x1",a),y=this.helpers.getY1Y2("y1",a);if(he.isNumber(m)){var b={pSize:a.marker.size,pointStrokeWidth:a.marker.strokeWidth,pointFillColor:a.marker.fillColor,pointStrokeColor:a.marker.strokeColor,shape:a.marker.shape,pRadius:a.marker.radius,class:"apexcharts-point-annotation-marker ".concat(a.marker.cssClass," ").concat(a.id?a.id:"")},x=this.annoCtx.graphics.drawMarker(m+a.marker.offsetX,y+a.marker.offsetY,b);l.appendChild(x.node);var S=a.label.text?a.label.text:"",D=this.annoCtx.graphics.drawText({x:m+a.label.offsetX,y:y+a.label.offsetY-a.marker.size-parseFloat(a.label.style.fontSize)/1.6,text:S,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});if(D.attr({rel:f}),l.appendChild(D.node),a.customSVG.SVG){var M=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+a.customSVG.cssClass});M.attr({transform:"translate(".concat(m+a.customSVG.offsetX,", ").concat(y+a.customSVG.offsetY,")")}),M.node.innerHTML=a.customSVG.SVG,l.appendChild(M.node)}if(a.image.path){var L=a.image.width?a.image.width:20,O=a.image.height?a.image.height:20;x=this.annoCtx.addImage({x:m+a.image.offsetX-L/2,y:y+a.image.offsetY-O/2,width:L,height:O,path:a.image.path,appendTo:".apexcharts-point-annotations"})}a.mouseEnter&&x.node.addEventListener("mouseenter",a.mouseEnter.bind(this,a)),a.mouseLeave&&x.node.addEventListener("mouseleave",a.mouseLeave.bind(this,a)),a.click&&x.node.addEventListener("click",a.click.bind(this,a))}}},{key:"drawPointAnnotations",value:function(){var a=this,l=this.w,f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(m,y){a.addPointAnnotation(m,f.node,y)}),f}}]),J}(),tt={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Re=function(){function J(){Se(this,J),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return be(J,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[tt],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(a){return new Date(a).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(a){return a}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(a){return a+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,f){return l+f},0)/a.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(a){return a}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(a){return a}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,f){return l+f},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(a){return null!==a?a:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(a){return a?a+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),J}(),He=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.graphics=new Pe(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new st(this),this.xAxisAnnotations=new Ot(this),this.yAxisAnnotations=new We(this),this.pointsAnnotations=new qe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return be(J,[{key:"drawAxesAnnotations",value:function(){var a=this.w;if(a.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),f=this.xAxisAnnotations.drawXAxisAnnotations(),m=this.pointsAnnotations.drawPointAnnotations(),y=a.config.chart.animations.enabled,b=[l,f,m],x=[f.node,l.node,m.node],S=0;S<3;S++)a.globals.dom.elGraphical.add(b[S]),!y||a.globals.resized||a.globals.dataChanged||"scatter"!==a.config.chart.type&&"bubble"!==a.config.chart.type&&a.globals.dataPoints>1&&x[S].classList.add("apexcharts-element-hidden"),a.globals.delayedElements.push({el:x[S],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var a=this;this.w.config.annotations.images.map(function(l,f){a.addImage(l,f)})}},{key:"drawTextAnnos",value:function(){var a=this;this.w.config.annotations.texts.map(function(l,f){a.addText(l,f)})}},{key:"addXaxisAnnotation",value:function(a,l,f){this.xAxisAnnotations.addXaxisAnnotation(a,l,f)}},{key:"addYaxisAnnotation",value:function(a,l,f){this.yAxisAnnotations.addYaxisAnnotation(a,l,f)}},{key:"addPointAnnotation",value:function(a,l,f){this.pointsAnnotations.addPointAnnotation(a,l,f)}},{key:"addText",value:function(a,l){var y=a.text,O=a.backgroundColor,H=a.borderWidth,$=a.strokeDashArray,j=a.borderRadius,ee=a.borderColor,re=a.appendTo,ce=void 0===re?".apexcharts-annotations":re,ae=a.paddingLeft,A=void 0===ae?4:ae,F=a.paddingRight,X=void 0===F?4:F,Z=a.paddingBottom,le=void 0===Z?2:Z,ke=a.paddingTop,Me=void 0===ke?2:ke,at=this.w,ct=this.graphics.drawText({x:a.x,y:a.y,text:y,textAnchor:a.textAnchor||"start",fontSize:a.fontSize||"12px",fontWeight:a.fontWeight||"regular",fontFamily:a.fontFamily||at.config.chart.fontFamily,foreColor:a.foreColor||at.config.chart.foreColor,cssClass:a.cssClass}),Tt=at.globals.dom.baseEl.querySelector(ce);Tt&&Tt.appendChild(ct.node);var It=ct.bbox();if(y){var ei=this.graphics.drawRect(It.x-A,It.y-Me,It.width+A+X,It.height+le+Me,j,O||"transparent",1,H,ee,$);Tt.insertBefore(ei.node,ct.node)}}},{key:"addImage",value:function(a,l){var f=this.w,y=a.x,b=void 0===y?0:y,x=a.y,S=void 0===x?0:x,D=a.width,M=void 0===D?20:D,L=a.height,O=void 0===L?20:L,H=a.appendTo,$=void 0===H?".apexcharts-annotations":H,j=f.globals.dom.Paper.image(a.path);j.size(M,O).move(b,S);var ee=f.globals.dom.baseEl.querySelector($);return ee&&ee.appendChild(j.node),j}},{key:"addXaxisAnnotationExternal",value:function(a,l,f){return this.addAnnotationExternal({params:a,pushToMemory:l,context:f,type:"xaxis",contextMethod:f.addXaxisAnnotation}),f}},{key:"addYaxisAnnotationExternal",value:function(a,l,f){return this.addAnnotationExternal({params:a,pushToMemory:l,context:f,type:"yaxis",contextMethod:f.addYaxisAnnotation}),f}},{key:"addPointAnnotationExternal",value:function(a,l,f){return void 0===this.invertAxis&&(this.invertAxis=f.w.globals.isBarHorizontal),this.addAnnotationExternal({params:a,pushToMemory:l,context:f,type:"point",contextMethod:f.addPointAnnotation}),f}},{key:"addAnnotationExternal",value:function(a){var l=a.params,f=a.pushToMemory,m=a.context,y=a.type,b=a.contextMethod,x=m,S=x.w,D=S.globals.dom.baseEl.querySelector(".apexcharts-".concat(y,"-annotations")),M=D.childNodes.length+1,L=new Re,O=Object.assign({},"xaxis"===y?L.xAxisAnnotation:"yaxis"===y?L.yAxisAnnotation:L.pointAnnotation),H=he.extend(O,l);switch(y){case"xaxis":this.addXaxisAnnotation(H,D,M);break;case"yaxis":this.addYaxisAnnotation(H,D,M);break;case"point":this.addPointAnnotation(H,D,M)}var $=S.globals.dom.baseEl.querySelector(".apexcharts-".concat(y,"-annotations .apexcharts-").concat(y,"-annotation-label[rel='").concat(M,"']")),j=this.helpers.addBackgroundToAnno($,H);return j&&D.insertBefore(j.node,$),f&&S.globals.memory.methodsToExec.push({context:x,id:H.id?H.id:he.randomId(),method:b,label:"addAnnotation",params:l}),m}},{key:"clearAnnotations",value:function(a){var l=a.w,f=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(m,y){"addText"!==m.label&&"addAnnotation"!==m.label||l.globals.memory.methodsToExec.splice(y,1)}),f=he.listToArray(f),Array.prototype.forEach.call(f,function(m){for(;m.firstChild;)m.removeChild(m.firstChild)})}},{key:"removeAnnotation",value:function(a,l){var f=a.w,m=f.globals.dom.baseEl.querySelectorAll(".".concat(l));m&&(f.globals.memory.methodsToExec.map(function(y,b){y.id===l&&f.globals.memory.methodsToExec.splice(b,1)}),Array.prototype.forEach.call(m,function(y){y.parentElement.removeChild(y)}))}}]),J}(),Ye=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return be(J,[{key:"isValidDate",value:function(a){return!isNaN(this.parseDate(a))}},{key:"getTimeStamp",value:function(a){return Date.parse(a)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toISOString().substr(0,25)).getTime():new Date(a).getTime():a}},{key:"getDate",value:function(a){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toUTCString()):new Date(a)}},{key:"parseDate",value:function(a){var l=Date.parse(a);if(!isNaN(l))return this.getTimeStamp(a);var f=Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(f)}},{key:"parseDateWithTimezone",value:function(a){return Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(a,l){var f=this.w.globals.locale,m=this.w.config.xaxis.labels.datetimeUTC,y=["\0"].concat(et(f.months)),b=["\x01"].concat(et(f.shortMonths)),x=["\x02"].concat(et(f.days)),S=["\x03"].concat(et(f.shortDays));function D(le,ke){var Me=le+"";for(ke=ke||2;Me.length<ke;)Me="0"+Me;return Me}var M=m?a.getUTCFullYear():a.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+M)).replace(/(^|[^\\])yy/g,"$1"+M.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+M);var L=(m?a.getUTCMonth():a.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+y[0])).replace(/(^|[^\\])MMM/g,"$1"+b[0])).replace(/(^|[^\\])MM/g,"$1"+D(L))).replace(/(^|[^\\])M/g,"$1"+L);var O=m?a.getUTCDate():a.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+x[0])).replace(/(^|[^\\])ddd/g,"$1"+S[0])).replace(/(^|[^\\])dd/g,"$1"+D(O))).replace(/(^|[^\\])d/g,"$1"+O);var H=m?a.getUTCHours():a.getHours(),$=H>12?H-12:0===H?12:H;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+D(H))).replace(/(^|[^\\])H/g,"$1"+H)).replace(/(^|[^\\])hh+/g,"$1"+D($))).replace(/(^|[^\\])h/g,"$1"+$);var j=m?a.getUTCMinutes():a.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+D(j))).replace(/(^|[^\\])m/g,"$1"+j);var ee=m?a.getUTCSeconds():a.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+D(ee))).replace(/(^|[^\\])s/g,"$1"+ee);var re=m?a.getUTCMilliseconds():a.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+D(re,3)),re=Math.round(re/10),l=l.replace(/(^|[^\\])ff/g,"$1"+D(re)),re=Math.round(re/10);var ce=H<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+re)).replace(/(^|[^\\])TT+/g,"$1"+ce)).replace(/(^|[^\\])T/g,"$1"+ce.charAt(0));var ae=ce.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+ae)).replace(/(^|[^\\])t/g,"$1"+ae.charAt(0));var A=-a.getTimezoneOffset(),F=m||!A?"Z":A>0?"+":"-";if(!m){var X=(A=Math.abs(A))%60;F+=D(Math.floor(A/60))+":"+D(X)}l=l.replace(/(^|[^\\])K/g,"$1"+F);var Z=(m?a.getUTCDay():a.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(x[0],"g"),x[Z])).replace(new RegExp(S[0],"g"),S[Z])).replace(new RegExp(y[0],"g"),y[L])).replace(new RegExp(b[0],"g"),b[L])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(a,l,f){var m=this.w;void 0!==m.config.xaxis.min&&(a=m.config.xaxis.min),void 0!==m.config.xaxis.max&&(l=m.config.xaxis.max);var y=this.getDate(a),b=this.getDate(l),x=this.formatDate(y,"yyyy MM dd HH mm ss fff").split(" "),S=this.formatDate(b,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(x[6],10),maxMillisecond:parseInt(S[6],10),minSecond:parseInt(x[5],10),maxSecond:parseInt(S[5],10),minMinute:parseInt(x[4],10),maxMinute:parseInt(S[4],10),minHour:parseInt(x[3],10),maxHour:parseInt(S[3],10),minDate:parseInt(x[2],10),maxDate:parseInt(S[2],10),minMonth:parseInt(x[1],10)-1,maxMonth:parseInt(S[1],10)-1,minYear:parseInt(x[0],10),maxYear:parseInt(S[0],10)}}},{key:"isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"calculcateLastDaysOfMonth",value:function(a,l,f){return this.determineDaysOfMonths(a,l)-f}},{key:"determineDaysOfYear",value:function(a){var l=365;return this.isLeapYear(a)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(a,l,f){var m=this.daysCntOfYear[l]+f;return l>1&&this.isLeapYear()&&m++,m}},{key:"determineDaysOfMonths",value:function(a,l){var f=30;switch(a=he.monthMod(a),!0){case this.months30.indexOf(a)>-1:2===a&&(f=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(a)>-1:default:f=31}return f}}]),J}(),$e=function(J){var a,l=J.ctx,f=J.seriesIndex,m=J.dataPointIndex,y=J.y1,b=J.y2,x=J.w,S=x.globals.seriesRangeStart[f][m],D=x.globals.seriesRangeEnd[f][m],M=x.globals.labels[m],L=x.config.series[f].name?x.config.series[f].name:"",O=x.config.tooltip.y.formatter,H=x.config.tooltip.y.title.formatter,$={w:x,seriesIndex:f,dataPointIndex:m,start:S,end:D};"function"==typeof H&&(L=H(L,$)),null!==(a=x.config.series[f].data[m])&&void 0!==a&&a.x&&(M=x.config.series[f].data[m].x+":"),"function"==typeof O&&(M=O(M,$)),Number.isFinite(y)&&Number.isFinite(b)&&(S=y,D=b);var j="",ee="",re=x.globals.colors[f];if(void 0===x.config.tooltip.x.formatter)if("datetime"===x.config.xaxis.type){var ce=new Ye(l);j=ce.formatDate(ce.getDate(S),x.config.tooltip.x.format),ee=ce.formatDate(ce.getDate(D),x.config.tooltip.x.format)}else j=S,ee=D;else j=x.config.tooltip.x.formatter(S),ee=x.config.tooltip.x.formatter(D);return{start:S,end:D,startVal:j,endVal:ee,ylabel:M,color:re,seriesName:L}},bt=function(J){var a=J.color,l=J.seriesName,f=J.ylabel,m=J.start,y=J.end,b=J.seriesIndex,x=J.dataPointIndex,S=J.ctx.tooltip.tooltipLabels.getFormatters(b);m=S.yLbFormatter(m),y=S.yLbFormatter(y);var D=S.yLbFormatter(J.w.globals.series[b][x]),M='<span class="value start-value">\n  '.concat(m,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(y,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+a+'">'+(l||"")+'</span></div><div> <span class="category">'+f+" </span> "+(J.w.globals.comboCharts?"rangeArea"===J.w.config.series[b].type||"rangeBar"===J.w.config.series[b].type?M:"<span>".concat(D,"</span>"):M)+" </div></div>"},_t=function(){function J(a){Se(this,J),this.opts=a}return be(J,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(a){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,he.extend(a,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(a,l){var f=l.seriesIndex,m=l.dataPointIndex,y=l.w,b=function(){return y.globals.seriesRangeEnd[f][m]-y.globals.seriesRangeStart[f][m]};return y.globals.comboCharts?"rangeBar"===y.config.series[f].type||"rangeArea"===y.config.series[f].type?b():a:b()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(a){return a.w.config.plotOptions&&a.w.config.plotOptions.bar&&a.w.config.plotOptions.bar.horizontal?(m=(f=$e(l=a)).color,y=f.seriesName,b=f.ylabel,x=f.startVal,S=f.endVal,bt(te(te({},l),{},{color:m,seriesName:y,ylabel:b,start:x,end:S}))):function(l){var f=$e(l),m=f.color,y=f.seriesName,b=f.ylabel,x=f.start,S=f.end;return bt(te(te({},l),{},{color:m,seriesName:y,ylabel:b,start:x,end:S}))}(a);var l,f,m,y,b,x,S}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(a){return m=(f=$e(l=a)).color,y=f.seriesName,b=f.ylabel,x=f.start,S=f.end,bt(te(te({},l),{},{color:m,seriesName:y,ylabel:b,start:x,end:S}));var l,f,m,y,b,x,S}}}}},{key:"brush",value:function(a){return he.extend(a,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(a){a.dataLabels=a.dataLabels||{},a.dataLabels.formatter=a.dataLabels.formatter||void 0;var l=a.dataLabels.formatter;return a.yaxis.forEach(function(f,m){a.yaxis[m].min=0,a.yaxis[m].max=100}),"bar"===a.chart.type&&(a.dataLabels.formatter=l||function(f){return"number"==typeof f&&f?f.toFixed(0)+"%":f}),a}},{key:"convertCatToNumeric",value:function(a){return a.xaxis.convertedCatToNumeric=!0,a}},{key:"convertCatToNumericXaxis",value:function(a,l,f){a.xaxis.type="numeric",a.xaxis.labels=a.xaxis.labels||{},a.xaxis.labels.formatter=a.xaxis.labels.formatter||function(b){return he.isNumber(b)?Math.floor(b):b};var m=a.xaxis.labels.formatter,y=a.xaxis.categories&&a.xaxis.categories.length?a.xaxis.categories:a.labels;return f&&f.length&&(y=f.map(function(b){return Array.isArray(b)?b:String(b)})),y&&y.length&&(a.xaxis.labels.formatter=function(b){return he.isNumber(b)?m(y[Math.floor(b)-1]):m(b)}),a.xaxis.categories=[],a.labels=[],a.xaxis.tickAmount=a.xaxis.tickAmount||"dataPoints",a}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(a){return a},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(a,l,f,m,y){var b=a.globals.seriesCandleO[l][f],x=a.globals.seriesCandleH[l][f],S=a.globals.seriesCandleM[l][f],D=a.globals.seriesCandleL[l][f],M=a.globals.seriesCandleC[l][f];return a.config.series[l].type&&a.config.series[l].type!==y?'<div class="apexcharts-custom-tooltip">\n          '.concat(a.config.series[l].name?a.config.series[l].name:"series-"+(l+1),": <strong>").concat(a.globals.series[l][f],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(a.config.chart.type,'">')+"<div>".concat(m[0],': <span class="value">')+b+"</span></div>"+"<div>".concat(m[1],': <span class="value">')+x+"</span></div>"+(S?"<div>".concat(m[2],': <span class="value">')+S+"</span></div>":"")+"<div>".concat(m[3],': <span class="value">')+D+"</span></div>"+"<div>".concat(m[4],': <span class="value">')+M+"</span></div></div>"}}]),J}(),Kt=function(){function J(a){Se(this,J),this.opts=a}return be(J,[{key:"init",value:function(a){var l=a.responsiveOverride,f=this.opts,m=new Re,y=new _t(f);this.chartType=f.chart.type,"histogram"===this.chartType&&(f.chart.type="bar",f=he.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},f)),f=this.extendYAxis(f),f=this.extendAnnotations(f);var b=m.init(),x={};if(f&&"object"===Ne(f)){var S={};S=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(f.chart.type)?y[f.chart.type]():y.line(),f.chart.brush&&f.chart.brush.enabled&&(S=y.brush(S)),f.chart.stacked&&"100%"===f.chart.stackType&&(f=y.stacked100(f)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(f),f.xaxis=f.xaxis||window.Apex.xaxis||{},l||(f.xaxis.convertedCatToNumeric=!1),((f=this.checkForCatToNumericXAxis(this.chartType,S,f)).chart.sparkline&&f.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(S=y.sparkline(S)),x=he.extend(b,S)}var D=he.extend(x,window.Apex);return b=he.extend(D,f),this.handleUserInputErrors(b)}},{key:"checkForCatToNumericXAxis",value:function(a,l,f){var m=new _t(f);return("bar"===a||"boxPlot"===a)&&f.plotOptions&&f.plotOptions.bar&&f.plotOptions.bar.horizontal||"pie"===a||"polarArea"===a||"donut"===a||"radar"===a||"radialBar"===a||"heatmap"===a||!("datetime"!==f.xaxis.type&&"numeric"!==f.xaxis.type)||"between"===(f.xaxis.tickPlacement?f.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(f=m.convertCatToNumeric(f)),f}},{key:"extendYAxis",value:function(a,l){var f=new Re;(void 0===a.yaxis||!a.yaxis||Array.isArray(a.yaxis)&&0===a.yaxis.length)&&(a.yaxis={}),a.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(a.yaxis=he.extend(a.yaxis,window.Apex.yaxis)),a.yaxis=a.yaxis.constructor!==Array?[he.extend(f.yAxis,a.yaxis)]:he.extendArray(a.yaxis,f.yAxis);var m=!1;a.yaxis.forEach(function(b){b.logarithmic&&(m=!0)});var y=a.series;return l&&!y&&(y=l.config.series),m&&y.length!==a.yaxis.length&&y.length&&(a.yaxis=y.map(function(b,x){if(b.name||(y[x].name="series-".concat(x+1)),a.yaxis[x])return a.yaxis[x].seriesName=y[x].name,a.yaxis[x];var S=he.extend(f.yAxis,a.yaxis[0]);return S.show=!1,S})),m&&y.length>1&&y.length!==a.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),a}},{key:"extendAnnotations",value:function(a){return void 0===a.annotations&&(a.annotations={},a.annotations.yaxis=[],a.annotations.xaxis=[],a.annotations.points=[]),a=this.extendYAxisAnnotations(a),a=this.extendXAxisAnnotations(a),this.extendPointAnnotations(a)}},{key:"extendYAxisAnnotations",value:function(a){var l=new Re;return a.annotations.yaxis=he.extendArray(void 0!==a.annotations.yaxis?a.annotations.yaxis:[],l.yAxisAnnotation),a}},{key:"extendXAxisAnnotations",value:function(a){var l=new Re;return a.annotations.xaxis=he.extendArray(void 0!==a.annotations.xaxis?a.annotations.xaxis:[],l.xAxisAnnotation),a}},{key:"extendPointAnnotations",value:function(a){var l=new Re;return a.annotations.points=he.extendArray(void 0!==a.annotations.points?a.annotations.points:[],l.pointAnnotation),a}},{key:"checkForDarkTheme",value:function(a){a.theme&&"dark"===a.theme.mode&&(a.tooltip||(a.tooltip={}),"light"!==a.tooltip.theme&&(a.tooltip.theme="dark"),a.chart.foreColor||(a.chart.foreColor="#f6f7f8"),a.chart.background||(a.chart.background="#424242"),a.theme.palette||(a.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(a){var l=a;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),J}(),Kn=function(){function J(){Se(this,J)}return be(J,[{key:"initGlobalVars",value:function(a){a.series=[],a.seriesCandleO=[],a.seriesCandleH=[],a.seriesCandleM=[],a.seriesCandleL=[],a.seriesCandleC=[],a.seriesRangeStart=[],a.seriesRangeEnd=[],a.seriesRange=[],a.seriesPercent=[],a.seriesGoals=[],a.seriesX=[],a.seriesZ=[],a.seriesNames=[],a.seriesTotals=[],a.seriesLog=[],a.seriesColors=[],a.stackedSeriesTotals=[],a.seriesXvalues=[],a.seriesYvalues=[],a.labels=[],a.hasGroups=!1,a.groups=[],a.categoryLabels=[],a.timescaleLabels=[],a.noLabelsProvided=!1,a.resizeTimer=null,a.selectionResizeTimer=null,a.delayedElements=[],a.pointsArray=[],a.dataLabelsRects=[],a.isXNumeric=!1,a.xaxisLabelsCount=0,a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1,a.isDataXYZ=!1,a.isMultiLineX=!1,a.isMultipleYAxis=!1,a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE,a.minYArr=[],a.maxYArr=[],a.maxX=-Number.MAX_VALUE,a.minX=Number.MAX_VALUE,a.initialMaxX=-Number.MAX_VALUE,a.initialMinX=Number.MAX_VALUE,a.maxDate=0,a.minDate=Number.MAX_VALUE,a.minZ=Number.MAX_VALUE,a.maxZ=-Number.MAX_VALUE,a.minXDiff=Number.MAX_VALUE,a.yAxisScale=[],a.xAxisScale=null,a.xAxisTicksPositions=[],a.yLabelsCoords=[],a.yTitleCoords=[],a.barPadForNumericAxis=0,a.padHorizontal=0,a.xRange=0,a.yRange=[],a.zRange=0,a.dataPoints=0,a.xTickAmount=0}},{key:"globalVars",value:function(a){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:a.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.zoom&&a.chart.zoom.enabled,panEnabled:"pan"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.pan,selectionEnabled:"selection"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(a){var l=this.globalVars(a);return this.initGlobalVars(l),l.initialConfig=he.extend({},a),l.initialSeries=he.clone(a.series),l.lastXAxis=he.clone(l.initialConfig.xaxis),l.lastYAxis=he.clone(l.initialConfig.yaxis),l}}]),J}(),Ln=function(){function J(a){Se(this,J),this.opts=a}return be(J,[{key:"init",value:function(){var a=new Kt(this.opts).init({responsiveOverride:!1});return{config:a,globals:(new Kn).init(a)}}}]),J}(),Et=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.opts=null,this.seriesIndex=0}return be(J,[{key:"clippedImgArea",value:function(a){var l=this.w,f=l.config,m=parseInt(l.globals.gridWidth,10),y=parseInt(l.globals.gridHeight,10),b=m>y?m:y,x=a.image,S=0,D=0;void 0===a.width&&void 0===a.height?void 0!==f.fill.image.width&&void 0!==f.fill.image.height?(S=f.fill.image.width+1,D=f.fill.image.height):(S=b+1,D=b):(S=a.width,D=a.height);var M=document.createElementNS(l.globals.SVGNS,"pattern");Pe.setAttrs(M,{id:a.patternID,patternUnits:a.patternUnits?a.patternUnits:"userSpaceOnUse",width:S+"px",height:D+"px"});var L=document.createElementNS(l.globals.SVGNS,"image");M.appendChild(L),L.setAttributeNS(window.SVG.xlink,"href",x),Pe.setAttrs(L,{x:0,y:0,preserveAspectRatio:"none",width:S+"px",height:D+"px"}),L.style.opacity=a.opacity,l.globals.dom.elDefs.node.appendChild(M)}},{key:"getSeriesIndex",value:function(a){var l=this.w;return this.seriesIndex=("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||"heatmap"===l.config.chart.type||"treemap"===l.config.chart.type?a.seriesNumber:a.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(a){var l=this.w;this.opts=a;var f,m,y,b=this.w.config;this.seriesIndex=this.getSeriesIndex(a);var x=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(x=l.globals.seriesColors[this.seriesIndex]),"function"==typeof x&&(x=x({seriesIndex:this.seriesIndex,dataPointIndex:a.dataPointIndex,value:a.value,w:l}));var S=a.fillType?a.fillType:this.getFillType(this.seriesIndex),D=Array.isArray(b.fill.opacity)?b.fill.opacity[this.seriesIndex]:b.fill.opacity;a.color&&(x=a.color);var M=x;if(-1===x.indexOf("rgb")?x.length<9&&(M=he.hexToRgba(x,D)):x.indexOf("rgba")>-1&&(D=he.getOpacityFromRGBA(x)),a.opacity&&(D=a.opacity),"pattern"===S&&(m=this.handlePatternFill({fillConfig:a.fillConfig,patternFill:m,fillColor:x,fillOpacity:D,defaultColor:M})),"gradient"===S&&(y=this.handleGradientFill({fillConfig:a.fillConfig,fillColor:x,fillOpacity:D,i:this.seriesIndex})),"image"===S){var L=b.fill.image.src,O=a.patternID?a.patternID:"";this.clippedImgArea({opacity:D,image:Array.isArray(L)?a.seriesNumber<L.length?L[a.seriesNumber]:L[0]:L,width:a.width?a.width:void 0,height:a.height?a.height:void 0,patternUnits:a.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(O)}),f="url(#pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(O,")")}else f="gradient"===S?y:"pattern"===S?m:M;return a.solid&&(f=M),f}},{key:"getFillType",value:function(a){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[a]:l.config.fill.type}},{key:"getFillColors",value:function(){var a=this.w,l=a.config,f=this.opts,m=[];return a.globals.comboCharts?"line"===a.config.series[this.seriesIndex].type?Array.isArray(a.globals.stroke.colors)?m=a.globals.stroke.colors:m.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?m=a.globals.fill.colors:m.push(a.globals.fill.colors):"line"===l.chart.type?Array.isArray(a.globals.stroke.colors)?m=a.globals.stroke.colors:m.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?m=a.globals.fill.colors:m.push(a.globals.fill.colors),void 0!==f.fillColors&&(m=[],Array.isArray(f.fillColors)?m=f.fillColors.slice():m.push(f.fillColors)),m}},{key:"handlePatternFill",value:function(a){var l=a.fillConfig,m=a.fillColor,y=a.fillOpacity,b=a.defaultColor,x=this.w.config.fill;l&&(x=l);var S=this.opts,D=new Pe(this.ctx),M=Array.isArray(x.pattern.strokeWidth)?x.pattern.strokeWidth[this.seriesIndex]:x.pattern.strokeWidth,L=m;return Array.isArray(x.pattern.style)?void 0!==x.pattern.style[S.seriesNumber]?D.drawPattern(x.pattern.style[S.seriesNumber],x.pattern.width,x.pattern.height,L,M,y):b:D.drawPattern(x.pattern.style,x.pattern.width,x.pattern.height,L,M,y)}},{key:"handleGradientFill",value:function(a){var l=a.fillColor,f=a.fillOpacity,m=a.fillConfig,y=a.i,b=this.w.config.fill;m&&(b=te(te({},b),m));var x,S=this.opts,D=new Pe(this.ctx),M=new he,L=b.gradient.type,O=l,H=void 0===b.gradient.opacityFrom?f:Array.isArray(b.gradient.opacityFrom)?b.gradient.opacityFrom[y]:b.gradient.opacityFrom;O.indexOf("rgba")>-1&&(H=he.getOpacityFromRGBA(O));var $=void 0===b.gradient.opacityTo?f:Array.isArray(b.gradient.opacityTo)?b.gradient.opacityTo[y]:b.gradient.opacityTo;if(void 0===b.gradient.gradientToColors||0===b.gradient.gradientToColors.length)x=M.shadeColor("dark"===b.gradient.shade?-1*parseFloat(b.gradient.shadeIntensity):parseFloat(b.gradient.shadeIntensity),l.indexOf("rgb")>-1?he.rgb2hex(l):l);else if(b.gradient.gradientToColors[S.seriesNumber]){var j=b.gradient.gradientToColors[S.seriesNumber];x=j,j.indexOf("rgba")>-1&&($=he.getOpacityFromRGBA(j))}else x=l;if(b.gradient.gradientFrom&&(O=b.gradient.gradientFrom),b.gradient.gradientTo&&(x=b.gradient.gradientTo),b.gradient.inverseColors){var ee=O;O=x,x=ee}return O.indexOf("rgb")>-1&&(O=he.rgb2hex(O)),x.indexOf("rgb")>-1&&(x=he.rgb2hex(x)),D.drawGradient(L,O,x,H,$,S.size,b.gradient.stops,b.gradient.colorStops,y)}}]),J}(),Jn=function(){function J(a,l){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"setGlobalMarkerSize",value:function(){var a=this.w;if(a.globals.markers.size=Array.isArray(a.config.markers.size)?a.config.markers.size:[a.config.markers.size],a.globals.markers.size.length>0){if(a.globals.markers.size.length<a.globals.series.length+1)for(var l=0;l<=a.globals.series.length;l++)void 0===a.globals.markers.size[l]&&a.globals.markers.size.push(a.globals.markers.size[0])}else a.globals.markers.size=a.config.series.map(function(f){return a.config.markers.size})}},{key:"plotChartMarkers",value:function(a,l,f,m){var y,b=arguments.length>4&&void 0!==arguments[4]&&arguments[4],x=this.w,S=l,D=a,M=null,L=new Pe(this.ctx),O=x.config.markers.discrete&&x.config.markers.discrete.length;if((x.globals.markers.size[l]>0||b||O)&&(M=L.group({class:b||O?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(x.globals.cuid,")")),Array.isArray(D.x))for(var H=0;H<D.x.length;H++){var $=f;1===f&&0===H&&($=0),1===f&&1===H&&($=1);var j="apexcharts-marker";"line"!==x.config.chart.type&&"area"!==x.config.chart.type||x.globals.comboCharts||x.config.tooltip.intersect||(j+=" no-pointer-events");var ee=Array.isArray(x.config.markers.size)?x.globals.markers.size[l]>0:x.config.markers.size>0;if(ee||b||O){he.isNumber(D.y[H])?j+=" w".concat(he.randomId()):j="apexcharts-nullpoint";var re=this.getMarkerConfig({cssClass:j,seriesIndex:l,dataPointIndex:$});x.config.series[S].data[$]&&(x.config.series[S].data[$].fillColor&&(re.pointFillColor=x.config.series[S].data[$].fillColor),x.config.series[S].data[$].strokeColor&&(re.pointStrokeColor=x.config.series[S].data[$].strokeColor)),m&&(re.pSize=m),(y=L.drawMarker(D.x[H],D.y[H],re)).attr("rel",$),y.attr("j",$),y.attr("index",l),y.node.setAttribute("default-marker-size",re.pSize);var ce=new kt(this.ctx);ce.setSelectionFilter(y,l,$),this.addEvents(y),M&&M.add(y)}else void 0===x.globals.pointsArray[l]&&(x.globals.pointsArray[l]=[]),x.globals.pointsArray[l].push([D.x[H],D.y[H]])}return M}},{key:"getMarkerConfig",value:function(a){var l=a.cssClass,f=a.seriesIndex,m=a.dataPointIndex,y=void 0===m?null:m,b=a.finishRadius,x=void 0===b?null:b,S=this.w,D=this.getMarkerStyle(f),M=S.globals.markers.size[f],L=S.config.markers;return null!==y&&L.discrete.length&&L.discrete.map(function(O){O.seriesIndex===f&&O.dataPointIndex===y&&(D.pointStrokeColor=O.strokeColor,D.pointFillColor=O.fillColor,M=O.size,D.pointShape=O.shape)}),{pSize:null===x?M:x,pRadius:L.radius,width:Array.isArray(L.width)?L.width[f]:L.width,height:Array.isArray(L.height)?L.height[f]:L.height,pointStrokeWidth:Array.isArray(L.strokeWidth)?L.strokeWidth[f]:L.strokeWidth,pointStrokeColor:D.pointStrokeColor,pointFillColor:D.pointFillColor,shape:D.pointShape||(Array.isArray(L.shape)?L.shape[f]:L.shape),class:l,pointStrokeOpacity:Array.isArray(L.strokeOpacity)?L.strokeOpacity[f]:L.strokeOpacity,pointStrokeDashArray:Array.isArray(L.strokeDashArray)?L.strokeDashArray[f]:L.strokeDashArray,pointFillOpacity:Array.isArray(L.fillOpacity)?L.fillOpacity[f]:L.fillOpacity,seriesIndex:f}}},{key:"addEvents",value:function(a){var l=this.w,f=new Pe(this.ctx);a.node.addEventListener("mouseenter",f.pathMouseEnter.bind(this.ctx,a)),a.node.addEventListener("mouseleave",f.pathMouseLeave.bind(this.ctx,a)),a.node.addEventListener("mousedown",f.pathMouseDown.bind(this.ctx,a)),a.node.addEventListener("click",l.config.markers.onClick),a.node.addEventListener("dblclick",l.config.markers.onDblClick),a.node.addEventListener("touchstart",f.pathMouseDown.bind(this.ctx,a),{passive:!0})}},{key:"getMarkerStyle",value:function(a){var l=this.w,f=l.globals.markers.colors,m=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(m)?m[a]:m,pointFillColor:Array.isArray(f)?f[a]:f}}}]),J}(),mi=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return be(J,[{key:"draw",value:function(a,l,f){var m=this.w,y=new Pe(this.ctx),b=f.realIndex,x=f.pointsPos,S=f.zRatio,D=f.elParent,M=y.group({class:"apexcharts-series-markers apexcharts-series-".concat(m.config.chart.type)});if(M.attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(x.x))for(var L=0;L<x.x.length;L++){var O=l+1,H=!0;0===l&&0===L&&(O=0),0===l&&1===L&&(O=1);var $=0,j=m.globals.markers.size[b];if(S!==1/0){var ee=m.config.plotOptions.bubble;j=m.globals.seriesZ[b][O],ee.zScaling&&(j/=S),ee.minBubbleRadius&&j<ee.minBubbleRadius&&(j=ee.minBubbleRadius),ee.maxBubbleRadius&&j>ee.maxBubbleRadius&&(j=ee.maxBubbleRadius)}m.config.chart.animations.enabled||($=j);var ce=x.y[L];if($=$||0,null!==ce&&void 0!==m.globals.series[b][O]||(H=!1),H){var ae=this.drawPoint(x.x[L],ce,$,j,b,O,l);M.add(ae)}D.add(M)}}},{key:"drawPoint",value:function(a,l,f,m,y,b,x){var S=this.w,D=y,M=new Bt(this.ctx),L=new kt(this.ctx),O=new Et(this.ctx),H=new Jn(this.ctx),$=new Pe(this.ctx),j=H.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:D,dataPointIndex:b,finishRadius:"bubble"===S.config.chart.type||S.globals.comboCharts&&S.config.series[y]&&"bubble"===S.config.series[y].type?m:null});m=j.pSize;var ee,re=O.fillPath({seriesNumber:y,dataPointIndex:b,color:j.pointFillColor,patternUnits:"objectBoundingBox",value:S.globals.series[y][x]});if("circle"===j.shape?ee=$.drawCircle(f):"square"!==j.shape&&"rect"!==j.shape||(ee=$.drawRect(0,0,j.width-j.pointStrokeWidth/2,j.height-j.pointStrokeWidth/2,j.pRadius)),S.config.series[D].data[b]&&S.config.series[D].data[b].fillColor&&(re=S.config.series[D].data[b].fillColor),ee.attr({x:a-j.width/2-j.pointStrokeWidth/2,y:l-j.height/2-j.pointStrokeWidth/2,cx:a,cy:l,fill:re,"fill-opacity":j.pointFillOpacity,stroke:j.pointStrokeColor,r:m,"stroke-width":j.pointStrokeWidth,"stroke-dasharray":j.pointStrokeDashArray,"stroke-opacity":j.pointStrokeOpacity}),S.config.chart.dropShadow.enabled&&L.dropShadow(ee,S.config.chart.dropShadow,y),!this.initialAnim||S.globals.dataChanged||S.globals.resized?S.globals.animationEnded=!0:M.animateMarker(ee,0,"circle"===j.shape?m:{width:j.width,height:j.height},S.config.chart.animations.speed,S.globals.easing,function(){window.setTimeout(function(){M.animationCompleted(ee)},100)}),S.globals.dataChanged&&"circle"===j.shape)if(this.dynamicAnim){var A,F,X,Z,le=S.config.chart.animations.dynamicAnimation.speed;null!=(Z=S.globals.previousPaths[y]&&S.globals.previousPaths[y][x])&&(A=Z.x,F=Z.y,X=void 0!==Z.r?Z.r:m);for(var ke=0;ke<S.globals.collapsedSeries.length;ke++)S.globals.collapsedSeries[ke].index===y&&(le=1,m=0);0===a&&0===l&&(m=0),M.animateCircle(ee,{cx:A,cy:F,r:X},{cx:a,cy:l,r:m},le,S.globals.easing)}else ee.attr({r:m});return ee.attr({rel:b,j:b,index:y,"default-marker-size":m}),L.setSelectionFilter(ee,y,b),H.addEvents(ee),ee.node.classList.add("apexcharts-marker"),ee}},{key:"centerTextInBubble",value:function(a){return{y:a+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),J}(),Nn=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"dataLabelsCorrection",value:function(a,l,f,m,y,b,x){var S=this.w,D=!1,M=new Pe(this.ctx).getTextRects(f,x),L=M.width,O=M.height;if(l<0&&(l=0),l>S.globals.gridHeight+O&&(l=S.globals.gridHeight+O/2),void 0===S.globals.dataLabelsRects[m]&&(S.globals.dataLabelsRects[m]=[]),S.globals.dataLabelsRects[m].push({x:a,y:l,width:L,height:O}),void 0!==S.globals.dataLabelsRects[m][S.globals.dataLabelsRects[m].length-2]){var j=S.globals.dataLabelsRects[m][void 0!==S.globals.lastDrawnDataLabelsIndexes[m]?S.globals.lastDrawnDataLabelsIndexes[m][S.globals.lastDrawnDataLabelsIndexes[m].length-1]:0];(a>j.x+j.width+2||l>j.y+j.height+2||a+L<j.x)&&(D=!0)}return(0===y||b)&&(D=!0),{x:a,y:l,textRects:M,drawnextLabel:D}}},{key:"drawDataLabel",value:function(a){var l=this,f=a.type,m=a.pos,y=a.i,b=a.j,x=a.isRangeStart,S=a.strokeWidth,D=void 0===S?2:S,M=this.w,L=new Pe(this.ctx),O=M.config.dataLabels,H=0,$=0,j=b,ee=null;if(!O.enabled||!Array.isArray(m.x))return ee;ee=L.group({class:"apexcharts-data-labels"});for(var re=0;re<m.x.length;re++)if(H=m.x[re]+O.offsetX,$=m.y[re]+O.offsetY+D,!isNaN(H)){1===b&&0===re&&(j=0),1===b&&1===re&&(j=1);var ce=M.globals.series[y][j];"rangeArea"===f&&(ce=x?M.globals.seriesRangeStart[y][j]:M.globals.seriesRangeEnd[y][j]);var ae="",A=function(F){return M.config.dataLabels.formatter(F,{ctx:l.ctx,seriesIndex:y,dataPointIndex:j,w:M})};"bubble"===M.config.chart.type?(ae=A(ce=M.globals.seriesZ[y][j]),$=m.y[re],$=new mi(this.ctx).centerTextInBubble($,y,j).y):void 0!==ce&&(ae=A(ce)),this.plotDataLabelsText({x:H,y:$,text:ae,i:y,j,parent:ee,offsetCorrection:!0,dataLabelsConfig:M.config.dataLabels})}return ee}},{key:"plotDataLabelsText",value:function(a){var l=this.w,f=new Pe(this.ctx),m=a.x,y=a.y,b=a.i,x=a.j,S=a.text,D=a.textAnchor,M=a.fontSize,L=a.parent,O=a.dataLabelsConfig,H=a.color,$=a.alwaysDrawDataLabel,j=a.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(b)<0)){var ee={x:m,y,drawnextLabel:!0,textRects:null};j&&(ee=this.dataLabelsCorrection(m,y,S,b,x,$,parseInt(O.style.fontSize,10))),l.globals.zoomed||(m=ee.x,y=ee.y),ee.textRects&&(m<-10-ee.textRects.width||m>l.globals.gridWidth+ee.textRects.width+10)&&(S="");var re=l.globals.dataLabels.style.colors[b];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&(re=l.globals.dataLabels.style.colors[x]),"function"==typeof re&&(re=re({series:l.globals.series,seriesIndex:b,dataPointIndex:x,w:l})),H&&(re=H);var ce=O.offsetX,ae=O.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(ce=0,ae=0),ee.drawnextLabel){var A=f.drawText({width:100,height:parseInt(O.style.fontSize,10),x:m+ce,y:y+ae,foreColor:re,textAnchor:D||O.textAnchor,text:S,fontSize:M||O.style.fontSize,fontFamily:O.style.fontFamily,fontWeight:O.style.fontWeight||"normal"});if(A.attr({class:"apexcharts-datalabel",cx:m,cy:y}),O.dropShadow.enabled){var F=O.dropShadow;new kt(this.ctx).dropShadow(A,F)}L.add(A),void 0===l.globals.lastDrawnDataLabelsIndexes[b]&&(l.globals.lastDrawnDataLabelsIndexes[b]=[]),l.globals.lastDrawnDataLabelsIndexes[b].push(x)}}}},{key:"addBackgroundToDataLabel",value:function(a,l){var f=this.w,m=f.config.dataLabels.background,y=m.padding,b=m.padding/2,x=l.width,S=l.height,D=new Pe(this.ctx).drawRect(l.x-y,l.y-b/2,x+2*y,S+b,m.borderRadius,"transparent"===f.config.chart.background?"#fff":f.config.chart.background,m.opacity,m.borderWidth,m.borderColor);return m.dropShadow.enabled&&new kt(this.ctx).dropShadow(D,m.dropShadow),D}},{key:"dataLabelsBackground",value:function(){var a=this.w;if("bubble"!==a.config.chart.type)for(var l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),f=0;f<l.length;f++){var m=l[f],y=m.getBBox(),b=null;if(y.width&&y.height&&(b=this.addBackgroundToDataLabel(m,y)),b){m.parentNode.insertBefore(b.node,m);var x=m.getAttribute("fill");!a.config.chart.animations.enabled||a.globals.resized||a.globals.dataChanged?b.attr({fill:x}):b.animate().attr({fill:x}),m.setAttribute("fill",a.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var a=this.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),f=a.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),m=0;m<l.length;m++)f&&f.insertBefore(l[m],f.nextSibling)}}]),J}(),Sn=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.legendInactiveClass="legend-mouseover-inactive"}return be(J,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(a){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(he.escapeString(a),"']"))}},{key:"isSeriesHidden",value:function(a){var l=this.getSeriesByName(a),f=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:f}}},{key:"addCollapsedClassToSeries",value:function(a,l){var f=this.w;function m(y){for(var b=0;b<y.length;b++)y[b].index===l&&a.node.classList.add("apexcharts-series-collapsed")}m(f.globals.collapsedSeries),m(f.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(a){var l=this.isSeriesHidden(a);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=this.w,y=he.clone(m.globals.initialSeries);m.globals.previousPaths=[],f?(m.globals.collapsedSeries=[],m.globals.ancillaryCollapsedSeries=[],m.globals.collapsedSeriesIndices=[],m.globals.ancillaryCollapsedSeriesIndices=[]):y=this.emptyCollapsedSeries(y),m.config.series=y,a&&(l&&(m.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(y,m.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(a){for(var l=this.w,f=0;f<a.length;f++)l.globals.collapsedSeriesIndices.indexOf(f)>-1&&(a[f].data=[]);return a}},{key:"toggleSeriesOnHover",value:function(a,l){var f=this.w;l||(l=a.target);var m=f.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===a.type){var y=parseInt(l.getAttribute("rel"),10)-1,b=null,x=null;f.globals.axisCharts||"radialBar"===f.config.chart.type?f.globals.axisCharts?(b=f.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(y,"']")),x=f.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(y,"']"))):b=f.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(y+1,"']")):b=f.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(y+1,"'] path"));for(var S=0;S<m.length;S++)m[S].classList.add(this.legendInactiveClass);null!==b&&(f.globals.axisCharts||b.parentNode.classList.remove(this.legendInactiveClass),b.classList.remove(this.legendInactiveClass),null!==x&&x.classList.remove(this.legendInactiveClass))}else if("mouseout"===a.type)for(var D=0;D<m.length;D++)m[D].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(a,l){var f=this,m=this.w,y=m.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),b=function(S){for(var D=0;D<y.length;D++)y[D].classList[S](f.legendInactiveClass)};if("mousemove"===a.type){var x=parseInt(l.getAttribute("rel"),10)-1;b("add"),function(S){for(var D=0;D<y.length;D++){var M=parseInt(y[D].getAttribute("val"),10);M>=S.from&&M<=S.to&&y[D].classList.remove(f.legendInactiveClass)}}(m.config.plotOptions.heatmap.colorScale.ranges[x])}else"mouseout"===a.type&&b("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],f=this.w,m=0;if(f.config.series.length>1)for(var y=f.config.series.map(function(x,S){return x.data&&x.data.length>0&&-1===f.globals.collapsedSeriesIndices.indexOf(S)&&(!f.globals.comboCharts||0===l.length||l.length&&l.indexOf(f.config.series[S].type)>-1)?S:-1}),b="asc"===a?0:y.length-1;"asc"===a?b<y.length:b>=0;"asc"===a?b++:b--)if(-1!==y[b]){m=y[b];break}return m}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(a,l){return"bar"===a.type||"column"===a.type?l:-1}).filter(function(a){return-1!==a}):this.w.config.series.map(function(a,l){return l})}},{key:"getPreviousPaths",value:function(){var a=this.w;function l(b,x,S){for(var D=b[x].childNodes,M={type:S,paths:[],realIndex:b[x].getAttribute("data:realIndex")},L=0;L<D.length;L++)if(D[L].hasAttribute("pathTo")){var O=D[L].getAttribute("pathTo");M.paths.push({d:O})}a.globals.previousPaths.push(M)}a.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(b){for(var S=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(b,"-series .apexcharts-series")),D=0;D<S.length;D++)l(S,D,b)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var f=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series"));if(f.length>0)for(var m=function(b){for(var x=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(b,"'] rect")),S=[],D=function(L){var O=function($){return x[L].getAttribute($)},H={x:parseFloat(O("x")),y:parseFloat(O("y")),width:parseFloat(O("width")),height:parseFloat(O("height"))};S.push({rect:H,color:x[L].getAttribute("color")})},M=0;M<x.length;M++)D(M);a.globals.previousPaths.push(S)},y=0;y<f.length;y++)m(y);a.globals.axisCharts||(a.globals.previousPaths=a.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(a){var l=this.w,f=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"));if(f.length>0)for(var m=0;m<f.length;m++){for(var y=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series[data\\:realIndex='").concat(m,"'] circle")),b=[],x=0;x<y.length;x++)b.push({x:y[x].getAttribute("cx"),y:y[x].getAttribute("cy"),r:y[x].getAttribute("r")});l.globals.previousPaths.push(b)}}},{key:"clearPreviousPaths",value:function(){var a=this.w;a.globals.previousPaths=[],a.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var a=this.w,l=a.config.noData,f=new Pe(this.ctx),m=a.globals.svgWidth/2,y=a.globals.svgHeight/2,b="middle";if(a.globals.noData=!0,a.globals.animationEnded=!0,"left"===l.align?(m=10,b="start"):"right"===l.align&&(m=a.globals.svgWidth-10,b="end"),"top"===l.verticalAlign?y=50:"bottom"===l.verticalAlign&&(y=a.globals.svgHeight-50),m+=l.offsetX,y=y+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var x=f.drawText({x:m,y,text:l.text,textAnchor:b,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});a.globals.dom.Paper.add(x)}}},{key:"setNullSeriesToZeroValues",value:function(a){for(var l=this.w,f=0;f<a.length;f++)if(0===a[f].length)for(var m=0;m<a[l.globals.maxValsInArrayIndex].length;m++)a[f].push(0);return a}},{key:"hasAllSeriesEqualX",value:function(){for(var a=!0,l=this.w,f=this.filteredSeriesX(),m=0;m<f.length-1;m++)if(f[m][0]!==f[m+1][0]){a=!1;break}return l.globals.allSeriesHasEqualX=a,a}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),J}(),On=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new it(this.ctx)}return be(J,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var a=this.w.config.series.slice(),l=new Sn(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!==a[this.activeSeriesIndex].data[0]&&void 0!==a[this.activeSeriesIndex].data[0].x&&null!==a[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var a=this.w.config.series.slice(),l=new Sn(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!=a[this.activeSeriesIndex].data[0]&&a[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(a,l){for(var f=this.w.config,m=this.w.globals,y="boxPlot"===f.chart.type||"boxPlot"===f.series[l].type,b=0;b<a[l].data.length;b++)if(void 0!==a[l].data[b][1]&&(Array.isArray(a[l].data[b][1])&&4===a[l].data[b][1].length&&!y?this.twoDSeries.push(he.parseNumber(a[l].data[b][1][3])):this.twoDSeries.push(he.parseNumber(a[l].data[b].length>=5?a[l].data[b][4]:a[l].data[b][1])),m.dataFormatXNumeric=!0),"datetime"===f.xaxis.type){var x=new Date(a[l].data[b][0]);x=new Date(x).getTime(),this.twoDSeriesX.push(x)}else this.twoDSeriesX.push(a[l].data[b][0]);for(var S=0;S<a[l].data.length;S++)void 0!==a[l].data[S][2]&&(this.threeDSeries.push(a[l].data[S][2]),m.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(a,l){var f=this.w.config,m=this.w.globals,y=new Ye(this.ctx),b=l;m.collapsedSeriesIndices.indexOf(l)>-1&&(b=this.activeSeriesIndex);for(var x=0;x<a[l].data.length;x++)void 0!==a[l].data[x].y&&(Array.isArray(a[l].data[x].y)?this.twoDSeries.push(he.parseNumber(a[l].data[x].y[a[l].data[x].y.length-1])):this.twoDSeries.push(he.parseNumber(a[l].data[x].y))),void 0!==a[l].data[x].goals&&Array.isArray(a[l].data[x].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(a[l].data[x].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var S=0;S<a[b].data.length;S++){var D="string"==typeof a[b].data[S].x,M=Array.isArray(a[b].data[S].x),L=!M&&!!y.isValidDate(a[b].data[S].x.toString());D||L?D||f.xaxis.convertedCatToNumeric?"datetime"!==f.xaxis.type||m.isBarHorizontal&&m.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[b].data[S].x)):this.twoDSeriesX.push(y.parseDate(a[b].data[S].x)):"datetime"===f.xaxis.type?this.twoDSeriesX.push(y.parseDate(a[b].data[S].x.toString())):(m.dataFormatXNumeric=!0,m.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(a[b].data[S].x))):M?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[b].data[S].x)):(m.isXNumeric=!0,m.dataFormatXNumeric=!0,this.twoDSeriesX.push(a[b].data[S].x))}if(a[l].data[0]&&void 0!==a[l].data[0].z){for(var H=0;H<a[l].data.length;H++)this.threeDSeries.push(a[l].data[H].z);m.isDataXYZ=!0}}},{key:"handleRangeData",value:function(a,l){var f=this.w.globals,m={};return this.isFormat2DArray()?m=this.handleRangeDataFormat("array",a,l):this.isFormatXY()&&(m=this.handleRangeDataFormat("xy",a,l)),f.seriesRangeStart.push(m.start),f.seriesRangeEnd.push(m.end),f.seriesRange.push(m.rangeUniques),f.seriesRange.forEach(function(y,b){y&&y.forEach(function(x,S){x.y.forEach(function(D,M){for(var L=0;L<x.y.length;L++)M!==L&&D.y1<=x.y[L].y2&&x.y[L].y1<=D.y2&&(x.overlaps.indexOf(D.rangeName)<0&&x.overlaps.push(D.rangeName),x.overlaps.indexOf(x.y[L].rangeName)<0&&x.overlaps.push(x.y[L].rangeName))})})}),m}},{key:"handleCandleStickBoxData",value:function(a,l){var f=this.w.globals,m={};return this.isFormat2DArray()?m=this.handleCandleStickBoxDataFormat("array",a,l):this.isFormatXY()&&(m=this.handleCandleStickBoxDataFormat("xy",a,l)),f.seriesCandleO[l]=m.o,f.seriesCandleH[l]=m.h,f.seriesCandleM[l]=m.m,f.seriesCandleL[l]=m.l,f.seriesCandleC[l]=m.c,m}},{key:"handleRangeDataFormat",value:function(a,l,f){var m=[],y=[],b=l[f].data.filter(function(M,L,O){return L===O.findIndex(function(H){return H.x===M.x})}).map(function(M,L){return{x:M.x,overlaps:[],y:[]}});if("array"===a)for(var x=0;x<l[f].data.length;x++)Array.isArray(l[f].data[x])?(m.push(l[f].data[x][1][0]),y.push(l[f].data[x][1][1])):(m.push(l[f].data[x]),y.push(l[f].data[x]));else if("xy"===a)for(var S=function(M){var L=Array.isArray(l[f].data[M].y),O=he.randomId(),H=l[f].data[M].x,$={y1:L?l[f].data[M].y[0]:l[f].data[M].y,y2:L?l[f].data[M].y[1]:l[f].data[M].y,rangeName:O};l[f].data[M].rangeName=O;var j=b.findIndex(function(ee){return ee.x===H});b[j].y.push($),m.push($.y1),y.push($.y2)},D=0;D<l[f].data.length;D++)S(D);return{start:m,end:y,rangeUniques:b}}},{key:"handleCandleStickBoxDataFormat",value:function(a,l,f){var m=this.w,y="boxPlot"===m.config.chart.type||"boxPlot"===m.config.series[f].type,b=[],x=[],S=[],D=[],M=[];if("array"===a)if(y&&6===l[f].data[0].length||!y&&5===l[f].data[0].length)for(var L=0;L<l[f].data.length;L++)b.push(l[f].data[L][1]),x.push(l[f].data[L][2]),y?(S.push(l[f].data[L][3]),D.push(l[f].data[L][4]),M.push(l[f].data[L][5])):(D.push(l[f].data[L][3]),M.push(l[f].data[L][4]));else for(var O=0;O<l[f].data.length;O++)Array.isArray(l[f].data[O][1])&&(b.push(l[f].data[O][1][0]),x.push(l[f].data[O][1][1]),y?(S.push(l[f].data[O][1][2]),D.push(l[f].data[O][1][3]),M.push(l[f].data[O][1][4])):(D.push(l[f].data[O][1][2]),M.push(l[f].data[O][1][3])));else if("xy"===a)for(var H=0;H<l[f].data.length;H++)Array.isArray(l[f].data[H].y)&&(b.push(l[f].data[H].y[0]),x.push(l[f].data[H].y[1]),y?(S.push(l[f].data[H].y[2]),D.push(l[f].data[H].y[3]),M.push(l[f].data[H].y[4])):(D.push(l[f].data[H].y[2]),M.push(l[f].data[H].y[3])));return{o:b,h:x,m:S,l:D,c:M}}},{key:"parseDataAxisCharts",value:function(a){var l=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,m=this.w.config,y=this.w.globals,b=new Ye(f),x=m.labels.length>0?m.labels.slice():m.xaxis.categories.slice();y.isRangeBar="rangeBar"===m.chart.type&&y.isBarHorizontal,y.hasGroups="category"===m.xaxis.type&&m.xaxis.group.groups.length>0,y.hasGroups&&(y.groups=m.xaxis.group.groups);for(var S=function(){for(var L=0;L<x.length;L++)if("string"==typeof x[L]){if(!b.isValidDate(x[L]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");l.twoDSeriesX.push(b.parseDate(x[L]))}else l.twoDSeriesX.push(x[L])},D=0;D<a.length;D++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===a[D].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==m.chart.type&&"rangeArea"!==m.chart.type&&"rangeBar"!==a[D].type&&"rangeArea"!==a[D].type||(y.isRangeData=!0,y.isComboCharts?"rangeBar"!==a[D].type&&"rangeArea"!==a[D].type||this.handleRangeData(a,D):"rangeBar"!==m.chart.type&&"rangeArea"!==m.chart.type||this.handleRangeData(a,D)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(a,D):this.isFormatXY()&&this.handleFormatXY(a,D),"candlestick"!==m.chart.type&&"candlestick"!==a[D].type&&"boxPlot"!==m.chart.type&&"boxPlot"!==a[D].type||this.handleCandleStickBoxData(a,D),y.series.push(this.twoDSeries),y.labels.push(this.twoDSeriesX),y.seriesX.push(this.twoDSeriesX),y.seriesGoals=this.seriesGoals,D!==this.activeSeriesIndex||this.fallbackToCategory||(y.isXNumeric=!0);else{"datetime"===m.xaxis.type?(y.isXNumeric=!0,S(),y.seriesX.push(this.twoDSeriesX)):"numeric"===m.xaxis.type&&(y.isXNumeric=!0,x.length>0&&(this.twoDSeriesX=x,y.seriesX.push(this.twoDSeriesX))),y.labels.push(this.twoDSeriesX);var M=a[D].data.map(function(L){return he.parseNumber(L)});y.series.push(M)}y.seriesZ.push(this.threeDSeries),y.seriesNames.push(void 0!==a[D].name?a[D].name:"series-"+parseInt(D+1,10)),y.seriesColors.push(void 0!==a[D].color?a[D].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(a){var l=this.w.globals,f=this.w.config;l.series=a.slice(),l.seriesNames=f.labels.slice();for(var m=0;m<l.series.length;m++)void 0===l.seriesNames[m]&&l.seriesNames.push("series-"+(m+1));return this.w}},{key:"handleExternalLabelsData",value:function(a){var l=this.w.config,f=this.w.globals;l.xaxis.categories.length>0?f.labels=l.xaxis.categories:l.labels.length>0?f.labels=l.labels.slice():this.fallbackToCategory?(f.labels=f.labels[0],f.seriesRange.length&&(f.seriesRange.map(function(m){m.forEach(function(y){f.labels.indexOf(y.x)<0&&y.x&&f.labels.push(y.x)})}),f.labels=f.labels.filter(function(m,y,b){return b.indexOf(m)===y})),l.xaxis.convertedCatToNumeric&&(new _t(l).convertCatToNumericXaxis(l,this.ctx,f.seriesX[0]),this._generateExternalLabels(a))):this._generateExternalLabels(a)}},{key:"_generateExternalLabels",value:function(a){var l=this.w.globals,f=this.w.config,m=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var y=f.series.map(function(L,O){return L.data.filter(function(H,$,j){return j.findIndex(function(ee){return ee.x===H.x})===$})}),b=y.reduce(function(L,O,H,$){return $[L].length>O.length?L:H},0),x=0;x<y[b].length;x++)m.push(x+1);else for(var S=0;S<l.series[l.maxValsInArrayIndex].length;S++)m.push(S+1);l.seriesX=[];for(var D=0;D<a.length;D++)l.seriesX.push(m);l.isXNumeric=!0}if(0===m.length){m=l.axisCharts?[]:l.series.map(function(L,O){return O+1});for(var M=0;M<a.length;M++)l.seriesX.push(m)}l.labels=m,f.xaxis.convertedCatToNumeric&&(l.categoryLabels=m.map(function(L){return f.xaxis.labels.formatter(L)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(a){var l=this.w,f=l.config,m=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),m.axisCharts?(this.parseDataAxisCharts(a),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(a),"bar"===f.chart.type&&f.chart.stacked){var y=new Sn(this.ctx);m.series=y.setNullSeriesToZeroValues(m.series)}this.coreUtils.getSeriesTotals(),m.axisCharts&&(m.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),m.dataFormatXNumeric||m.isXNumeric&&("numeric"!==f.xaxis.type||0!==f.labels.length||0!==f.xaxis.categories.length)||this.handleExternalLabelsData(a);for(var b=this.coreUtils.getCategoryLabels(m.labels),x=0;x<b.length;x++)if(Array.isArray(b[x])){m.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var a=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(f,m){if(a.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return f.index})}}]),J}(),wn=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.tooltipKeyFormat="dd MMM"}return be(J,[{key:"xLabelFormat",value:function(a,l,f,m){var y=this.w;if("datetime"===y.config.xaxis.type&&void 0===y.config.xaxis.labels.formatter&&void 0===y.config.tooltip.x.formatter){var b=new Ye(this.ctx);return b.formatDate(b.getDate(l),y.config.tooltip.x.format)}return a(l,f,m)}},{key:"defaultGeneralFormatter",value:function(a){return Array.isArray(a)?a.map(function(l){return l}):a}},{key:"defaultYFormatter",value:function(a,l,f){var m=this.w;return he.isNumber(a)&&(a=a.toFixed(0!==m.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:m.globals.yValueDecimal:m.globals.maxYArr[f]-m.globals.minYArr[f]<5?1:0)),a}},{key:"setLabelFormatters",value:function(){var a=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(f){return a.defaultGeneralFormatter(f)},l.globals.ttKeyFormatter=function(f){return a.defaultGeneralFormatter(f)},l.globals.ttZFormatter=function(f){return f},l.globals.legendFormatter=function(f){return a.defaultGeneralFormatter(f)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(f){if(he.isNumber(f)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(he.isNumber(l.config.xaxis.decimalsInFloat))return f.toFixed(l.config.xaxis.decimalsInFloat);var m=l.globals.maxX-l.globals.minX;return f.toFixed(m>0&&m<100?1:0)}return f.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return f},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(f,m){l.globals.yLabelFormatters[m]=void 0!==f.labels.formatter?f.labels.formatter:function(y){return l.globals.xyCharts?Array.isArray(y)?y.map(function(b){return a.defaultYFormatter(b,f,m)}):a.defaultYFormatter(y,f,m):y}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var a=this.w;if("heatmap"===a.config.chart.type){a.globals.yAxisScale[0].result=a.globals.seriesNames.slice();var l=a.globals.seriesNames.reduce(function(f,m){return f.length>m.length?f:m},0);a.globals.yAxisScale[0].niceMax=l,a.globals.yAxisScale[0].niceMin=l}}}]),J}(),Ri=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"getLabel",value:function(a,l,f,m){var y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",x=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],S=this.w,D=void 0===a[m]?"":a[m],M=D,L=S.globals.xLabelFormatter,O=S.config.xaxis.labels.formatter,H=!1,$=new wn(this.ctx),j=D;x&&(M=$.xLabelFormat(L,D,j,{i:m,dateFormatter:new Ye(this.ctx).formatDate,w:S}),void 0!==O&&(M=O(D,a[m],{i:m,dateFormatter:new Ye(this.ctx).formatDate,w:S})));var ee=function(A){var F=null;return l.forEach(function(X){"month"===X.unit?F="year":"day"===X.unit?F="month":"hour"===X.unit?F="day":"minute"===X.unit&&(F="hour")}),F===A};l.length>0?(H=ee(l[m].unit),f=l[m].position,M=l[m].value):"datetime"===S.config.xaxis.type&&void 0===O&&(M=""),void 0===M&&(M=""),M=Array.isArray(M)?M:M.toString();var re=new Pe(this.ctx),ce={};ce=S.globals.rotateXLabels&&x?re.getTextRects(M,parseInt(b,10),null,"rotate(".concat(S.config.xaxis.labels.rotate," 0 0)"),!1):re.getTextRects(M,parseInt(b,10));var ae=!S.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(M)&&(0===M.indexOf("NaN")||0===M.toLowerCase().indexOf("invalid")||M.toLowerCase().indexOf("infinity")>=0||y.indexOf(M)>=0&&ae)&&(M=""),{x:f,text:M,textRect:ce,isBold:H}}},{key:"checkLabelBasedOnTickamount",value:function(a,l,f){var m=this.w,y=m.config.xaxis.tickAmount;return"dataPoints"===y&&(y=Math.round(m.globals.gridWidth/120)),y>f||a%Math.round(f/(y+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(a,l,f,m,y){var b=this.w;if(0===a&&b.globals.skipFirstTimelinelabel&&(l.text=""),a===f-1&&b.globals.skipLastTimelinelabel&&(l.text=""),b.config.xaxis.labels.hideOverlappingLabels&&m.length>0){var x=y[y.length-1];l.x<x.textRect.width/(b.globals.rotateXLabels?Math.abs(b.config.xaxis.labels.rotate)/12:1.01)+x.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(a,l){var f=this.w;return f.config.yaxis[a]&&f.config.yaxis[a].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(a){var l=this.w,f=new it(this.ctx);return!l.config.yaxis[a].show||!l.config.yaxis[a].showForNullSeries&&f.isSeriesNull(a)&&-1===l.globals.collapsedSeriesIndices.indexOf(a)}},{key:"getYAxisForeColor",value:function(a,l){var f=this.w;return Array.isArray(a)&&f.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(a,f.globals.yAxisScale[l].result.length,!1),a}},{key:"drawYAxisTicks",value:function(a,l,f,m,y,b,x){var S=this.w,D=new Pe(this.ctx),M=S.globals.translateY;if(m.show&&l>0){!0===S.config.yaxis[y].opposite&&(a+=m.width);for(var L=l;L>=0;L--){var O=M+l/10+S.config.yaxis[y].labels.offsetY-1;S.globals.isBarHorizontal&&(O=b*L),"heatmap"===S.config.chart.type&&(O+=b/2);var H=D.drawLine(a+f.offsetX-m.width+m.offsetX,O+m.offsetY,a+f.offsetX+m.offsetX,O+m.offsetY,m.color);x.add(H),M+=b}}}}]),J}(),Us=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"scaleSvgNode",value:function(a,l){var f=parseFloat(a.getAttributeNS(null,"width")),m=parseFloat(a.getAttributeNS(null,"height"));a.setAttributeNS(null,"width",f*l),a.setAttributeNS(null,"height",m*l),a.setAttributeNS(null,"viewBox","0 0 "+f+" "+m)}},{key:"fixSvgStringForIe11",value:function(a){if(!he.isIE11())return a.replace(/&nbsp;/g,"&#160;");var l=0,f=a.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(m){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':m});return(f=f.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(a){null==a&&(a=1);var l=this.w.globals.dom.Paper.svg();if(1!==a){var f=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(f,a),l=(new XMLSerializer).serializeToString(f)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),f=a.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(m,function(y){y.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),f&&f[0]&&(f[0].setAttribute("y",-100),f[0].setAttribute("y1",-100),f[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var a=this.getSvgString(),l=new Blob([a],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(a){var l=this;return new Promise(function(f){var m=l.w,y=a?a.scale||a.width/m.globals.svgWidth:1;l.cleanup();var b=document.createElement("canvas");b.width=m.globals.svgWidth*y,b.height=parseInt(m.globals.dom.elWrap.style.height,10)*y;var x="transparent"===m.config.chart.background?"#fff":m.config.chart.background,S=b.getContext("2d");S.fillStyle=x,S.fillRect(0,0,b.width*y,b.height*y);var D=l.getSvgString(y);if(window.canvg&&he.isIE11()){var M=window.canvg.Canvg.fromString(S,D,{ignoreClear:!0,ignoreDimensions:!0});M.start();var L=b.msToBlob();M.stop(),f({blob:L})}else{var O="data:image/svg+xml,"+encodeURIComponent(D),H=new Image;H.crossOrigin="anonymous",H.onload=function(){if(S.drawImage(H,0,0),b.msToBlob){var $=b.msToBlob();f({blob:$})}else{var j=b.toDataURL("image/png");f({imgURI:j})}},H.src=O}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var a=this;this.dataURI().then(function(l){var f=l.imgURI,m=l.blob;m?navigator.msSaveOrOpenBlob(m,a.w.globals.chartID+".png"):a.triggerDownload(f,a.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(a){var l=this,f=a.series,m=a.fileName,y=a.columnDelimiter,b=void 0===y?",":y,x=a.lineDelimiter,S=void 0===x?"\n":x,D=this.w;f||(f=D.config.series);var M=[],L=[],O="",H=D.globals.series.map(function(ae,A){return-1===D.globals.collapsedSeriesIndices.indexOf(A)?ae:[]}),$=Math.max.apply(Math,et(f.map(function(ae){return ae.data?ae.data.length:0}))),j=new On(this.ctx),ee=new Ri(this.ctx),re=function(ae){var A="";if(D.globals.axisCharts){if("category"===D.config.xaxis.type||D.config.xaxis.convertedCatToNumeric)if(D.globals.isBarHorizontal){var F=D.globals.yLabelFormatters[0],X=new Sn(l.ctx).getActiveConfigSeriesIndex();A=F(D.globals.labels[ae],{seriesIndex:X,dataPointIndex:ae,w:D})}else A=ee.getLabel(D.globals.labels,D.globals.timescaleLabels,0,ae).text;"datetime"===D.config.xaxis.type&&(D.config.xaxis.categories.length?A=D.config.xaxis.categories[ae]:D.config.labels.length&&(A=D.config.labels[ae]))}else A=D.config.labels[ae];return Array.isArray(A)&&(A=A.join(" ")),he.isNumber(A)?A:A.split(b).join("")};M.push(D.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===D.config.chart.type?(M.push("minimum"),M.push("q1"),M.push("median"),M.push("q3"),M.push("maximum")):"candlestick"===D.config.chart.type?(M.push("open"),M.push("high"),M.push("low"),M.push("close")):"rangeBar"===D.config.chart.type?(M.push("minimum"),M.push("maximum")):f.map(function(ae,A){var F=ae.name?ae.name:"series-".concat(A);D.globals.axisCharts&&M.push(F.split(b).join("")?F.split(b).join(""):"series-".concat(A))}),D.globals.axisCharts||(M.push(D.config.chart.toolbar.export.csv.headerValue),L.push(M.join(b))),f.map(function(ae,A){D.globals.axisCharts?function(ae,A){if(M.length&&0===A&&L.push(M.join(b)),ae.data){ae.data=ae.data.length&&ae.data||et(Array($)).map(function(){return""});for(var F=0;F<ae.data.length;F++){M=[];var X=re(F);if(X||(j.isFormatXY()?X=f[A].data[F].x:j.isFormat2DArray()&&(X=f[A].data[F]?f[A].data[F][0]:"")),0===A){M.push("datetime"===D.config.xaxis.type&&String(X).length>=10?D.config.chart.toolbar.export.csv.dateFormatter(X):he.isNumber(X)?X:X.split(b).join(""));for(var Z=0;Z<D.globals.series.length;Z++)j.isFormatXY()?M.push(f[Z].data[F].y):M.push(H[Z][F])}("candlestick"===D.config.chart.type||ae.type&&"candlestick"===ae.type)&&(M.pop(),M.push(D.globals.seriesCandleO[A][F]),M.push(D.globals.seriesCandleH[A][F]),M.push(D.globals.seriesCandleL[A][F]),M.push(D.globals.seriesCandleC[A][F])),("boxPlot"===D.config.chart.type||ae.type&&"boxPlot"===ae.type)&&(M.pop(),M.push(D.globals.seriesCandleO[A][F]),M.push(D.globals.seriesCandleH[A][F]),M.push(D.globals.seriesCandleM[A][F]),M.push(D.globals.seriesCandleL[A][F]),M.push(D.globals.seriesCandleC[A][F])),"rangeBar"===D.config.chart.type&&(M.pop(),M.push(D.globals.seriesRangeStart[A][F]),M.push(D.globals.seriesRangeEnd[A][F])),M.length&&L.push(M.join(b))}}}(ae,A):((M=[]).push(D.globals.labels[A].split(b).join("")),M.push(H[A]),L.push(M.join(b)))}),O+=L.join(S),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+O),m||D.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(a,l,f){var m=document.createElement("a");m.href=a,m.download=(l||this.w.globals.chartID)+f,document.body.appendChild(m),m.click(),document.body.removeChild(m)}}]),J}(),ns=function(){function J(a,l){Se(this,J),this.ctx=a,this.elgrid=l,this.w=a.w;var f=this.w;this.axesUtils=new Ri(a),this.xaxisLabels=f.globals.labels.slice(),f.globals.timescaleLabels.length>0&&!f.globals.isBarHorizontal&&(this.xaxisLabels=f.globals.timescaleLabels.slice()),f.config.xaxis.overwriteCategories&&(this.xaxisLabels=f.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===f.config.xaxis.position?0:f.globals.gridHeight+1,this.offY=this.offY+f.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.xaxisBorderWidth=f.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=f.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?f.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=f.config.xaxis.axisBorder.height,this.yaxis=f.config.yaxis[0]}return be(J,[{key:"drawXaxis",value:function(){var a=this.w,l=new Pe(this.ctx),f=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(a.config.xaxis.offsetX,", ").concat(a.config.xaxis.offsetY,")")}),m=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});f.add(m);for(var y=[],b=0;b<this.xaxisLabels.length;b++)y.push(this.xaxisLabels[b]);if(this.drawXAxisLabelAndGroup(!0,l,m,y,a.globals.isXNumeric,function($,j){return j}),a.globals.hasGroups){var x=a.globals.groups;y=[];for(var S=0;S<x.length;S++)y.push(x[S].title);var D={};a.config.xaxis.group.style&&(D.xaxisFontSize=a.config.xaxis.group.style.fontSize,D.xaxisFontFamily=a.config.xaxis.group.style.fontFamily,D.xaxisForeColors=a.config.xaxis.group.style.colors,D.fontWeight=a.config.xaxis.group.style.fontWeight,D.cssClass=a.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,m,y,!1,function($,j){return x[$].cols*j},D)}if(void 0!==a.config.xaxis.title.text){var M=l.group({class:"apexcharts-xaxis-title"}),L=l.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===a.config.xaxis.title.position?a.globals.xAxisLabelsHeight:-a.globals.xAxisLabelsHeight-10)+a.config.xaxis.title.offsetY,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});M.add(L),f.add(M)}if(a.config.xaxis.axisBorder.show){var O=a.globals.barPadForNumericAxis,H=l.drawLine(a.globals.padHorizontal+a.config.xaxis.axisBorder.offsetX-O,this.offY,this.xaxisBorderWidth+O,this.offY,a.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(H):f.add(H)}return f}},{key:"drawXAxisLabelAndGroup",value:function(a,l,f,m,y,b){var x,S=this,D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},M=[],L=[],O=this.w,H=D.xaxisFontSize||this.xaxisFontSize,$=D.xaxisFontFamily||this.xaxisFontFamily,j=D.xaxisForeColors||this.xaxisForeColors,ee=D.fontWeight||O.config.xaxis.labels.style.fontWeight,re=D.cssClass||O.config.xaxis.labels.style.cssClass,ce=O.globals.padHorizontal,ae=m.length,A="category"===O.config.xaxis.type?O.globals.dataPoints:ae;if(0===A&&ae>A&&(A=ae),y){var F=A>1?A-1:A;ce=ce+b(0,x=O.globals.gridWidth/F)/2+O.config.xaxis.labels.offsetX}else ce=ce+b(0,x=O.globals.gridWidth/A)+O.config.xaxis.labels.offsetX;for(var X=function(le){var ke=ce-b(le,x)/2+O.config.xaxis.labels.offsetX;0===le&&1===ae&&x/2===ce&&1===A&&(ke=O.globals.gridWidth/2);var Me=S.axesUtils.getLabel(m,O.globals.timescaleLabels,ke,le,M,H,a),at=28;if(O.globals.rotateXLabels&&a&&(at=22),O.config.xaxis.title.text&&"top"===O.config.xaxis.position&&(at+=parseFloat(O.config.xaxis.title.style.fontSize)+2),a||(at=at+parseFloat(H)+(O.globals.xAxisLabelsHeight-O.globals.xAxisGroupLabelsHeight)+(O.globals.rotateXLabels?10:0)),Me=void 0!==O.config.xaxis.tickAmount&&"dataPoints"!==O.config.xaxis.tickAmount&&"datetime"!==O.config.xaxis.type?S.axesUtils.checkLabelBasedOnTickamount(le,Me,ae):S.axesUtils.checkForOverflowingLabels(le,Me,ae,M,L),a&&Me.text&&O.globals.xaxisLabelsCount++,O.config.xaxis.labels.show){var ct=l.drawText({x:Me.x,y:S.offY+O.config.xaxis.labels.offsetY+at-("top"===O.config.xaxis.position?O.globals.xAxisHeight+O.config.xaxis.axisTicks.height-2:0),text:Me.text,textAnchor:"middle",fontWeight:Me.isBold?600:ee,fontSize:H,fontFamily:$,foreColor:Array.isArray(j)?a&&O.config.xaxis.convertedCatToNumeric?j[O.globals.minX+le-1]:j[le]:j,isPlainText:!1,cssClass:(a?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+re});if(f.add(ct),ct.on("click",function(It){if("function"==typeof O.config.chart.events.xAxisLabelClick){var ei=Object.assign({},O,{labelIndex:le});O.config.chart.events.xAxisLabelClick(It,S.ctx,ei)}}),a){var Tt=document.createElementNS(O.globals.SVGNS,"title");Tt.textContent=Array.isArray(Me.text)?Me.text.join(" "):Me.text,ct.node.appendChild(Tt),""!==Me.text&&(M.push(Me.text),L.push(Me))}}le<ae-1&&(ce+=b(le+1,x))},Z=0;Z<=ae-1;Z++)X(Z)}},{key:"drawXaxisInversed",value:function(a){var l,f,m=this,y=this.w,b=new Pe(this.ctx),x=y.config.yaxis[0].opposite?y.globals.translateYAxisX[a]:0,S=b.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:a}),D=b.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+x+", 0)"});S.add(D);var M=[];if(y.config.yaxis[a].show)for(var L=0;L<this.xaxisLabels.length;L++)M.push(this.xaxisLabels[L]);f=-(l=y.globals.gridHeight/M.length)/2.2;var O=y.globals.yLabelFormatters[0],H=y.config.yaxis[0].labels;if(H.show)for(var $=function(F){var X=void 0===M[F]?"":M[F];X=O(X,{seriesIndex:a,dataPointIndex:F,w:y});var Z=m.axesUtils.getYAxisForeColor(H.style.colors,a),le=0;Array.isArray(X)&&(le=X.length/2*parseInt(H.style.fontSize,10));var ke=b.drawText({x:H.offsetX-15,y:f+l+H.offsetY-le,text:X,textAnchor:m.yaxis.opposite?"start":"end",foreColor:Array.isArray(Z)?Z[F]:Z,fontSize:H.style.fontSize,fontFamily:H.style.fontFamily,fontWeight:H.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+H.style.cssClass,maxWidth:H.maxWidth});D.add(ke),ke.on("click",function(ct){if("function"==typeof y.config.chart.events.xAxisLabelClick){var Tt=Object.assign({},y,{labelIndex:F});y.config.chart.events.xAxisLabelClick(ct,m.ctx,Tt)}});var Me=document.createElementNS(y.globals.SVGNS,"title");if(Me.textContent=Array.isArray(X)?X.join(" "):X,ke.node.appendChild(Me),0!==y.config.yaxis[a].labels.rotate){var at=b.rotateAroundCenter(ke.node);ke.node.setAttribute("transform","rotate(".concat(y.config.yaxis[a].labels.rotate," 0 ").concat(at.y,")"))}f+=l},j=0;j<=M.length-1;j++)$(j);if(void 0!==y.config.yaxis[0].title.text){var ee=b.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+x+", 0)"}),re=b.drawText({x:y.config.yaxis[0].title.offsetX,y:y.globals.gridHeight/2+y.config.yaxis[0].title.offsetY,text:y.config.yaxis[0].title.text,textAnchor:"middle",foreColor:y.config.yaxis[0].title.style.color,fontSize:y.config.yaxis[0].title.style.fontSize,fontWeight:y.config.yaxis[0].title.style.fontWeight,fontFamily:y.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+y.config.yaxis[0].title.style.cssClass});ee.add(re),S.add(ee)}var ce=0;this.isCategoryBarHorizontal&&y.config.yaxis[0].opposite&&(ce=y.globals.gridWidth);var ae=y.config.xaxis.axisBorder;if(ae.show){var A=b.drawLine(y.globals.padHorizontal+ae.offsetX+ce,1+ae.offsetY,y.globals.padHorizontal+ae.offsetX+ce,y.globals.gridHeight+ae.offsetY,ae.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(A):S.add(A)}return y.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(ce,M.length,y.config.yaxis[0].axisBorder,y.config.yaxis[0].axisTicks,0,l,S),S}},{key:"drawXaxisTicks",value:function(a,l,f){var m=this.w,y=a;if(!(a<0||a-2>m.globals.gridWidth)){var b=this.offY+m.config.xaxis.axisTicks.offsetY;if(l=l+b+m.config.xaxis.axisTicks.height,"top"===m.config.xaxis.position&&(l=b-m.config.xaxis.axisTicks.height),m.config.xaxis.axisTicks.show){var x=new Pe(this.ctx).drawLine(a+m.config.xaxis.axisTicks.offsetX,b+m.config.xaxis.offsetY,y+m.config.xaxis.axisTicks.offsetX,l+m.config.xaxis.offsetY,m.config.xaxis.axisTicks.color);f.add(x),x.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var a=this.w,l=[],f=this.xaxisLabels.length,m=a.globals.padHorizontal;if(a.globals.timescaleLabels.length>0)for(var y=0;y<f;y++)l.push(m=this.xaxisLabels[y].position);else for(var b=f,x=0;x<b;x++){var S=b;a.globals.isXNumeric&&"bar"!==a.config.chart.type&&(S-=1),l.push(m+=a.globals.gridWidth/S)}return l}},{key:"xAxisLabelCorrections",value:function(){var a=this.w,l=new Pe(this.ctx),f=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),y=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),b=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(a.globals.rotateXLabels||a.config.xaxis.labels.rotateAlways)for(var x=0;x<m.length;x++){var S=l.rotateAroundCenter(m[x]);S.y=S.y-1,S.x=S.x+1,m[x].setAttribute("transform","rotate(".concat(a.config.xaxis.labels.rotate," ").concat(S.x," ").concat(S.y,")")),m[x].setAttribute("text-anchor","end"),f.setAttribute("transform","translate(0, ".concat(-10,")")),a.config.xaxis.labels.trim&&Array.prototype.forEach.call(m[x].childNodes,function(H){l.placeTextWithEllipsis(H,H.textContent,a.globals.xAxisLabelsHeight-("bottom"===a.config.legend.position?20:10))})}else!function(){for(var H=a.globals.gridWidth/(a.globals.labels.length+1),$=0;$<m.length;$++)a.config.xaxis.labels.trim&&"datetime"!==a.config.xaxis.type&&Array.prototype.forEach.call(m[$].childNodes,function(ee){l.placeTextWithEllipsis(ee,ee.textContent,H)})}();if(y.length>0){var M=y[y.length-1].getBBox(),L=y[0].getBBox();M.x<-20&&y[y.length-1].parentNode.removeChild(y[y.length-1]),L.x+L.width>a.globals.gridWidth&&!a.globals.isBarHorizontal&&y[0].parentNode.removeChild(y[0]);for(var O=0;O<b.length;O++)l.placeTextWithEllipsis(b[O],b[O].textContent,a.config.yaxis[0].labels.maxWidth-(a.config.yaxis[0].title.text?2*parseFloat(a.config.yaxis[0].title.style.fontSize):0)-15)}}}]),J}(),Di=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new Ri(a),this.isRangeBar=l.globals.seriesRange.length,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return be(J,[{key:"drawGridArea",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,f=new Pe(this.ctx);null===a&&(a=f.group({class:"apexcharts-grid"}));var m=f.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),y=f.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return a.add(y),a.add(m),a}},{key:"drawGrid",value:function(){var a=null;return this.w.globals.axisCharts&&(a=this.renderGrid(),this.drawGridArea(a.el)),a}},{key:"createGridMask",value:function(){var a=this.w,l=a.globals,f=new Pe(this.ctx),m=Array.isArray(a.config.stroke.width)?0:a.config.stroke.width;if(Array.isArray(a.config.stroke.width)){var y=0;a.config.stroke.width.forEach(function(L){y=Math.max(y,L)}),m=y}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var b=a.config.chart.type,x=0,S=0;("bar"===b||"rangeBar"===b||"candlestick"===b||"boxPlot"===b||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&(S=a.config.grid.padding.right,l.barPadForNumericAxis>(x=a.config.grid.padding.left)&&(x=l.barPadForNumericAxis,S=l.barPadForNumericAxis)),l.dom.elGridRect=f.drawRect(-m/2-x-2,-m/2,l.gridWidth+m+S+x+4,l.gridHeight+m,0,"#fff");var D=a.globals.markers.largestSize+1;l.dom.elGridRectMarker=f.drawRect(2*-D,2*-D,l.gridWidth+4*D,l.gridHeight+4*D,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var M=l.dom.baseEl.querySelector("defs");M.appendChild(l.dom.elGridRectMask),M.appendChild(l.dom.elForecastMask),M.appendChild(l.dom.elNonForecastMask),M.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(a){var l=a.i,f=a.x1,x=a.xCount,D=this.w;if(!(0===l&&D.globals.skipFirstTimelinelabel||l===x-1&&D.globals.skipLastTimelinelabel&&!D.config.xaxis.labels.formatter||"radar"===D.config.chart.type)){D.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,x1:f,y1:a.y1,x2:a.x2,y2:a.y2,xCount:x,parent:a.parent});var M=0;if(D.globals.hasGroups&&"between"===D.config.xaxis.tickPlacement){var L=D.globals.groups;if(L){for(var O=0,H=0;O<l&&H<L.length;H++)O+=L[H].cols;O===l&&(M=.6*D.globals.xAxisLabelsHeight)}}new ns(this.ctx).drawXaxisTicks(f,M,D.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(a){var l=a.i,f=a.x1,m=a.y1,y=a.x2,b=a.y2,x=a.xCount,S=a.parent,D=this.w,M=!1,L=S.node.classList.contains("apexcharts-gridlines-horizontal"),O=D.config.grid.strokeDashArray,H=D.globals.barPadForNumericAxis;(0===m&&0===b||0===f&&0===y)&&(M=!0),m===D.globals.gridHeight&&b===D.globals.gridHeight&&(M=!0),!D.globals.isBarHorizontal||0!==l&&l!==x-1||(M=!0);var $=new Pe(this).drawLine(f-(L?H:0),m,y+(L?H:0),b,D.config.grid.borderColor,O);$.node.classList.add("apexcharts-gridline"),M?this.elGridBorders.add($):S.add($)}},{key:"_drawGridBandRect",value:function(a){var l=a.c,f=a.x1,m=a.y1,y=a.x2,b=a.y2,x=a.type,S=this.w,D=new Pe(this.ctx),M=S.globals.barPadForNumericAxis;if("column"!==x||"datetime"!==S.config.xaxis.type){var O=D.drawRect(f-("row"===x?M:0),m,y+("row"===x?2*M:0),b,0,S.config.grid[x].colors[l],S.config.grid[x].opacity);this.elg.add(O),O.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")")),O.node.classList.add("apexcharts-grid-".concat(x))}}},{key:"_drawXYLines",value:function(a){var l=this,f=a.xCount,m=a.tickAmount,y=this.w;if(y.config.grid.xaxis.lines.show||y.config.xaxis.axisTicks.show){var b,x=y.globals.padHorizontal,S=y.globals.gridHeight;y.globals.timescaleLabels.length?function($){for(var j=$.xC,re=$.y1,ae=$.y2,A=0;A<j;A++)l._drawGridLines({i:A,x1:l.xaxisLabels[A].position,y1:re,x2:l.xaxisLabels[A].position,y2:ae,xCount:f,parent:l.elgridLinesV})}({xC:f,x1:x,y1:0,x2:b,y2:S}):(y.globals.isXNumeric&&(f=y.globals.xAxisScale.result.length),y.config.xaxis.convertedCatToNumeric&&(f=y.globals.xaxisLabelsCount),function($){var j=$.xC,ee=$.x1,re=$.y1,ce=$.x2,ae=$.y2;if(void 0!==y.config.xaxis.tickAmount&&"dataPoints"!==y.config.xaxis.tickAmount&&"on"===y.config.xaxis.tickPlacement)y.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(F,X){var Z=F.getBBox();l._drawGridLines({i:X,x1:Z.x+Z.width/2,y1:re,x2:Z.x+Z.width/2,y2:ae,xCount:f,parent:l.elgridLinesV})});else for(var A=0;A<j+(y.globals.isXNumeric?0:1);A++)0===A&&1===j&&1===y.globals.dataPoints&&(ce=ee=y.globals.gridWidth/2),l._drawGridLines({i:A,x1:ee,y1:re,x2:ce,y2:ae,xCount:f,parent:l.elgridLinesV}),ce=ee+=y.globals.gridWidth/(y.globals.isXNumeric?j-1:j)}({xC:f,x1:x,y1:0,x2:b,y2:S}))}if(y.config.grid.yaxis.lines.show){var D=0,M=0,L=y.globals.gridWidth,O=m+1;this.isRangeBar&&(O=y.globals.labels.length);for(var H=0;H<O+(this.isRangeBar?1:0);H++)this._drawGridLine({i:H,xCount:O+(this.isRangeBar?1:0),x1:0,y1:D,x2:L,y2:M,parent:this.elgridLinesH}),M=D+=y.globals.gridHeight/(this.isRangeBar?O:m)}}},{key:"_drawInvertedXYLines",value:function(a){var l=a.xCount,f=this.w;if(f.config.grid.xaxis.lines.show||f.config.xaxis.axisTicks.show)for(var m,y=f.globals.padHorizontal,b=f.globals.gridHeight,x=0;x<l+1;x++)f.config.grid.xaxis.lines.show&&this._drawGridLine({i:x,xCount:l+1,x1:y,y1:0,x2:m,y2:b,parent:this.elgridLinesV}),new ns(this.ctx).drawXaxisTicks(y,0,f.globals.dom.elGraphical),m=y=y+f.globals.gridWidth/l+.3;if(f.config.grid.yaxis.lines.show)for(var S=0,D=0,M=f.globals.gridWidth,L=0;L<f.globals.dataPoints+1;L++)this._drawGridLine({i:L,xCount:f.globals.dataPoints+1,x1:0,y1:S,x2:M,y2:D,parent:this.elgridLinesH}),D=S+=f.globals.gridHeight/f.globals.dataPoints}},{key:"renderGrid",value:function(){var a=this.w,l=new Pe(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=l.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),a.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var f,m=a.globals.yAxisScale.length?a.globals.yAxisScale[0].result.length-1:5,y=0;y<a.globals.series.length&&(void 0!==a.globals.yAxisScale[y]&&(m=a.globals.yAxisScale[y].result.length-1),!(m>2));y++);return!a.globals.isBarHorizontal||this.isRangeBar?(f=this.xaxisLabels.length,this.isRangeBar&&(m=a.globals.labels.length,a.config.xaxis.tickAmount&&a.config.xaxis.labels.formatter&&(f=a.config.xaxis.tickAmount)),this._drawXYLines({xCount:f,tickAmount:m})):this._drawInvertedXYLines({xCount:f=m,tickAmount:m=a.globals.xTickAmount}),this.drawGridBands(f,m),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:a.globals.gridWidth/f}}},{key:"drawGridBands",value:function(a,l){var f=this.w;if(void 0!==f.config.grid.row.colors&&f.config.grid.row.colors.length>0)for(var m=0,y=f.globals.gridHeight/l,b=f.globals.gridWidth,x=0,S=0;x<l;x++,S++)S>=f.config.grid.row.colors.length&&(S=0),this._drawGridBandRect({c:S,x1:0,y1:m,x2:b,y2:y,type:"row"}),m+=f.globals.gridHeight/l;if(void 0!==f.config.grid.column.colors&&f.config.grid.column.colors.length>0)for(var D=f.globals.isBarHorizontal||"category"!==f.config.xaxis.type&&!f.config.xaxis.convertedCatToNumeric?a:a-1,M=f.globals.padHorizontal,L=f.globals.padHorizontal+f.globals.gridWidth/D,O=f.globals.gridHeight,H=0,$=0;H<a;H++,$++)$>=f.config.grid.column.colors.length&&($=0),this._drawGridBandRect({c:$,x1:M,y1:0,x2:L,y2:O,type:"column"}),M+=f.globals.gridWidth/D}}]),J}(),Es=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"niceScale",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,y=arguments.length>4?arguments[4]:void 0,b=this.w,x=Math.abs(l-a);if("dataPoints"===(f=this._adjustTicksForSmallRange(f,m,x))&&(f=b.globals.dataPoints-1),a===Number.MIN_VALUE&&0===l||!he.isNumber(a)&&!he.isNumber(l)||a===Number.MIN_VALUE&&l===-Number.MAX_VALUE){var S=this.linearScale(a=0,l=f,f);return S}a>l?(console.warn("axis.min cannot be greater than axis.max"),l=a+.1):a===l&&(a=0===a?0:a-.5,l=0===l?2:l+.5);var D=[];x<1&&y&&("candlestick"===b.config.chart.type||"candlestick"===b.config.series[m].type||"boxPlot"===b.config.chart.type||"boxPlot"===b.config.series[m].type||b.globals.isRangeData)&&(l*=1.01);var M=f+1;M<2?M=2:M>2&&(M-=2);var L=x/M,O=Math.floor(he.log10(L)),H=Math.pow(10,O),$=Math.round(L/H);$<1&&($=1);var j=$*H,ee=j*Math.floor(a/j),re=j*Math.ceil(l/j),ce=ee;if(y&&x>2){for(;D.push(ce),!((ce+=j)>re););return{result:D,niceMin:D[0],niceMax:D[D.length-1]}}var ae=a;(D=[]).push(ae);for(var A=Math.abs(l-a)/f,F=0;F<=f;F++)D.push(ae+=A);return D[D.length-2]>=l&&D.pop(),{result:D,niceMin:D[0],niceMax:D[D.length-1]}}},{key:"linearScale",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,m=arguments.length>3?arguments[3]:void 0,y=Math.abs(l-a);"dataPoints"===(f=this._adjustTicksForSmallRange(f,m,y))&&(f=this.w.globals.dataPoints-1);var b=y/f;f===Number.MAX_VALUE&&(f=10,b=1);for(var x=[],S=a;f>=0;)x.push(S),S+=b,f-=1;return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"logarithmicScaleNice",value:function(a,l,f){l<=0&&(l=Math.max(a,f)),a<=0&&(a=Math.min(l,f));for(var m=[],y=Math.ceil(Math.log(l)/Math.log(f)+1),b=Math.floor(Math.log(a)/Math.log(f));b<y;b++)m.push(Math.pow(f,b));return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScale",value:function(a,l,f){l<=0&&(l=Math.max(a,f)),a<=0&&(a=Math.min(l,f));for(var m=[],y=Math.log(l)/Math.log(f),b=Math.log(a)/Math.log(f),x=y-b,S=Math.round(x),D=x/S,M=0,L=b;M<S;M++,L+=D)m.push(Math.pow(f,L));return m.push(Math.pow(f,y)),{result:m,niceMin:a,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(a,l,f){var m=a;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var y=this.w.config.yaxis[l].labels.formatter(1);he.isNumber(Number(y))&&!he.isFloat(y)&&(m=Math.ceil(f))}return m<a?m:a}},{key:"setYScaleForIndex",value:function(a,l,f){var m=this.w.globals,y=this.w.config,b=m.isBarHorizontal?y.xaxis:y.yaxis[a];void 0===m.yAxisScale[a]&&(m.yAxisScale[a]=[]);var x=Math.abs(f-l);b.logarithmic&&x<=5&&(m.invalidLogScale=!0),b.logarithmic&&x>5?(m.allSeriesCollapsed=!1,m.yAxisScale[a]=this.logarithmicScale(l,f,b.logBase),m.yAxisScale[a]=b.forceNiceScale?this.logarithmicScaleNice(l,f,b.logBase):this.logarithmicScale(l,f,b.logBase)):f!==-Number.MAX_VALUE&&he.isNumber(f)?(m.allSeriesCollapsed=!1,m.yAxisScale[a]=void 0===b.min&&void 0===b.max||b.forceNiceScale?this.niceScale(l,f,b.tickAmount?b.tickAmount:x<5&&x>1?x+1:5,a,void 0===y.yaxis[a].max&&void 0===y.yaxis[a].min||y.yaxis[a].forceNiceScale):this.linearScale(l,f,b.tickAmount,a)):m.yAxisScale[a]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(a,l){var f=this.w,m=f.globals,y=f.config.xaxis,b=Math.abs(l-a);return m.xAxisScale=l!==-Number.MAX_VALUE&&he.isNumber(l)?this.linearScale(a,l,y.tickAmount?y.tickAmount:b<5&&b>1?b+1:5,0):this.linearScale(0,5,5),m.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,l=this.w.globals,f=this.w.config,m=l.minYArr.concat([]),y=l.maxYArr.concat([]),b=[];f.yaxis.forEach(function(x,S){var D=S;f.series.forEach(function(O,H){O.name===x.seriesName&&(D=H,b.push(S!==H?{index:H,similarIndex:S,alreadyExists:!0}:{index:H}))}),a.setYScaleForIndex(S,m[D],y[D])}),this.sameScaleInMultipleAxes(m,y,b)}},{key:"sameScaleInMultipleAxes",value:function(a,l,f){var m=this,y=this.w.config,b=this.w.globals,x=[];f.forEach(function(j){j.alreadyExists&&(void 0===x[j.index]&&(x[j.index]=[]),x[j.index].push(j.index),x[j.index].push(j.similarIndex))}),b.yAxisSameScaleIndices=x,x.forEach(function(j,ee){x.forEach(function(re,ce){var ae,A;ee!==ce&&(ae=j,A=re,ae.filter(function(F){return-1!==A.indexOf(F)})).length>0&&(x[ee]=x[ee].concat(x[ce]))})});var S=x.map(function(j){return j.filter(function(ee,re){return j.indexOf(ee)===re})}).map(function(j){return j.sort()});x=x.filter(function(j){return!!j});var D=S.slice(),M=D.map(function(j){return JSON.stringify(j)});D=D.filter(function(j,ee){return M.indexOf(JSON.stringify(j))===ee});var L=[],O=[];a.forEach(function(j,ee){D.forEach(function(re,ce){re.indexOf(ee)>-1&&(void 0===L[ce]&&(L[ce]=[],O[ce]=[]),L[ce].push({key:ee,value:j}),O[ce].push({key:ee,value:l[ee]}))})});var H=Array.apply(null,Array(D.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),$=Array.apply(null,Array(D.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);L.forEach(function(j,ee){j.forEach(function(re,ce){H[ee]=Math.min(re.value,H[ee])})}),O.forEach(function(j,ee){j.forEach(function(re,ce){$[ee]=Math.max(re.value,$[ee])})}),a.forEach(function(j,ee){O.forEach(function(re,ce){var ae=H[ce],A=$[ce];y.chart.stacked&&(A=0,re.forEach(function(F,X){F.value!==-Number.MAX_VALUE&&(A+=F.value),ae!==Number.MIN_VALUE&&(ae+=L[ce][X].value)})),re.forEach(function(F,X){re[X].key===ee&&(void 0!==y.yaxis[ee].min&&(ae="function"==typeof y.yaxis[ee].min?y.yaxis[ee].min(b.minY):y.yaxis[ee].min),void 0!==y.yaxis[ee].max&&(A="function"==typeof y.yaxis[ee].max?y.yaxis[ee].max(b.maxY):y.yaxis[ee].max),m.setYScaleForIndex(ee,ae,A))})})})}},{key:"autoScaleY",value:function(a,l,f){a||(a=this);var m=a.w;if(m.globals.isMultipleYAxis||m.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),l;var y=m.globals.seriesX[0],b=m.config.chart.stacked;return l.forEach(function(x,S){for(var D=0,M=0;M<y.length;M++)if(y[M]>=f.xaxis.min){D=M;break}var L,O,H=m.globals.minYArr[S],$=m.globals.maxYArr[S],j=m.globals.stackedSeriesTotals;m.globals.series.forEach(function(ee,re){var ce=ee[D];b?(L=O=ce=j[D],j.forEach(function(ae,A){y[A]<=f.xaxis.max&&y[A]>=f.xaxis.min&&(ae>O&&null!==ae&&(O=ae),ee[A]<L&&null!==ee[A]&&(L=ee[A]))})):(L=O=ce,ee.forEach(function(ae,A){if(y[A]<=f.xaxis.max&&y[A]>=f.xaxis.min){var F=ae,X=ae;m.globals.series.forEach(function(Z,le){null!==ae&&(F=Math.min(Z[A],F),X=Math.max(Z[A],X))}),X>O&&null!==X&&(O=X),F<L&&null!==F&&(L=F)}})),void 0===L&&void 0===O&&(L=H,O=$),O*=O<0?.9:1.1,0==(L*=L<0?1.1:.9)&&0===O&&(L=-1,O=1),O<0&&O<$&&(O=$),L<0&&L>H&&(L=H),l.length>1?(l[re].min=void 0===x.min?L:x.min,l[re].max=void 0===x.max?O:x.max):(l[0].min=void 0===x.min?L:x.min,l[0].max=void 0===x.max?O:x.max)})}),l}}]),J}(),sr=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.scales=new Es(a)}return be(J,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=this.w.config,b=this.w.globals,x=-Number.MAX_VALUE,S=Number.MIN_VALUE;null===m&&(m=a+1);var D=b.series,M=D,L=D;"candlestick"===y.chart.type?(M=b.seriesCandleL,L=b.seriesCandleH):"boxPlot"===y.chart.type?(M=b.seriesCandleO,L=b.seriesCandleC):b.isRangeData&&(M=b.seriesRangeStart,L=b.seriesRangeEnd);for(var O=a;O<m;O++){b.dataPoints=Math.max(b.dataPoints,D[O].length),b.categoryLabels.length&&(b.dataPoints=b.categoryLabels.filter(function(j){return void 0!==j}).length);for(var H=0;H<b.series[O].length;H++){var $=D[O][H];null!==$&&he.isNumber($)?(void 0!==L[O][H]&&(x=Math.max(x,L[O][H]),l=Math.min(l,L[O][H])),void 0!==M[O][H]&&(l=Math.min(l,M[O][H]),f=Math.max(f,M[O][H])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==b.seriesCandleC[O][H]&&(x=Math.max(x,b.seriesCandleO[O][H]),x=Math.max(x,b.seriesCandleH[O][H]),x=Math.max(x,b.seriesCandleL[O][H]),x=Math.max(x,b.seriesCandleC[O][H]),"boxPlot"===this.w.config.chart.type&&(x=Math.max(x,b.seriesCandleM[O][H]))),!y.series[O].type||"candlestick"===y.series[O].type&&"boxPlot"===y.series[O].type&&"rangeArea"===y.series[O].type&&"rangeBar"===y.series[O].type||(x=Math.max(x,b.series[O][H]),l=Math.min(l,b.series[O][H])),f=x),b.seriesGoals[O]&&b.seriesGoals[O][H]&&Array.isArray(b.seriesGoals[O][H])&&b.seriesGoals[O][H].forEach(function(j){S!==Number.MIN_VALUE&&(S=Math.min(S,j.value),l=S),x=Math.max(x,j.value),f=x}),he.isFloat($)&&($=he.noExponents($),b.yValueDecimal=Math.max(b.yValueDecimal,$.toString().split(".")[1].length)),S>M[O][H]&&M[O][H]<0&&(S=M[O][H])):b.hasNullValues=!0}}return"rangeBar"===y.chart.type&&b.seriesRangeStart.length&&b.isBarHorizontal&&(S=l),"bar"===y.chart.type&&(S<0&&x<0&&(x=0),S===Number.MIN_VALUE&&(S=0)),{minY:S,maxY:x,lowestY:l,highestY:f}}},{key:"setYRange",value:function(){var a=this.w.globals,l=this.w.config;a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE;var f=Number.MAX_VALUE;if(a.isMultipleYAxis)for(var m=0;m<a.series.length;m++){var y=this.getMinYMaxY(m,f,null,m+1);a.minYArr.push(y.minY),a.maxYArr.push(y.maxY),f=y.lowestY}var b=this.getMinYMaxY(0,f,null,a.series.length);if(a.minY=b.minY,a.maxY=b.maxY,f=b.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!a.isBarHorizontal)&&a.minY===Number.MIN_VALUE&&f!==-Number.MAX_VALUE&&f!==a.maxY){var x=a.maxY-f;(f>=0&&f<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(x=0),a.minY=f-5*x/100,f>0&&a.minY<0&&(a.minY=0),a.maxY=a.maxY+5*x/100}return l.yaxis.forEach(function(S,D){void 0!==S.max&&("number"==typeof S.max?a.maxYArr[D]=S.max:"function"==typeof S.max&&(a.maxYArr[D]=S.max(a.isMultipleYAxis?a.maxYArr[D]:a.maxY)),a.maxY=a.maxYArr[D]),void 0!==S.min&&("number"==typeof S.min?a.minYArr[D]=S.min:"function"==typeof S.min&&(a.minYArr[D]=S.min(a.isMultipleYAxis?a.minYArr[D]===Number.MIN_VALUE?0:a.minYArr[D]:a.minY)),a.minY=a.minYArr[D])}),a.isBarHorizontal&&["min","max"].forEach(function(S){void 0!==l.xaxis[S]&&"number"==typeof l.xaxis[S]&&("min"===S?a.minY=l.xaxis[S]:a.maxY=l.xaxis[S])}),a.isMultipleYAxis?(this.scales.setMultipleYScales(),a.minY=f,a.yAxisScale.forEach(function(S,D){a.minYArr[D]=S.niceMin,a.maxYArr[D]=S.niceMax})):(this.scales.setYScaleForIndex(0,a.minY,a.maxY),a.minY=a.yAxisScale[0].niceMin,a.maxY=a.yAxisScale[0].niceMax,a.minYArr[0]=a.yAxisScale[0].niceMin,a.maxYArr[0]=a.yAxisScale[0].niceMax),{minY:a.minY,maxY:a.maxY,minYArr:a.minYArr,maxYArr:a.maxYArr,yAxisScale:a.yAxisScale}}},{key:"setXRange",value:function(){var a=this.w.globals,l=this.w.config,f="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided||a.noLabelsProvided||a.isXNumeric;if(a.isXNumeric&&function(){for(var x=0;x<a.series.length;x++)if(a.labels[x])for(var S=0;S<a.labels[x].length;S++)null!==a.labels[x][S]&&he.isNumber(a.labels[x][S])&&(a.maxX=Math.max(a.maxX,a.labels[x][S]),a.initialMaxX=Math.max(a.maxX,a.labels[x][S]),a.minX=Math.min(a.minX,a.labels[x][S]),a.initialMinX=Math.min(a.minX,a.labels[x][S]))}(),a.noLabelsProvided&&0===l.xaxis.categories.length&&(a.maxX=a.labels[a.labels.length-1],a.initialMaxX=a.labels[a.labels.length-1],a.minX=1,a.initialMinX=1),a.isXNumeric||a.noLabelsProvided||a.dataFormatXNumeric){var m;if(void 0===l.xaxis.tickAmount?(m=Math.round(a.svgWidth/150),"numeric"===l.xaxis.type&&a.dataPoints<30&&(m=a.dataPoints-1),m>a.dataPoints&&0!==a.dataPoints&&(m=a.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(a.series.length>1&&(m=a.series[a.maxValsInArrayIndex].length-1),a.isXNumeric&&(m=a.maxX-a.minX-1)):m=l.xaxis.tickAmount,a.xTickAmount=m,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(a.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(a.minX=l.xaxis.min),void 0!==l.xaxis.range&&(a.minX=a.maxX-l.xaxis.range),a.minX!==Number.MAX_VALUE&&a.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!a.dataFormatXNumeric){for(var y=[],b=a.minX-1;b<a.maxX;b++)y.push(b+1);a.xAxisScale={result:y,niceMin:y[0],niceMax:y[y.length-1]}}else a.xAxisScale=this.scales.setXScale(a.minX,a.maxX);else a.xAxisScale=this.scales.linearScale(1,m,m),a.noLabelsProvided&&a.labels.length>0&&(a.xAxisScale=this.scales.linearScale(1,a.labels.length,m-1),a.seriesX=a.labels.slice());f&&(a.labels=a.xAxisScale.result.slice())}return a.isBarHorizontal&&a.labels.length&&(a.xTickAmount=a.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:a.minX,maxX:a.maxX}}},{key:"setZRange",value:function(){var a=this.w.globals;if(a.isDataXYZ)for(var l=0;l<a.series.length;l++)if(void 0!==a.seriesZ[l])for(var f=0;f<a.seriesZ[l].length;f++)null!==a.seriesZ[l][f]&&he.isNumber(a.seriesZ[l][f])&&(a.maxZ=Math.max(a.maxZ,a.seriesZ[l][f]),a.minZ=Math.min(a.minZ,a.seriesZ[l][f]))}},{key:"_handleSingleDataPoint",value:function(){var a=this.w.globals,l=this.w.config;if(a.minX===a.maxX){var f=new Ye(this.ctx);if("datetime"===l.xaxis.type){var m=f.getDate(a.minX);l.xaxis.labels.datetimeUTC?m.setUTCDate(m.getUTCDate()-2):m.setDate(m.getDate()-2),a.minX=new Date(m).getTime();var y=f.getDate(a.maxX);l.xaxis.labels.datetimeUTC?y.setUTCDate(y.getUTCDate()+2):y.setDate(y.getDate()+2),a.maxX=new Date(y).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided)&&(a.minX=a.minX-2,a.initialMinX=a.minX,a.maxX=a.maxX+2,a.initialMaxX=a.maxX)}}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(l,f){1===l.length&&l.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var m=l.slice();m.sort(function(y,b){return y-b}),m.forEach(function(y,b){if(b>0){var x=y-m[b-1];x>0&&(a.minXDiff=Math.min(x,a.minXDiff))}}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var a=this.w.globals,l=[],f=[];if(a.series.length)for(var m=0;m<a.series[a.maxValsInArrayIndex].length;m++)for(var y=0,b=0,x=0;x<a.series.length;x++)null!==a.series[x][m]&&he.isNumber(a.series[x][m])&&(a.series[x][m]>0?y=y+parseFloat(a.series[x][m])+1e-4:b+=parseFloat(a.series[x][m])),x===a.series.length-1&&(l.push(y),f.push(b));for(var S=0;S<l.length;S++)a.maxY=Math.max(a.maxY,l[S]),a.minY=Math.min(a.minY,f[S])}}]),J}(),vs=function(){function J(a,l){Se(this,J),this.ctx=a,this.elgrid=l,this.w=a.w;var f=this.w;this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.axisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===f.config.xaxis.position&&(this.xAxisoffX=f.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Ri(a)}return be(J,[{key:"drawYaxis",value:function(a){var l=this,f=this.w,m=new Pe(this.ctx),y=f.config.yaxis[a].labels.style,b=y.fontSize,x=y.fontFamily,S=y.fontWeight,D=m.group({class:"apexcharts-yaxis",rel:a,transform:"translate("+f.globals.translateYAxisX[a]+", 0)"});if(this.axesUtils.isYAxisHidden(a))return D;var M=m.group({class:"apexcharts-yaxis-texts-g"});D.add(M);var L=f.globals.yAxisScale[a].result.length-1,O=f.globals.gridHeight/L,H=f.globals.translateY,$=f.globals.yLabelFormatters[a],j=f.globals.yAxisScale[a].result.slice();j=this.axesUtils.checkForReversedLabels(a,j);var ee="";if(f.config.yaxis[a].labels.show)for(var re=function(ke){var Me=j[ke];Me=$(Me,ke,f);var at=f.config.yaxis[a].labels.padding;f.config.yaxis[a].opposite&&0!==f.config.yaxis.length&&(at*=-1);var ct=l.axesUtils.getYAxisForeColor(y.colors,a),Tt=m.drawText({x:at,y:H+L/10+f.config.yaxis[a].labels.offsetY+1,text:Me,textAnchor:f.config.yaxis[a].opposite?"start":"end",fontSize:b,fontFamily:x,fontWeight:S,maxWidth:f.config.yaxis[a].labels.maxWidth,foreColor:Array.isArray(ct)?ct[ke]:ct,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+y.cssClass});ke===L&&(ee=Tt),M.add(Tt);var It=document.createElementNS(f.globals.SVGNS,"title");if(It.textContent=Array.isArray(Me)?Me.join(" "):Me,Tt.node.appendChild(It),0!==f.config.yaxis[a].labels.rotate){var ei=m.rotateAroundCenter(ee.node),ai=m.rotateAroundCenter(Tt.node);Tt.node.setAttribute("transform","rotate(".concat(f.config.yaxis[a].labels.rotate," ").concat(ei.x," ").concat(ai.y,")"))}H+=O},ce=L;ce>=0;ce--)re(ce);if(void 0!==f.config.yaxis[a].title.text){var ae=m.group({class:"apexcharts-yaxis-title"}),A=0;f.config.yaxis[a].opposite&&(A=f.globals.translateYAxisX[a]);var F=m.drawText({x:A,y:f.globals.gridHeight/2+f.globals.translateY+f.config.yaxis[a].title.offsetY,text:f.config.yaxis[a].title.text,textAnchor:"end",foreColor:f.config.yaxis[a].title.style.color,fontSize:f.config.yaxis[a].title.style.fontSize,fontWeight:f.config.yaxis[a].title.style.fontWeight,fontFamily:f.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+f.config.yaxis[a].title.style.cssClass});ae.add(F),D.add(ae)}var X=f.config.yaxis[a].axisBorder,Z=31+X.offsetX;if(f.config.yaxis[a].opposite&&(Z=-31-X.offsetX),X.show){var le=m.drawLine(Z,f.globals.translateY+X.offsetY-2,Z,f.globals.gridHeight+f.globals.translateY+X.offsetY+2,X.color,0,X.width);D.add(le)}return f.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(Z,L,X,f.config.yaxis[a].axisTicks,a,O,D),D}},{key:"drawYaxisInversed",value:function(a){var l=this.w,f=new Pe(this.ctx),m=f.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),y=f.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});m.add(y);var b=l.globals.yAxisScale[a].result.length-1,x=l.globals.gridWidth/b+.1,S=x+l.config.xaxis.labels.offsetX,D=l.globals.xLabelFormatter,M=l.globals.yAxisScale[a].result.slice(),L=l.globals.timescaleLabels;L.length>0&&(this.xaxisLabels=L.slice(),b=(M=L.slice()).length),M=this.axesUtils.checkForReversedLabels(a,M);var O=L.length;if(l.config.xaxis.labels.show)for(var H=O?0:b;O?H<O:H>=0;O?H++:H--){var $=M[H];$=D($,H,l);var j=l.globals.gridWidth+l.globals.padHorizontal-(S-x+l.config.xaxis.labels.offsetX);if(L.length){var ee=this.axesUtils.getLabel(M,L,j,H,this.drawnLabels,this.xaxisFontSize);j=ee.x,$=ee.text,this.drawnLabels.push(ee.text),0===H&&l.globals.skipFirstTimelinelabel&&($=""),H===M.length-1&&l.globals.skipLastTimelinelabel&&($="")}var re=f.drawText({x:j,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:$,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[a]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});y.add(re),re.tspan($);var ce=document.createElementNS(l.globals.SVGNS,"title");ce.textContent=$,re.node.appendChild(ce),S+=x}return this.inversedYAxisTitleText(m),this.inversedYAxisBorder(m),m}},{key:"inversedYAxisBorder",value:function(a){var l=this.w,f=new Pe(this.ctx),m=l.config.xaxis.axisBorder;if(m.show){var y=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(y-=15);var b=f.drawLine(l.globals.padHorizontal+y+m.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,m.color,0,m.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(b):a.add(b)}}},{key:"inversedYAxisTitleText",value:function(a){var l=this.w,f=new Pe(this.ctx);if(void 0!==l.config.xaxis.title.text){var m=f.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),y=f.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});m.add(y),a.add(m)}}},{key:"yAxisTitleRotate",value:function(a,l){var f=this.w,m=new Pe(this.ctx),y={width:0,height:0},b={width:0,height:0},x=f.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g"));null!==x&&(y=x.getBoundingClientRect());var S=f.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-title text"));if(null!==S&&(b=S.getBoundingClientRect()),null!==S){var D=this.xPaddingForYAxisTitle(a,y,b,l);S.setAttribute("x",D.xPos-(l?10:0))}if(null!==S){var M=m.rotateAroundCenter(S);S.setAttribute("transform","rotate(".concat(l?-1*f.config.yaxis[a].title.rotate:f.config.yaxis[a].title.rotate," ").concat(M.x," ").concat(M.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(a,l,f,m){var y=this.w,b=0,x=0,S=10;return void 0===y.config.yaxis[a].title.text||a<0?{xPos:x,padd:0}:(m?(x=l.width+y.config.yaxis[a].title.offsetX+f.width/2+S/2,0===(b+=1)&&(x-=S/2)):(x=-1*l.width+y.config.yaxis[a].title.offsetX+S/2+f.width/2,y.globals.isBarHorizontal&&(x=-1*l.width-y.config.yaxis[a].title.offsetX-(S=25))),{xPos:x,padd:S})}},{key:"setYAxisXPosition",value:function(a,l){var f=this.w,m=0,y=0,b=18,x=1;f.config.yaxis.length>1&&(this.multipleYs=!0),f.config.yaxis.map(function(S,D){var M=f.globals.ignoreYAxisIndexes.indexOf(D)>-1||!S.show||S.floating||0===a[D].width,L=a[D].width+l[D].width;S.opposite?f.globals.isBarHorizontal?f.globals.translateYAxisX[D]=(y=f.globals.gridWidth+f.globals.translateX-1)-S.labels.offsetX:(y=f.globals.gridWidth+f.globals.translateX+x,M||(x=x+L+20),f.globals.translateYAxisX[D]=y-S.labels.offsetX+20):(m=f.globals.translateX-b,M||(b=b+L+20),f.globals.translateYAxisX[D]=m+S.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=he.listToArray(l)).forEach(function(f,m){var y=a.config.yaxis[m];if(y&&void 0!==y.labels.align){var b=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(m,"'] .apexcharts-yaxis-texts-g")),x=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(m,"'] .apexcharts-yaxis-label"));x=he.listToArray(x);var S=b.getBoundingClientRect();"left"===y.labels.align?(x.forEach(function(D,M){D.setAttribute("text-anchor","start")}),y.opposite||b.setAttribute("transform","translate(-".concat(S.width,", 0)"))):"center"===y.labels.align?(x.forEach(function(D,M){D.setAttribute("text-anchor","middle")}),b.setAttribute("transform","translate(".concat(S.width/2*(y.opposite?1:-1),", 0)"))):"right"===y.labels.align&&(x.forEach(function(D,M){D.setAttribute("text-anchor","end")}),y.opposite&&b.setAttribute("transform","translate(".concat(S.width,", 0)")))}})}}]),J}(),zi=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.documentEvent=he.bind(this.documentEvent,this)}return be(J,[{key:"addEventListener",value:function(a,l){var f=this.w;f.globals.events.hasOwnProperty(a)?f.globals.events[a].push(l):f.globals.events[a]=[l]}},{key:"removeEventListener",value:function(a,l){var f=this.w;if(f.globals.events.hasOwnProperty(a)){var m=f.globals.events[a].indexOf(l);-1!==m&&f.globals.events[a].splice(m,1)}}},{key:"fireEvent",value:function(a,l){var f=this.w;if(f.globals.events.hasOwnProperty(a)){l&&l.length||(l=[]);for(var m=f.globals.events[a],y=m.length,b=0;b<y;b++)m[b].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var a=this,l=this.w,f=this.ctx,m=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(y){m.addEventListener(y,function(b){var x=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===b.type||"touchmove"===b.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(b,f,x):"mouseleave"===b.type||"touchleave"===b.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(b,f,x):("mouseup"===b.type&&1===b.which||"touchend"===b.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(b,f,x),f.ctx.events.fireEvent("click",[b,f,x]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(y){l.globals.dom.baseEl.addEventListener(y,a.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(a){var l=this.w,f=a.target.className;if("click"===a.type){var m=l.globals.dom.baseEl.querySelector(".apexcharts-menu");m&&m.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==f&&m.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===a.type?a.touches[0].clientX:a.clientX,l.globals.clientY="touchmove"===a.type?a.touches[0].clientY:a.clientY}}]),J}(),rr=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"setCurrentLocaleValues",value:function(a){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var f=l.filter(function(y){return y.name===a})[0];if(!f)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var m=he.extend(tt,f);this.w.globals.locale=m.options}}]),J}(),kr=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"drawAxis",value:function(a,l){var f,m,y=this.w.globals,b=this.w.config,x=new ns(this.ctx,l),S=new vs(this.ctx,l);y.axisCharts&&"radar"!==a&&(y.isBarHorizontal?(m=S.drawYaxisInversed(0),f=x.drawXaxisInversed(0),y.dom.elGraphical.add(f),y.dom.elGraphical.add(m)):(f=x.drawXaxis(),y.dom.elGraphical.add(f),b.yaxis.map(function(D,M){-1===y.ignoreYAxisIndexes.indexOf(M)&&(m=S.drawYaxis(M),y.dom.Paper.add(m))})))}}]),J}(),Ht=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"drawXCrosshairs",value:function(){var a=this.w,l=new Pe(this.ctx),f=new kt(this.ctx),m=a.config.xaxis.crosshairs.fill.gradient,y=a.config.xaxis.crosshairs.dropShadow,O=y.enabled,H=y.left,$=y.top,j=y.blur,ee=y.color,re=y.opacity,ce=a.config.xaxis.crosshairs.fill.color;if(a.config.xaxis.crosshairs.show){"gradient"===a.config.xaxis.crosshairs.fill.type&&(ce=l.drawGradient("vertical",m.colorFrom,m.colorTo,m.opacityFrom,m.opacityTo,null,m.stops,null));var ae=l.drawRect();1===a.config.xaxis.crosshairs.width&&(ae=l.drawLine());var A=a.globals.gridHeight;(!he.isNumber(A)||A<0)&&(A=0);var F=a.config.xaxis.crosshairs.width;(!he.isNumber(F)||F<0)&&(F=0),ae.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:A,width:F,height:A,fill:ce,filter:"none","fill-opacity":a.config.xaxis.crosshairs.opacity,stroke:a.config.xaxis.crosshairs.stroke.color,"stroke-width":a.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":a.config.xaxis.crosshairs.stroke.dashArray}),O&&(ae=f.dropShadow(ae,{left:H,top:$,blur:j,color:ee,opacity:re})),a.globals.dom.elGraphical.add(ae)}}},{key:"drawYCrosshairs",value:function(){var a=this.w,l=new Pe(this.ctx),f=a.config.yaxis[0].crosshairs,m=a.globals.barPadForNumericAxis;if(a.config.yaxis[0].crosshairs.show){var y=l.drawLine(-m,0,a.globals.gridWidth+m,0,f.stroke.color,f.stroke.dashArray,f.stroke.width);y.attr({class:"apexcharts-ycrosshairs"}),a.globals.dom.elGraphical.add(y)}var b=l.drawLine(-m,0,a.globals.gridWidth+m,0,f.stroke.color,0,0);b.attr({class:"apexcharts-ycrosshairs-hidden"}),a.globals.dom.elGraphical.add(b)}}]),J}(),Zi=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"checkResponsiveConfig",value:function(a){var l=this,f=this.w,m=f.config;if(0!==m.responsive.length){var y=m.responsive.slice();y.sort(function(D,M){return D.breakpoint>M.breakpoint?1:M.breakpoint>D.breakpoint?-1:0}).reverse();var b=new Kt({}),x=function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=y[0].breakpoint,L=window.innerWidth>0?window.innerWidth:screen.width;if(L>M){var O=it.extendArrayProps(b,f.globals.initialConfig,f);D=he.extend(O,D),D=he.extend(f.config,D),l.overrideResponsiveOptions(D)}else for(var H=0;H<y.length;H++)L<y[H].breakpoint&&(D=it.extendArrayProps(b,y[H].options,f),D=he.extend(f.config,D),l.overrideResponsiveOptions(D))};if(a){var S=it.extendArrayProps(b,a,f);S=he.extend(f.config,S),x(S=he.extend(S,a))}else x({})}}},{key:"overrideResponsiveOptions",value:function(a){var l=new Kt(a).init({responsiveOverride:!0});this.w.config=l}}]),J}(),Ui=function(){function J(a){Se(this,J),this.ctx=a,this.colors=[],this.w=a.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return be(J,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var a=this,l=this.w,f=new he;if(l.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(l.config.theme.mode)),void 0===l.config.colors?l.globals.colors=this.predefined():(l.globals.colors=l.config.colors,Array.isArray(l.config.colors)&&l.config.colors.length>0&&"function"==typeof l.config.colors[0]&&(l.globals.colors=l.config.series.map(function(H,$){var j=l.config.colors[$];return j||(j=l.config.colors[0]),"function"==typeof j?(a.isColorFn=!0,j({value:l.globals.axisCharts?l.globals.series[$][0]?l.globals.series[$][0]:0:l.globals.series[$],seriesIndex:$,dataPointIndex:$,w:l})):j}))),l.globals.seriesColors.map(function(H,$){H&&(l.globals.colors[$]=H)}),l.config.theme.monochrome.enabled){var m=[],y=l.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(y=l.globals.series[0].length*l.globals.series.length);for(var b=l.config.theme.monochrome.color,x=1/(y/l.config.theme.monochrome.shadeIntensity),S=l.config.theme.monochrome.shadeTo,D=0,M=0;M<y;M++){var L=void 0;"dark"===S?(L=f.shadeColor(-1*D,b),D+=x):(L=f.shadeColor(D,b),D+=x),m.push(L)}l.globals.colors=m.slice()}var O=l.globals.colors.slice();this.pushExtraColors(l.globals.colors),["fill","stroke"].forEach(function(H){l.globals[H].colors=void 0===l.config[H].colors?a.isColorFn?l.config.colors:O:l.config[H].colors.slice(),a.pushExtraColors(l.globals[H].colors)}),l.globals.dataLabels.style.colors=void 0===l.config.dataLabels.style.colors?O:l.config.dataLabels.style.colors.slice(),this.pushExtraColors(l.globals.dataLabels.style.colors,50),l.globals.radarPolygons.fill.colors=void 0===l.config.plotOptions.radar.polygons.fill.colors?["dark"===l.config.theme.mode?"#424242":"none"]:l.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(l.globals.radarPolygons.fill.colors,20),l.globals.markers.colors=void 0===l.config.markers.colors?O:l.config.markers.colors.slice(),this.pushExtraColors(l.globals.markers.colors)}},{key:"pushExtraColors",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=this.w,y=l||m.globals.series.length;if(null===f&&(f=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===m.config.chart.type&&m.config.plotOptions.heatmap.colorScale.inverse),f&&m.globals.series.length&&(y=m.globals.series[m.globals.maxValsInArrayIndex].length*m.globals.series.length),a.length<y)for(var b=y-a.length,x=0;x<b;x++)a.push(a[x])}},{key:"updateThemeOptions",value:function(a){a.chart=a.chart||{},a.tooltip=a.tooltip||{};var l=a.theme.mode||"light",f=a.theme.palette?a.theme.palette:"dark"===l?"palette4":"palette1",m=a.chart.foreColor?a.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return a.tooltip.theme=l,a.chart.foreColor=m,a.theme.palette=f,a}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),J}(),vi=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(a){var l=this.w,f="title"===a?l.config.title:l.config.subtitle,m=l.globals.svgWidth/2,y=f.offsetY,b="middle";if("left"===f.align?(m=10,b="start"):"right"===f.align&&(m=l.globals.svgWidth-10,b="end"),m+=f.offsetX,y=y+parseInt(f.style.fontSize,10)+f.margin/2,void 0!==f.text){var x=new Pe(this.ctx).drawText({x:m,y,text:f.text,textAnchor:b,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,foreColor:f.style.color,opacity:1});x.node.setAttribute("class","apexcharts-".concat(a,"-text")),l.globals.dom.Paper.add(x)}}}]),J}(),us=function(){function J(a){Se(this,J),this.w=a.w,this.dCtx=a}return be(J,[{key:"getTitleSubtitleCoords",value:function(a){var l=this.w,f=0,m=0,y="title"===a?l.config.title.floating:l.config.subtitle.floating,b=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-text"));if(null!==b&&!y){var x=b.getBoundingClientRect();f=x.width,m=l.globals.axisCharts?x.height+5:x.height}return{width:f,height:m}}},{key:"getLegendsRect",value:function(){var a=this.w,l=a.globals.dom.baseEl.querySelector(".apexcharts-legend");a.config.legend.height||"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||(l.style.maxHeight=a.globals.svgHeight/2+"px");var f=Object.assign({},he.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!a.config.legend.floating&&a.config.legend.show?{x:f.x,y:f.y,height:f.height,width:0===f.height?0:f.width}:{x:0,y:0,height:0,width:0},"left"!==a.config.legend.position&&"right"!==a.config.legend.position||1.5*this.dCtx.lgRect.width>a.globals.svgWidth&&(this.dCtx.lgRect.width=a.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(a,l){var f=a;if(this.w.globals.isMultiLineX){var m=l.map(function(b,x){return Array.isArray(b)?b.length:1}),y=Math.max.apply(Math,et(m));f=l[m.indexOf(y)]}return f}}]),J}(),fo=function(){function J(a){Se(this,J),this.w=a.w,this.dCtx=a}return be(J,[{key:"getxAxisLabelsCoords",value:function(){var a,l=this.w,f=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===f.length&&(f=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var m=this.getxAxisTimeScaleLabelsCoords();a={width:m.width,height:m.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var y=l.globals.xLabelFormatter,b=he.getLargestStringFromArr(f),x=this.dCtx.dimHelpers.getLargestStringFromMultiArr(b,f);l.globals.isBarHorizontal&&(x=b=l.globals.yAxisScale[0].result.reduce(function($,j){return $.length>j.length?$:j},0));var S=new wn(this.dCtx.ctx),D=b;b=S.xLabelFormat(y,b,D,{i:void 0,dateFormatter:new Ye(this.dCtx.ctx).formatDate,w:l}),x=S.xLabelFormat(y,x,D,{i:void 0,dateFormatter:new Ye(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===b||""===String(b).trim())&&(x=b="1");var M=new Pe(this.dCtx.ctx),L=M.getTextRects(b,l.config.xaxis.labels.style.fontSize),O=L;if(b!==x&&(O=M.getTextRects(x,l.config.xaxis.labels.style.fontSize)),(a={width:L.width>=O.width?L.width:O.width,height:L.height>=O.height?L.height:O.height}).width*f.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var H=function($){return M.getTextRects($,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};L=H(b),b!==x&&(O=H(x)),a.height=(L.height>O.height?L.height:O.height)/1.5,a.width=L.width>O.width?L.width:O.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var a,l=this.w;if(!l.globals.hasGroups)return{width:0,height:0};var f,m=(null===(a=l.config.xaxis.group.style)||void 0===a?void 0:a.fontSize)||l.config.xaxis.labels.style.fontSize,y=l.globals.groups.map(function(L){return L.title}),b=he.getLargestStringFromArr(y),x=this.dCtx.dimHelpers.getLargestStringFromMultiArr(b,y),S=new Pe(this.dCtx.ctx),D=S.getTextRects(b,m),M=D;return b!==x&&(M=S.getTextRects(x,m)),f={width:D.width>=M.width?D.width:M.width,height:D.height>=M.height?D.height:M.height},l.config.xaxis.labels.show||(f={width:0,height:0}),{width:f.width,height:f.height}}},{key:"getxAxisTitleCoords",value:function(){var a=this.w,l=0,f=0;if(void 0!==a.config.xaxis.title.text){var m=new Pe(this.dCtx.ctx).getTextRects(a.config.xaxis.title.text,a.config.xaxis.title.style.fontSize);l=m.width,f=m.height}return{width:l,height:f}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var a,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var f=this.dCtx.timescaleLabels.map(function(y){return y.value}),m=f.reduce(function(y,b){return void 0===y?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):y.length>b.length?y:b},0);return 1.05*(a=new Pe(this.dCtx.ctx).getTextRects(m,l.config.xaxis.labels.style.fontSize)).width*f.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),a}},{key:"additionalPaddingXLabels",value:function(a){var l=this,f=this.w,m=f.globals,y=f.config,b=y.xaxis.type,x=a.width;m.skipLastTimelinelabel=!1,m.skipFirstTimelinelabel=!1;var S=f.config.yaxis[0].opposite&&f.globals.isBarHorizontal;y.yaxis.forEach(function(M,L){S?(l.dCtx.gridPad.left<x&&(l.dCtx.xPadLeft=x/2+1),l.dCtx.xPadRight=x/2+1):function(M,L){-1!==m.collapsedSeriesIndices.indexOf(L)||function(O){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var j=l.dCtx.timescaleLabels[0].position-x/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+x/1.75-l.dCtx.yAxisWidthRight>m.svgWidth-m.translateX-("right"===f.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(m.skipLastTimelinelabel=!0),j<-(O.show&&!O.floating||"bar"!==y.chart.type&&"candlestick"!==y.chart.type&&"rangeBar"!==y.chart.type&&"boxPlot"!==y.chart.type?10:x/1.75)&&(m.skipFirstTimelinelabel=!0)}else"datetime"===b?l.dCtx.gridPad.right<x&&!m.rotateXLabels&&(m.skipLastTimelinelabel=!0):"datetime"!==b&&l.dCtx.gridPad.right<x/2-l.dCtx.yAxisWidthRight&&!m.rotateXLabels&&!f.config.xaxis.labels.trim&&("between"!==f.config.xaxis.tickPlacement||f.globals.isBarHorizontal)&&(l.dCtx.xPadRight=x/2+1)}(M)}(M,L)})}}]),J}(),wi=function(){function J(a){Se(this,J),this.w=a.w,this.dCtx=a}return be(J,[{key:"getyAxisLabelsCoords",value:function(){var a=this,l=this.w,f=[],m=10,y=new Ri(this.dCtx.ctx);return l.config.yaxis.map(function(b,x){var S=l.globals.yAxisScale[x],D=0;if(!y.isYAxisHidden(x)&&b.labels.show&&void 0!==b.labels.minWidth&&(D=b.labels.minWidth),!y.isYAxisHidden(x)&&b.labels.show&&S.result.length){var M=l.globals.yLabelFormatters[x],L=S.niceMin===Number.MIN_VALUE?0:S.niceMin,O=String(L).length>String(S.niceMax).length?L:S.niceMax,H=M(O,{seriesIndex:x,dataPointIndex:-1,w:l}),$=H;if(void 0!==H&&0!==H.length||(H=O),l.globals.isBarHorizontal){m=0;var j=l.globals.labels.slice();H=M(H=he.getLargestStringFromArr(j),{seriesIndex:x,dataPointIndex:-1,w:l}),$=a.dCtx.dimHelpers.getLargestStringFromMultiArr(H,j)}var ee=new Pe(a.dCtx.ctx),re="rotate(".concat(b.labels.rotate," 0 0)"),ce=ee.getTextRects(H,b.labels.style.fontSize,b.labels.style.fontFamily,re,!1),ae=ce;H!==$&&(ae=ee.getTextRects($,b.labels.style.fontSize,b.labels.style.fontFamily,re,!1)),f.push({width:(D>ae.width||D>ce.width?D:ae.width>ce.width?ae.width:ce.width)+m,height:ae.height>ce.height?ae.height:ce.height})}else f.push({width:0,height:0})}),f}},{key:"getyAxisTitleCoords",value:function(){var a=this,f=[];return this.w.config.yaxis.map(function(m,y){if(m.show&&void 0!==m.title.text){var b=new Pe(a.dCtx.ctx),x="rotate(".concat(m.title.rotate," 0 0)"),S=b.getTextRects(m.title.text,m.title.style.fontSize,m.title.style.fontFamily,x,!1);f.push({width:S.width,height:S.height})}else f.push({width:0,height:0})}),f}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,l=0,f=0,m=0,y=a.globals.yAxisScale.length>1?10:0,b=new Ri(this.dCtx.ctx),x=function(S,D){var M=a.config.yaxis[D].floating,L=0;S.width>0&&!M?(L=S.width+y,a.globals.ignoreYAxisIndexes.indexOf(D)>-1&&(L=L-S.width-y)):L=M||b.isYAxisHidden(D)?0:5,a.config.yaxis[D].opposite?m+=L:f+=L,l+=L};return a.globals.yLabelsCoords.map(function(S,D){x(S,D)}),a.globals.yTitleCoords.map(function(S,D){x(S,D)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(l=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=f,this.dCtx.yAxisWidthRight=m,l}}]),J}(),Ci=function(){function J(a){Se(this,J),this.w=a.w,this.dCtx=a}return be(J,[{key:"gridPadForColumnsInNumericAxis",value:function(a){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var f=function(M){return"bar"===M||"rangeBar"===M||"candlestick"===M||"boxPlot"===M},m=l.config.chart.type,y=0,b=f(m)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(b=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(M){f(M.type)&&(b-=1)}),l.config.chart.stacked&&(b=1),(f(m)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&b>0){var x,S,D=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);D<=3&&(D=l.globals.dataPoints),x=D/a,l.globals.minXDiff&&l.globals.minXDiff/x>0&&(S=l.globals.minXDiff/x),S>a/2&&(S/=2),(y=S/b*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(y=1),l.globals.barPadForNumericAxis=y=y/(b>1?1:1.5)+5}return y}},{key:"gridPadFortitleSubtitle",value:function(){var a=this,l=this.w,f=l.globals,m=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(x){m+=void 0!==l.config[x].text?l.config[x].margin:a.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(m+=10);var y=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),b=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");f.gridHeight=f.gridHeight-y.height-b.height-m,f.translateY=f.translateY+y.height+b.height+m}},{key:"setGridXPosForDualYAxis",value:function(a,l){var f=this.w,m=new Ri(this.dCtx.ctx);f.config.yaxis.map(function(y,b){-1!==f.globals.ignoreYAxisIndexes.indexOf(b)||y.floating||m.isYAxisHidden(b)||(y.opposite&&(f.globals.translateX=f.globals.translateX-(l[b].width+a[b].width)-parseInt(f.config.yaxis[b].labels.style.fontSize,10)/1.2-12),f.globals.translateX<2&&(f.globals.translateX=2))})}}]),J}(),ii=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new us(this),this.dimYAxis=new wi(this),this.dimXAxis=new fo(this),this.dimGrid=new Ci(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return be(J,[{key:"plotCoords",value:function(){var a=this,l=this.w,f=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(y){var b=function mt(J,a){return function(l){if(Array.isArray(l))return l}(J)||function(l,f){var m=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=m){var y,b,x=[],S=!0,D=!1;try{for(m=m.call(l);!(S=(y=m.next()).done)&&(x.push(y.value),!f||x.length!==f);S=!0);}catch(M){D=!0,b=M}finally{try{S||null==m.return||m.return()}finally{if(D)throw b}}return x}}(J,a)||jt(J,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(y,2);a.gridPad[b[0]]=Math.max(b[1],a.w.globals.markers.largestSize/1.5)}),f.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),f.gridHeight=f.gridHeight-this.gridPad.top-this.gridPad.bottom,f.gridWidth=f.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var m=this.dimGrid.gridPadForColumnsInNumericAxis(f.gridWidth);f.gridWidth=f.gridWidth-2*m,f.translateX=f.translateX+this.gridPad.left+this.xPadLeft+(m>0?m+4:0),f.translateY=f.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var a=this,l=this.w,f=l.globals,m=this.dimYAxis.getyAxisLabelsCoords(),y=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(H,$){l.globals.yLabelsCoords.push({width:m[$].width,index:$}),l.globals.yTitleCoords.push({width:y[$].width,index:$})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var b=this.dimXAxis.getxAxisLabelsCoords(),x=this.dimXAxis.getxAxisGroupLabelsCoords(),S=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(b,S,x),f.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,f.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(f.rotateXLabels=!1,f.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),f.translateXAxisY=f.translateXAxisY+l.config.xaxis.labels.offsetY,f.translateXAxisX=f.translateXAxisX+l.config.xaxis.labels.offsetX;var D=this.yAxisWidth,M=this.xAxisHeight;f.xAxisLabelsHeight=this.xAxisHeight-S.height,f.xAxisGroupLabelsHeight=f.xAxisLabelsHeight-b.height,f.xAxisLabelsWidth=this.xAxisWidth,f.xAxisHeight=this.xAxisHeight;var L=10;("radar"===l.config.chart.type||this.isSparkline)&&(D=0,M=f.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(D=0,M=0,L=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(b);var O=function(){f.translateX=D,f.gridHeight=f.svgHeight-a.lgRect.height-M-(a.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),f.gridWidth=f.svgWidth-D};switch("top"===l.config.xaxis.position&&(L=f.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":f.translateY=L,O();break;case"top":f.translateY=this.lgRect.height+L,O();break;case"left":f.translateY=L,f.translateX=this.lgRect.width+D,f.gridHeight=f.svgHeight-M-12,f.gridWidth=f.svgWidth-this.lgRect.width-D;break;case"right":f.translateY=L,f.translateX=D,f.gridHeight=f.svgHeight-M-12,f.gridWidth=f.svgWidth-this.lgRect.width-D-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(y,m),new vs(this.ctx).setYAxisXPosition(m,y)}},{key:"setDimensionsForNonAxisCharts",value:function(){var a=this.w,l=a.globals,f=a.config,m=0;a.config.legend.show&&!a.config.legend.floating&&(m=20);var y="pie"===f.chart.type||"polarArea"===f.chart.type||"donut"===f.chart.type?"pie":"radialBar",b=f.plotOptions[y].offsetY,x=f.plotOptions[y].offsetX;if(!f.legend.show||f.legend.floating)return l.gridHeight=l.svgHeight-f.grid.padding.left+f.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=b,void(l.translateX=x+(l.svgWidth-l.gridWidth)/2);switch(f.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=b-10,l.translateX=x+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+b+10,l.translateX=x+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-m,l.gridHeight="auto"!==f.chart.height?l.svgHeight:l.gridWidth,l.translateY=b,l.translateX=x+this.lgRect.width+m;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-m-5,l.gridHeight="auto"!==f.chart.height?l.svgHeight:l.gridWidth,l.translateY=b,l.translateX=x+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(a,l,f){var m=this.w;this.xAxisHeight=(f.height+a.height+l.height)*(m.globals.isMultiLineX?1.2:m.globals.LINE_HEIGHT_RATIO)+(m.globals.hasGroups?2:1)*(m.globals.rotateXLabels?22:10)+(m.globals.rotateXLabels&&"bottom"===m.config.legend.position?10:0),this.xAxisWidth=a.width,this.xAxisHeight-l.height>m.config.xaxis.labels.maxHeight&&(this.xAxisHeight=m.config.xaxis.labels.maxHeight),m.config.xaxis.labels.minHeight&&this.xAxisHeight<m.config.xaxis.labels.minHeight&&(this.xAxisHeight=m.config.xaxis.labels.minHeight),m.config.xaxis.floating&&(this.xAxisHeight=0);var M=0,L=0;m.config.yaxis.forEach(function(O){M+=O.labels.minWidth,L+=O.labels.maxWidth}),this.yAxisWidth<M&&(this.yAxisWidth=M),this.yAxisWidth>L&&(this.yAxisWidth=L)}}]),J}(),sn=function(){function J(a){Se(this,J),this.w=a.w,this.lgCtx=a}return be(J,[{key:"getLegendStyles",value:function(){var a=document.createElement("style");a.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return a.appendChild(l),a}},{key:"getLegendBBox",value:function(){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:a.height,clww:a.width}}},{key:"appendToForeignObject",value:function(){var a=this.w.globals;a.dom.elLegendForeign=document.createElementNS(a.SVGNS,"foreignObject");var l=a.dom.elLegendForeign;l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("width",a.svgWidth),l.setAttribute("height",a.svgHeight),a.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),l.appendChild(a.dom.elLegendWrap),l.appendChild(this.getLegendStyles()),a.dom.Paper.node.insertBefore(l,a.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(a,l){var f=this,m=this.w;if(m.globals.axisCharts||"radialBar"===m.config.chart.type){m.globals.resized=!0;var y=null,b=null;m.globals.risingSeries=[],m.globals.axisCharts?(y=m.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),b=parseInt(y.getAttribute("data:realIndex"),10)):(y=m.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")),b=parseInt(y.getAttribute("rel"),10)-1),l?[{cs:m.globals.collapsedSeries,csi:m.globals.collapsedSeriesIndices},{cs:m.globals.ancillaryCollapsedSeries,csi:m.globals.ancillaryCollapsedSeriesIndices}].forEach(function(M){f.riseCollapsedSeries(M.cs,M.csi,b)}):this.hideSeries({seriesEl:y,realIndex:b})}else{var x=m.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(a+1,"'] path")),S=m.config.chart.type;if("pie"===S||"polarArea"===S||"donut"===S){var D=m.config.plotOptions.pie.donut.labels;new Pe(this.lgCtx.ctx).pathMouseDown(x.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(x.members[0].node,D)}x.fire("click")}}},{key:"hideSeries",value:function(a){var l=a.seriesEl,f=a.realIndex,m=this.w,y=he.clone(m.config.series);if(m.globals.axisCharts){var b=!1;if(m.config.yaxis[f]&&m.config.yaxis[f].show&&m.config.yaxis[f].showAlways&&(b=!0,m.globals.ancillaryCollapsedSeriesIndices.indexOf(f)<0&&(m.globals.ancillaryCollapsedSeries.push({index:f,data:y[f].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),m.globals.ancillaryCollapsedSeriesIndices.push(f))),!b){m.globals.collapsedSeries.push({index:f,data:y[f].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),m.globals.collapsedSeriesIndices.push(f);var x=m.globals.risingSeries.indexOf(f);m.globals.risingSeries.splice(x,1)}}else m.globals.collapsedSeries.push({index:f,data:y[f]}),m.globals.collapsedSeriesIndices.push(f);for(var S=l.childNodes,D=0;D<S.length;D++)S[D].classList.contains("apexcharts-series-markers-wrap")&&(S[D].classList.contains("apexcharts-hide")?S[D].classList.remove("apexcharts-hide"):S[D].classList.add("apexcharts-hide"));m.globals.allSeriesCollapsed=m.globals.collapsedSeries.length===m.config.series.length,y=this._getSeriesBasedOnCollapsedState(y),this.lgCtx.ctx.updateHelpers._updateSeries(y,m.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(a,l,f){var m=this.w,y=he.clone(m.config.series);if(a.length>0){for(var b=0;b<a.length;b++)a[b].index===f&&(m.globals.axisCharts?(y[f].data=a[b].data.slice(),a.splice(b,1),l.splice(b,1),m.globals.risingSeries.push(f)):(y[f]=a[b].data,a.splice(b,1),l.splice(b,1),m.globals.risingSeries.push(f)));y=this._getSeriesBasedOnCollapsedState(y),this.lgCtx.ctx.updateHelpers._updateSeries(y,m.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(a){var l=this.w;return a.forEach(l.globals.axisCharts?function(f,m){l.globals.collapsedSeriesIndices.indexOf(m)>-1&&(a[m].data=[])}:function(f,m){l.globals.collapsedSeriesIndices.indexOf(m)>-1&&(a[m]=0)}),a}}]),J}(),tn=function(){function J(a,l){Se(this,J),this.ctx=a,this.w=a.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new sn(this)}return be(J,[{key:"init",value:function(){var a=this.w,l=a.globals,f=a.config;if((f.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&f.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),he.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===f.legend.position||"top"===f.legend.position?this.legendAlignHorizontal():"right"!==f.legend.position&&"left"!==f.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var a=this,l=this.w,f=l.config.legend.fontFamily,m=l.globals.seriesNames,y=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var b=l.config.plotOptions.heatmap.colorScale.ranges;m=b.map(function(ct){return ct.name?ct.name:ct.from+" - "+ct.to}),y=b.map(function(ct){return ct.color})}else this.isBarsDistributed&&(m=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(m=l.config.legend.customLegendItems);for(var x=l.globals.legendFormatter,S=l.config.legend.inverseOrder,D=S?m.length-1:0;S?D>=0:D<=m.length-1;S?D--:D++){var M=x(m[D],{seriesIndex:D,w:l}),L=!1,O=!1;if(l.globals.collapsedSeries.length>0)for(var H=0;H<l.globals.collapsedSeries.length;H++)l.globals.collapsedSeries[H].index===D&&(L=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var $=0;$<l.globals.ancillaryCollapsedSeriesIndices.length;$++)l.globals.ancillaryCollapsedSeriesIndices[$]===D&&(O=!0);var j=document.createElement("span");j.classList.add("apexcharts-legend-marker");var ee=l.config.legend.markers.offsetX,re=l.config.legend.markers.offsetY,ce=l.config.legend.markers.height,ae=l.config.legend.markers.width,A=l.config.legend.markers.strokeWidth,F=l.config.legend.markers.strokeColor,X=l.config.legend.markers.radius,Z=j.style;Z.background=y[D],Z.color=y[D],Z.setProperty("background",y[D],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[D]&&(Z.background=l.config.legend.markers.fillColors[D]),void 0!==l.globals.seriesColors[D]&&(Z.background=l.globals.seriesColors[D],Z.color=l.globals.seriesColors[D]),Z.height=Array.isArray(ce)?parseFloat(ce[D])+"px":parseFloat(ce)+"px",Z.width=Array.isArray(ae)?parseFloat(ae[D])+"px":parseFloat(ae)+"px",Z.left=(Array.isArray(ee)?parseFloat(ee[D]):parseFloat(ee))+"px",Z.top=(Array.isArray(re)?parseFloat(re[D]):parseFloat(re))+"px",Z.borderWidth=Array.isArray(A)?A[D]:A,Z.borderColor=Array.isArray(F)?F[D]:F,Z.borderRadius=Array.isArray(X)?parseFloat(X[D])+"px":parseFloat(X)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[D]&&(j.innerHTML=l.config.legend.markers.customHTML[D]()):j.innerHTML=l.config.legend.markers.customHTML()),Pe.setAttrs(j,{rel:D+1,"data:collapsed":L||O}),(L||O)&&j.classList.add("apexcharts-inactive-legend");var le=document.createElement("div"),ke=document.createElement("span");ke.classList.add("apexcharts-legend-text"),ke.innerHTML=Array.isArray(M)?M.join(" "):M;var Me=l.config.legend.labels.useSeriesColors?l.globals.colors[D]:l.config.legend.labels.colors;Me||(Me=l.config.chart.foreColor),ke.style.color=Me,ke.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",ke.style.fontWeight=l.config.legend.fontWeight,ke.style.fontFamily=f||l.config.chart.fontFamily,Pe.setAttrs(ke,{rel:D+1,i:D,"data:default-text":encodeURIComponent(M),"data:collapsed":L||O}),le.appendChild(j),le.appendChild(ke);var at=new it(this.ctx);l.config.legend.showForZeroSeries||0===at.getSeriesTotalByIndex(D)&&at.seriesHaveSameValues(D)&&!at.isSeriesNull(D)&&-1===l.globals.collapsedSeriesIndices.indexOf(D)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(D)&&le.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||at.isSeriesNull(D)&&-1===l.globals.collapsedSeriesIndices.indexOf(D)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(D)&&le.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(le),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),le.classList.add("apexcharts-legend-series"),le.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",Pe.setAttrs(le,{rel:D+1,seriesName:he.escapeString(m[D]),"data:collapsed":L||O}),(L||O)&&le.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||le.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",a.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",a.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",a.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(a,l){var f=this.w,m=f.globals.dom.baseEl.querySelector(".apexcharts-legend"),y=m.getBoundingClientRect(),b=0,x=0;if("bottom"===f.config.legend.position)x+=f.globals.svgHeight-y.height/2;else if("top"===f.config.legend.position){var S=new ii(this.ctx),D=S.dimHelpers.getTitleSubtitleCoords("title").height,M=S.dimHelpers.getTitleSubtitleCoords("subtitle").height;x=x+(D>0?D-10:0)+(M>0?M-10:0)}m.style.position="absolute",x=x+l+f.config.legend.offsetY,m.style.left=(b=b+a+f.config.legend.offsetX)+"px",m.style.top=x+"px","bottom"===f.config.legend.position?(m.style.top="auto",m.style.bottom=5-f.config.legend.offsetY+"px"):"right"===f.config.legend.position&&(m.style.left="auto",m.style.right=25+f.config.legend.offsetX+"px"),["width","height"].forEach(function(L){m.style[L]&&(m.style[L]=parseInt(f.config.legend[L],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var a=this.w;a.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var l=this.legendHelpers.getLegendBBox(),f=new ii(this.ctx),m=f.dimHelpers.getTitleSubtitleCoords("title"),y=f.dimHelpers.getTitleSubtitleCoords("subtitle"),b=0;"bottom"===a.config.legend.position?b=-l.clwh/1.8:"top"===a.config.legend.position&&(b=m.height+y.height+a.config.title.margin+a.config.subtitle.margin-10),this.setLegendWrapXY(20,b)}},{key:"legendAlignVertical",value:function(){var a=this.w,l=this.legendHelpers.getLegendBBox(),f=0;"left"===a.config.legend.position&&(f=20),"right"===a.config.legend.position&&(f=a.globals.svgWidth-l.clww-10),this.setLegendWrapXY(f,20)}},{key:"onLegendHovered",value:function(a){var l=this.w,f=a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(f){var m=parseInt(a.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,m,this.w]),new Sn(this.ctx).highlightRangeInSeries(a,a.target)}}else!a.target.classList.contains("apexcharts-inactive-legend")&&f&&new Sn(this.ctx).toggleSeriesOnHover(a,a.target)}},{key:"onLegendClick",value:function(a){var l=this.w;if(!l.config.legend.customLegendItems.length&&(a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker"))){var f=parseInt(a.target.getAttribute("rel"),10)-1,m="true"===a.target.getAttribute("data:collapsed"),y=this.w.config.chart.events.legendClick;"function"==typeof y&&y(this.ctx,f,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,f,this.w]);var b=this.w.config.legend.markers.onClick;"function"==typeof b&&a.target.classList.contains("apexcharts-legend-marker")&&(b(this.ctx,f,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,f,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(f,m)}}}]),J}(),yn=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return be(J,[{key:"createToolbar",value:function(){var a=this,l=this.w,f=function(){return document.createElement("div")},m=f();if(m.setAttribute("class","apexcharts-toolbar"),m.style.top=l.config.chart.toolbar.offsetY+"px",m.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(m),this.elZoom=f(),this.elZoomIn=f(),this.elZoomOut=f(),this.elPan=f(),this.elSelection=f(),this.elZoomReset=f(),this.elMenuIcon=f(),this.elMenu=f(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var y=0;y<this.t.customIcons.length;y++)this.elCustomIcons.push(f());var b=[],x=function(L,O,H){var $=L.toLowerCase();a.t[$]&&l.config.chart.zoom.enabled&&b.push({el:O,icon:"string"==typeof a.t[$]?a.t[$]:H,title:a.localeValues[L],class:"apexcharts-".concat($,"-icon")})};x("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),x("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var S=function(L){a.t[L]&&l.config.chart[L].enabled&&b.push({el:"zoom"===L?a.elZoom:a.elSelection,icon:"string"==typeof a.t[L]?a.t[L]:"zoom"===L?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:a.localeValues["zoom"===L?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(L,"-icon")})};S("zoom"),S("selection"),this.t.pan&&l.config.chart.zoom.enabled&&b.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),x("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&b.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var D=0;D<this.elCustomIcons.length;D++)b.push({el:this.elCustomIcons[D],icon:this.t.customIcons[D].icon,title:this.t.customIcons[D].title,index:this.t.customIcons[D].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[D].class});b.forEach(function(L,O){L.index&&he.moveIndexInArray(b,O,L.index)});for(var M=0;M<b.length;M++)Pe.setAttrs(b[M].el,{class:b[M].class,title:b[M].title}),b[M].el.innerHTML=b[M].icon,m.appendChild(b[M].el);this._createHamburgerMenu(m),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(a){this.elMenuItems=[],a.appendChild(this.elMenu),Pe.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var f=0;f<l.length;f++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[f].innerHTML=l[f].title,Pe.setAttrs(this.elMenuItems[f],{class:"apexcharts-menu-item ".concat(l[f].name),title:l[f].title}),this.elMenu.appendChild(this.elMenuItems[f])}},{key:"addToolbarEventListeners",value:function(){var a=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(f){f.classList.contains("exportSVG")?f.addEventListener("click",a.handleDownload.bind(a,"svg")):f.classList.contains("exportPNG")?f.addEventListener("click",a.handleDownload.bind(a,"png")):f.classList.contains("exportCSV")&&f.addEventListener("click",a.handleDownload.bind(a,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var f="selection"===a?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,m="selection"===a?"selectionEnabled":"zoomEnabled";l.w.globals[m]=!l.w.globals[m],f.classList.contains(l.ctx.toolbar.selectedClass)?f.classList.remove(l.ctx.toolbar.selectedClass):f.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var a=this.w;this.elZoom||(this.elZoom=a.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=a.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=a.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(a){this.toggleOtherControls(),"pan"===a?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===a?this.elPan:this.elZoom,f="pan"===a?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),f&&f.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls(),a.w.globals.panEnabled=!a.w.globals.panEnabled,a.ctx.toolbar.elPan.classList.contains(a.ctx.toolbar.selectedClass)?a.ctx.toolbar.elPan.classList.remove(a.ctx.toolbar.selectedClass):a.ctx.toolbar.elPan.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var a=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(f){f&&f.classList.remove(a.selectedClass)})}},{key:"handleZoomIn",value:function(){var a=this.w;a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY);var l=(this.minX+this.maxX)/2,y=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);a.globals.disableZoomIn||this.zoomUpdateOptions(y.minX,y.maxX)}},{key:"handleZoomOut",value:function(){var a=this.w;if(a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY),!("datetime"===a.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,y=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));a.globals.disableZoomOut||this.zoomUpdateOptions(y.minX,y.maxX)}}},{key:"_getNewMinXMaxX",value:function(a,l){var f=this.w.config.xaxis.convertedCatToNumeric;return{minX:f?Math.floor(a):a,maxX:f?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(a,l){var f=this.w;if(void 0!==a||void 0!==l){if(!(f.config.xaxis.convertedCatToNumeric&&(a<1&&(a=1,l=f.globals.dataPoints),l-a<2))){var m={min:a,max:l},y=this.getBeforeZoomRange(m);y&&(m=y.xaxis);var b={xaxis:m},x=he.clone(f.globals.initialConfig.yaxis);f.config.chart.zoom.autoScaleYaxis&&(x=new Es(this.ctx).autoScaleY(this.ctx,x,{xaxis:m})),f.config.chart.group||(b.yaxis=x),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(b,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(m,x)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(a,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:a,yaxis:l})}},{key:"getBeforeZoomRange",value:function(a,l){var f=null;return"function"==typeof this.ev.beforeZoom&&(f=this.ev.beforeZoom(this,{xaxis:a,yaxis:l})),f}},{key:"toggleMenu",value:function(){var a=this;window.setTimeout(function(){a.elMenu.classList.contains("apexcharts-menu-open")?a.elMenu.classList.remove("apexcharts-menu-open"):a.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(a){var l=this.w,f=new Us(this.ctx);switch(a){case"svg":f.exportToSVG(this.ctx);break;case"png":f.exportToPng(this.ctx);break;case"csv":f.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){var f=l.w;if(f.globals.lastXAxis.min=void 0,f.globals.lastXAxis.max=void 0,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof f.config.chart.events.beforeResetZoom){var m=f.config.chart.events.beforeResetZoom(l,f);m&&l.updateHelpers.revertDefaultAxisMinMax(m)}"function"==typeof f.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:f.config.xaxis.min,max:f.config.xaxis.max}),f.globals.zoomed=!1;var y=l.ctx.series.emptyCollapsedSeries(he.clone(f.globals.initialSeries));l.updateHelpers._updateSeries(y,f.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),J}(),Gs=function(J){Ie(l,yn);var a=St(l);function l(f){var m;return Se(this,l),(m=a.call(this,f)).ctx=f,m.w=f.w,m.dragged=!1,m.graphics=new Pe(m.ctx),m.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],m.clientX=0,m.clientY=0,m.startX=0,m.endX=0,m.dragX=0,m.startY=0,m.endY=0,m.dragY=0,m.moveDirection="none",m}return be(l,[{key:"init",value:function(f){var m=this,y=f.xyRatios,b=this.w,x=this;this.xyRatios=y,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=b.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),b.globals.dom.elGraphical.add(this.zoomRect),b.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===b.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:b.globals.gridWidth,maxY:b.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===b.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:b.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=b.globals.dom.baseEl.querySelector("".concat(b.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(S){m.hoverArea.addEventListener(S,x.svgMouseEvents.bind(x,y),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(f,m){var y=this.w,b=this,x=this.ctx.toolbar,S=y.globals.zoomEnabled?y.config.chart.zoom.type:y.config.chart.selection.type,D=y.config.chart.toolbar.autoSelected;if(m.shiftKey?(this.shiftWasPressed=!0,x.enableZoomPanFromToolbar("pan"===D?"zoom":"pan")):this.shiftWasPressed&&(x.enableZoomPanFromToolbar(D),this.shiftWasPressed=!1),m.target){var M,L=m.target.classList;if(m.target.parentNode&&null!==m.target.parentNode&&(M=m.target.parentNode.classList),!(L.contains("apexcharts-selection-rect")||L.contains("apexcharts-legend-marker")||L.contains("apexcharts-legend-text")||M&&M.contains("apexcharts-toolbar"))){if(b.clientX="touchmove"===m.type||"touchstart"===m.type?m.touches[0].clientX:"touchend"===m.type?m.changedTouches[0].clientX:m.clientX,b.clientY="touchmove"===m.type||"touchstart"===m.type?m.touches[0].clientY:"touchend"===m.type?m.changedTouches[0].clientY:m.clientY,"mousedown"===m.type&&1===m.which){var O=b.gridRect.getBoundingClientRect();b.startX=b.clientX-O.left,b.startY=b.clientY-O.top,b.dragged=!1,b.w.globals.mousedown=!0}if(("mousemove"===m.type&&1===m.which||"touchmove"===m.type)&&(b.dragged=!0,y.globals.panEnabled?(y.globals.selection=null,b.w.globals.mousedown&&b.panDragging({context:b,zoomtype:S,xyRatios:f})):(b.w.globals.mousedown&&y.globals.zoomEnabled||b.w.globals.mousedown&&y.globals.selectionEnabled)&&(b.selection=b.selectionDrawing({context:b,zoomtype:S}))),"mouseup"===m.type||"touchend"===m.type||"mouseleave"===m.type){var H=b.gridRect.getBoundingClientRect();b.w.globals.mousedown&&(b.endX=b.clientX-H.left,b.endY=b.clientY-H.top,b.dragX=Math.abs(b.endX-b.startX),b.dragY=Math.abs(b.endY-b.startY),(y.globals.zoomEnabled||y.globals.selectionEnabled)&&b.selectionDrawn({context:b,zoomtype:S}),y.globals.panEnabled&&y.config.xaxis.convertedCatToNumeric&&b.delayedPanScrolled()),y.globals.zoomEnabled&&b.hideSelectionRect(this.selectionRect),b.dragged=!1,b.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var f=this.w;if(this.selectionRect){var m=this.selectionRect.node.getBoundingClientRect();m.width>0&&m.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:f.globals.gridWidth,maxY:f.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var f=this.w,m=this.xyRatios;if(!f.globals.zoomEnabled)if(null!=f.globals.selection)this.drawSelectionRect(f.globals.selection);else if(void 0!==f.config.chart.selection.xaxis.min&&void 0!==f.config.chart.selection.xaxis.max){var y=(f.config.chart.selection.xaxis.min-f.globals.minX)/m.xRatio;this.drawSelectionRect({x:y,y:0,width:f.globals.gridWidth-(f.globals.maxX-f.config.chart.selection.xaxis.max)/m.xRatio-y,height:f.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof f.config.chart.events.selection&&f.config.chart.events.selection(this.ctx,{xaxis:{min:f.config.chart.selection.xaxis.min,max:f.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(f){var m=f.x,y=f.y,b=f.width,x=f.height,S=f.translateX,M=f.translateY,O=this.w,H=this.zoomRect,$=this.selectionRect;if(this.dragged||null!==O.globals.selection){var j={transform:"translate("+(void 0===S?0:S)+", "+(void 0===M?0:M)+")"};O.globals.zoomEnabled&&this.dragged&&(b<0&&(b=1),H.attr({x:m,y,width:b,height:x,fill:O.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":O.config.chart.zoom.zoomedArea.fill.opacity,stroke:O.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":O.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":O.config.chart.zoom.zoomedArea.stroke.opacity}),Pe.setAttrs(H.node,j)),O.globals.selectionEnabled&&($.attr({x:m,y,width:b>0?b:0,height:x>0?x:0,fill:O.config.chart.selection.fill.color,"fill-opacity":O.config.chart.selection.fill.opacity,stroke:O.config.chart.selection.stroke.color,"stroke-width":O.config.chart.selection.stroke.width,"stroke-dasharray":O.config.chart.selection.stroke.dashArray,"stroke-opacity":O.config.chart.selection.stroke.opacity}),Pe.setAttrs($.node,j))}}},{key:"hideSelectionRect",value:function(f){f&&f.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(f){var j,y=f.zoomtype,b=this.w,x=f.context,S=this.gridRect.getBoundingClientRect(),D=x.startX-1,M=x.startY,L=!1,O=!1,H=x.clientX-S.left-D,$=x.clientY-S.top-M;return Math.abs(H+D)>b.globals.gridWidth?H=b.globals.gridWidth-D:x.clientX-S.left<0&&(H=D),D>x.clientX-S.left&&(L=!0,H=Math.abs(H)),M>x.clientY-S.top&&(O=!0,$=Math.abs($)),x.drawSelectionRect(j="x"===y?{x:L?D-H:D,y:0,width:H,height:b.globals.gridHeight}:"y"===y?{x:0,y:O?M-$:M,width:b.globals.gridWidth,height:$}:{x:L?D-H:D,y:O?M-$:M,width:H,height:$}),x.selectionDragging("resizing"),j}},{key:"selectionDragging",value:function(f,m){var y=this,b=this.w,x=this.xyRatios,S=this.selectionRect,D=0;"resizing"===f&&(D=30);var M=function(O){return parseFloat(S.node.getAttribute(O))},L={x:M("x"),y:M("y"),width:M("width"),height:M("height")};b.globals.selection=L,"function"==typeof b.config.chart.events.selection&&b.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var O=y.gridRect.getBoundingClientRect(),H=S.node.getBoundingClientRect(),$={xaxis:{min:b.globals.xAxisScale.niceMin+(H.left-O.left)*x.xRatio,max:b.globals.xAxisScale.niceMin+(H.right-O.left)*x.xRatio},yaxis:{min:b.globals.yAxisScale[0].niceMin+(O.bottom-H.bottom)*x.yRatio[0],max:b.globals.yAxisScale[0].niceMax-(H.top-O.top)*x.yRatio[0]}};b.config.chart.events.selection(y.ctx,$),b.config.chart.brush.enabled&&void 0!==b.config.chart.events.brushScrolled&&b.config.chart.events.brushScrolled(y.ctx,$)},D))}},{key:"selectionDrawn",value:function(f){var y=f.zoomtype,b=this.w,x=f.context,S=this.xyRatios,D=this.ctx.toolbar;if(x.startX>x.endX){var M=x.startX;x.startX=x.endX,x.endX=M}if(x.startY>x.endY){var L=x.startY;x.startY=x.endY,x.endY=L}var O=void 0,H=void 0;b.globals.isRangeBar?(O=b.globals.yAxisScale[0].niceMin+x.startX*S.invertedYRatio,H=b.globals.yAxisScale[0].niceMin+x.endX*S.invertedYRatio):(O=b.globals.xAxisScale.niceMin+x.startX*S.xRatio,H=b.globals.xAxisScale.niceMin+x.endX*S.xRatio);var $=[],j=[];if(b.config.yaxis.forEach(function(Z,le){$.push(b.globals.yAxisScale[le].niceMax-S.yRatio[le]*x.startY),j.push(b.globals.yAxisScale[le].niceMax-S.yRatio[le]*x.endY)}),x.dragged&&(x.dragX>10||x.dragY>10)&&O!==H)if(b.globals.zoomEnabled){var ee=he.clone(b.globals.initialConfig.yaxis),re=he.clone(b.globals.initialConfig.xaxis);if(b.globals.zoomed=!0,b.config.xaxis.convertedCatToNumeric&&(O=Math.floor(O),H=Math.floor(H),O<1&&(O=1,H=b.globals.dataPoints),H-O<2&&(H=O+1)),"xy"!==y&&"x"!==y||(re={min:O,max:H}),"xy"!==y&&"y"!==y||ee.forEach(function(Z,le){ee[le].min=j[le],ee[le].max=$[le]}),b.config.chart.zoom.autoScaleYaxis){var ce=new Es(x.ctx);ee=ce.autoScaleY(x.ctx,ee,{xaxis:re})}if(D){var ae=D.getBeforeZoomRange(re,ee);ae&&(re=ae.xaxis?ae.xaxis:re,ee=ae.yaxis?ae.yaxis:ee)}var A={xaxis:re};b.config.chart.group||(A.yaxis=ee),x.ctx.updateHelpers._updateOptions(A,!1,x.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof b.config.chart.events.zoomed&&D.zoomCallback(re,ee)}else if(b.globals.selectionEnabled){var F,X=null;F={min:O,max:H},"xy"!==y&&"y"!==y||(X=he.clone(b.config.yaxis)).forEach(function(Z,le){X[le].min=j[le],X[le].max=$[le]}),b.globals.selection=x.selection,"function"==typeof b.config.chart.events.selection&&b.config.chart.events.selection(x.ctx,{xaxis:F,yaxis:X})}}},{key:"panDragging",value:function(f){var y=this.w,b=f.context;if(void 0!==y.globals.lastClientPosition.x){var x=y.globals.lastClientPosition.x-b.clientX,S=y.globals.lastClientPosition.y-b.clientY;Math.abs(x)>Math.abs(S)&&x>0?this.moveDirection="left":Math.abs(x)>Math.abs(S)&&x<0?this.moveDirection="right":Math.abs(S)>Math.abs(x)&&S>0?this.moveDirection="up":Math.abs(S)>Math.abs(x)&&S<0&&(this.moveDirection="down")}y.globals.lastClientPosition={x:b.clientX,y:b.clientY},y.config.xaxis.convertedCatToNumeric||b.panScrolled(y.globals.isRangeBar?y.globals.minY:y.globals.minX,y.globals.isRangeBar?y.globals.maxY:y.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var f=this.w,m=f.globals.minX,y=f.globals.maxX,b=(f.globals.maxX-f.globals.minX)/2;"left"===this.moveDirection?(m=f.globals.minX+b,y=f.globals.maxX+b):"right"===this.moveDirection&&(m=f.globals.minX-b,y=f.globals.maxX-b),m=Math.floor(m),y=Math.floor(y),this.updateScrolledChart({xaxis:{min:m,max:y}},m,y)}},{key:"panScrolled",value:function(f,m){var y=this.w,b=this.xyRatios,x=he.clone(y.globals.initialConfig.yaxis),S=b.xRatio,D=y.globals.minX,M=y.globals.maxX;y.globals.isRangeBar&&(S=b.invertedYRatio,D=y.globals.minY,M=y.globals.maxY),"left"===this.moveDirection?(f=D+y.globals.gridWidth/15*S,m=M+y.globals.gridWidth/15*S):"right"===this.moveDirection&&(f=D-y.globals.gridWidth/15*S,m=M-y.globals.gridWidth/15*S),y.globals.isRangeBar||(f<y.globals.initialMinX||m>y.globals.initialMaxX)&&(f=D,m=M);var L={min:f,max:m};y.config.chart.zoom.autoScaleYaxis&&(x=new Es(this.ctx).autoScaleY(this.ctx,x,{xaxis:L}));var O={xaxis:{min:f,max:m}};y.config.chart.group||(O.yaxis=x),this.updateScrolledChart(O,f,m)}},{key:"updateScrolledChart",value:function(f,m,y){var b=this.w;this.ctx.updateHelpers._updateOptions(f,!1,!1),"function"==typeof b.config.chart.events.scrolled&&b.config.chart.events.scrolled(this.ctx,{xaxis:{min:m,max:y}})}}]),l}(),Gi=function(){function J(a){Se(this,J),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx}return be(J,[{key:"getNearestValues",value:function(a){var l=a.hoverArea,m=a.clientX,y=a.clientY,b=this.w,x=a.elGrid.getBoundingClientRect(),S=x.width,D=x.height,M=S/(b.globals.dataPoints-1),L=D/b.globals.dataPoints,O=this.hasBars();!b.globals.comboCharts&&!O||b.config.xaxis.convertedCatToNumeric||(M=S/b.globals.dataPoints);var H=m-x.left-b.globals.barPadForNumericAxis,$=y-x.top;H<0||$<0||H>S||$>D?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):b.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):b.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var j=Math.round(H/M),ee=Math.floor($/L);O&&!b.config.xaxis.convertedCatToNumeric&&(j=Math.ceil(H/M),j-=1);var re=null,ce=null,ae=[],A=[];if(b.globals.seriesXvalues.forEach(function(le){ae.push([le[0]+1e-6].concat(le))}),b.globals.seriesYvalues.forEach(function(le){A.push([le[0]+1e-6].concat(le))}),ae=ae.map(function(le){return le.filter(function(ke){return he.isNumber(ke)})}),A=A.map(function(le){return le.filter(function(ke){return he.isNumber(ke)})}),b.globals.isXNumeric){var F=this.ttCtx.getElGrid().getBoundingClientRect(),X=H*(F.width/S);re=(ce=this.closestInMultiArray(X,$*(F.height/D),ae,A)).index,j=ce.j,null!==re&&(j=(ce=this.closestInArray(X,ae=b.globals.seriesXvalues[re])).index)}return b.globals.capturedSeriesIndex=null===re?-1:re,(!j||j<1)&&(j=0),b.globals.capturedDataPointIndex=b.globals.isBarHorizontal?ee:j,{capturedSeries:re,j:b.globals.isBarHorizontal?ee:j,hoverX:H,hoverY:$}}},{key:"closestInMultiArray",value:function(a,l,f,m){var b=0,x=null,S=-1;this.w.globals.series.length>1?b=this.getFirstActiveXArray(f):x=0;var M=Math.abs(a-f[b][0]);if(f.forEach(function(H){H.forEach(function($,j){var ee=Math.abs(a-$);ee<M&&(M=ee,S=j)})}),-1!==S){var O=Math.abs(l-m[b][S]);x=b,m.forEach(function(H,$){var j=Math.abs(l-H[S]);j<O&&(O=j,x=$)})}return{index:x,j:S}}},{key:"getFirstActiveXArray",value:function(a){for(var l=this.w,f=0,m=a.map(function(b,x){return b.length>0?x:-1}),y=0;y<m.length;y++)if(-1!==m[y]&&-1===l.globals.collapsedSeriesIndices.indexOf(y)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(y)){f=m[y];break}return f}},{key:"closestInArray",value:function(a,l){for(var m=null,y=Math.abs(a-l[0]),b=0;b<l.length;b++){var x=Math.abs(a-l[b]);x<y&&(y=x,m=b)}return{index:m}}},{key:"isXoverlap",value:function(a){var l=[],f=this.w.globals.seriesX.filter(function(y){return void 0!==y[0]});if(f.length>0)for(var m=0;m<f.length-1;m++)void 0!==f[m][a]&&void 0!==f[m+1][a]&&f[m][a]!==f[m+1][a]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var a=!0,l=this.w.globals.initialSeries,f=0;f<l.length-1;f++)if(l[f].data.length!==l[f+1].data.length){a=!1;break}return a}},{key:"getBarsHeight",value:function(a){return et(a).reduce(function(l,f){return l+f.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(a=et(a)).sort(function(f,m){var y=Number(f.getAttribute("data:realIndex")),b=Number(m.getAttribute("data:realIndex"));return b<y?1:b>y?-1:0});var l=[];return a.forEach(function(f){l.push(f.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(a){var l=this.w,f=l.config.markers.hover.size;return void 0===f&&(f=l.globals.markers.size[a]+l.config.markers.hover.sizeOffset),f}},{key:"toggleAllTooltipSeriesGroups",value:function(a){var l=this.w,f=this.ttCtx;0===f.allTooltipSeriesGroups.length&&(f.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var m=f.allTooltipSeriesGroups,y=0;y<m.length;y++)"enable"===a?(m[y].classList.add("apexcharts-active"),m[y].style.display=l.config.tooltip.items.display):(m[y].classList.remove("apexcharts-active"),m[y].style.display="none")}}]),J}(),Cs=function(){function J(a){Se(this,J),this.w=a.w,this.ctx=a.ctx,this.ttCtx=a,this.tooltipUtil=new Gi(a)}return be(J,[{key:"drawSeriesTexts",value:function(a){var l=a.shared,f=void 0===l||l,m=a.ttItems,y=a.i,b=void 0===y?0:y,x=a.j,S=void 0===x?null:x,L=a.e,O=this.w;void 0!==O.config.tooltip.custom?this.handleCustomTooltip({i:b,j:S,y1:a.y1,y2:a.y2,w:O}):this.toggleActiveInactiveSeries(f);var H=this.getValuesToPrint({i:b,j:S});this.printLabels({i:b,j:S,values:H,ttItems:m,shared:f,e:L});var $=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=$.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=$.getBoundingClientRect().height}},{key:"printLabels",value:function(a){var l,f=this,m=a.i,y=a.j,b=a.values,x=a.ttItems,S=a.shared,D=a.e,M=this.w,L=[],O=function(F){return M.globals.seriesGoals[F]&&M.globals.seriesGoals[F][y]&&Array.isArray(M.globals.seriesGoals[F][y])},H=b.xVal,$=b.zVal,j=b.xAxisTTVal,ee="",re=M.globals.colors[m];null!==y&&M.config.plotOptions.bar.distributed&&(re=M.globals.colors[y]);for(var ce=function(F,X){var Z=f.getFormatters(m);ee=f.getSeriesName({fn:Z.yLbTitleFormatter,index:m,seriesIndex:m,j:y}),"treemap"===M.config.chart.type&&(ee=Z.yLbTitleFormatter(String(M.config.series[m].data[y].x),{series:M.globals.series,seriesIndex:m,dataPointIndex:y,w:M}));var le=M.config.tooltip.inverseOrder?X:F;if(M.globals.axisCharts){var ke=function(ct){return Z.yLbFormatter(M.globals.series[ct][y],{series:M.globals.series,seriesIndex:ct,dataPointIndex:y,w:M})};if(S)Z=f.getFormatters(le),ee=f.getSeriesName({fn:Z.yLbTitleFormatter,index:le,seriesIndex:m,j:y}),re=M.globals.colors[le],l=ke(le),O(le)&&(L=M.globals.seriesGoals[le][y].map(function(ct){return{attrs:ct,val:Z.yLbFormatter(ct.value,{seriesIndex:le,dataPointIndex:y,w:M})}}));else{var Me,at=null==D||null===(Me=D.target)||void 0===Me?void 0:Me.getAttribute("fill");at&&(re=-1!==at.indexOf("url")?document.querySelector(at.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):at),l=ke(m),O(m)&&Array.isArray(M.globals.seriesGoals[m][y])&&(L=M.globals.seriesGoals[m][y].map(function(ct){return{attrs:ct,val:Z.yLbFormatter(ct.value,{seriesIndex:m,dataPointIndex:y,w:M})}}))}}null===y&&(l=Z.yLbFormatter(M.globals.series[m],te(te({},M),{},{seriesIndex:m,dataPointIndex:m}))),f.DOMHandling({i:m,t:le,j:y,ttItems:x,values:{val:l,goalVals:L,xVal:H,xAxisTTVal:j,zVal:$},seriesName:ee,shared:S,pColor:re})},ae=0,A=M.globals.series.length-1;ae<M.globals.series.length;ae++,A--)ce(ae,A)}},{key:"getFormatters",value:function(a){var l,f=this.w,m=f.globals.yLabelFormatters[a];return void 0!==f.globals.ttVal?Array.isArray(f.globals.ttVal)?(m=f.globals.ttVal[a]&&f.globals.ttVal[a].formatter,l=f.globals.ttVal[a]&&f.globals.ttVal[a].title&&f.globals.ttVal[a].title.formatter):(m=f.globals.ttVal.formatter,"function"==typeof f.globals.ttVal.title.formatter&&(l=f.globals.ttVal.title.formatter)):l=f.config.tooltip.y.title.formatter,"function"!=typeof m&&(m=f.globals.yLabelFormatters[0]?f.globals.yLabelFormatters[0]:function(y){return y}),"function"!=typeof l&&(l=function(y){return y}),{yLbFormatter:m,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(a){var m=a.seriesIndex,y=a.j,b=this.w;return(0,a.fn)(String(b.globals.seriesNames[a.index]),{series:b.globals.series,seriesIndex:m,dataPointIndex:y,w:b})}},{key:"DOMHandling",value:function(a){var l=a.t,f=a.j,m=a.ttItems,y=a.values,b=a.seriesName,x=a.shared,S=a.pColor,D=this.w,M=this.ttCtx,L=y.val,O=y.goalVals,H=y.xVal,$=y.xAxisTTVal,j=y.zVal,ee=null;ee=m[l].children,D.config.tooltip.fillSeriesColor&&(m[l].style.backgroundColor=S,ee[0].style.display="none"),M.showTooltipTitle&&(null===M.tooltipTitle&&(M.tooltipTitle=D.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),M.tooltipTitle.innerHTML=H),M.isXAxisTooltipEnabled&&(M.xaxisTooltipText.innerHTML=""!==$?$:H);var re=m[l].querySelector(".apexcharts-tooltip-text-y-label");re&&(re.innerHTML=b||"");var ce=m[l].querySelector(".apexcharts-tooltip-text-y-value");ce&&(ce.innerHTML=void 0!==L?L:""),ee[0]&&ee[0].classList.contains("apexcharts-tooltip-marker")&&(D.config.tooltip.marker.fillColors&&Array.isArray(D.config.tooltip.marker.fillColors)&&(S=D.config.tooltip.marker.fillColors[l]),ee[0].style.backgroundColor=S),D.config.tooltip.marker.show||(ee[0].style.display="none");var ae=m[l].querySelector(".apexcharts-tooltip-text-goals-label"),A=m[l].querySelector(".apexcharts-tooltip-text-goals-value");if(O.length&&D.globals.seriesGoals[l]){var F=function(){var X="<div >",Z="<div>";O.forEach(function(le,ke){X+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(le.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(le.attrs.name,"</div>"),Z+="<div>".concat(le.val,"</div>")}),ae.innerHTML=X+"</div>",A.innerHTML=Z+"</div>"};x?D.globals.seriesGoals[l][f]&&Array.isArray(D.globals.seriesGoals[l][f])?F():(ae.innerHTML="",A.innerHTML=""):F()}else ae.innerHTML="",A.innerHTML="";null!==j&&(m[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=D.config.tooltip.z.title,m[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==j?j:""),x&&ee[0]&&(ee[0].parentNode.style.display=null==L||D.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||D.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":D.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(a){var l=this.w;if(a)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var f=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");f&&(f.classList.add("apexcharts-active"),f.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(a){var l=a.i,f=a.j,m=this.w,y=this.ctx.series.filteredSeriesX(),b="",x="",S=null,D=null,M={series:m.globals.series,seriesIndex:l,dataPointIndex:f,w:m},L=m.globals.ttZFormatter;null===f?D=m.globals.series[l]:m.globals.isXNumeric&&"treemap"!==m.config.chart.type?(b=y[l][f],0===y[l].length&&(b=y[this.tooltipUtil.getFirstActiveXArray(y)][f])):b=void 0!==m.globals.labels[f]?m.globals.labels[f]:"";var O=b;return b=m.globals.isXNumeric&&"datetime"===m.config.xaxis.type?new wn(this.ctx).xLabelFormat(m.globals.ttKeyFormatter,O,O,{i:void 0,dateFormatter:new Ye(this.ctx).formatDate,w:this.w}):m.globals.isBarHorizontal?m.globals.yLabelFormatters[0](O,M):m.globals.xLabelFormatter(O,M),void 0!==m.config.tooltip.x.formatter&&(b=m.globals.ttKeyFormatter(O,M)),m.globals.seriesZ.length>0&&m.globals.seriesZ[l].length>0&&(S=L(m.globals.seriesZ[l][f],m)),x="function"==typeof m.config.xaxis.tooltip.formatter?m.globals.xaxisTooltipFormatter(O,M):b,{val:Array.isArray(D)?D.join(" "):D,xVal:Array.isArray(b)?b.join(" "):b,xAxisTTVal:Array.isArray(x)?x.join(" "):x,zVal:S}}},{key:"handleCustomTooltip",value:function(a){var l=a.i,f=a.j,m=a.y1,y=a.y2,b=a.w,x=this.ttCtx.getElTooltip(),S=b.config.tooltip.custom;Array.isArray(S)&&S[l]&&(S=S[l]),x.innerHTML=S({ctx:this.ctx,series:b.globals.series,seriesIndex:l,dataPointIndex:f,y1:m,y2:y,w:b})}}]),J}(),mn=function(){function J(a){Se(this,J),this.ttCtx=a,this.ctx=a.ctx,this.w=a.w}return be(J,[{key:"moveXCrosshairs",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=this.ttCtx,m=this.w,y=f.getElXCrosshairs(),b=a-f.xcrosshairsWidth/2,x=m.globals.labels.slice().length;if(null!==l&&(b=m.globals.gridWidth/x*l),null===y||m.globals.isBarHorizontal||(y.setAttribute("x",b),y.setAttribute("x1",b),y.setAttribute("x2",b),y.setAttribute("y2",m.globals.gridHeight),y.classList.add("apexcharts-active")),b<0&&(b=0),b>m.globals.gridWidth&&(b=m.globals.gridWidth),f.isXAxisTooltipEnabled){var S=b;"tickWidth"!==m.config.xaxis.crosshairs.width&&"barWidth"!==m.config.xaxis.crosshairs.width||(S=b+f.xcrosshairsWidth/2),this.moveXAxisTooltip(S)}}},{key:"moveYCrosshairs",value:function(a){var l=this.ttCtx;null!==l.ycrosshairs&&Pe.setAttrs(l.ycrosshairs,{y1:a,y2:a}),null!==l.ycrosshairsHidden&&Pe.setAttrs(l.ycrosshairsHidden,{y1:a,y2:a})}},{key:"moveXAxisTooltip",value:function(a){var l=this.w,f=this.ttCtx;if(null!==f.xaxisTooltip&&0!==f.xcrosshairsWidth){f.xaxisTooltip.classList.add("apexcharts-active");var y,m=f.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;a-=f.xaxisTooltip.getBoundingClientRect().width/2,isNaN(a)||(a+=l.globals.translateX,y=new Pe(this.ctx).getTextRects(f.xaxisTooltipText.innerHTML),f.xaxisTooltipText.style.minWidth=y.width+"px",f.xaxisTooltip.style.left=a+"px",f.xaxisTooltip.style.top=m+"px")}}},{key:"moveYAxisTooltip",value:function(a){var l=this.w,f=this.ttCtx;null===f.yaxisTTEls&&(f.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var m=parseInt(f.ycrosshairsHidden.getAttribute("y1"),10),y=l.globals.translateY+m,b=f.yaxisTTEls[a].getBoundingClientRect().height,x=l.globals.translateYAxisX[a]-2;l.config.yaxis[a].opposite&&(x-=26),y-=b/2,-1===l.globals.ignoreYAxisIndexes.indexOf(a)?(f.yaxisTTEls[a].classList.add("apexcharts-active"),f.yaxisTTEls[a].style.top=y+"px",f.yaxisTTEls[a].style.left=x+l.config.yaxis[a].tooltip.offsetX+"px"):f.yaxisTTEls[a].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=this.w,y=this.ttCtx,b=y.getElTooltip(),x=y.tooltipRect,S=null!==f?parseFloat(f):1,D=parseFloat(a)+S+5,M=parseFloat(l)+S/2;if(D>m.globals.gridWidth/2&&(D=D-x.ttWidth-S-10),D>m.globals.gridWidth-x.ttWidth-10&&(D=m.globals.gridWidth-x.ttWidth),D<-20&&(D=-20),m.config.tooltip.followCursor){var L=y.getElGrid(),O=L.getBoundingClientRect();M=y.e.clientY+m.globals.translateY-O.top-x.ttHeight/2}else m.globals.isBarHorizontal||(x.ttHeight/2+M>m.globals.gridHeight&&(M=m.globals.gridHeight-x.ttHeight+m.globals.translateY),M<0&&(M=0));isNaN(D)||(b.style.left=(D+=m.globals.translateX)+"px",b.style.top=M+"px")}},{key:"moveMarkers",value:function(a,l){var f=this.w,m=this.ttCtx;if(f.globals.markers.size[a]>0)for(var y=f.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-marker")),b=0;b<y.length;b++)parseInt(y[b].getAttribute("rel"),10)===l&&(m.marker.resetPointsSize(),m.marker.enlargeCurrentPoint(l,y[b]));else m.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,a)}},{key:"moveDynamicPointOnHover",value:function(a,l){var f,m,y=this.w,b=this.ttCtx,x=y.globals.pointsArray,S=b.tooltipUtil.getHoverMarkerSize(l),D=y.config.series[l].type;if(!D||"column"!==D&&"candlestick"!==D&&"boxPlot"!==D){f=x[l][a][0],m=x[l][a][1]?x[l][a][1]:0;var M=y.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));M&&m<y.globals.gridHeight&&m>0&&(M.setAttribute("r",S),M.setAttribute("cx",f),M.setAttribute("cy",m)),this.moveXCrosshairs(f),b.fixedTooltip||this.moveTooltip(f,m,S)}}},{key:"moveDynamicPointsOnHover",value:function(a){var l,f=this.ttCtx,m=f.w,y=0,b=0,x=m.globals.pointsArray;l=new Sn(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var S=f.tooltipUtil.getHoverMarkerSize(l);x[l]&&(y=x[l][a][0],b=x[l][a][1]);var D=f.tooltipUtil.getAllMarkers();if(null!==D)for(var M=0;M<m.globals.series.length;M++){var L=x[M];if(m.globals.comboCharts&&void 0===L&&D.splice(M,0,null),L&&L.length){var O=x[M][a][1];D[M].setAttribute("cx",y),"rangeArea"!==m.config.chart.type||m.globals.comboCharts||(O-=Math.abs(O-x[M][a+m.globals.series[M].length][1])/2),null!==O&&!isNaN(O)&&O<m.globals.gridHeight+S&&O+S>0?(D[M]&&D[M].setAttribute("r",S),D[M]&&D[M].setAttribute("cy",O)):D[M]&&D[M].setAttribute("r",0)}}this.moveXCrosshairs(y),f.fixedTooltip||this.moveTooltip(y,b||m.globals.gridHeight,S)}},{key:"moveStickyTooltipOverBars",value:function(a){var l=this.w,f=this.ttCtx,m=l.globals.columnSeries?l.globals.columnSeries.length:l.globals.series.length,y=m>=2&&m%2==0?Math.floor(m/2):Math.floor(m/2)+1;l.globals.isBarHorizontal&&(y=new Sn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var b=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(y,"'] path[j='").concat(a,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(a,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(a,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(a,"']")),x=b?parseFloat(b.getAttribute("cx")):0,S=b?parseFloat(b.getAttribute("cy")):0,D=b?parseFloat(b.getAttribute("barWidth")):0,M=b?parseFloat(b.getAttribute("barHeight")):0,L=f.getElGrid().getBoundingClientRect(),O=b.classList.contains("apexcharts-candlestick-area")||b.classList.contains("apexcharts-boxPlot-area");l.globals.isXNumeric?(b&&!O&&(x-=m%2!=0?D/2:0),b&&O&&l.globals.comboCharts&&(x-=D/2)):l.globals.isBarHorizontal||(x=f.xAxisTicksPositions[a-1]+f.dataPointsDividedWidth/2,isNaN(x)&&(x=f.xAxisTicksPositions[a]-f.dataPointsDividedWidth/2)),l.globals.isBarHorizontal?(S>l.globals.gridHeight/2&&(S-=f.tooltipRect.ttHeight),(S=S+l.config.grid.padding.top+M/3)+M>l.globals.gridHeight&&(S=l.globals.gridHeight-M)):l.config.tooltip.followCursor?S=f.e.clientY-L.top-f.tooltipRect.ttHeight/2:S+f.tooltipRect.ttHeight+15>l.globals.gridHeight&&(S=l.globals.gridHeight),S<-10&&(S=-10),l.globals.isBarHorizontal||this.moveXCrosshairs(x),f.fixedTooltip||this.moveTooltip(x,S||l.globals.gridHeight)}}]),J}(),Ds=function(){function J(a){Se(this,J),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx,this.tooltipPosition=new mn(a)}return be(J,[{key:"drawDynamicPoints",value:function(){var a=this.w,l=new Pe(this.ctx),f=new Jn(this.ctx),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");m=et(m),a.config.chart.stacked&&m.sort(function(L,O){return parseFloat(L.getAttribute("data:realIndex"))-parseFloat(O.getAttribute("data:realIndex"))});for(var y=0;y<m.length;y++){var b=m[y].querySelector(".apexcharts-series-markers-wrap");if(null!==b){var x=void 0,S="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(S+=" no-pointer-events");var D=f.getMarkerConfig({cssClass:S,seriesIndex:Number(b.getAttribute("data:realIndex"))});(x=l.drawMarker(0,0,D)).node.setAttribute("default-marker-size",0);var M=document.createElementNS(a.globals.SVGNS,"g");M.classList.add("apexcharts-series-markers"),M.appendChild(x.node),b.appendChild(M)}}}},{key:"enlargeCurrentPoint",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=this.w;"bubble"!==y.config.chart.type&&this.newPointSize(a,l);var b=l.getAttribute("cx"),x=l.getAttribute("cy");if(null!==f&&null!==m&&(b=f,x=m),this.tooltipPosition.moveXCrosshairs(b),!this.fixedTooltip){if("radar"===y.config.chart.type){var S=this.ttCtx.getElGrid(),D=S.getBoundingClientRect();b=this.ttCtx.e.clientX-D.left}this.tooltipPosition.moveTooltip(b,x,y.config.markers.hover.size)}}},{key:"enlargePoints",value:function(a){for(var l=this.w,f=this,m=this.ttCtx,y=a,b=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),x=l.config.markers.hover.size,S=0;S<b.length;S++){var D=b[S].getAttribute("rel"),M=b[S].getAttribute("index");if(void 0===x&&(x=l.globals.markers.size[M]+l.config.markers.hover.sizeOffset),y===parseInt(D,10)){f.newPointSize(y,b[S]);var L=b[S].getAttribute("cx"),O=b[S].getAttribute("cy");f.tooltipPosition.moveXCrosshairs(L),m.fixedTooltip||f.tooltipPosition.moveTooltip(L,O,x)}else f.oldPointSize(b[S])}}},{key:"newPointSize",value:function(a,l){var f=this.w,m=f.config.markers.hover.size,y=0===a?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==y.getAttribute("default-marker-size")){var b=parseInt(y.getAttribute("index"),10);void 0===m&&(m=f.globals.markers.size[b]+f.config.markers.hover.sizeOffset),m<0&&(m=0),y.setAttribute("r",m)}}},{key:"oldPointSize",value:function(a){var l=parseFloat(a.getAttribute("default-marker-size"));a.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<a.length;l++){var f=parseFloat(a[l].getAttribute("default-marker-size"));he.isNumber(f)&&f>=0?a[l].setAttribute("r",f):a[l].setAttribute("r",0)}}}]),J}(),An=function(){function J(a){Se(this,J),this.w=a.w,this.ttCtx=a}return be(J,[{key:"getAttr",value:function(a,l){return parseFloat(a.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(a){var l=a.e,f=a.opt,m=a.x,y=a.y,x=this.ttCtx,S=this.w;if(l.target.classList.contains("apexcharts-".concat(a.type,"-rect"))){var D=this.getAttr(l,"i"),M=this.getAttr(l,"j"),L=this.getAttr(l,"cx"),O=this.getAttr(l,"cy"),H=this.getAttr(l,"width"),$=this.getAttr(l,"height");if(x.tooltipLabels.drawSeriesTexts({ttItems:f.ttItems,i:D,j:M,shared:!1,e:l}),S.globals.capturedSeriesIndex=D,S.globals.capturedDataPointIndex=M,m=L+x.tooltipRect.ttWidth/2+H,y=O+x.tooltipRect.ttHeight/2-$/2,x.tooltipPosition.moveXCrosshairs(L+H/2),m>S.globals.gridWidth/2&&(m=L-x.tooltipRect.ttWidth/2+H),x.w.config.tooltip.followCursor){var j=S.globals.dom.elWrap.getBoundingClientRect();m=S.globals.clientX-j.left-(m>S.globals.gridWidth/2?x.tooltipRect.ttWidth:0),y=S.globals.clientY-j.top-(y>S.globals.gridHeight/2?x.tooltipRect.ttHeight:0)}}return{x:m,y}}},{key:"handleMarkerTooltip",value:function(a){var l,f,m=a.e,y=a.opt,b=a.x,x=a.y,S=this.w,D=this.ttCtx;if(m.target.classList.contains("apexcharts-marker")){var M=parseInt(y.paths.getAttribute("cx"),10),L=parseInt(y.paths.getAttribute("cy"),10),O=parseFloat(y.paths.getAttribute("val"));if(f=parseInt(y.paths.getAttribute("rel"),10),l=parseInt(y.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,D.intersect){var H=he.findAncestor(y.paths,"apexcharts-series");H&&(l=parseInt(H.getAttribute("data:realIndex"),10))}if(D.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:l,j:f,shared:!D.showOnIntersect&&S.config.tooltip.shared,e:m}),"mouseup"===m.type&&D.markerClick(m,l,f),S.globals.capturedSeriesIndex=l,S.globals.capturedDataPointIndex=f,b=M,x=L+S.globals.translateY-1.4*D.tooltipRect.ttHeight,D.w.config.tooltip.followCursor){var $=D.getElGrid().getBoundingClientRect();x=D.e.clientY+S.globals.translateY-$.top}O<0&&(x=L),D.marker.enlargeCurrentPoint(f,y.paths,b,x)}return{x:b,y:x}}},{key:"handleBarTooltip",value:function(a){var l,f,m=a.e,y=a.opt,b=this.w,x=this.ttCtx,S=x.getElTooltip(),D=0,M=0,L=0,O=this.getBarTooltipXY({e:m,opt:y}),H=O.barHeight,$=O.j;b.globals.capturedSeriesIndex=l=O.i,b.globals.capturedDataPointIndex=$,b.globals.isBarHorizontal&&x.tooltipUtil.hasBars()||!b.config.tooltip.shared?(M=O.x,L=O.y,f=Array.isArray(b.config.stroke.width)?b.config.stroke.width[l]:b.config.stroke.width,D=M):b.globals.comboCharts||b.config.tooltip.shared||(D/=2),isNaN(L)?L=b.globals.svgHeight-x.tooltipRect.ttHeight:L<0&&(L=0);var j=parseInt(y.paths.parentNode.getAttribute("data:realIndex"),10),ee=b.globals.isMultipleYAxis?b.config.yaxis[j]&&b.config.yaxis[j].reversed:b.config.yaxis[0].reversed;if(M+x.tooltipRect.ttWidth>b.globals.gridWidth&&!ee?M-=x.tooltipRect.ttWidth:M<0&&(M=0),x.w.config.tooltip.followCursor){var re=x.getElGrid().getBoundingClientRect();L=x.e.clientY-re.top}null===x.tooltip&&(x.tooltip=b.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),b.config.tooltip.shared||x.tooltipPosition.moveXCrosshairs(b.globals.comboBarCount>0?D+f/2:D),!x.fixedTooltip&&(!b.config.tooltip.shared||b.globals.isBarHorizontal&&x.tooltipUtil.hasBars())&&(ee&&(M-=x.tooltipRect.ttWidth)<0&&(M=0),!ee||b.globals.isBarHorizontal&&x.tooltipUtil.hasBars()||(L=L+H-2*(b.globals.series[l][$]<0?H:0)),x.tooltipRect.ttHeight+L>b.globals.gridHeight?L=b.globals.gridHeight-x.tooltipRect.ttHeight+b.globals.translateY:(L=L+b.globals.translateY-x.tooltipRect.ttHeight/2)<0&&(L=0),S.style.left=M+b.globals.translateX+"px",S.style.top=L+"px")}},{key:"getBarTooltipXY",value:function(a){var l=a.e,f=a.opt,m=this.w,y=null,b=this.ttCtx,x=0,S=0,D=0,M=0,L=0,O=l.target.classList;if(O.contains("apexcharts-bar-area")||O.contains("apexcharts-candlestick-area")||O.contains("apexcharts-boxPlot-area")||O.contains("apexcharts-rangebar-area")){var H=l.target,$=H.getBoundingClientRect(),j=f.elGrid.getBoundingClientRect(),ee=$.height;L=$.height;var re=$.width,ce=parseInt(H.getAttribute("cx"),10),ae=parseInt(H.getAttribute("cy"),10);M=parseFloat(H.getAttribute("barWidth"));var A="touchmove"===l.type?l.touches[0].clientX:l.clientX;y=parseInt(H.getAttribute("j"),10),x=parseInt(H.parentNode.getAttribute("rel"),10)-1;var F=H.getAttribute("data-range-y1"),X=H.getAttribute("data-range-y2");m.globals.comboCharts&&(x=parseInt(H.parentNode.getAttribute("data:realIndex"),10)),b.tooltipLabels.drawSeriesTexts({ttItems:f.ttItems,i:x,j:y,y1:F?parseInt(F,10):null,y2:X?parseInt(X,10):null,shared:!b.showOnIntersect&&m.config.tooltip.shared,e:l}),m.config.tooltip.followCursor?m.globals.isBarHorizontal?(S=A-j.left+15,D=ae-b.dataPointsDividedHeight+ee/2-b.tooltipRect.ttHeight/2):(S=m.globals.isXNumeric?ce-re/2:ce-b.dataPointsDividedWidth+re/2,D=l.clientY-j.top-b.tooltipRect.ttHeight/2-15):m.globals.isBarHorizontal?((S=ce)<b.xyRatios.baseLineInvertedY&&(S=ce-b.tooltipRect.ttWidth),D=ae-b.dataPointsDividedHeight+ee/2-b.tooltipRect.ttHeight/2):(S=m.globals.isXNumeric?ce-re/2:ce-b.dataPointsDividedWidth+re/2,D=ae)}return{x:S,y:D,barHeight:L,barWidth:M,i:x,j:y}}}]),J}(),qs=function(){function J(a){Se(this,J),this.w=a.w,this.ttCtx=a}return be(J,[{key:"drawXaxisTooltip",value:function(){var a=this.w,l=this.ttCtx,f="bottom"===a.config.xaxis.position;l.xaxisOffY=f?a.globals.gridHeight+1:-a.globals.xAxisHeight-a.config.xaxis.axisTicks.height+3;var m=f?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",y=a.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===a.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+a.config.tooltip.theme),y.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=a.config.xaxis.tooltip.style.fontFamily||a.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=a.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var a=this.w,l=this.ttCtx,f=function(y){var b=a.config.yaxis[y].opposite||a.config.yaxis[y].crosshairs.opposite;l.yaxisOffX=b?a.globals.gridWidth+1:1;var x="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(y,b?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");a.globals.yAxisSameScaleIndices.map(function(D,M){D.map(function(L,O){O===y&&(x+=a.config.yaxis[O].show?" ":" apexcharts-yaxistooltip-hidden")})});var S=a.globals.dom.elWrap;null===a.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(y))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",x+" apexcharts-theme-"+a.config.tooltip.theme),S.appendChild(l.yaxisTooltip),0===y&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[y]=document.createElement("div"),l.yaxisTooltipText[y].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[y]))},m=0;m<a.config.yaxis.length;m++)f(m)}},{key:"setXCrosshairWidth",value:function(){var a=this.w,l=this.ttCtx,f=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(a.config.xaxis.crosshairs.width,10),a.globals.comboCharts){var m=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==m&&"barWidth"===a.config.xaxis.crosshairs.width){var y=parseFloat(m.getAttribute("barWidth"));l.xcrosshairsWidth=y}else"tickWidth"===a.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length)}else if("tickWidth"===a.config.xaxis.crosshairs.width)l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length;else if("barWidth"===a.config.xaxis.crosshairs.width){var S=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==S){var D=parseFloat(S.getAttribute("barWidth"));l.xcrosshairsWidth=D}else l.xcrosshairsWidth=1}a.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==f&&l.xcrosshairsWidth>0&&f.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var a=this.w,l=this.ttCtx;l.ycrosshairs=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(a,l,f){var m=this.ttCtx,y=this.w,b=y.globals.yLabelFormatters[a];if(m.yaxisTooltips[a]){var x=m.getElGrid().getBoundingClientRect(),M=y.globals.minYArr[a]+(y.globals.maxYArr[a]-y.globals.minYArr[a]-(l-x.top)*f.yRatio[a]);m.tooltipPosition.moveYCrosshairs(l-x.top),m.yaxisTooltipText[a].innerHTML=b(M),m.tooltipPosition.moveYAxisTooltip(a)}}}]),J}(),Bn=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new Gi(this),this.tooltipLabels=new Cs(this),this.tooltipPosition=new mn(this),this.marker=new Ds(this),this.intersect=new An(this),this.axesTooltip=new qs(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return be(J,[{key:"getElTooltip",value:function(a){return a||(a=this),a.w.globals.dom.baseEl?a.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(a){var l=this.w;this.xyRatios=a,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(b,x){return!!(b.show&&b.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var f=document.createElement("div");if(f.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&f.classList.add(l.config.tooltip.cssClass),f.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(f),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var m=new ns(this.ctx);this.xAxisTicksPositions=m.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,f.appendChild(this.tooltipTitle));var y=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(y=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(y),this.addSVGEvents()}}},{key:"createTTElements",value:function(a){for(var l=this,f=this.w,m=[],y=this.getElTooltip(),b=function(S){var D=document.createElement("div");D.classList.add("apexcharts-tooltip-series-group"),D.style.order=f.config.tooltip.inverseOrder?a-S:S+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(S)<0&&D.classList.add("apexcharts-tooltip-series-group-hidden");var M=document.createElement("span");M.classList.add("apexcharts-tooltip-marker"),M.style.backgroundColor=f.globals.colors[S],D.appendChild(M);var L=document.createElement("div");L.classList.add("apexcharts-tooltip-text"),L.style.fontFamily=l.tConfig.style.fontFamily||f.config.chart.fontFamily,L.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(O){var H=document.createElement("div");H.classList.add("apexcharts-tooltip-".concat(O,"-group"));var $=document.createElement("span");$.classList.add("apexcharts-tooltip-text-".concat(O,"-label")),H.appendChild($);var j=document.createElement("span");j.classList.add("apexcharts-tooltip-text-".concat(O,"-value")),H.appendChild(j),L.appendChild(H)}),D.appendChild(L),y.appendChild(D),m.push(D)},x=0;x<a;x++)b(x);return m}},{key:"addSVGEvents",value:function(){var a=this.w,l=a.config.chart.type,f=this.getElTooltip(),m=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),y="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,b=a.globals.dom.Paper.node,x=this.getElGrid();x&&(this.seriesBound=x.getBoundingClientRect());var S,D=[],M=[],L={hoverArea:b,elGrid:x,tooltipEl:f,tooltipY:D,tooltipX:M,ttItems:this.ttItems};if(a.globals.axisCharts&&(y?S=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):m?S=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(S=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),S&&S.length))for(var O=0;O<S.length;O++)D.push(S[O].getAttribute("cy")),M.push(S[O].getAttribute("cx"));if(a.globals.xyCharts&&!this.showOnIntersect||a.globals.comboCharts&&!this.showOnIntersect||m&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([b],L);else if(m&&!a.globals.comboCharts||y&&this.showOnIntersect)this.addDatapointEventsListeners(L);else if(!a.globals.axisCharts||"heatmap"===l||"treemap"===l){var H=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(H,L)}if(this.showOnIntersect){var $=a.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");$.length>0&&this.addPathsEventListeners($,L),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(L)}}},{key:"drawFixedTooltipRect",value:function(){var a=this.w,l=this.getElTooltip(),f=l.getBoundingClientRect(),m=f.width+10,y=f.height+10,b=this.tConfig.fixed.offsetX,x=this.tConfig.fixed.offsetY,S=this.tConfig.fixed.position.toLowerCase();return S.indexOf("right")>-1&&(b=b+a.globals.svgWidth-m+10),S.indexOf("bottom")>-1&&(x=x+a.globals.svgHeight-y-10),l.style.left=b+"px",l.style.top=x+"px",{x:b,y:x,ttWidth:m,ttHeight:y}}},{key:"addDatapointEventsListeners",value:function(a){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,a)}},{key:"addPathsEventListeners",value:function(a,l){for(var f=this,m=function(b){var x={paths:a[b],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(S){return a[b].addEventListener(S,f.onSeriesHover.bind(f,x),{capture:!1,passive:!0})})},y=0;y<a.length;y++)m(y)}},{key:"onSeriesHover",value:function(a,l){var f=this,m=Date.now()-this.lastHoverTime;m>=100?this.seriesHover(a,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){f.seriesHover(a,l)},100-m))}},{key:"seriesHover",value:function(a,l){var f=this;this.lastHoverTime=Date.now();var m=[],y=this.w;y.config.chart.group&&(m=this.ctx.getGroupedCharts()),y.globals.axisCharts&&(y.globals.minX===-1/0&&y.globals.maxX===1/0||0===y.globals.dataPoints)||(m.length?m.forEach(function(b){var x=f.getElTooltip(b);b.w.globals.minX===f.w.globals.minX&&b.w.globals.maxX===f.w.globals.maxX&&b.w.globals.tooltip.seriesHoverByContext({chartCtx:b,ttCtx:b.w.globals.tooltip,opt:{paths:a.paths,tooltipEl:x,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:b.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:a,e:l}))}},{key:"seriesHoverByContext",value:function(a){var l=a.chartCtx,f=a.ttCtx,m=a.opt,y=a.e,b=l.w,x=this.getElTooltip();x&&(f.tooltipRect={x:0,y:0,ttWidth:x.getBoundingClientRect().width,ttHeight:x.getBoundingClientRect().height},f.e=y,f.tooltipUtil.hasBars()&&!b.globals.comboCharts&&!f.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Sn(l).toggleSeriesOnHover(y,y.target.parentNode),f.fixedTooltip&&f.drawFixedTooltipRect(),b.globals.axisCharts?f.axisChartsTooltips({e:y,opt:m,tooltipRect:f.tooltipRect}):f.nonAxisChartsTooltips({e:y,opt:m,tooltipRect:f.tooltipRect}))}},{key:"axisChartsTooltips",value:function(a){var l,f,m=a.e,y=a.opt,b=this.w,x=y.elGrid.getBoundingClientRect(),S="touchmove"===m.type?m.touches[0].clientX:m.clientX,D="touchmove"===m.type?m.touches[0].clientY:m.clientY;if(this.clientY=D,this.clientX=S,b.globals.capturedSeriesIndex=-1,b.globals.capturedDataPointIndex=-1,D<x.top||D>x.top+x.height)this.handleMouseOut(y);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!b.config.tooltip.shared){var M=parseInt(y.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(M)<0)return void this.handleMouseOut(y)}var L=this.getElTooltip(),O=this.getElXCrosshairs(),H=b.globals.xyCharts||"bar"===b.config.chart.type&&!b.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||b.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===m.type||"touchmove"===m.type||"mouseup"===m.type){if(b.globals.collapsedSeries.length+b.globals.ancillaryCollapsedSeries.length===b.globals.series.length)return;null!==O&&O.classList.add("apexcharts-active");var $=this.yaxisTooltips.filter(function(re){return!0===re});if(null!==this.ycrosshairs&&$.length&&this.ycrosshairs.classList.add("apexcharts-active"),H&&!this.showOnIntersect)this.handleStickyTooltip(m,S,D,y);else if("heatmap"===b.config.chart.type||"treemap"===b.config.chart.type){var j=this.intersect.handleHeatTreeTooltip({e:m,opt:y,x:l,y:f,type:b.config.chart.type});f=j.y,L.style.left=(l=j.x)+"px",L.style.top=f+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:m,opt:y}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:m,opt:y,x:l,y:f});if(this.yaxisTooltips.length)for(var ee=0;ee<b.config.yaxis.length;ee++)this.axesTooltip.drawYaxisTooltipText(ee,D,this.xyRatios);y.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==m.type&&"touchend"!==m.type||this.handleMouseOut(y)}}},{key:"nonAxisChartsTooltips",value:function(a){var l=a.e,f=a.opt,m=a.tooltipRect,y=this.w,b=f.paths.getAttribute("rel"),x=this.getElTooltip(),S=y.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){x.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:f.ttItems,i:parseInt(b,10)-1,shared:!1});var M=y.globals.clientY-S.top-m.ttHeight-10;if(x.style.left=y.globals.clientX-S.left-m.ttWidth/2+"px",x.style.top=M+"px",y.config.legend.tooltipHoverFormatter){var L=b-1,O=(0,y.config.legend.tooltipHoverFormatter)(this.legendLabels[L].getAttribute("data:default-text"),{seriesIndex:L,dataPointIndex:L,w:y});this.legendLabels[L].innerHTML=O}}else"mouseout"!==l.type&&"touchend"!==l.type||(x.classList.remove("apexcharts-active"),y.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(H){var $=H.getAttribute("data:default-text");H.innerHTML=decodeURIComponent($)}))}},{key:"handleStickyTooltip",value:function(a,l,f,m){var y=this.w,b=this.tooltipUtil.getNearestValues({context:this,hoverArea:m.hoverArea,elGrid:m.elGrid,clientX:l,clientY:f}),x=b.j,S=b.capturedSeries,D=m.elGrid.getBoundingClientRect();b.hoverX<0||b.hoverX>D.width?this.handleMouseOut(m):null!==S?this.handleStickyCapturedSeries(a,S,m,x):(this.tooltipUtil.isXoverlap(x)||y.globals.isBarHorizontal)&&this.create(a,this,0,x,m.ttItems)}},{key:"handleStickyCapturedSeries",value:function(a,l,f,m){var y=this.w;this.tConfig.shared||null!==y.globals.series[l][m]?void 0!==y.globals.series[l][m]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(m)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(a,this,l,m,f.ttItems):this.create(a,this,l,m,f.ttItems,!1):this.tooltipUtil.isXoverlap(m)&&this.create(a,this,0,m,f.ttItems):this.handleMouseOut(f)}},{key:"deactivateHoverFilter",value:function(){for(var a=this.w,l=new Pe(this.ctx),f=a.globals.dom.Paper.select(".apexcharts-bar-area"),m=0;m<f.length;m++)l.pathMouseLeave(f[m])}},{key:"handleMouseOut",value:function(a){var l=this.w,f=this.getElXCrosshairs();if(a.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==f&&f.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var m=0;m<this.yaxisTTEls.length;m++)this.yaxisTTEls[m].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(y){var b=y.getAttribute("data:default-text");y.innerHTML=decodeURIComponent(b)})}},{key:"markerClick",value:function(a,l,f){var m=this.w;"function"==typeof m.config.chart.events.markerClick&&m.config.chart.events.markerClick(a,this.ctx,{seriesIndex:l,dataPointIndex:f,w:m}),this.ctx.events.fireEvent("markerClick",[a,this.ctx,{seriesIndex:l,dataPointIndex:f,w:m}])}},{key:"create",value:function(a,l,f,m,y){var b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,x=this.w,S=l;"mouseup"===a.type&&this.markerClick(a,f,m),null===b&&(b=this.tConfig.shared);var D=this.tooltipUtil.hasMarkers(),M=this.tooltipUtil.getElBars();if(x.config.legend.tooltipHoverFormatter){var L=x.config.legend.tooltipHoverFormatter,O=Array.from(this.legendLabels);O.forEach(function(F){var X=F.getAttribute("data:default-text");F.innerHTML=decodeURIComponent(X)});for(var H=0;H<O.length;H++){var $=O[H],j=parseInt($.getAttribute("i"),10),ee=decodeURIComponent($.getAttribute("data:default-text")),re=L(ee,{seriesIndex:b?j:f,dataPointIndex:m,w:x});if(b)$.innerHTML=x.globals.collapsedSeriesIndices.indexOf(j)<0?re:ee;else if($.innerHTML=j===f?re:ee,f===j)break}}if(b){if(S.tooltipLabels.drawSeriesTexts({ttItems:y,i:f,j:m,shared:!this.showOnIntersect&&this.tConfig.shared}),D&&(x.globals.markers.largestSize>0?S.marker.enlargePoints(m):S.tooltipPosition.moveDynamicPointsOnHover(m)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(M),this.barSeriesHeight>0)){var ce=new Pe(this.ctx),ae=x.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(m,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(m);for(var A=0;A<ae.length;A++)ce.pathMouseEnter(ae[A])}}else S.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:y,i:f,j:m}),this.tooltipUtil.hasBars()&&S.tooltipPosition.moveStickyTooltipOverBars(m),D&&S.tooltipPosition.moveMarkers(f,m)}}]),J}(),is=function(){function J(a){Se(this,J),this.w=a.w,this.barCtx=a,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return be(J,[{key:"handleBarDataLabels",value:function(a){var l=a.x,f=a.y,m=a.y1,y=a.y2,b=a.i,x=a.j,S=a.realIndex,D=a.series,M=a.barHeight,L=a.barWidth,O=a.barYPosition,H=a.visibleSeries,$=a.renderedPath,j=this.w,ee=new Pe(this.barCtx.ctx),re=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[S]:this.barCtx.strokeWidth,ce=l+parseFloat(L*H),ae=f+parseFloat(M*H);j.globals.isXNumeric&&!j.globals.isBarHorizontal&&(ce=l+parseFloat(L*(H+1)),ae=f+parseFloat(M*(H+1))-re);var A,le,F=null,X=l,Z=f,ke=j.config.dataLabels,Me=this.barCtx.barOptions.dataLabels,at=this.barCtx.barOptions.dataLabels.total;void 0!==O&&this.barCtx.isRangeBar&&(ae=O,Z=O);var ct=ke.offsetX,Tt=ke.offsetY,It={width:0,height:0};j.config.dataLabels.enabled&&(It=ee.getTextRects(j.globals.yLabelFormatters[0](this.barCtx.series[b][x]),parseFloat(ke.style.fontSize)));var ai={x:l,y:f,i:b,j:x,realIndex:S,renderedPath:$,bcx:ce,bcy:ae,barHeight:M,barWidth:L,textRects:It,strokeWidth:re,dataLabelsX:X,dataLabelsY:Z,dataLabelsConfig:ke,barDataLabelsConfig:Me,barTotalDataLabelsConfig:at,offX:ct,offY:Tt};return le=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(ai):this.calculateColumnsDataLabelsPosition(ai),$.attr({cy:le.bcy,cx:le.bcx,j:x,val:D[b][x],barHeight:M,barWidth:L}),A=this.drawCalculatedDataLabels({x:le.dataLabelsX,y:le.dataLabelsY,val:this.barCtx.isRangeBar?[m,y]:D[b][x],i:S,j:x,barWidth:L,barHeight:M,textRects:It,dataLabelsConfig:ke}),j.config.chart.stacked&&at.enabled&&(F=this.drawTotalDataLabels({x:le.totalDataLabelsX,y:le.totalDataLabelsY,realIndex:S,textAnchor:le.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:S,j:x}),dataLabelsConfig:ke,barTotalDataLabelsConfig:at})),{dataLabels:A,totalDataLabels:F}}},{key:"getStackedTotalDataLabel",value:function(a){var l=a.realIndex,f=a.j,m=this.w,y=this.barCtx.stackedSeriesTotals[f];return this.totalFormatter&&(y=this.totalFormatter(y,te(te({},m),{},{seriesIndex:l,dataPointIndex:f,w:m}))),y}},{key:"calculateColumnsDataLabelsPosition",value:function(a){var l,f,m,y=this.w,b=a.i,x=a.j,S=a.realIndex,D=a.y,M=a.bcx,L=a.barWidth,O=a.barHeight,H=a.textRects,$=a.dataLabelsY,j=a.dataLabelsConfig,ee=a.barDataLabelsConfig,re=a.barTotalDataLabelsConfig,ce=a.strokeWidth,ae=a.offX,A=a.offY;O=Math.abs(O);var F="vertical"===y.config.plotOptions.bar.dataLabels.orientation;M-=ce/2,l=y.globals.isXNumeric?M-L/2+ae:M-y.globals.gridWidth/y.globals.dataPoints+L/2+ae,F&&(l=l+H.height/2-ce/2-2);var Z=this.barCtx.series[b][x]<0,le=D;switch(this.barCtx.isReversed&&(le=D-O+(Z?2*O:0),D-=O),ee.position){case"center":$=F?Z?le+O/2+A:le+O/2-A:Z?le-O/2+H.height/2+A:le+O/2+H.height/2-A;break;case"bottom":$=F?Z?le+O+A:le+O-A:Z?le-O+H.height+ce+A:le+O-H.height/2+ce-A;break;case"top":$=F?Z?le+A:le-A:Z?le-H.height/2-A:le+H.height+A}if(this.barCtx.lastActiveBarSerieIndex===S&&re.enabled){var ke=new Pe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:S,j:x}),j.fontSize);f=Z?le-ke.height/2-A-re.offsetY+18:le+ke.height+A+re.offsetY-18,m=l+re.offsetX}return y.config.chart.stacked||($<0?$=0+ce:$+H.height/3>y.globals.gridHeight&&($=y.globals.gridHeight-ce)),{bcx:M,bcy:D,dataLabelsX:l,dataLabelsY:$,totalDataLabelsX:m,totalDataLabelsY:f,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(a){var l=this.w,f=a.x,m=a.i,y=a.j,b=a.realIndex,x=a.bcy,S=a.barHeight,D=a.barWidth,M=a.textRects,L=a.dataLabelsX,O=a.strokeWidth,H=a.dataLabelsConfig,$=a.barDataLabelsConfig,j=a.barTotalDataLabelsConfig,ee=a.offX,re=a.offY,ce=l.globals.gridHeight/l.globals.dataPoints;D=Math.abs(D);var ae,A,F=x-(this.barCtx.isRangeBar?0:ce)+S/2+M.height/2+re-3,X="start",Z=this.barCtx.series[m][y]<0,le=f;switch(this.barCtx.isReversed&&(le=f+D-(Z?2*D:0),f=l.globals.gridWidth-D),$.position){case"center":L=Z?le+D/2-ee:Math.max(M.width/2,le-D/2)+ee;break;case"bottom":L=Z?le+D-O-Math.round(M.width/2)-ee:le-D+O+Math.round(M.width/2)+ee;break;case"top":L=Z?le-O+Math.round(M.width/2)-ee:le-O-Math.round(M.width/2)+ee}if(this.barCtx.lastActiveBarSerieIndex===b&&j.enabled){var ke=new Pe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:b,j:y}),H.fontSize);Z?(ae=le-O+Math.round(ke.width/2)-ee-j.offsetX-15,X="end"):ae=le-O-Math.round(ke.width/2)+ee+j.offsetX+15,A=F+j.offsetY}return l.config.chart.stacked||(L<0?L=L+M.width+O:L+M.width/2>l.globals.gridWidth&&(L=l.globals.gridWidth-M.width-O)),{bcx:f,bcy:x,dataLabelsX:L,dataLabelsY:F,totalDataLabelsX:ae,totalDataLabelsY:A,totalDataLabelsAnchor:X}}},{key:"drawCalculatedDataLabels",value:function(a){var l=a.x,f=a.y,m=a.val,y=a.i,b=a.j,x=a.textRects,S=a.barHeight,D=a.barWidth,M=a.dataLabelsConfig,L=this.w,O="rotate(0)";"vertical"===L.config.plotOptions.bar.dataLabels.orientation&&(O="rotate(-90, ".concat(l,", ").concat(f,")"));var H=new Nn(this.barCtx.ctx),$=new Pe(this.barCtx.ctx),j=M.formatter,ee=null,re=L.globals.collapsedSeriesIndices.indexOf(y)>-1;if(M.enabled&&!re){ee=$.group({class:"apexcharts-data-labels",transform:O});var ce="";void 0!==m&&(ce=j(m,te(te({},L),{},{seriesIndex:y,dataPointIndex:b,w:L})));var ae=L.globals.series[y][b]<0,A=L.config.plotOptions.bar.dataLabels.position;"vertical"===L.config.plotOptions.bar.dataLabels.orientation&&("top"===A&&(M.textAnchor=ae?"end":"start"),"center"===A&&(M.textAnchor="middle"),"bottom"===A&&(M.textAnchor=ae?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&D<$.getTextRects(ce,parseFloat(M.style.fontSize)).width&&(ce=""),L.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?x.width/1.6>Math.abs(D)&&(ce=""):x.height/1.6>Math.abs(S)&&(ce=""));var F=te({},M);this.barCtx.isHorizontal&&m<0&&("start"===M.textAnchor?F.textAnchor="end":"end"===M.textAnchor&&(F.textAnchor="start")),H.plotDataLabelsText({x:l,y:f,text:ce,i:y,j:b,parent:ee,dataLabelsConfig:F,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return ee}},{key:"drawTotalDataLabels",value:function(a){var l,f=a.x,m=a.y,y=a.val,b=a.realIndex,x=a.textAnchor,S=a.barTotalDataLabelsConfig,D=new Pe(this.barCtx.ctx);return S.enabled&&void 0!==f&&void 0!==m&&this.barCtx.lastActiveBarSerieIndex===b&&(l=D.drawText({x:f,y:m,foreColor:S.style.color,text:y,textAnchor:x,fontFamily:S.style.fontFamily,fontSize:S.style.fontSize,fontWeight:S.style.fontWeight})),l}}]),J}(),Ai=function(){function J(a){Se(this,J),this.w=a.w,this.barCtx=a}return be(J,[{key:"initVariables",value:function(a){var l=this.w;this.barCtx.series=a,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var f=0;f<a.length;f++)if(a[f].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=a[f].length),l.globals.isXNumeric)for(var m=0;m<a[f].length;m++)l.globals.seriesX[f][m]>l.globals.minX&&l.globals.seriesX[f][m]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=a.length-1,l.globals.comboCharts||this.checkZeroSeries({series:a})}},{key:"initialPositions",value:function(){var a,l,f,m,y,b,x,S,D=this.w,M=D.globals.dataPoints;this.barCtx.isRangeBar&&(M=D.globals.labels.length);var L=this.barCtx.seriesLen;if(D.config.plotOptions.bar.rangeBarGroupRows&&(L=1),this.barCtx.isHorizontal)y=(f=D.globals.gridHeight/M)/L,D.globals.isXNumeric&&(y=(f=D.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),y=y*parseInt(this.barCtx.barOptions.barHeight,10)/100,S=this.barCtx.baseLineInvertedY+D.globals.padHorizontal+(this.barCtx.isReversed?D.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),l=(f-y*this.barCtx.seriesLen)/2;else{if(m=D.globals.gridWidth/this.barCtx.visibleItems,D.config.xaxis.convertedCatToNumeric&&(m=D.globals.gridWidth/D.globals.dataPoints),b=m/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,D.globals.isXNumeric){var O=this.barCtx.xRatio;D.config.xaxis.convertedCatToNumeric&&(O=this.barCtx.initialXRatio),D.globals.minXDiff&&.5!==D.globals.minXDiff&&D.globals.minXDiff/O>0&&(m=D.globals.minXDiff/O),(b=m/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(b=1)}x=D.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?D.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),a=D.globals.padHorizontal+(m-b*this.barCtx.seriesLen)/2}return{x:a,y:l,yDivision:f,xDivision:m,barHeight:y,barWidth:b,zeroH:x,zeroW:S}}},{key:"getPathFillColor",value:function(a,l,f,m){var y,b,x,S,D=this.w,M=new Et(this.barCtx.ctx),L=null,O=this.barCtx.barOptions.distributed?f:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(H){a[l][f]>=H.from&&a[l][f]<=H.to&&(L=H.color)}),D.config.series[l].data[f]&&D.config.series[l].data[f].fillColor&&(L=D.config.series[l].data[f].fillColor),M.fillPath({seriesNumber:this.barCtx.barOptions.distributed?O:m,dataPointIndex:f,color:L,value:a[l][f],fillConfig:null===(y=D.config.series[l].data[f])||void 0===y?void 0:y.fill,fillType:null!==(b=D.config.series[l].data[f])&&void 0!==b&&null!==(x=b.fill)&&void 0!==x&&x.type?null===(S=D.config.series[l].data[f])||void 0===S?void 0:S.fill.type:D.config.fill.type})}},{key:"getStrokeWidth",value:function(a,l,f){var m=0,y=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[a][l],y.config.stroke.show&&(this.barCtx.isNullValue||(m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[f]:this.barCtx.strokeWidth)),m}},{key:"shouldApplyRadius",value:function(a){var l=this.w,f=!1;return l.config.plotOptions.bar.borderRadius>0&&(l.config.chart.stacked&&"last"===l.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===a&&(f=!0):f=!0),f}},{key:"barBackground",value:function(a){var l=a.j,f=a.i,m=a.x1,y=a.x2,b=a.y1,x=a.y2,S=a.elSeries,D=this.w,M=new Pe(this.barCtx.ctx),L=new Sn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&L===f){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var H=M.drawRect(void 0!==m?m:0,void 0!==b?b:0,void 0!==y?y:D.globals.gridWidth,void 0!==x?x:D.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);S.add(H),H.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(a){var l,f=a.barWidth,m=a.barXPosition,y=a.y1,b=a.y2,x=a.strokeWidth,S=a.realIndex,D=a.i,M=a.j,L=a.w,O=new Pe(this.barCtx.ctx);(x=Array.isArray(x)?x[S]:x)||(x=0);var H=f,$=m;null!==(l=L.config.series[S].data[M])&&void 0!==l&&l.columnWidthOffset&&($=m-L.config.series[S].data[M].columnWidthOffset/2,H=f+L.config.series[S].data[M].columnWidthOffset);var j=$,ee=$+H;b+=.001;var re=O.move(j,y+=.001),ce=O.move(j,y),ae=O.line(ee-x,y);return L.globals.previousPaths.length>0&&(ce=this.barCtx.getPreviousPath(S,M,!1)),re=re+O.line(j,b)+O.line(ee-x,b)+O.line(ee-x,y)+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),ce=ce+O.line(j,y)+ae+ae+ae+ae+ae+O.line(j,y)+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(S)&&(re=O.roundPathCorners(re,L.config.plotOptions.bar.borderRadius)),L.config.chart.stacked&&(this.barCtx.yArrj.push(b),this.barCtx.yArrjF.push(Math.abs(y-b)),this.barCtx.yArrjVal.push(this.barCtx.series[D][M])),{pathTo:re,pathFrom:ce}}},{key:"getBarpaths",value:function(a){var l,f=a.barYPosition,m=a.barHeight,y=a.x1,b=a.x2,x=a.strokeWidth,S=a.realIndex,D=a.i,M=a.j,L=a.w,O=new Pe(this.barCtx.ctx);(x=Array.isArray(x)?x[S]:x)||(x=0);var H=f,$=m;null!==(l=L.config.series[S].data[M])&&void 0!==l&&l.barHeightOffset&&(H=f-L.config.series[S].data[M].barHeightOffset/2,$=m+L.config.series[S].data[M].barHeightOffset);var j=H,ee=H+$;b+=.001;var re=O.move(y+=.001,j),ce=O.move(y,j);L.globals.previousPaths.length>0&&(ce=this.barCtx.getPreviousPath(S,M,!1));var ae=O.line(y,ee-x);return re=re+O.line(b,j)+O.line(b,ee-x)+ae+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),ce=ce+O.line(y,j)+ae+ae+ae+ae+ae+O.line(y,j)+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(S)&&(re=O.roundPathCorners(re,L.config.plotOptions.bar.borderRadius)),L.config.chart.stacked&&(this.barCtx.xArrj.push(b),this.barCtx.xArrjF.push(Math.abs(y-b)),this.barCtx.xArrjVal.push(this.barCtx.series[D][M])),{pathTo:re,pathFrom:ce}}},{key:"checkZeroSeries",value:function(a){for(var l=a.series,f=this.w,m=0;m<l.length;m++){for(var y=0,b=0;b<l[f.globals.maxValsInArrayIndex].length;b++)y+=l[m][b];0===y&&this.barCtx.zeroSerieses.push(m)}for(var x=l.length-1;x>=0;x--)this.barCtx.zeroSerieses.indexOf(x)>-1&&x===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var S=l.length-1;S>=0;S--)f.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(a,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=f?l:null;return null!=a&&(m=l+a/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?a/this.barCtx.invertedYRatio:0)),m}},{key:"getYForValue",value:function(a,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=f?l:null;return null!=a&&(m=l-a/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?a/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),m}},{key:"getGoalValues",value:function(a,l,f,m,y){var b=this,x=this.w,S=[];return x.globals.seriesGoals[m]&&x.globals.seriesGoals[m][y]&&Array.isArray(x.globals.seriesGoals[m][y])&&x.globals.seriesGoals[m][y].forEach(function(D){var M;S.push((je(M={},a,"x"===a?b.getXForValue(D.value,l,!1):b.getYForValue(D.value,f,!1)),je(M,"attrs",D),M))}),S}},{key:"drawGoalLine",value:function(a){var l=a.barXPosition,f=a.barYPosition,m=a.goalX,y=a.goalY,b=a.barWidth,x=a.barHeight,S=new Pe(this.barCtx.ctx),D=S.group({className:"apexcharts-bar-goals-groups"}),M=null;return this.barCtx.isHorizontal?Array.isArray(m)&&m.forEach(function(L){var O=void 0!==L.attrs.strokeHeight?L.attrs.strokeHeight:x/2,H=f+O+x/2;M=S.drawLine(L.x,H-2*O,L.x,H,L.attrs.strokeColor?L.attrs.strokeColor:void 0,L.attrs.strokeDashArray,L.attrs.strokeWidth?L.attrs.strokeWidth:2,L.attrs.strokeLineCap),D.add(M)}):Array.isArray(y)&&y.forEach(function(L){var O=void 0!==L.attrs.strokeWidth?L.attrs.strokeWidth:b/2,H=l+O+b/2;M=S.drawLine(H-2*O,L.y,H,L.y,L.attrs.strokeColor?L.attrs.strokeColor:void 0,L.attrs.strokeDashArray,L.attrs.strokeHeight?L.attrs.strokeHeight:2,L.attrs.strokeLineCap),D.add(M)}),D}}]),J}(),Vt=function(){function J(a,l){Se(this,J),this.ctx=a,this.w=a.w;var f=this.w;this.barOptions=f.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=f.config.stroke.width,this.isNullValue=!1,this.isRangeBar=f.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var m=new Sn(this.ctx);this.lastActiveBarSerieIndex=m.getActiveConfigSeriesIndex("desc",["bar","column"]);var y=m.getBarSeriesIndices(),b=new it(this.ctx);this.stackedSeriesTotals=b.getStackedSeriesTotals(this.w.config.series.map(function(x,S){return-1===y.indexOf(S)?S:-1}).filter(function(x){return-1!==x})),this.barHelpers=new Ai(this)}return be(J,[{key:"draw",value:function(a,l){var f=this.w,m=new Pe(this.ctx),y=new it(this.ctx,f);a=y.getLogSeries(a),this.series=a,this.yRatio=y.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);var b=m.group({class:"apexcharts-bar-series apexcharts-plot-series"});f.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var x=0,S=0;x<a.length;x++,S++){var D,M,L,O,H=void 0,$=void 0,j=[],ee=[],re=f.globals.comboCharts?l[x]:x,ce=m.group({class:"apexcharts-series",rel:x+1,seriesName:he.escapeString(f.globals.seriesNames[re]),"data:realIndex":re});this.ctx.series.addCollapsedClassToSeries(ce,re),a[x].length>0&&(this.visibleI=this.visibleI+1);var ae=0,A=0;this.yRatio.length>1&&(this.yaxisIndex=re),this.isReversed=f.config.yaxis[this.yaxisIndex]&&f.config.yaxis[this.yaxisIndex].reversed;var F=this.barHelpers.initialPositions();$=F.y,ae=F.barHeight,M=F.yDivision,O=F.zeroW,H=F.x,A=F.barWidth,D=F.xDivision,L=F.zeroH,this.horizontal||ee.push(H+A/2);for(var X=m.group({class:"apexcharts-datalabels","data:realIndex":re}),Z=m.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),le=0;le<f.globals.dataPoints;le++){var ke=this.barHelpers.getStrokeWidth(x,le,re),Me=null,at={indexes:{i:x,j:le,realIndex:re,bc:S},x:H,y:$,strokeWidth:ke,elSeries:ce};this.isHorizontal?(Me=this.drawBarPaths(te(te({},at),{},{barHeight:ae,zeroW:O,yDivision:M})),A=this.series[x][le]/this.invertedYRatio):(Me=this.drawColumnPaths(te(te({},at),{},{xDivision:D,barWidth:A,zeroH:L})),ae=this.series[x][le]/this.yRatio[this.yaxisIndex]);var ct=this.barHelpers.drawGoalLine({barXPosition:Me.barXPosition,barYPosition:Me.barYPosition,goalX:Me.goalX,goalY:Me.goalY,barHeight:ae,barWidth:A});ct&&Z.add(ct),$=Me.y,H=Me.x,le>0&&ee.push(H+A/2),j.push($);var Tt=this.barHelpers.getPathFillColor(a,x,le,re);this.renderSeries({realIndex:re,pathFill:Tt,j:le,i:x,pathFrom:Me.pathFrom,pathTo:Me.pathTo,strokeWidth:ke,elSeries:ce,x:H,y:$,series:a,barHeight:ae,barWidth:A,elDataLabelsWrap:X,elGoalsMarkers:Z,visibleSeries:this.visibleI,type:"bar"})}f.globals.seriesXvalues[re]=ee,f.globals.seriesYvalues[re]=j,b.add(ce)}return b}},{key:"renderSeries",value:function(a){var l=a.realIndex,f=a.pathFill,m=a.lineFill,y=a.j,b=a.i,x=a.pathFrom,S=a.pathTo,D=a.strokeWidth,M=a.elSeries,L=a.x,O=a.y,H=a.y1,$=a.y2,j=a.series,ee=a.barHeight,re=a.barWidth,ce=a.barYPosition,ae=a.elDataLabelsWrap,A=a.elGoalsMarkers,F=a.visibleSeries,X=a.type,Z=this.w,le=new Pe(this.ctx);m||(m=this.barOptions.distributed?Z.globals.stroke.colors[y]:Z.globals.stroke.colors[l]),Z.config.series[b].data[y]&&Z.config.series[b].data[y].strokeColor&&(m=Z.config.series[b].data[y].strokeColor),this.isNullValue&&(f="none");var Me=le.renderPaths({i:b,j:y,realIndex:l,pathFrom:x,pathTo:S,stroke:m,strokeWidth:D,strokeLineCap:Z.config.stroke.lineCap,fill:f,animationDelay:y/Z.config.chart.animations.animateGradually.delay*(Z.config.chart.animations.speed/Z.globals.dataPoints)/2.4,initialSpeed:Z.config.chart.animations.speed,dataChangeSpeed:Z.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(X,"-area")});Me.attr("clip-path","url(#gridRectMask".concat(Z.globals.cuid,")"));var at=Z.config.forecastDataPoints;at.count>0&&y>=Z.globals.dataPoints-at.count&&(Me.node.setAttribute("stroke-dasharray",at.dashArray),Me.node.setAttribute("stroke-width",at.strokeWidth),Me.node.setAttribute("fill-opacity",at.fillOpacity)),void 0!==H&&void 0!==$&&(Me.attr("data-range-y1",H),Me.attr("data-range-y2",$)),new kt(this.ctx).setSelectionFilter(Me,l,y),M.add(Me);var ct=new is(this).handleBarDataLabels({x:L,y:O,y1:H,y2:$,i:b,j:y,series:j,realIndex:l,barHeight:ee,barWidth:re,barYPosition:ce,renderedPath:Me,visibleSeries:F});return null!==ct.dataLabels&&ae.add(ct.dataLabels),ct.totalDataLabels&&ae.add(ct.totalDataLabels),M.add(ae),A&&M.add(A),M}},{key:"drawBarPaths",value:function(a){var b,l=a.indexes,f=a.barHeight,m=a.strokeWidth,y=a.zeroW,x=a.y,S=a.yDivision,D=a.elSeries,M=this.w,L=l.i,O=l.j;M.globals.isXNumeric&&(x=(M.globals.seriesX[L][O]-M.globals.minX)/this.invertedXRatio-f);var H=x+f*this.visibleI;b=this.barHelpers.getXForValue(this.series[L][O],y);var $=this.barHelpers.getBarpaths({barYPosition:H,barHeight:f,x1:y,x2:b,strokeWidth:m,series:this.series,realIndex:l.realIndex,i:L,j:O,w:M});return M.globals.isXNumeric||(x+=S),this.barHelpers.barBackground({j:O,i:L,y1:H-f*this.visibleI,y2:f*this.seriesLen,elSeries:D}),{pathTo:$.pathTo,pathFrom:$.pathFrom,x:b,y:x,goalX:this.barHelpers.getGoalValues("x",y,null,L,O),barYPosition:H}}},{key:"drawColumnPaths",value:function(a){var m,l=a.indexes,f=a.x,y=a.xDivision,b=a.barWidth,x=a.zeroH,S=a.strokeWidth,D=a.elSeries,M=this.w,L=l.realIndex,O=l.i,H=l.j,$=l.bc;if(M.globals.isXNumeric){var j=L;M.globals.seriesX[L].length||(j=M.globals.maxValsInArrayIndex),f=(M.globals.seriesX[j][H]-M.globals.minX)/this.xRatio-b*this.seriesLen/2}var ee=f+b*this.visibleI;m=this.barHelpers.getYForValue(this.series[O][H],x);var re=this.barHelpers.getColumnPaths({barXPosition:ee,barWidth:b,y1:x,y2:m,strokeWidth:S,series:this.series,realIndex:l.realIndex,i:O,j:H,w:M});return M.globals.isXNumeric||(f+=y),this.barHelpers.barBackground({bc:$,j:H,i:O,x1:ee-S/2-b*this.visibleI,x2:b*this.seriesLen+S/2,elSeries:D}),{pathTo:re.pathTo,pathFrom:re.pathFrom,x:f,y:m,goalY:this.barHelpers.getGoalValues("y",null,x,O,H),barXPosition:ee}}},{key:"getPreviousPath",value:function(a,l){for(var f,m=this.w,y=0;y<m.globals.previousPaths.length;y++){var b=m.globals.previousPaths[y];b.paths&&b.paths.length>0&&parseInt(b.realIndex,10)===parseInt(a,10)&&void 0!==m.globals.previousPaths[y].paths[l]&&(f=m.globals.previousPaths[y].paths[l].d)}return f}}]),J}(),ut=function(J){Ie(l,Vt);var a=St(l);function l(){return Se(this,l),a.apply(this,arguments)}return be(l,[{key:"draw",value:function(f,m){var y=this,b=this.w;this.graphics=new Pe(this.ctx),this.bar=new Vt(this.ctx,this.xyRatios);var x=new it(this.ctx,b);f=x.getLogSeries(f),this.yRatio=x.getLogYRatios(this.yRatio),this.barHelpers.initVariables(f),"100%"===b.config.chart.stackType&&(f=b.globals.seriesPercent.slice()),this.series=f,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var S=0;S<f.length;S++)f[S].length>0&&(this.totalItems+=f[S].length);for(var D=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),M=0,L=0,O=function(j,ee){var re=void 0,ce=void 0,ae=void 0,A=void 0,F=[],X=[],Z=b.globals.comboCharts?m[j]:j;y.yRatio.length>1&&(y.yaxisIndex=Z),y.isReversed=b.config.yaxis[y.yaxisIndex]&&b.config.yaxis[y.yaxisIndex].reversed;var le=y.graphics.group({class:"apexcharts-series",seriesName:he.escapeString(b.globals.seriesNames[Z]),rel:j+1,"data:realIndex":Z});y.ctx.series.addCollapsedClassToSeries(le,Z);var ke=y.graphics.group({class:"apexcharts-datalabels","data:realIndex":Z}),Me=y.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),at=0,ct=0,Tt=y.initialPositions(M,L,re,ce,ae,A);L=Tt.y,at=Tt.barHeight,ce=Tt.yDivision,A=Tt.zeroW,M=Tt.x,ct=Tt.barWidth,re=Tt.xDivision,ae=Tt.zeroH,y.yArrj=[],y.yArrjF=[],y.yArrjVal=[],y.xArrj=[],y.xArrjF=[],y.xArrjVal=[],1===y.prevY.length&&y.prevY[0].every(function(pi){return isNaN(pi)})&&(y.prevY[0]=y.prevY[0].map(function(pi){return ae}),y.prevYF[0]=y.prevYF[0].map(function(pi){return 0}));for(var It=0;It<b.globals.dataPoints;It++){var ei=y.barHelpers.getStrokeWidth(j,It,Z),ai={indexes:{i:j,j:It,realIndex:Z,bc:ee},strokeWidth:ei,x:M,y:L,elSeries:le},fi=null;y.isHorizontal?(fi=y.drawStackedBarPaths(te(te({},ai),{},{zeroW:A,barHeight:at,yDivision:ce})),ct=y.series[j][It]/y.invertedYRatio):(fi=y.drawStackedColumnPaths(te(te({},ai),{},{xDivision:re,barWidth:ct,zeroH:ae})),at=y.series[j][It]/y.yRatio[y.yaxisIndex]);var Si=y.barHelpers.drawGoalLine({barXPosition:fi.barXPosition,barYPosition:fi.barYPosition,goalX:fi.goalX,goalY:fi.goalY,barHeight:at,barWidth:ct});Si&&Me.add(Si),L=fi.y,F.push(M=fi.x),X.push(L);var Li=y.barHelpers.getPathFillColor(f,j,It,Z);le=y.renderSeries({realIndex:Z,pathFill:Li,j:It,i:j,pathFrom:fi.pathFrom,pathTo:fi.pathTo,strokeWidth:ei,elSeries:le,x:M,y:L,series:f,barHeight:at,barWidth:ct,elDataLabelsWrap:ke,elGoalsMarkers:Me,type:"bar",visibleSeries:0})}b.globals.seriesXvalues[Z]=F,b.globals.seriesYvalues[Z]=X,y.prevY.push(y.yArrj),y.prevYF.push(y.yArrjF),y.prevYVal.push(y.yArrjVal),y.prevX.push(y.xArrj),y.prevXF.push(y.xArrjF),y.prevXVal.push(y.xArrjVal),D.add(le)},H=0,$=0;H<f.length;H++,$++)O(H,$);return D}},{key:"initialPositions",value:function(f,m,y,b,x,S){var D,M,L=this.w;return this.isHorizontal?(D=(D=b=L.globals.gridHeight/L.globals.dataPoints)*parseInt(L.config.plotOptions.bar.barHeight,10)/100,S=this.baseLineInvertedY+L.globals.padHorizontal+(this.isReversed?L.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),m=(b-D)/2):(M=y=L.globals.gridWidth/L.globals.dataPoints,M=L.globals.isXNumeric&&L.globals.dataPoints>1?(y=L.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:M*parseInt(L.config.plotOptions.bar.columnWidth,10)/100,x=L.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?L.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),f=L.globals.padHorizontal+(y-M)/2),{x:f,y:m,yDivision:b,xDivision:y,barHeight:D,barWidth:M,zeroH:x,zeroW:S}}},{key:"drawStackedBarPaths",value:function(f){for(var m,D,y=f.indexes,b=f.barHeight,x=f.strokeWidth,S=f.zeroW,M=f.y,L=f.yDivision,O=f.elSeries,H=this.w,$=M,j=y.i,ee=y.j,re=0,ce=0;ce<this.prevXF.length;ce++)re+=this.prevXF[ce][ee];if(j>0){var ae=S;this.prevXVal[j-1][ee]<0?ae=this.series[j][ee]>=0?this.prevX[j-1][ee]+re-2*(this.isReversed?re:0):this.prevX[j-1][ee]:this.prevXVal[j-1][ee]>=0&&(ae=this.series[j][ee]>=0?this.prevX[j-1][ee]:this.prevX[j-1][ee]-re+2*(this.isReversed?re:0)),m=ae}else m=S;var A=this.barHelpers.getBarpaths({barYPosition:$,barHeight:b,x1:m,x2:D=null===this.series[j][ee]?m:m+this.series[j][ee]/this.invertedYRatio-2*(this.isReversed?this.series[j][ee]/this.invertedYRatio:0),strokeWidth:x,series:this.series,realIndex:y.realIndex,i:j,j:ee,w:H});return this.barHelpers.barBackground({j:ee,i:j,y1:$,y2:b,elSeries:O}),M+=L,{pathTo:A.pathTo,pathFrom:A.pathFrom,goalX:this.barHelpers.getGoalValues("x",S,null,j,ee),barYPosition:$,x:D,y:M}}},{key:"drawStackedColumnPaths",value:function(f){var b,m=f.indexes,y=f.x,x=f.xDivision,S=f.barWidth,D=f.zeroH,M=f.elSeries,L=this.w,O=m.i,H=m.j,$=m.bc;if(L.globals.isXNumeric){var j=L.globals.seriesX[O][H];j||(j=0),y=(j-L.globals.minX)/this.xRatio-S/2}for(var ee,re=y,ce=0,ae=0;ae<this.prevYF.length;ae++)ce+=isNaN(this.prevYF[ae][H])?0:this.prevYF[ae][H];if(O>0&&!L.globals.isXNumeric||O>0&&L.globals.isXNumeric&&L.globals.seriesX[O-1][H]===L.globals.seriesX[O][H]){var A,F,X=Math.min(this.yRatio.length+1,O+1);if(void 0!==this.prevY[O-1])for(var Z=1;Z<X;Z++)if(!isNaN(this.prevY[O-Z][H])){F=this.prevY[O-Z][H];break}for(var le=1;le<X;le++){if(this.prevYVal[O-le][H]<0){A=this.series[O][H]>=0?F-ce+2*(this.isReversed?ce:0):F;break}if(this.prevYVal[O-le][H]>=0){A=this.series[O][H]>=0?F:F+ce-2*(this.isReversed?ce:0);break}}void 0===A&&(A=L.globals.gridHeight),ee=this.prevYF[0].every(function(Me){return 0===Me})&&this.prevYF.slice(1,O).every(function(Me){return Me.every(function(at){return isNaN(at)})})?D:A}else ee=D;var ke=this.barHelpers.getColumnPaths({barXPosition:re,barWidth:S,y1:ee,y2:b=ee-this.series[O][H]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[O][H]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:m.realIndex,i:O,j:H,w:L});return this.barHelpers.barBackground({bc:$,j:H,i:O,x1:re,x2:S,elSeries:M}),y+=x,{pathTo:ke.pathTo,pathFrom:ke.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,D,O,H),barXPosition:re,x:L.globals.isXNumeric?y-x:y,y:b}}}]),l}(),Ut=function(J){Ie(l,Vt);var a=St(l);function l(){return Se(this,l),a.apply(this,arguments)}return be(l,[{key:"draw",value:function(f,m){var y=this,b=this.w,x=new Pe(this.ctx),S=new Et(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=b.config.plotOptions.bar.horizontal;var D=new it(this.ctx,b);f=D.getLogSeries(f),this.series=f,this.yRatio=D.getLogYRatios(this.yRatio),this.barHelpers.initVariables(f);for(var M=x.group({class:"apexcharts-".concat(b.config.chart.type,"-series apexcharts-plot-series")}),L=function(H){y.isBoxPlot="boxPlot"===b.config.chart.type||"boxPlot"===b.config.series[H].type;var $,j,ee,re,le,ke,ce=void 0,ae=void 0,A=[],F=[],X=b.globals.comboCharts?m[H]:H,Z=x.group({class:"apexcharts-series",seriesName:he.escapeString(b.globals.seriesNames[X]),rel:H+1,"data:realIndex":X});y.ctx.series.addCollapsedClassToSeries(Z,X),f[H].length>0&&(y.visibleI=y.visibleI+1),y.yRatio.length>1&&(y.yaxisIndex=X);var Me=y.barHelpers.initialPositions();ae=Me.y,le=Me.barHeight,j=Me.yDivision,re=Me.zeroW,$=Me.xDivision,ee=Me.zeroH,F.push((ce=Me.x)+(ke=Me.barWidth)/2);for(var at=x.group({class:"apexcharts-datalabels","data:realIndex":X}),ct=function(It){var ei=y.barHelpers.getStrokeWidth(H,It,X),ai=null,fi={indexes:{i:H,j:It,realIndex:X},x:ce,y:ae,strokeWidth:ei,elSeries:Z};ai=y.isHorizontal?y.drawHorizontalBoxPaths(te(te({},fi),{},{yDivision:j,barHeight:le,zeroW:re})):y.drawVerticalBoxPaths(te(te({},fi),{},{xDivision:$,barWidth:ke,zeroH:ee})),ae=ai.y,ce=ai.x,It>0&&F.push(ce+ke/2),A.push(ae),ai.pathTo.forEach(function(Si,Li){var pi=!y.isBoxPlot&&y.candlestickOptions.wick.useFillColor?ai.color[Li]:b.globals.stroke.colors[H],Ir=S.fillPath({seriesNumber:X,dataPointIndex:It,color:ai.color[Li],value:f[H][It]});y.renderSeries({realIndex:X,pathFill:Ir,lineFill:pi,j:It,i:H,pathFrom:ai.pathFrom,pathTo:Si,strokeWidth:ei,elSeries:Z,x:ce,y:ae,series:f,barHeight:le,barWidth:ke,elDataLabelsWrap:at,visibleSeries:y.visibleI,type:b.config.chart.type})})},Tt=0;Tt<b.globals.dataPoints;Tt++)ct(Tt);b.globals.seriesXvalues[X]=F,b.globals.seriesYvalues[X]=A,M.add(Z)},O=0;O<f.length;O++)L(O);return M}},{key:"drawVerticalBoxPaths",value:function(f){var m=f.indexes,y=f.x,b=f.xDivision,x=f.barWidth,S=f.zeroH,D=f.strokeWidth,M=this.w,L=new Pe(this.ctx),O=m.i,H=m.j,$=!0,j=M.config.plotOptions.candlestick.colors.upward,ee=M.config.plotOptions.candlestick.colors.downward,re="";this.isBoxPlot&&(re=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ce=this.yRatio[this.yaxisIndex],ae=m.realIndex,A=this.getOHLCValue(ae,H),F=S,X=S;A.o>A.c&&($=!1);var Z=Math.min(A.o,A.c),le=Math.max(A.o,A.c),ke=A.m;M.globals.isXNumeric&&(y=(M.globals.seriesX[ae][H]-M.globals.minX)/this.xRatio-x/2);var Me=y+x*this.visibleI;null==this.series[O][H]?(Z=S,le=S):(Z=S-Z/ce,le=S-le/ce,F=S-A.h/ce,X=S-A.l/ce,ke=S-A.m/ce);var at=L.move(Me,S),ct=L.move(Me+x/2,Z);return M.globals.previousPaths.length>0&&(ct=this.getPreviousPath(ae,H,!0)),at=this.isBoxPlot?[L.move(Me,Z)+L.line(Me+x/2,Z)+L.line(Me+x/2,F)+L.line(Me+x/4,F)+L.line(Me+x-x/4,F)+L.line(Me+x/2,F)+L.line(Me+x/2,Z)+L.line(Me+x,Z)+L.line(Me+x,ke)+L.line(Me,ke)+L.line(Me,Z+D/2),L.move(Me,ke)+L.line(Me+x,ke)+L.line(Me+x,le)+L.line(Me+x/2,le)+L.line(Me+x/2,X)+L.line(Me+x-x/4,X)+L.line(Me+x/4,X)+L.line(Me+x/2,X)+L.line(Me+x/2,le)+L.line(Me,le)+L.line(Me,ke)+"z"]:[L.move(Me,le)+L.line(Me+x/2,le)+L.line(Me+x/2,F)+L.line(Me+x/2,le)+L.line(Me+x,le)+L.line(Me+x,Z)+L.line(Me+x/2,Z)+L.line(Me+x/2,X)+L.line(Me+x/2,Z)+L.line(Me,Z)+L.line(Me,le-D/2)],ct+=L.move(Me,Z),M.globals.isXNumeric||(y+=b),{pathTo:at,pathFrom:ct,x:y,y:le,barXPosition:Me,color:this.isBoxPlot?re:$?[j]:[ee]}}},{key:"drawHorizontalBoxPaths",value:function(f){var m=f.indexes,y=f.y,b=f.yDivision,x=f.barHeight,S=f.zeroW,D=f.strokeWidth,M=this.w,L=new Pe(this.ctx),O=m.i,H=m.j,$=this.boxOptions.colors.lower;this.isBoxPlot&&($=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var j=this.invertedYRatio,ee=m.realIndex,re=this.getOHLCValue(ee,H),ce=S,ae=S,A=Math.min(re.o,re.c),F=Math.max(re.o,re.c),X=re.m;M.globals.isXNumeric&&(y=(M.globals.seriesX[ee][H]-M.globals.minX)/this.invertedXRatio-x/2);var Z=y+x*this.visibleI;null==this.series[O][H]?(A=S,F=S):(A=S+A/j,F=S+F/j,ce=S+re.h/j,ae=S+re.l/j,X=S+re.m/j);var le=L.move(S,Z),ke=L.move(A,Z+x/2);return M.globals.previousPaths.length>0&&(ke=this.getPreviousPath(ee,H,!0)),le=[L.move(A,Z)+L.line(A,Z+x/2)+L.line(ce,Z+x/2)+L.line(ce,Z+x/2-x/4)+L.line(ce,Z+x/2+x/4)+L.line(ce,Z+x/2)+L.line(A,Z+x/2)+L.line(A,Z+x)+L.line(X,Z+x)+L.line(X,Z)+L.line(A+D/2,Z),L.move(X,Z)+L.line(X,Z+x)+L.line(F,Z+x)+L.line(F,Z+x/2)+L.line(ae,Z+x/2)+L.line(ae,Z+x-x/4)+L.line(ae,Z+x/4)+L.line(ae,Z+x/2)+L.line(F,Z+x/2)+L.line(F,Z)+L.line(X,Z)+"z"],ke+=L.move(A,Z),M.globals.isXNumeric||(y+=b),{pathTo:le,pathFrom:ke,x:F,y,barYPosition:Z,color:$}}},{key:"getOHLCValue",value:function(f,m){var y=this.w;return{o:this.isBoxPlot?y.globals.seriesCandleH[f][m]:y.globals.seriesCandleO[f][m],h:this.isBoxPlot?y.globals.seriesCandleO[f][m]:y.globals.seriesCandleH[f][m],m:y.globals.seriesCandleM[f][m],l:this.isBoxPlot?y.globals.seriesCandleC[f][m]:y.globals.seriesCandleL[f][m],c:this.isBoxPlot?y.globals.seriesCandleL[f][m]:y.globals.seriesCandleC[f][m]}}}]),l}(),ln=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"checkColorRange",value:function(){var a=this.w,l=!1,f=a.config.plotOptions[a.config.chart.type];return f.colorScale.ranges.length>0&&f.colorScale.ranges.map(function(m,y){m.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(a,l,f,m){var y=this.w,b=1,x=y.config.plotOptions[a].shadeIntensity,S=this.determineColor(a,l,f);y.globals.hasNegs||m?b=y.config.plotOptions[a].reverseNegativeShade?S.percent<0?S.percent/100*(1.25*x):1.25*x*(1-S.percent/100):S.percent<=0?1-(1+S.percent/100)*x:(1-S.percent/100)*x:(b=1-S.percent/100,"treemap"===a&&(b=1.25*x*(1-S.percent/100)));var D=S.color,M=new he;return y.config.plotOptions[a].enableShades&&(D=he.hexToRgba(M.shadeColor("dark"===this.w.config.theme.mode?-1*b:b,S.color),y.config.fill.opacity)),{color:D,colorProps:S}}},{key:"determineColor",value:function(a,l,f){var m=this.w,y=m.globals.series[l][f],b=m.config.plotOptions[a],x=b.colorScale.inverse?f:l;b.distributed&&"treemap"===m.config.chart.type&&(x=f);var S=m.globals.colors[x],D=null,M=Math.min.apply(Math,et(m.globals.series[l])),L=Math.max.apply(Math,et(m.globals.series[l]));b.distributed||"heatmap"!==a||(M=m.globals.minY,L=m.globals.maxY),void 0!==b.colorScale.min&&(M=b.colorScale.min<m.globals.minY?b.colorScale.min:m.globals.minY,L=b.colorScale.max>m.globals.maxY?b.colorScale.max:m.globals.maxY);var O=Math.abs(L)+Math.abs(M),H=100*y/(0===O?O-1e-6:O);return b.colorScale.ranges.length>0&&b.colorScale.ranges.map(function($,j){if(y>=$.from&&y<=$.to){S=$.color,D=$.foreColor?$.foreColor:null,M=$.from,L=$.to;var ee=Math.abs(L)+Math.abs(M);H=100*y/(0===ee?ee-1e-6:ee)}}),{color:S,foreColor:D,percent:H}}},{key:"calculateDataLabels",value:function(a){var l=a.text,f=a.x,m=a.y,y=a.i,b=a.j,x=a.colorProps,S=a.fontSize,D=this.w.config.dataLabels,M=new Pe(this.ctx),L=new Nn(this.ctx),O=null;if(D.enabled){O=M.group({class:"apexcharts-data-labels"});var $=D.offsetY,j=f+D.offsetX,ee=m+parseFloat(D.style.fontSize)/3+$;L.plotDataLabelsText({x:j,y:ee,text:l,i:y,j:b,color:x.foreColor,parent:O,fontSize:S,dataLabelsConfig:D})}return O}},{key:"addListeners",value:function(a){var l=new Pe(this.ctx);a.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,a)),a.node.addEventListener("mousedown",l.pathMouseDown.bind(this,a))}}]),J}(),dn=function(){function J(a,l){Se(this,J),this.ctx=a,this.w=a.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ln(a),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return be(J,[{key:"draw",value:function(a){var l=this.w,f=new Pe(this.ctx),m=f.group({class:"apexcharts-heatmap"});m.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var y=l.globals.gridWidth/l.globals.dataPoints,b=l.globals.gridHeight/l.globals.series.length,x=0,S=!1;this.negRange=this.helpers.checkColorRange();var D=a.slice();l.config.yaxis[0].reversed&&(S=!0,D.reverse());for(var M=S?0:D.length-1;S?M<D.length:M>=0;S?M++:M--){var L=f.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:he.escapeString(l.globals.seriesNames[M]),rel:M+1,"data:realIndex":M});if(this.ctx.series.addCollapsedClassToSeries(L,M),l.config.chart.dropShadow.enabled){var O=l.config.chart.dropShadow;new kt(this.ctx).dropShadow(L,O,M)}for(var H=0,$=l.config.plotOptions.heatmap.shadeIntensity,j=0;j<D[M].length;j++){var ee=this.helpers.getShadeColor(l.config.chart.type,M,j,this.negRange),re=ee.color,ce=ee.colorProps;"image"===l.config.fill.type&&(re=new Et(this.ctx).fillPath({seriesNumber:M,dataPointIndex:j,opacity:l.globals.hasNegs?ce.percent<0?1-(1+ce.percent/100):$+ce.percent/100:ce.percent/100,patternID:he.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:y,height:l.config.fill.image.height?l.config.fill.image.height:b}));var A=f.drawRect(H,x,y,b,this.rectRadius);if(A.attr({cx:H,cy:x}),A.node.classList.add("apexcharts-heatmap-rect"),L.add(A),A.attr({fill:re,i:M,index:M,j,val:D[M][j],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?re:l.globals.stroke.colors[0],color:re}),this.helpers.addListeners(A),l.config.chart.animations.enabled&&!l.globals.dataChanged){var F=1;l.globals.resized||(F=l.config.chart.animations.speed),this.animateHeatMap(A,H,x,y,b,F)}if(l.globals.dataChanged){var X=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){X=this.dynamicAnim.speed;var Z=l.globals.previousPaths[M]&&l.globals.previousPaths[M][j]&&l.globals.previousPaths[M][j].color;Z||(Z="rgba(255, 255, 255, 0)"),this.animateHeatColor(A,he.isColorHex(Z)?Z:he.rgb2hex(Z),he.isColorHex(re)?re:he.rgb2hex(re),X)}}var le=(0,l.config.dataLabels.formatter)(l.globals.series[M][j],{value:l.globals.series[M][j],seriesIndex:M,dataPointIndex:j,w:l}),ke=this.helpers.calculateDataLabels({text:le,x:H+y/2,y:x+b/2,i:M,j,colorProps:ce,series:D});null!==ke&&L.add(ke),H+=y}x+=b,m.add(L)}var Me=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?Me.unshift(""):Me.push(""),l.globals.yAxisScale[0].result=Me,l.config.yaxis[0].labels.offsetY=-l.globals.gridHeight/l.globals.series.length/2,m}},{key:"animateHeatMap",value:function(a,l,f,m,y,b){var x=new Bt(this.ctx);x.animateRect(a,{x:l+m/2,y:f+y/2,width:0,height:0},{x:l,y:f,width:m,height:y},b,function(){x.animationCompleted(a)})}},{key:"animateHeatColor",value:function(a,l,f,m){a.attr({fill:l}).animate(m).attr({fill:f})}}]),J}(),Gn=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"drawYAxisTexts",value:function(a,l,f,m){var y=this.w,b=y.config.yaxis[0],x=y.globals.yLabelFormatters[0];return new Pe(this.ctx).drawText({x:a+b.labels.offsetX,y:l+b.labels.offsetY,text:x(m,f),textAnchor:"middle",fontSize:b.labels.style.fontSize,fontFamily:b.labels.style.fontFamily,foreColor:Array.isArray(b.labels.style.colors)?b.labels.style.colors[f]:b.labels.style.colors})}}]),J}(),Ae=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return be(J,[{key:"draw",value:function(a){var l=this,f=this.w,m=new Pe(this.ctx);if(this.ret=m.group({class:"apexcharts-pie"}),f.globals.noData)return this.ret;for(var y=0,b=0;b<a.length;b++)y+=he.negToZero(a[b]);var x=[],S=m.group();0===y&&(y=1e-5),a.forEach(function(Z){l.maxY=Math.max(l.maxY,Z)}),f.config.yaxis[0].max&&(this.maxY=f.config.yaxis[0].max),"back"===f.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var D=0;D<a.length;D++){var M=this.fullAngle*he.negToZero(a[D])/y;x.push(M),"polarArea"===this.chartType?(x[D]=this.fullAngle/a.length,this.sliceSizes.push(f.globals.radialSize*a[D]/this.maxY)):this.sliceSizes.push(f.globals.radialSize)}if(f.globals.dataChanged){for(var L,O=0,H=0;H<f.globals.previousPaths.length;H++)O+=he.negToZero(f.globals.previousPaths[H]);for(var $=0;$<f.globals.previousPaths.length;$++)L=this.fullAngle*he.negToZero(f.globals.previousPaths[$])/O,this.prevSectorAngleArr.push(L)}this.donutSize<0&&(this.donutSize=0);var j=f.config.plotOptions.pie.customScale,ce=f.globals.gridWidth/2-f.globals.gridWidth/2*j,ae=f.globals.gridHeight/2-f.globals.gridHeight/2*j;if("donut"===this.chartType){var A=m.drawCircle(this.donutSize);A.attr({cx:this.centerX,cy:this.centerY,fill:f.config.plotOptions.pie.donut.background?f.config.plotOptions.pie.donut.background:"transparent"}),S.add(A)}var F=this.drawArcs(x,a);if(this.sliceLabels.forEach(function(Z){F.add(Z)}),S.attr({transform:"translate(".concat(ce,", ").concat(ae,") scale(").concat(j,")")}),S.add(F),this.ret.add(S),this.donutDataLabels.show){var X=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:ce,translateY:ae});this.ret.add(X)}return"front"===f.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(a,l){var f=this.w,m=new kt(this.ctx),y=new Pe(this.ctx),b=new Et(this.ctx),x=y.group({class:"apexcharts-slices"}),S=this.initialAngle,D=this.initialAngle,M=this.initialAngle,L=this.initialAngle;this.strokeWidth=f.config.stroke.show?f.config.stroke.width:0;for(var O=0;O<a.length;O++){var H=y.group({class:"apexcharts-series apexcharts-pie-series",seriesName:he.escapeString(f.globals.seriesNames[O]),rel:O+1,"data:realIndex":O});x.add(H),M=(S=M)+a[O],L=(D=L)+this.prevSectorAngleArr[O];var $=M<S?this.fullAngle+M-S:M-S,j=b.fillPath({seriesNumber:O,size:this.sliceSizes[O],value:l[O]}),ee=this.getChangedPath(D,L),re=y.drawPath({d:ee,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[O]:this.lineColorArr,strokeWidth:0,fill:j,fillOpacity:f.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(O)});re.attr({index:0,j:O}),m.setSelectionFilter(re,0,O),f.config.chart.dropShadow.enabled&&m.dropShadow(re,f.config.chart.dropShadow,O),this.addListeners(re,this.donutDataLabels),Pe.setAttrs(re.node,{"data:angle":$,"data:startAngle":S,"data:strokeWidth":this.strokeWidth,"data:value":l[O]});var ae={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?ae=he.polarToCartesian(this.centerX,this.centerY,f.globals.radialSize/1.25+f.config.plotOptions.pie.dataLabels.offset,(S+$/2)%this.fullAngle):"donut"===this.chartType&&(ae=he.polarToCartesian(this.centerX,this.centerY,(f.globals.radialSize+this.donutSize)/2+f.config.plotOptions.pie.dataLabels.offset,(S+$/2)%this.fullAngle)),H.add(re);var A=0;if(!this.initialAnim||f.globals.resized||f.globals.dataChanged?this.animBeginArr.push(0):(0==(A=$/this.fullAngle*f.config.chart.animations.speed)&&(A=1),this.animDur=A+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(re,this.dynamicAnim&&f.globals.dataChanged?{size:this.sliceSizes[O],endAngle:M,startAngle:S,prevStartAngle:D,prevEndAngle:L,animateStartingPos:!0,i:O,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:f.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[O],endAngle:M,startAngle:S,i:O,totalItems:a.length-1,animBeginArr:this.animBeginArr,dur:A}),f.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&re.click(this.pieClicked.bind(this,O)),void 0!==f.globals.selectedDataPoints[0]&&f.globals.selectedDataPoints[0].indexOf(O)>-1&&this.pieClicked(O),f.config.dataLabels.enabled){var F=ae.x,X=ae.y,Z=100*$/this.fullAngle+"%";if(0!==$&&f.config.plotOptions.pie.dataLabels.minAngleToShowLabel<a[O]){var le=f.config.dataLabels.formatter;void 0!==le&&(Z=le(f.globals.seriesPercent[O][0],{seriesIndex:O,w:f}));var ke=f.globals.dataLabels.style.colors[O],Me=y.group({class:"apexcharts-datalabels"}),at=y.drawText({x:F,y:X,text:Z,textAnchor:"middle",fontSize:f.config.dataLabels.style.fontSize,fontFamily:f.config.dataLabels.style.fontFamily,fontWeight:f.config.dataLabels.style.fontWeight,foreColor:ke});Me.add(at),f.config.dataLabels.dropShadow.enabled&&m.dropShadow(at,f.config.dataLabels.dropShadow),at.node.classList.add("apexcharts-pie-label"),f.config.chart.animations.animate&&!1===f.globals.resized&&(at.node.classList.add("apexcharts-pie-label-delay"),at.node.style.animationDelay=f.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Me)}}}return x}},{key:"addListeners",value:function(a,l){var f=new Pe(this.ctx);a.node.addEventListener("mouseenter",f.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",f.pathMouseLeave.bind(this,a)),a.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",f.pathMouseDown.bind(this,a)),this.donutDataLabels.total.showAlways||(a.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,a.node,l)))}},{key:"animatePaths",value:function(a,l){var m=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,y=m,b=l.startAngle,x=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(b=l.prevEndAngle,y=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(m+x>this.fullAngle?l.endAngle=l.endAngle-(m+x):m+x<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(m+x)))),m===this.fullAngle&&(m=this.fullAngle-.01),this.animateArc(a,b,x,m,y,l)}},{key:"animateArc",value:function(a,l,f,m,y,b){var x,S=this,D=this.w,M=new Bt(this.ctx),L=b.size;(isNaN(l)||isNaN(y))&&(l=f,y=m,b.dur=0);var O=m,H=f,$=l<f?this.fullAngle+l-f:l-f;D.globals.dataChanged&&b.shouldSetPrevPaths&&b.prevEndAngle&&(x=S.getPiePath({me:S,startAngle:b.prevStartAngle,angle:b.prevEndAngle<b.prevStartAngle?this.fullAngle+b.prevEndAngle-b.prevStartAngle:b.prevEndAngle-b.prevStartAngle,size:L}),a.attr({d:x})),0!==b.dur?a.animate(b.dur,D.globals.easing,b.animBeginArr[b.i]).afterAll(function(){"pie"!==S.chartType&&"donut"!==S.chartType&&"polarArea"!==S.chartType||this.animate(D.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":S.strokeWidth}),b.i===D.config.series.length-1&&M.animationCompleted(a)}).during(function(j){O=$+(m-$)*j,b.animateStartingPos&&(O=y+(m-y)*j,H=l-y+(f-(l-y))*j),x=S.getPiePath({me:S,startAngle:H,angle:O,size:L}),a.node.setAttribute("data:pathOrig",x),a.attr({d:x})}):(x=S.getPiePath({me:S,startAngle:H,angle:m,size:L}),b.isTrack||(D.globals.animationEnded=!0),a.node.setAttribute("data:pathOrig",x),a.attr({d:x,"stroke-width":S.strokeWidth}))}},{key:"pieClicked",value:function(a){var l,f=this.w,m=this,y=m.sliceSizes[a]+(f.config.plotOptions.pie.expandOnClick?4:0),b=f.globals.dom.Paper.select(".apexcharts-".concat(m.chartType.toLowerCase(),"-slice-").concat(a)).members[0];if("true"!==b.attr("data:pieClicked")){var x=f.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(x,function(L){L.setAttribute("data:pieClicked","false");var O=L.getAttribute("data:pathOrig");L.setAttribute("d",O)}),b.attr("data:pieClicked","true");var S=parseInt(b.attr("data:startAngle"),10),D=parseInt(b.attr("data:angle"),10);l=m.getPiePath({me:m,startAngle:S,angle:D,size:y}),360!==D&&b.plot(l)}else{b.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(b.node,this.donutDataLabels);var M=b.attr("data:pathOrig");b.attr({d:M})}}},{key:"getChangedPath",value:function(a,l){var f="";return this.dynamicAnim&&this.w.globals.dataChanged&&(f=this.getPiePath({me:this,startAngle:a,angle:l-a,size:this.size})),f}},{key:"getPiePath",value:function(a){var l=a.me,f=a.startAngle,m=a.angle,y=a.size,b=f,x=Math.PI*(b-90)/180,S=m+f;Math.ceil(S)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(S=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(S)>this.fullAngle&&(S-=this.fullAngle);var D=Math.PI*(S-90)/180,M=l.centerX+y*Math.cos(x),L=l.centerY+y*Math.sin(x),O=l.centerX+y*Math.cos(D),H=l.centerY+y*Math.sin(D),$=he.polarToCartesian(l.centerX,l.centerY,l.donutSize,S),j=he.polarToCartesian(l.centerX,l.centerY,l.donutSize,b),ee=m>180?1:0,re=["M",M,L,"A",y,y,0,ee,1,O,H];return"donut"===l.chartType?[].concat(re,["L",$.x,$.y,"A",l.donutSize,l.donutSize,0,ee,0,j.x,j.y,"L",M,L,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat(re,["L",l.centerX,l.centerY,"L",M,L]).join(" "):[].concat(re).join(" ")}},{key:"drawPolarElements",value:function(a){var l=this.w,f=new Es(this.ctx),m=new Pe(this.ctx),y=new Gn(this.ctx),b=m.group(),x=m.group(),S=f.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),D=S.result.reverse(),M=S.result.length;this.maxY=S.niceMax;for(var L=l.globals.radialSize,O=L/(M-1),H=0;H<M-1;H++){var $=m.drawCircle(L);if($.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var j=y.drawYAxisTexts(this.centerX,this.centerY-L+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,H,D[H]);x.add(j)}b.add($),L-=O}this.drawSpokes(a),a.add(b),a.add(x)}},{key:"renderInnerDataLabels",value:function(a,l){var f=this.w,m=new Pe(this.ctx),y=m.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(f.config.plotOptions.pie.customScale,")")}),b=a.total.show;y.node.style.opacity=l.opacity;var x,S,D=l.centerX,M=l.centerY;x=void 0===a.name.color?f.globals.colors[0]:a.name.color;var L=a.name.fontSize,O=a.name.fontFamily,H=a.name.fontWeight;S=void 0===a.value.color?f.config.chart.foreColor:a.value.color;var $=a.value.formatter,j="",ee="";if(b?(x=a.total.color,L=a.total.fontSize,O=a.total.fontFamily,H=a.total.fontWeight,ee=a.total.label,j=a.total.formatter(f)):1===f.globals.series.length&&(j=$(f.globals.series[0],f),ee=f.globals.seriesNames[0]),ee&&(ee=a.name.formatter(ee,a.total.show,f)),a.name.show){var re=m.drawText({x:D,y:M+parseFloat(a.name.offsetY),text:ee,textAnchor:"middle",foreColor:x,fontSize:L,fontWeight:H,fontFamily:O});re.node.classList.add("apexcharts-datalabel-label"),y.add(re)}if(a.value.show){var ce=a.name.show?parseFloat(a.value.offsetY)+16:a.value.offsetY,ae=m.drawText({x:D,y:M+ce,text:j,textAnchor:"middle",foreColor:S,fontWeight:a.value.fontWeight,fontSize:a.value.fontSize,fontFamily:a.value.fontFamily});ae.node.classList.add("apexcharts-datalabel-value"),y.add(ae)}return y}},{key:"printInnerLabels",value:function(a,l,f,m){var y,b=this.w;m?y=void 0===a.name.color?b.globals.colors[parseInt(m.parentNode.getAttribute("rel"),10)-1]:a.name.color:b.globals.series.length>1&&a.total.show&&(y=a.total.color);var x=b.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),S=b.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");f=(0,a.value.formatter)(f,b),m||"function"!=typeof a.total.formatter||(f=a.total.formatter(b)),l=a.name.formatter(l,l===a.total.label,b),null!==x&&(x.textContent=l),null!==S&&(S.textContent=f),null!==x&&(x.style.fill=y)}},{key:"printDataLabelsInner",value:function(a,l){var f=this.w,m=a.getAttribute("data:value"),y=f.globals.seriesNames[parseInt(a.parentNode.getAttribute("rel"),10)-1];f.globals.series.length>1&&this.printInnerLabels(l,y,m,a);var b=f.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==b&&(b.style.opacity=1)}},{key:"drawSpokes",value:function(a){var l=this,f=this.w,m=new Pe(this.ctx),y=f.config.plotOptions.polarArea.spokes;if(0!==y.strokeWidth){for(var b=[],x=360/f.globals.series.length,S=0;S<f.globals.series.length;S++)b.push(he.polarToCartesian(this.centerX,this.centerY,f.globals.radialSize,f.config.plotOptions.pie.startAngle+x*S));b.forEach(function(D,M){var L=m.drawLine(D.x,D.y,l.centerX,l.centerY,Array.isArray(y.connectorColors)?y.connectorColors[M]:y.connectorColors);a.add(L)})}}},{key:"revertDataLabelsInner",value:function(a,l,f){var m=this,y=this.w,b=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),x=!1,S=y.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),D=function(O){var H=O.makeSliceOut,$=O.printLabel;Array.prototype.forEach.call(S,function(j){"true"===j.getAttribute("data:pieClicked")&&(H&&(x=!0),$&&m.printDataLabelsInner(j,l))})};if(D({makeSliceOut:!0,printLabel:!1}),l.total.show&&y.globals.series.length>1)x&&!l.total.showAlways?D({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(y));else if(D({makeSliceOut:!1,printLabel:!0}),!x)if(y.globals.selectedDataPoints.length&&y.globals.series.length>1)if(y.globals.selectedDataPoints[0].length>0){var M=y.globals.selectedDataPoints[0],L=y.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(M));this.printDataLabelsInner(L,l)}else b&&y.globals.selectedDataPoints.length&&0===y.globals.selectedDataPoints[0].length&&(b.style.opacity=0);else b&&y.globals.series.length>1&&(b.style.opacity=0)}}]),J}(),we=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new Pe(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new it(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return be(J,[{key:"draw",value:function(a){var l=this,f=this.w,m=new Et(this.ctx),y=[],b=new Nn(this.ctx);a.length&&(this.dataPointsLen=a[f.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var M=f.globals.gridHeight/2+f.config.plotOptions.radar.offsetY,L=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(f.globals.gridWidth/2+f.config.plotOptions.radar.offsetX||0,", ").concat(M||0,")")}),O=[],H=null,$=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),a.forEach(function(ee,re){var ce=ee.length===f.globals.dataPoints,ae=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":ce,seriesName:he.escapeString(f.globals.seriesNames[re]),rel:re+1,"data:realIndex":re});l.dataRadiusOfPercent[re]=[],l.dataRadius[re]=[],l.angleArr[re]=[],ee.forEach(function(Tt,It){var ei=Math.abs(l.maxValue-l.minValue);Tt+=Math.abs(l.minValue),l.isLog&&(Tt=l.coreUtils.getLogVal(Tt,0)),l.dataRadiusOfPercent[re][It]=Tt/ei,l.dataRadius[re][It]=l.dataRadiusOfPercent[re][It]*l.size,l.angleArr[re][It]=It*l.disAngle}),O=l.getDataPointsPos(l.dataRadius[re],l.angleArr[re]);var A=l.createPaths(O,{x:0,y:0});H=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),$=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":re}),f.globals.delayedElements.push({el:H.node,index:re});var F={i:re,realIndex:re,animationDelay:re,initialSpeed:f.config.chart.animations.speed,dataChangeSpeed:f.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:f.globals.stroke.colors[re],strokeLineCap:f.config.stroke.lineCap},X=null;f.globals.previousPaths.length>0&&(X=l.getPreviousPath(re));for(var Z=0;Z<A.linePathsTo.length;Z++){var le=l.graphics.renderPaths(te(te({},F),{},{pathFrom:null===X?A.linePathsFrom[Z]:X,pathTo:A.linePathsTo[Z],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[re]:l.strokeWidth,fill:"none",drawShadow:!1}));ae.add(le);var ke=m.fillPath({seriesNumber:re}),Me=l.graphics.renderPaths(te(te({},F),{},{pathFrom:null===X?A.areaPathsFrom[Z]:X,pathTo:A.areaPathsTo[Z],strokeWidth:0,fill:ke,drawShadow:!1}));f.config.chart.dropShadow.enabled&&new kt(l.ctx).dropShadow(Me,Object.assign({},f.config.chart.dropShadow,{noUserSpaceOnUse:!0}),re),ae.add(Me)}ee.forEach(function(Tt,It){var ei=new Jn(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:re,dataPointIndex:It}),ai=l.graphics.drawMarker(O[It].x,O[It].y,ei);ai.attr("rel",It),ai.attr("j",It),ai.attr("index",re),ai.node.setAttribute("default-marker-size",ei.pSize);var fi=l.graphics.group({class:"apexcharts-series-markers"});fi&&fi.add(ai),H.add(fi),ae.add(H);var Si=f.config.dataLabels;if(Si.enabled){var Li=Si.formatter(f.globals.series[re][It],{seriesIndex:re,dataPointIndex:It,w:f});b.plotDataLabelsText({x:O[It].x,y:O[It].y,text:Li,textAnchor:"middle",i:re,j:re,parent:$,offsetCorrection:!1,dataLabelsConfig:te({},Si)})}ae.add($)}),y.push(ae)}),this.drawPolygons({parent:L}),f.config.xaxis.labels.show){var j=this.drawXAxisTexts();L.add(j)}return y.forEach(function(ee){L.add(ee)}),L.add(this.yaxisLabels),L}},{key:"drawPolygons",value:function(a){for(var l=this,f=this.w,m=a.parent,y=new Gn(this.ctx),b=f.globals.yAxisScale[0].result.reverse(),x=b.length,S=[],D=this.size/(x-1),M=0;M<x;M++)S[M]=D*M;S.reverse();var L=[],O=[];S.forEach(function(H,$){var j=he.getPolygonPos(H,l.dataPointsLen),ee="";j.forEach(function(re,ce){if(0===$){var ae=l.graphics.drawLine(re.x,re.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[ce]:l.polygons.connectorColors);O.push(ae)}0===ce&&l.yaxisLabelsTextsPos.push({x:re.x,y:re.y}),ee+=re.x+","+re.y+" "}),L.push(ee)}),L.forEach(function(H,$){var j=l.polygons.strokeColors,ee=l.polygons.strokeWidth,re=l.graphics.drawPolygon(H,Array.isArray(j)?j[$]:j,Array.isArray(ee)?ee[$]:ee,f.globals.radarPolygons.fill.colors[$]);m.add(re)}),O.forEach(function(H){m.add(H)}),f.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(H,$){var j=y.drawYAxisTexts(H.x,H.y,$,b[$]);l.yaxisLabels.add(j)})}},{key:"drawXAxisTexts",value:function(){var a=this,l=this.w,f=l.config.xaxis.labels,m=this.graphics.group({class:"apexcharts-xaxis"}),y=he.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(b,x){var S=l.config.xaxis.labels.formatter,D=new Nn(a.ctx);if(y[x]){var M=a.getTextPos(y[x],a.size),L=S(b,{seriesIndex:-1,dataPointIndex:x,w:l});D.plotDataLabelsText({x:M.newX,y:M.newY,text:L,textAnchor:M.textAnchor,i:x,j:x,parent:m,color:Array.isArray(f.style.colors)&&f.style.colors[x]?f.style.colors[x]:"#a8a8a8",dataLabelsConfig:te({textAnchor:M.textAnchor,dropShadow:{enabled:!1}},f),offsetCorrection:!1})}}),m}},{key:"createPaths",value:function(a,l){var f=this,m=[],y=[],b=[],x=[];if(a.length){y=[this.graphics.move(l.x,l.y)],x=[this.graphics.move(l.x,l.y)];var S=this.graphics.move(a[0].x,a[0].y),D=this.graphics.move(a[0].x,a[0].y);a.forEach(function(M,L){S+=f.graphics.line(M.x,M.y),D+=f.graphics.line(M.x,M.y),L===a.length-1&&(S+="Z",D+="Z")}),m.push(S),b.push(D)}return{linePathsFrom:y,linePathsTo:m,areaPathsFrom:x,areaPathsTo:b}}},{key:"getTextPos",value:function(a,l){var f="middle",m=a.x,y=a.y;return Math.abs(a.x)>=10?a.x>0?(f="start",m+=10):a.x<0&&(f="end",m-=10):f="middle",Math.abs(a.y)>=l-10&&(a.y<0?y-=10:a.y>0&&(y+=10)),{textAnchor:f,newX:m,newY:y}}},{key:"getPreviousPath",value:function(a){for(var l=this.w,f=null,m=0;m<l.globals.previousPaths.length;m++){var y=l.globals.previousPaths[m];y.paths.length>0&&parseInt(y.realIndex,10)===parseInt(a,10)&&void 0!==l.globals.previousPaths[m].paths[0]&&(f=l.globals.previousPaths[m].paths[0].d)}return f}},{key:"getDataPointsPos",value:function(a,l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;a=a||[],l=l||[];for(var m=[],y=0;y<f;y++){var b={};b.x=a[y]*Math.sin(l[y]),b.y=-a[y]*Math.cos(l[y]),m.push(b)}return m}}]),J}(),Oe=function(J){Ie(l,Ae);var a=St(l);function l(f){var m;Se(this,l),(m=a.call(this,f)).ctx=f,m.w=f.w,m.animBeginArr=[0],m.animDur=0;var y=m.w;return m.startAngle=y.config.plotOptions.radialBar.startAngle,m.endAngle=y.config.plotOptions.radialBar.endAngle,m.totalAngle=Math.abs(y.config.plotOptions.radialBar.endAngle-y.config.plotOptions.radialBar.startAngle),m.trackStartAngle=y.config.plotOptions.radialBar.track.startAngle,m.trackEndAngle=y.config.plotOptions.radialBar.track.endAngle,m.donutDataLabels=m.w.config.plotOptions.radialBar.dataLabels,m.radialDataLabels=m.donutDataLabels,m.trackStartAngle||(m.trackStartAngle=m.startAngle),m.trackEndAngle||(m.trackEndAngle=m.endAngle),360===m.endAngle&&(m.endAngle=359.99),m.margin=parseInt(y.config.plotOptions.radialBar.track.margin,10),m}return be(l,[{key:"draw",value:function(f){var m=this.w,y=new Pe(this.ctx),b=y.group({class:"apexcharts-radialbar"});if(m.globals.noData)return b;var x=y.group(),S=this.defaultSize/2,D=m.globals.gridWidth/2,M=this.defaultSize/2.05;m.config.chart.sparkline.enabled||(M=M-m.config.stroke.width-m.config.chart.dropShadow.blur);var L=m.globals.fill.colors;if(m.config.plotOptions.radialBar.track.show){var O=this.drawTracks({size:M,centerX:D,centerY:S,colorArr:L,series:f});x.add(O)}var H=this.drawArcs({size:M,centerX:D,centerY:S,colorArr:L,series:f}),$=360;m.config.plotOptions.radialBar.startAngle<0&&($=this.totalAngle);var j=(360-$)/360;if(m.globals.radialSize=M-M*j,this.radialDataLabels.value.show){var ee=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);m.globals.radialSize+=ee*j}return x.add(H.g),"front"===m.config.plotOptions.radialBar.hollow.position&&(H.g.add(H.elHollow),H.dataLabels&&H.g.add(H.dataLabels)),b.add(x),b}},{key:"drawTracks",value:function(f){var m=this.w,y=new Pe(this.ctx),b=y.group({class:"apexcharts-tracks"}),x=new kt(this.ctx),S=new Et(this.ctx),D=this.getStrokeWidth(f);f.size=f.size-D/2;for(var M=0;M<f.series.length;M++){var L=y.group({class:"apexcharts-radialbar-track apexcharts-track"});b.add(L),L.attr({rel:M+1}),f.size=f.size-D-this.margin;var O=m.config.plotOptions.radialBar.track,H=S.fillPath({seriesNumber:0,size:f.size,fillColors:Array.isArray(O.background)?O.background[M]:O.background,solid:!0}),$=this.trackStartAngle,j=this.trackEndAngle;Math.abs(j)+Math.abs($)>=360&&(j=360-Math.abs(this.startAngle)-.1);var ee=y.drawPath({d:"",stroke:H,strokeWidth:D*parseInt(O.strokeWidth,10)/100,fill:"none",strokeOpacity:O.opacity,classes:"apexcharts-radialbar-area"});O.dropShadow.enabled&&x.dropShadow(ee,O.dropShadow),L.add(ee),ee.attr("id","apexcharts-radialbarTrack-"+M),this.animatePaths(ee,{centerX:f.centerX,centerY:f.centerY,endAngle:j,startAngle:$,size:f.size,i:M,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:m.globals.easing})}return b}},{key:"drawArcs",value:function(f){var m=this.w,y=new Pe(this.ctx),b=new Et(this.ctx),x=new kt(this.ctx),S=y.group(),D=this.getStrokeWidth(f);f.size=f.size-D/2;var M=m.config.plotOptions.radialBar.hollow.background,L=f.size-D*f.series.length-this.margin*f.series.length-D*parseInt(m.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,O=L-m.config.plotOptions.radialBar.hollow.margin;void 0!==m.config.plotOptions.radialBar.hollow.image&&(M=this.drawHollowImage(f,S,L,M));var H=this.drawHollow({size:O,centerX:f.centerX,centerY:f.centerY,fill:M||"transparent"});m.config.plotOptions.radialBar.hollow.dropShadow.enabled&&x.dropShadow(H,m.config.plotOptions.radialBar.hollow.dropShadow);var j=1;!this.radialDataLabels.total.show&&m.globals.series.length>1&&(j=0);var ee=null;this.radialDataLabels.show&&(ee=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:L,centerX:f.centerX,centerY:f.centerY,opacity:j})),"back"===m.config.plotOptions.radialBar.hollow.position&&(S.add(H),ee&&S.add(ee));var re=!1;m.config.plotOptions.radialBar.inverseOrder&&(re=!0);for(var ce=re?f.series.length-1:0;re?ce>=0:ce<f.series.length;re?ce--:ce++){var ae=y.group({class:"apexcharts-series apexcharts-radial-series",seriesName:he.escapeString(m.globals.seriesNames[ce])});S.add(ae),ae.attr({rel:ce+1,"data:realIndex":ce}),this.ctx.series.addCollapsedClassToSeries(ae,ce),f.size=f.size-D-this.margin;var A=b.fillPath({seriesNumber:ce,size:f.size,value:f.series[ce]}),F=this.startAngle,X=void 0,Z=he.negToZero(f.series[ce]>100?100:f.series[ce])/100,le=Math.round(this.totalAngle*Z)+this.startAngle,ke=void 0;m.globals.dataChanged&&(X=this.startAngle,ke=Math.round(this.totalAngle*he.negToZero(m.globals.previousPaths[ce])/100)+X),Math.abs(le)+Math.abs(F)>=360&&(le-=.01),Math.abs(ke)+Math.abs(X)>=360&&(ke-=.01);var Me=le-F,at=Array.isArray(m.config.stroke.dashArray)?m.config.stroke.dashArray[ce]:m.config.stroke.dashArray,ct=y.drawPath({d:"",stroke:A,strokeWidth:D,fill:"none",fillOpacity:m.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+ce,strokeDashArray:at});Pe.setAttrs(ct.node,{"data:angle":Me,"data:value":f.series[ce]}),m.config.chart.dropShadow.enabled&&x.dropShadow(ct,m.config.chart.dropShadow,ce),x.setSelectionFilter(ct,0,ce),this.addListeners(ct,this.radialDataLabels),ae.add(ct),ct.attr({index:0,j:ce});var It=0;!this.initialAnim||m.globals.resized||m.globals.dataChanged||(It=m.config.chart.animations.speed),m.globals.dataChanged&&(It=m.config.chart.animations.dynamicAnimation.speed),this.animDur=It/(1.2*f.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ct,{centerX:f.centerX,centerY:f.centerY,endAngle:le,startAngle:F,prevEndAngle:ke,prevStartAngle:X,size:f.size,i:ce,totalItems:2,animBeginArr:this.animBeginArr,dur:It,shouldSetPrevPaths:!0,easing:m.globals.easing})}return{g:S,elHollow:H,dataLabels:ee}}},{key:"drawHollow",value:function(f){var m=new Pe(this.ctx).drawCircle(2*f.size);return m.attr({class:"apexcharts-radialbar-hollow",cx:f.centerX,cy:f.centerY,r:f.size,fill:f.fill}),m}},{key:"drawHollowImage",value:function(f,m,y,b){var x=this.w,S=new Et(this.ctx),D=he.randomId(),M=x.config.plotOptions.radialBar.hollow.image;if(x.config.plotOptions.radialBar.hollow.imageClipped)S.clippedImgArea({width:y,height:y,image:M,patternID:"pattern".concat(x.globals.cuid).concat(D)}),b="url(#pattern".concat(x.globals.cuid).concat(D,")");else{var L=x.config.plotOptions.radialBar.hollow.imageWidth,O=x.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===L&&void 0===O){var H=x.globals.dom.Paper.image(M).loaded(function(j){this.move(f.centerX-j.width/2+x.config.plotOptions.radialBar.hollow.imageOffsetX,f.centerY-j.height/2+x.config.plotOptions.radialBar.hollow.imageOffsetY)});m.add(H)}else{var $=x.globals.dom.Paper.image(M).loaded(function(j){this.move(f.centerX-L/2+x.config.plotOptions.radialBar.hollow.imageOffsetX,f.centerY-O/2+x.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(L,O)});m.add($)}}return b}},{key:"getStrokeWidth",value:function(f){return f.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(f.series.length+1)-this.margin}}]),l}(),_e=function(J){Ie(l,Vt);var a=St(l);function l(){return Se(this,l),a.apply(this,arguments)}return be(l,[{key:"draw",value:function(f,m){var y=this.w,b=new Pe(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=f,this.seriesRangeStart=y.globals.seriesRangeStart,this.seriesRangeEnd=y.globals.seriesRangeEnd,this.barHelpers.initVariables(f);for(var x=b.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),S=0;S<f.length;S++){var D,M,L,O=void 0,H=void 0,$=void 0,j=y.globals.comboCharts?m[S]:S,ee=b.group({class:"apexcharts-series",seriesName:he.escapeString(y.globals.seriesNames[j]),rel:S+1,"data:realIndex":j});this.ctx.series.addCollapsedClassToSeries(ee,j),f[S].length>0&&(this.visibleI=this.visibleI+1);var re=0,ce=0;this.yRatio.length>1&&(this.yaxisIndex=j);var ae=this.barHelpers.initialPositions();H=ae.y,L=ae.zeroW,O=ae.x,ce=ae.barWidth,D=ae.xDivision,M=ae.zeroH;for(var A=b.group({class:"apexcharts-datalabels","data:realIndex":j}),F=b.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),X=0;X<y.globals.dataPoints;X++){var Z=this.barHelpers.getStrokeWidth(S,X,j),le=this.seriesRangeStart[S][X],ke=this.seriesRangeEnd[S][X],Me=null,at=null,ct={x:O,y:H,strokeWidth:Z,elSeries:ee};if($=ae.yDivision,re=ae.barHeight,this.isHorizontal){at=H+re*this.visibleI;var Tt=this.seriesLen;y.config.plotOptions.bar.rangeBarGroupRows&&(Tt=1);var It=($-re*Tt)/2;if(void 0===y.config.series[S].data[X])break;if(y.config.series[S].data[X].x){var ei=this.detectOverlappingBars({i:S,j:X,barYPosition:at,srty:It,barHeight:re,yDivision:$,initPositions:ae});re=ei.barHeight,at=ei.barYPosition}ce=(Me=this.drawRangeBarPaths(te({indexes:{i:S,j:X,realIndex:j},barHeight:re,barYPosition:at,zeroW:L,yDivision:$,y1:le,y2:ke},ct))).barWidth}else re=(Me=this.drawRangeColumnPaths(te({indexes:{i:S,j:X,realIndex:j},zeroH:M,barWidth:ce,xDivision:D},ct))).barHeight;var ai=this.barHelpers.drawGoalLine({barXPosition:Me.barXPosition,barYPosition:at,goalX:Me.goalX,goalY:Me.goalY,barHeight:re,barWidth:ce});ai&&F.add(ai),H=Me.y,O=Me.x;var fi=this.barHelpers.getPathFillColor(f,S,X,j);this.renderSeries({realIndex:j,pathFill:fi,lineFill:y.globals.stroke.colors[j],j:X,i:S,x:O,y:H,y1:le,y2:ke,pathFrom:Me.pathFrom,pathTo:Me.pathTo,strokeWidth:Z,elSeries:ee,series:f,barHeight:re,barYPosition:at,barWidth:ce,elDataLabelsWrap:A,elGoalsMarkers:F,visibleSeries:this.visibleI,type:"rangebar"})}x.add(ee)}return x}},{key:"detectOverlappingBars",value:function(f){var m=f.i,y=f.j,b=f.barYPosition,x=f.srty,S=f.barHeight,D=f.yDivision,M=f.initPositions,L=this.w,O=[],H=L.config.series[m].data[y].rangeName,$=L.config.series[m].data[y].x,j=L.globals.labels.indexOf($),ee=L.globals.seriesRange[m].findIndex(function(re){return re.x===$&&re.overlaps.length>0});return b=L.config.plotOptions.bar.rangeBarGroupRows?x+D*j:x+S*this.visibleI+D*j,ee>-1&&!L.config.plotOptions.bar.rangeBarOverlap&&(O=L.globals.seriesRange[m][ee].overlaps).indexOf(H)>-1&&(b=(S=M.barHeight/O.length)*this.visibleI+D*(100-parseInt(this.barOptions.barHeight,10))/100/2+S*(this.visibleI+O.indexOf(H))+D*j),{barYPosition:b,barHeight:S}}},{key:"drawRangeColumnPaths",value:function(f){var m=f.indexes,y=f.x,b=f.xDivision,x=f.barWidth,S=f.zeroH,D=this.w,M=m.i,L=m.j,O=this.yRatio[this.yaxisIndex],H=m.realIndex,$=this.getRangeValue(H,L),j=Math.min($.start,$.end),ee=Math.max($.start,$.end);D.globals.isXNumeric&&(y=(D.globals.seriesX[M][L]-D.globals.minX)/this.xRatio-x/2);var re=y+x*this.visibleI;null==this.series[M][L]?j=S:(j=S-j/O,ee=S-ee/O);var ce=Math.abs(ee-j),ae=this.barHelpers.getColumnPaths({barXPosition:re,barWidth:x,y1:j,y2:ee,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:m.realIndex,i:H,j:L,w:D});return D.globals.isXNumeric||(y+=b),{pathTo:ae.pathTo,pathFrom:ae.pathFrom,barHeight:ce,x:y,y:ee,goalY:this.barHelpers.getGoalValues("y",null,S,M,L),barXPosition:re}}},{key:"drawRangeBarPaths",value:function(f){var m=f.indexes,y=f.y,S=f.yDivision,D=f.barHeight,M=f.barYPosition,L=f.zeroW,O=this.w,H=L+f.y1/this.invertedYRatio,$=L+f.y2/this.invertedYRatio,j=Math.abs($-H),ee=this.barHelpers.getBarpaths({barYPosition:M,barHeight:D,x1:H,x2:$,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:m.realIndex,realIndex:m.realIndex,j:m.j,w:O});return O.globals.isXNumeric||(y+=S),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,barWidth:j,x:$,goalX:this.barHelpers.getGoalValues("x",L,null,m.realIndex,m.j),y}}},{key:"getRangeValue",value:function(f,m){var y=this.w;return{start:y.globals.seriesRangeStart[f][m],end:y.globals.seriesRangeEnd[f][m]}}}]),l}(),se=function(){function J(a){Se(this,J),this.w=a.w,this.lineCtx=a}return be(J,[{key:"sameValueSeriesFix",value:function(a,l){var f=this.w;if(("gradient"===f.config.fill.type||"gradient"===f.config.fill.type[a])&&new it(this.lineCtx.ctx,f).seriesHaveSameValues(a)){var m=l[a].slice();m[m.length-1]=m[m.length-1]+1e-6,l[a]=m}return l}},{key:"calculatePoints",value:function(a){var l=a.series,m=a.x,y=a.y,b=a.i,x=a.j,S=a.prevY,D=this.w,M=[],L=[];if(0===x){var O=this.lineCtx.categoryAxisCorrection+D.config.markers.offsetX;D.globals.isXNumeric&&(O=(D.globals.seriesX[a.realIndex][0]-D.globals.minX)/this.lineCtx.xRatio+D.config.markers.offsetX),M.push(O),L.push(he.isNumber(l[b][0])?S+D.config.markers.offsetY:null),M.push(m+D.config.markers.offsetX),L.push(he.isNumber(l[b][x+1])?y+D.config.markers.offsetY:null)}else M.push(m+D.config.markers.offsetX),L.push(he.isNumber(l[b][x+1])?y+D.config.markers.offsetY:null);return{x:M,y:L}}},{key:"checkPreviousPaths",value:function(a){for(var l=a.pathFromLine,f=a.pathFromArea,m=a.realIndex,y=this.w,b=0;b<y.globals.previousPaths.length;b++){var x=y.globals.previousPaths[b];("line"===x.type||"area"===x.type)&&x.paths.length>0&&parseInt(x.realIndex,10)===parseInt(m,10)&&("line"===x.type?(this.lineCtx.appendPathFrom=!1,l=y.globals.previousPaths[b].paths[0].d):"area"===x.type&&(this.lineCtx.appendPathFrom=!1,f=y.globals.previousPaths[b].paths[0].d,y.config.stroke.show&&y.globals.previousPaths[b].paths[1]&&(l=y.globals.previousPaths[b].paths[1].d)))}return{pathFromLine:l,pathFromArea:f}}},{key:"determineFirstPrevY",value:function(a){var l,f=a.i,m=a.series,y=a.prevY,b=a.lineYPosition,x=this.w;if(void 0!==(null===(l=m[f])||void 0===l?void 0:l[0]))y=(b=x.config.chart.stacked&&f>0?this.lineCtx.prevSeriesY[f-1][0]:this.lineCtx.zeroY)-m[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?m[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(x.config.chart.stacked&&f>0&&void 0===m[f][0])for(var S=f-1;S>=0;S--)if(null!=m[S][0]){y=b=this.lineCtx.prevSeriesY[S][0];break}return{prevY:y,lineYPosition:b}}}]),J}(),ge=function(){function J(a,l,f){Se(this,J),this.ctx=a,this.w=a.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||f,this.scatter=new mi(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new se(this),this.markers=new Jn(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return be(J,[{key:"draw",value:function(a,l,f,m){var y=this.w,b=new Pe(this.ctx),x=y.globals.comboCharts?l:y.config.chart.type,S=b.group({class:"apexcharts-".concat(x,"-series apexcharts-plot-series")}),D=new it(this.ctx,y);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,a=D.getLogSeries(a),this.yRatio=D.getLogYRatios(this.yRatio);for(var M=[],L=0;L<a.length;L++){a=this.lineHelpers.sameValueSeriesFix(L,a);var O=y.globals.comboCharts?f[L]:L;this._initSerieVariables(a,L,O);var H=[],$=[],j=y.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,O),y.globals.isXNumeric&&y.globals.seriesX.length>0&&(j=(y.globals.seriesX[O][0]-y.globals.minX)/this.xRatio),$.push(j);var ee,re=j,ce=void 0,ae=re,A=this.zeroY,F=this.zeroY;A=this.lineHelpers.determineFirstPrevY({i:L,series:a,prevY:A,lineYPosition:0}).prevY,H.push(A),ee=A,"rangeArea"===x&&(ce=F=this.lineHelpers.determineFirstPrevY({i:L,series:m,prevY:F,lineYPosition:0}).prevY);var X={type:x,series:a,realIndex:O,i:L,x:j,y:1,pX:re,pY:ee,pathsFrom:this._calculatePathsFrom({type:x,series:a,i:L,realIndex:O,prevX:ae,prevY:A,prevY2:F}),linePaths:[],areaPaths:[],seriesIndex:f,lineYPosition:0,xArrj:$,yArrj:H,seriesRangeEnd:m},Z=this._iterateOverDataPoints(te(te({},X),{},{iterations:"rangeArea"===x?a[L].length-1:void 0,isRangeStart:!0}));if("rangeArea"===x){var le=this._calculatePathsFrom({series:m,i:L,realIndex:O,prevX:ae,prevY:F}),ke=this._iterateOverDataPoints(te(te({},X),{},{series:m,pY:ce,pathsFrom:le,iterations:m[L].length-1,isRangeStart:!1}));Z.linePaths[0]=ke.linePath+Z.linePath,Z.pathFromLine=ke.pathFromLine+Z.pathFromLine}this._handlePaths({type:x,realIndex:O,i:L,paths:Z}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),M.push(this.elSeries)}if(y.config.chart.stacked)for(var Me=M.length;Me>0;Me--)S.add(M[Me-1]);else for(var at=0;at<M.length;at++)S.add(M[at]);return S}},{key:"_initSerieVariables",value:function(a,l,f){var m=this.w,y=new Pe(this.ctx);this.xDivision=m.globals.gridWidth/(m.globals.dataPoints-("on"===m.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(m.config.stroke.width)?m.config.stroke.width[f]:m.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=f),this.isReversed=m.config.yaxis[this.yaxisIndex]&&m.config.yaxis[this.yaxisIndex].reversed,this.zeroY=m.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?m.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>m.globals.gridHeight||"end"===m.config.plotOptions.area.fillTo)&&(this.areaBottomY=m.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=y.group({class:"apexcharts-series",seriesName:he.escapeString(m.globals.seriesNames[f])}),this.elPointsMain=y.group({class:"apexcharts-series-markers-wrap","data:realIndex":f}),this.elDataLabelsWrap=y.group({class:"apexcharts-datalabels","data:realIndex":f}),this.elSeries.attr({"data:longestSeries":a[l].length===m.globals.dataPoints,rel:l+1,"data:realIndex":f}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(a){var l,f,m,y,b=a.type,x=a.series,S=a.i,D=a.realIndex,M=a.prevX,L=a.prevY,O=a.prevY2,H=this.w,$=new Pe(this.ctx);if(null===x[S][0]){for(var j=0;j<x[S].length;j++)if(null!==x[S][j]){l=$.move(M=this.xDivision*j,L=this.zeroY-x[S][j]/this.yRatio[this.yaxisIndex]),f=$.move(M,this.areaBottomY);break}}else l=$.move(M,L),"rangeArea"===b&&(l=$.move(M,O)+$.line(M,L)),f=$.move(M,this.areaBottomY)+$.line(M,L);if(m=$.move(-1,this.zeroY)+$.line(-1,this.zeroY),y=$.move(-1,this.zeroY)+$.line(-1,this.zeroY),H.globals.previousPaths.length>0){var ee=this.lineHelpers.checkPreviousPaths({pathFromLine:m,pathFromArea:y,realIndex:D});m=ee.pathFromLine,y=ee.pathFromArea}return{prevX:M,prevY:L,linePath:l,areaPath:f,pathFromLine:m,pathFromArea:y}}},{key:"_handlePaths",value:function(a){var l=a.type,f=a.realIndex,m=a.i,y=a.paths,b=this.w,x=new Pe(this.ctx),S=new Et(this.ctx);this.prevSeriesY.push(y.yArrj),b.globals.seriesXvalues[f]=y.xArrj,b.globals.seriesYvalues[f]=y.yArrj;var D=b.config.forecastDataPoints;if(D.count>0&&"rangeArea"!==l){var M=b.globals.seriesXvalues[f][b.globals.seriesXvalues[f].length-D.count-1],L=x.drawRect(M,0,b.globals.gridWidth,b.globals.gridHeight,0);b.globals.dom.elForecastMask.appendChild(L.node);var O=x.drawRect(0,0,M,b.globals.gridHeight,0);b.globals.dom.elNonForecastMask.appendChild(O.node)}this.pointsChart||b.globals.delayedElements.push({el:this.elPointsMain.node,index:f});var H={i:m,realIndex:f,animationDelay:m,initialSpeed:b.config.chart.animations.speed,dataChangeSpeed:b.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var $=S.fillPath({seriesNumber:f}),j=0;j<y.areaPaths.length;j++){var ee=x.renderPaths(te(te({},H),{},{pathFrom:y.pathFromArea,pathTo:y.areaPaths[j],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:$}));this.elSeries.add(ee)}if(b.config.stroke.show&&!this.pointsChart){var re=null;if("line"===l)re=S.fillPath({seriesNumber:f,i:m});else if("solid"===b.config.stroke.fill.type)re=b.globals.stroke.colors[f];else{var ce=b.config.fill;b.config.fill=b.config.stroke.fill,re=S.fillPath({seriesNumber:f,i:m}),b.config.fill=ce}for(var ae=0;ae<y.linePaths.length;ae++){var A=re;"rangeArea"===l&&(A=S.fillPath({seriesNumber:f}));var F=te(te({},H),{},{pathFrom:y.pathFromLine,pathTo:y.linePaths[ae],stroke:re,strokeWidth:this.strokeWidth,strokeLineCap:b.config.stroke.lineCap,fill:"rangeArea"===l?A:"none"}),X=x.renderPaths(F);if(this.elSeries.add(X),X.attr("fill-rule","evenodd"),D.count>0&&"rangeArea"!==l){var Z=x.renderPaths(F);Z.node.setAttribute("stroke-dasharray",D.dashArray),D.strokeWidth&&Z.node.setAttribute("stroke-width",D.strokeWidth),this.elSeries.add(Z),Z.attr("clip-path","url(#forecastMask".concat(b.globals.cuid,")")),X.attr("clip-path","url(#nonForecastMask".concat(b.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(a){var l=a.type,f=a.series,m=a.iterations,y=a.realIndex,b=a.i,x=a.x,S=a.y,D=a.pX,M=a.pY,L=a.pathsFrom,O=a.linePaths,H=a.areaPaths,$=a.seriesIndex,j=a.lineYPosition,ee=a.xArrj,re=a.yArrj,ce=a.isRangeStart,ae=a.seriesRangeEnd,A=this.w,F=new Pe(this.ctx),X=this.yRatio,Z=L.prevY,le=L.linePath,ke=L.areaPath,Me=L.pathFromLine,at=L.pathFromArea,ct=he.isNumber(A.globals.minYArr[y])?A.globals.minYArr[y]:A.globals.minY;m||(m=A.globals.dataPoints>1?A.globals.dataPoints-1:A.globals.dataPoints);for(var Tt=S,It=0;It<m;It++){var ei=null==f[b][It+1];if(A.globals.isXNumeric){var ai=A.globals.seriesX[y][It+1];void 0===A.globals.seriesX[y][It+1]&&(ai=A.globals.seriesX[y][m-1]),x=(ai-A.globals.minX)/this.xRatio}else x+=this.xDivision;j=A.config.chart.stacked&&b>0&&A.globals.collapsedSeries.length<A.config.series.length-1?this.prevSeriesY[function(Li){for(var pi=Li,Ir=0;Ir<A.globals.series.length;Ir++)if(A.globals.collapsedSeriesIndices.indexOf(Li)>-1){pi--;break}return pi>=0?pi:0}(b-1)][It+1]:this.zeroY,ei?S=j-ct/X[this.yaxisIndex]+2*(this.isReversed?ct/X[this.yaxisIndex]:0):(S=j-f[b][It+1]/X[this.yaxisIndex]+2*(this.isReversed?f[b][It+1]/X[this.yaxisIndex]:0),"rangeArea"===l&&(Tt=j-ae[b][It+1]/X[this.yaxisIndex]+2*(this.isReversed?ae[b][It+1]/X[this.yaxisIndex]:0))),ee.push(x),re.push(S);var fi=this.lineHelpers.calculatePoints({series:f,x,y:S,realIndex:y,i:b,j:It,prevY:Z}),Si=this._createPaths({type:l,series:f,i:b,realIndex:y,j:It,x,y:S,y2:Tt,pX:D,pY:M,linePath:le,areaPath:ke,linePaths:O,areaPaths:H,seriesIndex:$,isRangeStart:ce});H=Si.areaPaths,O=Si.linePaths,D=Si.pX,M=Si.pY,ke=Si.areaPath,le=Si.linePath,this.appendPathFrom&&(Me+=F.line(x,this.zeroY),at+=F.line(x,this.zeroY)),this.handleNullDataPoints(f,fi,b,It,y),this._handleMarkersAndLabels({type:l,pointsPos:fi,i:b,j:It,realIndex:y,isRangeStart:ce})}return{yArrj:re,xArrj:ee,pathFromArea:at,areaPaths:H,pathFromLine:Me,linePaths:O,linePath:le,areaPath:ke}}},{key:"_handleMarkersAndLabels",value:function(a){var l=a.type,f=a.pointsPos,m=a.isRangeStart,y=a.i,b=a.j,x=a.realIndex,S=this.w,D=new Nn(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,b,{realIndex:x,pointsPos:f,zRatio:this.zRatio,elParent:this.elPointsMain});else{S.globals.series[y].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var M=this.markers.plotChartMarkers(f,x,b+1);null!==M&&this.elPointsMain.add(M)}var L=D.drawDataLabel({type:l,isRangeStart:m,pos:f,i:x,j:b+1});null!==L&&this.elDataLabelsWrap.add(L)}},{key:"_createPaths",value:function(a){var l=a.type,f=a.series,m=a.i,y=a.realIndex,b=a.j,x=a.x,S=a.y,D=a.y2,M=a.pX,L=a.pY,O=a.linePath,H=a.areaPath,$=a.linePaths,j=a.areaPaths,ee=a.seriesIndex,re=a.isRangeStart,ce=this.w,ae=new Pe(this.ctx),A=ce.config.stroke.curve,F=this.areaBottomY;if(Array.isArray(ce.config.stroke.curve)&&(A=Array.isArray(ee)?ce.config.stroke.curve[ee[m]]:ce.config.stroke.curve[m]),"smooth"===A){var X=.35*(x-M);ce.globals.hasNullValues?(null!==f[m][b]&&(null!==f[m][b+1]?(O=ae.move(M,L)+ae.curve(M+X,L,x-X,S,x+1,S),H=ae.move(M+1,L)+ae.curve(M+X,L,x-X,S,x+1,S)+ae.line(x,F)+ae.line(M,F)+"z"):(O=ae.move(M,L),H=ae.move(M,L)+"z")),$.push(O),j.push(H)):(O+=ae.curve(M+X,L,x-X,S,x,S),H+=ae.curve(M+X,L,x-X,S,x,S)),M=x,L=S,b===f[m].length-2&&(H=H+ae.curve(M,L,x,S,x,F)+ae.move(x,S)+"z","rangeArea"===l&&re?O=O+ae.curve(M,L,x,S,x,D)+ae.move(x,D)+"z":ce.globals.hasNullValues||($.push(O),j.push(H)))}else null===f[m][b+1]&&(O+=ae.move(x,S),H=H+ae.line(ce.globals.isXNumeric?(ce.globals.seriesX[y][b]-ce.globals.minX)/this.xRatio:x-this.xDivision,F)+ae.move(x,S)+"z"),null===f[m][b]&&(O+=ae.move(x,S),H+=ae.move(x,F)),"stepline"===A?(O=O+ae.line(x,null,"H")+ae.line(null,S,"V"),H=H+ae.line(x,null,"H")+ae.line(null,S,"V")):"straight"===A&&(O+=ae.line(x,S),H+=ae.line(x,S)),b===f[m].length-2&&(H=H+ae.line(x,F)+ae.move(x,S)+"z","rangeArea"===l&&re?O=O+ae.line(x,D)+ae.move(x,D)+"z":($.push(O),j.push(H)));return{linePaths:$,areaPaths:j,pX:M,pY:L,linePath:O,areaPath:H}}},{key:"handleNullDataPoints",value:function(a,l,f,m,y){var b=this.w;if(null===a[f][m]&&b.config.markers.showNullDataPoints||1===a[f].length){var x=this.markers.plotChartMarkers(l,y,m+1,this.strokeWidth-b.config.markers.strokeWidth/2,!0);null!==x&&this.elPointsMain.add(x)}}}]),J}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function J(x,S,D,M){this.xoffset=x,this.yoffset=S,this.height=M,this.width=D,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(L){var O,H=[],$=this.xoffset,j=this.yoffset,ee=y(L)/this.height,re=y(L)/this.width;if(this.width>=this.height)for(O=0;O<L.length;O++)H.push([$,j,$+ee,j+L[O]/ee]),j+=L[O]/ee;else for(O=0;O<L.length;O++)H.push([$,j,$+L[O]/re,j+re]),$+=L[O]/re;return H},this.cutArea=function(L){var O;if(this.width>=this.height){var H=L/this.height;O=new J(this.xoffset+H,this.yoffset,this.width-H,this.height)}else{var j=L/this.width;O=new J(this.xoffset,this.yoffset+j,this.width,this.height-j)}return O}}function a(x,S,D,M,L){return M=void 0===M?0:M,L=void 0===L?0:L,function(H){var $,j,ee=[];for($=0;$<H.length;$++)for(j=0;j<H[$].length;j++)ee.push(H[$][j]);return ee}(l(function(H,$){var j,ee=[],re=$/y(H);for(j=0;j<H.length;j++)ee[j]=H[j]*re;return ee}(x,S*D),[],new J(M,L,S,D),[]))}function l(x,S,D,M){var L,O,H,$,j,ee,re;if(0!==x.length)return L=D.shortestEdge(),j=O=x[0],ee=L,0===($=S).length||((re=$.slice()).push(j),f($,ee)>=f(re,ee))?(S.push(O),l(x.slice(1),S,D,M)):(H=D.cutArea(y(S),M),M.push(D.getCoordinates(S)),l(x,[],H,M)),M;M.push(D.getCoordinates(S))}function f(x,S){var D=Math.min.apply(Math,x),M=Math.max.apply(Math,x),L=y(x);return Math.max(Math.pow(S,2)*M/Math.pow(L,2),Math.pow(L,2)/(Math.pow(S,2)*D))}function m(x){return x&&x.constructor===Array}function y(x){var S,D=0;for(S=0;S<x.length;S++)D+=x[S];return D}function b(x){var S,D=0;if(m(x[0]))for(S=0;S<x.length;S++)D+=b(x[S]);else D=y(x);return D}return function x(S,D,M,L,O){L=void 0===L?0:L,O=void 0===O?0:O;var H,$,j=[],ee=[];if(m(S[0])){for($=0;$<S.length;$++)j[$]=b(S[$]);for(H=a(j,D,M,L,O),$=0;$<S.length;$++)ee.push(x(S[$],H[$][2]-H[$][0],H[$][3]-H[$][1],H[$][0],H[$][1]))}else ee=a(S,D,M,L,O);return ee}}();var Ue,vt,Yt=function(){function J(a,l){Se(this,J),this.ctx=a,this.w=a.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ln(a),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return be(J,[{key:"draw",value:function(a){var l=this,f=this.w,m=new Pe(this.ctx),y=new Et(this.ctx),b=m.group({class:"apexcharts-treemap"});if(f.globals.noData)return b;var x=[];return a.forEach(function(S){var D=S.map(function(M){return Math.abs(M)});x.push(D)}),this.negRange=this.helpers.checkColorRange(),f.config.series.forEach(function(S,D){S.data.forEach(function(M){Array.isArray(l.labels[D])||(l.labels[D]=[]),l.labels[D].push(M.x)})}),window.TreemapSquared.generate(x,f.globals.gridWidth,f.globals.gridHeight).forEach(function(S,D){var M=m.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:he.escapeString(f.globals.seriesNames[D]),rel:D+1,"data:realIndex":D});if(f.config.chart.dropShadow.enabled){var L=f.config.chart.dropShadow;new kt(l.ctx).dropShadow(b,L,D)}var O=m.group({class:"apexcharts-data-labels"});S.forEach(function(H,$){var j=H[0],ee=H[1],re=H[2],ce=H[3],ae=m.drawRect(j,ee,re-j,ce-ee,0,"#fff",1,l.strokeWidth,f.config.plotOptions.treemap.useFillColorAsStroke?F:f.globals.stroke.colors[D]);ae.attr({cx:j,cy:ee,index:D,i:D,j:$,width:re-j,height:ce-ee});var A=l.helpers.getShadeColor(f.config.chart.type,D,$,l.negRange),F=A.color;void 0!==f.config.series[D].data[$]&&f.config.series[D].data[$].fillColor&&(F=f.config.series[D].data[$].fillColor);var X=y.fillPath({color:F,seriesNumber:D,dataPointIndex:$});ae.node.classList.add("apexcharts-treemap-rect"),ae.attr({fill:X}),l.helpers.addListeners(ae);var Z={x:j+(re-j)/2,y:ee+(ce-ee)/2,width:0,height:0},le={x:j,y:ee,width:re-j,height:ce-ee};if(f.config.chart.animations.enabled&&!f.globals.dataChanged){var ke=1;f.globals.resized||(ke=f.config.chart.animations.speed),l.animateTreemap(ae,Z,le,ke)}f.globals.dataChanged&&l.dynamicAnim.enabled&&f.globals.shouldAnimate&&(f.globals.previousPaths[D]&&f.globals.previousPaths[D][$]&&f.globals.previousPaths[D][$].rect&&(Z=f.globals.previousPaths[D][$].rect),l.animateTreemap(ae,Z,le,l.dynamicAnim.speed));var at=l.getFontSize(H),ct=f.config.dataLabels.formatter(l.labels[D][$],{value:f.globals.series[D][$],seriesIndex:D,dataPointIndex:$,w:f}),Tt=l.helpers.calculateDataLabels({text:ct,x:(j+re)/2,y:(ee+ce)/2+l.strokeWidth/2+at/3,i:D,j:$,colorProps:A,fontSize:at,series:a});f.config.dataLabels.enabled&&Tt&&l.rotateToFitLabel(Tt,at,ct,j,ee,re,ce),M.add(ae),null!==Tt&&M.add(Tt)}),M.add(O),b.add(M)}),b}},{key:"getFontSize",value:function(a){var b,l=this.w,x=function S(D){var M,L=0;if(Array.isArray(D[0]))for(M=0;M<D.length;M++)L+=S(D[M]);else for(M=0;M<D.length;M++)L+=D[M].length;return L}(this.labels)/function S(D){var M,L=0;if(Array.isArray(D[0]))for(M=0;M<D.length;M++)L+=S(D[M]);else for(M=0;M<D.length;M++)L+=1;return L}(this.labels);return b=Math.pow((a[2]-a[0])*(a[3]-a[1]),.5),Math.min(b/x,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(a,l,f,m,y,b,x){var S=new Pe(this.ctx),D=S.getTextRects(f,l);if(D.width+this.w.config.stroke.width+5>b-m&&D.width<=x-y){var M=S.rotateAroundCenter(a.node);a.node.setAttribute("transform","rotate(-90 ".concat(M.x," ").concat(M.y,")"))}}},{key:"animateTreemap",value:function(a,l,f,m){var y=new Bt(this.ctx);y.animateRect(a,{x:l.x,y:l.y,width:l.width,height:l.height},{x:f.x,y:f.y,width:f.width,height:f.height},m,function(){y.animationCompleted(a)})}}]),J}(),Xt=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return be(J,[{key:"calculateTimeScaleTicks",value:function(a,l){var f=this,m=this.w;if(m.globals.allSeriesCollapsed)return m.globals.labels=[],m.globals.timescaleLabels=[],[];var y=new Ye(this.ctx),b=(l-a)/864e5;this.determineInterval(b),m.globals.disableZoomIn=!1,m.globals.disableZoomOut=!1,b<.00011574074074074075?m.globals.disableZoomIn=!0:b>5e4&&(m.globals.disableZoomOut=!0);var x=y.getTimeUnitsfromTimestamp(a,l,this.utc),S=m.globals.gridWidth/b,D=S/24,M=D/60,L=M/60,O=Math.floor(24*b),H=Math.floor(1440*b),$=Math.floor(86400*b),j=Math.floor(b),ee=Math.floor(b/30),re=Math.floor(b/365),ce={minMillisecond:x.minMillisecond,minSecond:x.minSecond,minMinute:x.minMinute,minHour:x.minHour,minDate:x.minDate,minMonth:x.minMonth,minYear:x.minYear},ae={firstVal:ce,currentMillisecond:ce.minMillisecond,currentSecond:ce.minSecond,currentMinute:ce.minMinute,currentHour:ce.minHour,currentMonthDate:ce.minDate,currentDate:ce.minDate,currentMonth:ce.minMonth,currentYear:ce.minYear,daysWidthOnXAxis:S,hoursWidthOnXAxis:D,minutesWidthOnXAxis:M,secondsWidthOnXAxis:L,numberOfSeconds:$,numberOfMinutes:H,numberOfHours:O,numberOfDays:j,numberOfMonths:ee,numberOfYears:re};switch(this.tickInterval){case"years":this.generateYearScale(ae);break;case"months":case"half_year":this.generateMonthScale(ae);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(ae);break;case"hours":this.generateHourScale(ae);break;case"minutes_fives":case"minutes":this.generateMinuteScale(ae);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(ae)}var A=this.timeScaleArray.map(function(F){var X={position:F.position,unit:F.unit,year:F.year,day:F.day?F.day:1,hour:F.hour?F.hour:0,month:F.month+1};return"month"===F.unit?te(te({},X),{},{day:1,value:F.value+1}):"day"===F.unit||"hour"===F.unit?te(te({},X),{},{value:F.value}):"minute"===F.unit?te(te({},X),{},{value:F.value,minute:F.value}):"second"===F.unit?te(te({},X),{},{value:F.value,minute:F.minute,second:F.second}):F});return A.filter(function(F){var X=1,Z=Math.ceil(m.globals.gridWidth/120),le=F.value;void 0!==m.config.xaxis.tickAmount&&(Z=m.config.xaxis.tickAmount),A.length>Z&&(X=Math.floor(A.length/Z));var ke=!1,Me=!1;switch(f.tickInterval){case"years":"year"===F.unit&&(ke=!0);break;case"half_year":X=7,"year"===F.unit&&(ke=!0);break;case"months":X=1,"year"===F.unit&&(ke=!0);break;case"months_fortnight":X=15,"year"!==F.unit&&"month"!==F.unit||(ke=!0),30===le&&(Me=!0);break;case"months_days":X=10,"month"===F.unit&&(ke=!0),30===le&&(Me=!0);break;case"week_days":X=8,"month"===F.unit&&(ke=!0);break;case"days":X=1,"month"===F.unit&&(ke=!0);break;case"hours":"day"===F.unit&&(ke=!0);break;case"minutes_fives":case"seconds_fives":le%5!=0&&(Me=!0);break;case"seconds_tens":le%10!=0&&(Me=!0)}if("hours"===f.tickInterval||"minutes_fives"===f.tickInterval||"seconds_tens"===f.tickInterval||"seconds_fives"===f.tickInterval){if(!Me)return!0}else if((le%X==0||ke)&&!Me)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(a,l){var f=this.w,m=this.formatDates(a),y=this.removeOverlappingTS(m);f.globals.timescaleLabels=y.slice(),new ii(this.ctx).plotCoords()}},{key:"determineInterval",value:function(a){var l=24*a,f=60*l;switch(!0){case a/365>5:this.tickInterval="years";break;case a>800:this.tickInterval="half_year";break;case a>180:this.tickInterval="months";break;case a>90:this.tickInterval="months_fortnight";break;case a>60:this.tickInterval="months_days";break;case a>30:this.tickInterval="week_days";break;case a>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case f>15:this.tickInterval="minutes_fives";break;case f>5:this.tickInterval="minutes";break;case f>1:this.tickInterval="seconds_tens";break;case 60*f>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(a){var l=a.firstVal,f=a.currentMonth,m=a.currentYear,y=a.daysWidthOnXAxis,b=a.numberOfYears,x=l.minYear,S=0,D=new Ye(this.ctx),M="year";if(l.minDate>1||l.minMonth>0){var L=D.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);S=(D.determineDaysOfYear(l.minYear)-L+1)*y,this.timeScaleArray.push({position:S,value:x=l.minYear+1,unit:M,year:x,month:he.monthMod(f+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:S,value:x,unit:M,year:m,month:he.monthMod(f+1)});for(var O=x,H=S,$=0;$<b;$++)O++,H=D.determineDaysOfYear(O-1)*y+H,this.timeScaleArray.push({position:H,value:O,unit:M,year:O,month:1})}},{key:"generateMonthScale",value:function(a){var l=a.firstVal,f=a.currentMonthDate,m=a.currentMonth,y=a.currentYear,b=a.daysWidthOnXAxis,x=a.numberOfMonths,S=m,D=0,M=new Ye(this.ctx),L="month",O=0;if(l.minDate>1){D=(M.determineDaysOfMonths(m+1,l.minYear)-f+1)*b,S=he.monthMod(m+1);var H=y+O,$=he.monthMod(S),j=S;0===S&&(L="year",j=H,$=1,H+=O+=1),this.timeScaleArray.push({position:D,value:j,unit:L,year:H,month:$})}else this.timeScaleArray.push({position:D,value:S,unit:L,year:y,month:he.monthMod(m)});for(var ee=S+1,re=D,ce=0,ae=1;ce<x;ce++,ae++){0===(ee=he.monthMod(ee))?(L="year",O+=1):L="month";var A=this._getYear(y,ee,O);re=M.determineDaysOfMonths(ee,A)*b+re,this.timeScaleArray.push({position:re,value:0===ee?A:ee,unit:L,year:A,month:0===ee?1:ee}),ee++}}},{key:"generateDayScale",value:function(a){var l=a.firstVal,f=a.currentMonth,m=a.currentYear,y=a.hoursWidthOnXAxis,b=a.numberOfDays,x=new Ye(this.ctx),S="day",D=l.minDate+1,M=D,L=function(ae,A,F){return ae>x.determineDaysOfMonths(A+1,F)&&(M=1,S="month",H=A+=1),A},O=(24-l.minHour)*y,H=D,$=L(M,f,m);0===l.minHour&&1===l.minDate?(O=0,H=he.monthMod(l.minMonth),S="month",M=l.minDate,b++):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(O=0,H=D=l.minDate,$=L(M=D,f,m)),this.timeScaleArray.push({position:O,value:H,unit:S,year:this._getYear(m,$,0),month:he.monthMod($),day:M});for(var j=O,ee=0;ee<b;ee++){S="day",$=L(M+=1,$,this._getYear(m,$,0));var re=this._getYear(m,$,0);j=24*y+j;var ce=1===M?he.monthMod($):M;this.timeScaleArray.push({position:j,value:ce,unit:S,year:re,month:he.monthMod($),day:ce})}}},{key:"generateHourScale",value:function(a){var l=a.firstVal,f=a.currentDate,m=a.currentMonth,y=a.currentYear,b=a.minutesWidthOnXAxis,x=a.numberOfHours,S=new Ye(this.ctx),D="hour",L=function(X,Z){return X>S.determineDaysOfMonths(Z+1,y)?Z+=1:Z},O=60-(l.minMinute+l.minSecond/60),H=O*b,$=l.minHour+1,j=$+1;60===O&&(H=0,j=($=l.minHour)+1);var X,Z,ee=f,re=L(ee,m);this.timeScaleArray.push({position:H,value:$,unit:D,day:ee,hour:j,year:y,month:he.monthMod(re)});for(var ce=H,ae=0;ae<x;ae++){D="hour",j>=24&&(j=0,D="day",re=(X=ee+=1,Z=re,X>S.determineDaysOfMonths(Z+1,y)&&(ee=1,Z+=1),{month:Z,date:ee}).month,re=L(ee,re));var A=this._getYear(y,re,0);this.timeScaleArray.push({position:ce=0===j&&0===ae?O*b:60*b+ce,value:0===j?ee:j,unit:D,hour:j,day:ee,year:A,month:he.monthMod(re)}),j++}}},{key:"generateMinuteScale",value:function(a){for(var D=a.minutesWidthOnXAxis,L=a.numberOfMinutes,O=a.currentMinute+1,H=a.currentDate,$=a.currentMonth,j=a.currentYear,ee=a.currentHour,re=(60-a.currentSecond-a.currentMillisecond/1e3)*a.secondsWidthOnXAxis,ce=0;ce<L;ce++)O>=60&&(O=0,24===(ee+=1)&&(ee=0)),this.timeScaleArray.push({position:re,value:O,unit:"minute",hour:ee,minute:O,day:H,year:this._getYear(j,$,0),month:he.monthMod($)}),re+=D,O++}},{key:"generateSecondScale",value:function(a){for(var D=a.secondsWidthOnXAxis,M=a.numberOfSeconds,L=a.currentSecond+1,O=a.currentMinute,H=a.currentDate,$=a.currentMonth,j=a.currentYear,ee=a.currentHour,re=(1e3-a.currentMillisecond)/1e3*D,ce=0;ce<M;ce++)L>=60&&(L=0,++O>=60&&(O=0,24==++ee&&(ee=0))),this.timeScaleArray.push({position:re,value:L,unit:"second",hour:ee,minute:O,second:L,day:H,year:this._getYear(j,$,0),month:he.monthMod($)}),re+=D,L++}},{key:"createRawDateString",value:function(a,l){var f=a.year;return 0===a.month&&(a.month=1),f+="-"+("0"+a.month.toString()).slice(-2),f+="day"===a.unit?"day"===a.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(a.day?a.day:"1")).slice(-2),f+="hour"===a.unit?"hour"===a.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(a.hour?a.hour:"0")).slice(-2),f+="minute"===a.unit?":"+("0"+l).slice(-2):":"+(a.minute?("0"+a.minute).slice(-2):"00"),f+="second"===a.unit?":"+("0"+l).slice(-2):":00",this.utc&&(f+=".000Z"),f}},{key:"formatDates",value:function(a){var l=this,f=this.w;return a.map(function(m){var y=m.value.toString(),b=new Ye(l.ctx),x=l.createRawDateString(m,y),S=b.getDate(b.parseDate(x));if(l.utc||(S=b.getDate(b.parseDateWithTimezone(x))),void 0===f.config.xaxis.labels.format){var D="dd MMM",M=f.config.xaxis.labels.datetimeFormatter;"year"===m.unit&&(D=M.year),"month"===m.unit&&(D=M.month),"day"===m.unit&&(D=M.day),"hour"===m.unit&&(D=M.hour),"minute"===m.unit&&(D=M.minute),"second"===m.unit&&(D=M.second),y=b.formatDate(S,D)}else y=b.formatDate(S,f.config.xaxis.labels.format);return{dateString:x,position:m.position,value:y,unit:m.unit,year:m.year,month:m.month}})}},{key:"removeOverlappingTS",value:function(a){var l,f=this,m=new Pe(this.ctx),y=!1;a.length>0&&a[0].value&&a.every(function(S){return S.value.length===a[0].value.length})&&(y=!0,l=m.getTextRects(a[0].value).width);var b=0;return a.map(function(S,D){if(D>0&&f.w.config.xaxis.labels.hideOverlappingLabels){var M=y?l:m.getTextRects(a[b].value).width;return S.position>a[b].position+M+10?(b=D,S):null}return S}).filter(function(S){return null!==S})}},{key:"_getYear",value:function(a,l,f){return a+Math.floor(l/12)+f}}]),J}(),dt=function(){function J(a,l){Se(this,J),this.ctx=l,this.w=l.w,this.el=a}return be(J,[{key:"setupElements",value:function(){var a=this.w.globals,l=this.w.config,f=l.chart.type;a.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(f)>-1,a.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(f)>-1,a.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,a.chartClass=".apexcharts"+a.chartID,a.dom.baseEl=this.el,a.dom.elWrap=document.createElement("div"),Pe.setAttrs(a.dom.elWrap,{id:a.chartClass.substring(1),class:"apexcharts-canvas "+a.chartClass.substring(1)}),this.el.appendChild(a.dom.elWrap),a.dom.Paper=new window.SVG.Doc(a.dom.elWrap),a.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),a.dom.Paper.node.style.background=l.chart.background,this.setSVGDimensions(),a.dom.elGraphical=a.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),a.dom.elAnnotations=a.dom.Paper.group().attr({class:"apexcharts-annotations"}),a.dom.elDefs=a.dom.Paper.defs(),a.dom.elLegendWrap=document.createElement("div"),a.dom.elLegendWrap.classList.add("apexcharts-legend"),a.dom.elWrap.appendChild(a.dom.elLegendWrap),a.dom.Paper.add(a.dom.elGraphical),a.dom.elGraphical.add(a.dom.elDefs)}},{key:"plotChartType",value:function(a,l){var f=this.w,m=f.config,y=f.globals,b={series:[],i:[]},x={series:[],i:[]},S={series:[],i:[]},D={series:[],i:[]},M={series:[],i:[]},L={series:[],i:[]},O={series:[],i:[]},H={series:[],i:[]},$={series:[],seriesRangeEnd:[],i:[]};y.series.map(function(Z,le){var ke=0;void 0!==a[le].type?("column"===a[le].type||"bar"===a[le].type?(y.series.length>1&&m.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),M.series.push(Z),M.i.push(le),ke++,f.globals.columnSeries=M.series):"area"===a[le].type?(x.series.push(Z),x.i.push(le),ke++):"line"===a[le].type?(b.series.push(Z),b.i.push(le),ke++):"scatter"===a[le].type?(S.series.push(Z),S.i.push(le)):"bubble"===a[le].type?(D.series.push(Z),D.i.push(le),ke++):"candlestick"===a[le].type?(L.series.push(Z),L.i.push(le),ke++):"boxPlot"===a[le].type?(O.series.push(Z),O.i.push(le),ke++):"rangeBar"===a[le].type?(H.series.push(Z),H.i.push(le),ke++):"rangeArea"===a[le].type?($.series.push(y.seriesRangeStart[le]),$.seriesRangeEnd.push(y.seriesRangeEnd[le]),$.i.push(le),ke++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),ke>1&&(y.comboCharts=!0)):(b.series.push(Z),b.i.push(le))});var j=new ge(this.ctx,l),ee=new Ut(this.ctx,l);this.ctx.pie=new Ae(this.ctx);var re=new Oe(this.ctx);this.ctx.rangeBar=new _e(this.ctx,l);var ce=new we(this.ctx),ae=[];if(y.comboCharts){if(x.series.length>0&&ae.push(j.draw(x.series,"area",x.i)),M.series.length>0)if(f.config.chart.stacked){var A=new ut(this.ctx,l);ae.push(A.draw(M.series,M.i))}else this.ctx.bar=new Vt(this.ctx,l),ae.push(this.ctx.bar.draw(M.series,M.i));if($.series.length>0&&ae.push(j.draw($.series,"rangeArea",$.i,$.seriesRangeEnd)),b.series.length>0&&ae.push(j.draw(b.series,"line",b.i)),L.series.length>0&&ae.push(ee.draw(L.series,L.i)),O.series.length>0&&ae.push(ee.draw(O.series,O.i)),H.series.length>0&&ae.push(this.ctx.rangeBar.draw(H.series,H.i)),S.series.length>0){var F=new ge(this.ctx,l,!0);ae.push(F.draw(S.series,"scatter",S.i))}if(D.series.length>0){var X=new ge(this.ctx,l,!0);ae.push(X.draw(D.series,"bubble",D.i))}}else switch(m.chart.type){case"line":ae=j.draw(y.series,"line");break;case"area":ae=j.draw(y.series,"area");break;case"bar":m.chart.stacked?ae=new ut(this.ctx,l).draw(y.series):(this.ctx.bar=new Vt(this.ctx,l),ae=this.ctx.bar.draw(y.series));break;case"candlestick":case"boxPlot":ae=new Ut(this.ctx,l).draw(y.series);break;case"rangeBar":ae=this.ctx.rangeBar.draw(y.series);break;case"rangeArea":ae=j.draw(y.seriesRangeStart,"rangeArea",void 0,y.seriesRangeEnd);break;case"heatmap":ae=new dn(this.ctx,l).draw(y.series);break;case"treemap":ae=new Yt(this.ctx,l).draw(y.series);break;case"pie":case"donut":case"polarArea":ae=this.ctx.pie.draw(y.series);break;case"radialBar":ae=re.draw(y.series);break;case"radar":ae=ce.draw(y.series);break;default:ae=j.draw(y.series)}return ae}},{key:"setSVGDimensions",value:function(){var a=this.w.globals,l=this.w.config;a.svgWidth=l.chart.width,a.svgHeight=l.chart.height;var f=he.getDimensions(this.el),m=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===m?he.isNumber(f[0])&&(0===f[0].width&&(f=he.getDimensions(this.el.parentNode)),a.svgWidth=f[0]*parseInt(l.chart.width,10)/100):"px"!==m&&""!==m||(a.svgWidth=parseInt(l.chart.width,10));var y=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==a.svgHeight&&""!==a.svgHeight)if("%"===y){var b=he.getDimensions(this.el.parentNode);a.svgHeight=b[1]*parseInt(l.chart.height,10)/100}else a.svgHeight=parseInt(l.chart.height,10);else a.svgHeight=a.axisCharts?a.svgWidth/1.61:a.svgWidth/1.2;a.svgWidth<0&&(a.svgWidth=0),a.svgHeight<0&&(a.svgHeight=0),Pe.setAttrs(a.dom.Paper.node,{width:a.svgWidth,height:a.svgHeight}),"%"!==y&&(a.dom.Paper.node.parentNode.parentNode.style.minHeight=a.svgHeight+(l.chart.sparkline.enabled?0:a.axisCharts?l.chart.parentHeightOffset:0)+"px"),a.dom.elWrap.style.width=a.svgWidth+"px",a.dom.elWrap.style.height=a.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var a=this.w.globals;Pe.setAttrs(a.dom.elGraphical.node,{transform:"translate("+a.translateX+", "+a.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var a=this.w,l=a.globals,f=0,m=a.config.chart.sparkline.enabled?1:15;m+=a.config.grid.padding.bottom,"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||!a.config.legend.show||a.config.legend.floating||(f=new tn(this.ctx).legendHelpers.getLegendBBox().clwh+10);var y=a.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),b=2.05*a.globals.radialSize;if(y&&!a.config.chart.sparkline.enabled&&0!==a.config.plotOptions.radialBar.startAngle){var x=he.getBoundingClientRect(y);b=x.bottom,b=Math.max(2.05*a.globals.radialSize,x.bottom-x.top)}var D=b+l.translateY+f+m;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",D),a.config.chart.height&&String(a.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=D+"px",Pe.setAttrs(l.dom.Paper.node,{height:D}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=D+"px")}},{key:"coreCalculations",value:function(){new sr(this.ctx).init()}},{key:"resetGlobals",value:function(){var a=this,l=function(){return a.w.config.series.map(function(y){return[]})},f=new Kn,m=this.w.globals;f.initGlobalVars(m),m.seriesXvalues=l(),m.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var a=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new Ht(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new Ht(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new Xt(this.ctx);var f=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?f=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(f=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(f)}a=new it(this.ctx).getCalculatedRatios()}return a}},{key:"updateSourceChart",value:function(a){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:a.w.globals.minX,max:a.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var a=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var f=l.config.chart.brush.targets||[l.config.chart.brush.target];f.forEach(function(m){var y=ApexCharts.getChartByID(m);y.w.globals.brushSource=a.ctx,"function"!=typeof y.w.config.chart.events.zoomed&&(y.w.config.chart.events.zoomed=function(){a.updateSourceChart(y)}),"function"!=typeof y.w.config.chart.events.scrolled&&(y.w.config.chart.events.scrolled=function(){a.updateSourceChart(y)})}),l.config.chart.events.selection=function(m,y){f.forEach(function(b){var x=ApexCharts.getChartByID(b),S=he.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===x.w.globals.series.length){var D=new Es(x);S=D.autoScaleY(x,S,y)}var M=x.w.config.yaxis.reduce(function(L,O,H){return[].concat(et(L),[te(te({},x.w.config.yaxis[H]),{},{min:S[0].min,max:S[0].max})])},[]);x.ctx.updateHelpers._updateOptions({xaxis:{min:y.xaxis.min,max:y.xaxis.max},yaxis:M},!1,!1,!1,!1)})}}}}]),J}(),wt=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"_updateOptions",value:function(a){var l=this,f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],b=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(x){var S=[l.ctx];y&&(S=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(S=[l.ctx],l.ctx.w.globals.isExecCalled=!1),S.forEach(function(D,M){var L=D.w;if(L.globals.shouldAnimate=m,f||(L.globals.resized=!0,L.globals.dataChanged=!0,m&&D.series.getPreviousPaths()),a&&"object"===Ne(a)&&(D.config=new Kt(a),a=it.extendArrayProps(D.config,a,L),D.w.globals.chartID!==l.ctx.w.globals.chartID&&delete a.series,L.config=he.extend(L.config,a),b&&(L.globals.lastXAxis=a.xaxis?he.clone(a.xaxis):[],L.globals.lastYAxis=a.yaxis?he.clone(a.yaxis):[],L.globals.initialConfig=he.extend({},L.config),L.globals.initialSeries=he.clone(L.config.series),a.series))){for(var O=0;O<L.globals.collapsedSeriesIndices.length;O++){var H=L.config.series[L.globals.collapsedSeriesIndices[O]];L.globals.collapsedSeries[O].data=L.globals.axisCharts?H.data.slice():H}for(var $=0;$<L.globals.ancillaryCollapsedSeriesIndices.length;$++){var j=L.config.series[L.globals.ancillaryCollapsedSeriesIndices[$]];L.globals.ancillaryCollapsedSeries[$].data=L.globals.axisCharts?j.data.slice():j}D.series.emptyCollapsedSeries(L.config.series)}return D.update(a).then(function(){M===S.length-1&&x(D)})})})}},{key:"_updateSeries",value:function(a,l){var f=this,m=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(y){var b,x=f.w;return x.globals.shouldAnimate=l,x.globals.dataChanged=!0,l&&f.ctx.series.getPreviousPaths(),x.globals.axisCharts?(0===(b=a.map(function(S,D){return f._extendSeries(S,D)})).length&&(b=[{data:[]}]),x.config.series=b):x.config.series=a.slice(),m&&(x.globals.initialConfig.series=he.clone(x.config.series),x.globals.initialSeries=he.clone(x.config.series)),f.ctx.update().then(function(){y(f.ctx)})})}},{key:"_extendSeries",value:function(a,l){var f=this.w,m=f.config.series[l];return te(te({},f.config.series[l]),{},{name:a.name?a.name:m&&m.name,color:a.color?a.color:m&&m.color,type:a.type?a.type:m&&m.type,data:a.data?a.data:m&&m.data})}},{key:"toggleDataPointSelection",value:function(a,l){var f=this.w,m=null,y=".apexcharts-series[data\\:realIndex='".concat(a,"']");return f.globals.axisCharts?m=f.globals.dom.Paper.select("".concat(y," path[j='").concat(l,"'], ").concat(y," circle[j='").concat(l,"'], ").concat(y," rect[j='").concat(l,"']")).members[0]:void 0===l&&(m=f.globals.dom.Paper.select("".concat(y," path[j='").concat(a,"']")).members[0],"pie"!==f.config.chart.type&&"polarArea"!==f.config.chart.type&&"donut"!==f.config.chart.type||this.ctx.pie.pieClicked(a)),m?(new Pe(this.ctx).pathMouseDown(m,null),m.node?m.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(a){var l=this.w;if(["min","max"].forEach(function(m){void 0!==a.xaxis[m]&&(l.config.xaxis[m]=a.xaxis[m],l.globals.lastXAxis[m]=a.xaxis[m])}),a.xaxis.categories&&a.xaxis.categories.length&&(l.config.xaxis.categories=a.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var f=new _t(a);a=f.convertCatToNumericXaxis(a,this.ctx)}return a}},{key:"forceYAxisUpdate",value:function(a){return a.chart&&a.chart.stacked&&"100%"===a.chart.stackType&&(Array.isArray(a.yaxis)?a.yaxis.forEach(function(l,f){a.yaxis[f].min=0,a.yaxis[f].max=100}):(a.yaxis.min=0,a.yaxis.max=100)),a}},{key:"revertDefaultAxisMinMax",value:function(a){var l=this,f=this.w,m=f.globals.lastXAxis,y=f.globals.lastYAxis;a&&a.xaxis&&(m=a.xaxis),a&&a.yaxis&&(y=a.yaxis),f.config.xaxis.min=m.min,f.config.xaxis.max=m.max,f.config.yaxis.map(function(x,S){f.globals.zoomed||void 0!==y[S]?function(x){void 0!==y[x]&&(f.config.yaxis[x].min=y[x].min,f.config.yaxis[x].max=y[x].max)}(S):void 0!==l.ctx.opts.yaxis[S]&&(x.min=l.ctx.opts.yaxis[S].min,x.max=l.ctx.opts.yaxis[S].max)})}}]),J}();Ue=typeof window<"u"?window:void 0,vt=function(J,a){var l=(void 0!==this?this:J).SVG=function(A){if(l.supported)return A=new l.Doc(A),l.parser.draw||l.prepare(),A};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(A){return"Svgjs"+M(A)+l.did++},l.create=function(A){var F=a.createElementNS(this.ns,A);return F.setAttribute("id",this.eid(A)),F},l.extend=function(){var A,F;F=(A=[].slice.call(arguments)).pop();for(var X=A.length-1;X>=0;X--)if(A[X])for(var Z in F)A[X].prototype[Z]=F[Z];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(A){var F="function"==typeof A.create?A.create:function(){this.constructor.call(this,l.create(A.create))};return A.inherit&&(F.prototype=new A.inherit),A.extend&&l.extend(F,A.extend),A.construct&&l.extend(A.parent||l.Container,A.construct),F},l.adopt=function(A){return A?A.instance?A.instance:((F="svg"==A.nodeName?A.parentNode instanceof J.SVGElement?new l.Nested:new l.Doc:"linearGradient"==A.nodeName?new l.Gradient("linear"):"radialGradient"==A.nodeName?new l.Gradient("radial"):l[M(A.nodeName)]?new(l[M(A.nodeName)]):new l.Element(A)).type=A.nodeName,F.node=A,A.instance=F,F instanceof l.Doc&&F.namespace().defs(),F.setData(JSON.parse(A.getAttribute("svgjs:data"))||{}),F):null;var F},l.prepare=function(){var A=a.getElementsByTagName("body")[0],F=(A?new l.Doc(A):l.adopt(a.documentElement).nested()).size(2,0);l.parser={body:A||a.documentElement,draw:F.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:F.polyline().node,path:F.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},a.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(A,F){for(var X=A.length,Z=[],le=0;le<X;le++)Z.push(F(A[le]));return Z},filter:function(A,F){for(var X=A.length,Z=[],le=0;le<X;le++)F(A[le])&&Z.push(A[le]);return Z},filterSVGElements:function(A){return this.filter(A,function(F){return F instanceof J.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(A){var F,X;this.r=0,this.g=0,this.b=0,A&&("string"==typeof A?l.regex.isRgb.test(A)?(F=l.regex.rgb.exec(A.replace(l.regex.whitespace,"")),this.r=parseInt(F[1]),this.g=parseInt(F[2]),this.b=parseInt(F[3])):l.regex.isHex.test(A)&&(F=l.regex.hex.exec(4==(X=A).length?["#",X.substring(1,2),X.substring(1,2),X.substring(2,3),X.substring(2,3),X.substring(3,4),X.substring(3,4)].join(""):X),this.r=parseInt(F[1],16),this.g=parseInt(F[2],16),this.b=parseInt(F[3],16)):"object"===Ne(A)&&(this.r=A.r,this.g=A.g,this.b=A.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+L(this.r)+L(this.g)+L(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(A){return this.destination=new l.Color(A),this},at:function(A){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(A=A<0?0:A>1?1:A)),g:~~(this.g+(this.destination.g-this.g)*A),b:~~(this.b+(this.destination.b-this.b)*A)}):this}}),l.Color.test=function(A){return l.regex.isHex.test(A+="")||l.regex.isRgb.test(A)},l.Color.isRgb=function(A){return A&&"number"==typeof A.r&&"number"==typeof A.g&&"number"==typeof A.b},l.Color.isColor=function(A){return l.Color.isRgb(A)||l.Color.test(A)},l.Array=function(A,F){0==(A=(A||[]).valueOf()).length&&F&&(A=F.valueOf()),this.value=this.parse(A)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(A){return A=A.valueOf(),Array.isArray(A)?A:this.split(A)}}),l.PointArray=function(A,F){l.Array.call(this,A,F||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var f={M:function(A,F,X){return F.x=X.x=A[0],F.y=X.y=A[1],["M",F.x,F.y]},L:function(A,F){return F.x=A[0],F.y=A[1],["L",A[0],A[1]]},H:function(A,F){return F.x=A[0],["H",A[0]]},V:function(A,F){return F.y=A[0],["V",A[0]]},C:function(A,F){return F.x=A[4],F.y=A[5],["C",A[0],A[1],A[2],A[3],A[4],A[5]]},Q:function(A,F){return F.x=A[2],F.y=A[3],["Q",A[0],A[1],A[2],A[3]]},Z:function(A,F,X){return F.x=X.x,F.y=X.y,["Z"]}},m="mlhvqtcsaz".split(""),y=0,b=m.length;y<b;++y)f[m[y]]=function(A){return function(F,X,Z){if("H"==A)F[0]=F[0]+X.x;else if("V"==A)F[0]=F[0]+X.y;else if("A"==A)F[5]=F[5]+X.x,F[6]=F[6]+X.y;else for(var le=0,ke=F.length;le<ke;++le)F[le]=F[le]+(le%2?X.y:X.x);if(f&&"function"==typeof f[A])return f[A](F,X,Z)}}(m[y].toUpperCase());l.PathArray=function(A,F){l.Array.call(this,A,F||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(A){for(var F=0,X=A.length,Z="";F<X;F++)Z+=A[F][0],null!=A[F][1]&&(Z+=A[F][1],null!=A[F][2]&&(Z+=" ",Z+=A[F][2],null!=A[F][3]&&(Z+=" ",Z+=A[F][3],Z+=" ",Z+=A[F][4],null!=A[F][5]&&(Z+=" ",Z+=A[F][5],Z+=" ",Z+=A[F][6],null!=A[F][7]&&(Z+=" ",Z+=A[F][7])))));return Z+" "}(this.value)},move:function(A,F){return this.bbox(),this},at:function(A){if(!this.destination)return this;for(var F=this.value,X=this.destination.value,Z=[],le=new l.PathArray,ke=0,Me=F.length;ke<Me;ke++){Z[ke]=[F[ke][0]];for(var at=1,ct=F[ke].length;at<ct;at++)Z[ke][at]=F[ke][at]+(X[ke][at]-F[ke][at])*A;"A"===Z[ke][0]&&(Z[ke][4]=+(0!=Z[ke][4]),Z[ke][5]=+(0!=Z[ke][5]))}return le.value=Z,le},parse:function(A){if(A instanceof l.PathArray)return A.valueOf();var F,X={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};A="string"==typeof A?A.replace(l.regex.numbersWithDots,S).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):A.reduce(function(ct,Tt){return[].concat.call(ct,Tt)},[]);var Z=[],le=new l.Point,ke=new l.Point,Me=0,at=A.length;do{l.regex.isPathLetter.test(A[Me])?(F=A[Me],++Me):"M"==F?F="L":"m"==F&&(F="l"),Z.push(f[F].call(null,A.slice(Me,Me+=X[F.toUpperCase()]).map(parseFloat),le,ke))}while(at>Me);return Z},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(A,F){this.value=0,this.unit=F||"","number"==typeof A?this.value=isNaN(A)?0:isFinite(A)?A:A<0?-34e37:34e37:"string"==typeof A?(F=A.match(l.regex.numberAndUnit))&&(this.value=parseFloat(F[1]),"%"==F[5]?this.value/=100:"s"==F[5]&&(this.value*=1e3),this.unit=F[5]):A instanceof l.Number&&(this.value=A.valueOf(),this.unit=A.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(A){return A=new l.Number(A),new l.Number(this+A,this.unit||A.unit)},minus:function(A){return A=new l.Number(A),new l.Number(this-A,this.unit||A.unit)},times:function(A){return A=new l.Number(A),new l.Number(this*A,this.unit||A.unit)},divide:function(A){return A=new l.Number(A),new l.Number(this/A,this.unit||A.unit)},to:function(A){var F=new l.Number(this);return"string"==typeof A&&(F.unit=A),F},morph:function(A){return this.destination=new l.Number(A),A.relative&&(this.destination.value+=this.value),this},at:function(A){return this.destination?new l.Number(this.destination).minus(this).times(A).plus(this):this}}}),l.Element=l.invent({create:function(A){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=A)&&(this.type=A.nodeName,this.node.instance=this,this._stroke=A.getAttribute("stroke")||this._stroke)},extend:{x:function(A){return this.attr("x",A)},y:function(A){return this.attr("y",A)},cx:function(A){return null==A?this.x()+this.width()/2:this.x(A-this.width()/2)},cy:function(A){return null==A?this.y()+this.height()/2:this.y(A-this.height()/2)},move:function(A,F){return this.x(A).y(F)},center:function(A,F){return this.cx(A).cy(F)},width:function(A){return this.attr("width",A)},height:function(A){return this.attr("height",A)},size:function(A,F){var X=O(this,A,F);return this.width(new l.Number(X.width)).height(new l.Number(X.height))},clone:function(A){this.writeDataToDom();var F=j(this.node.cloneNode(!0));return A?A.add(F):this.after(F),F},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(A){return this.after(A).remove(),A},addTo:function(A){return A.put(this)},putIn:function(A){return A.add(this)},id:function(A){return this.attr("id",A)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var A=this.attr("class");return null==A?[]:A.trim().split(l.regex.delimiter)},hasClass:function(A){return-1!=this.classes().indexOf(A)},addClass:function(A){if(!this.hasClass(A)){var F=this.classes();F.push(A),this.attr("class",F.join(" "))}return this},removeClass:function(A){return this.hasClass(A)&&this.attr("class",this.classes().filter(function(F){return F!=A}).join(" ")),this},toggleClass:function(A){return this.hasClass(A)?this.removeClass(A):this.addClass(A)},reference:function(A){return l.get(this.attr(A))},parent:function(A){var F=this;if(!F.node.parentNode)return null;if(F=l.adopt(F.node.parentNode),!A)return F;for(;F&&F.node instanceof J.SVGElement;){if("string"==typeof A?F.matches(A):F instanceof A)return F;if(!F.node.parentNode||"#document"==F.node.parentNode.nodeName)return null;F=l.adopt(F.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(A){var F=[],X=this;do{if(!(X=X.parent(A))||!X.node)break;F.push(X)}while(X.parent);return F},matches:function(A){return((F=this.node).matches||F.matchesSelector||F.msMatchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector).call(F,A);var F},native:function(){return this.node},svg:function(A){var F=a.createElement("svg");if(!(A&&this instanceof l.Parent))return F.appendChild(A=a.createElement("svg")),this.writeDataToDom(),A.appendChild(this.node.cloneNode(!0)),F.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");F.innerHTML="<svg>"+A.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var X=0,Z=F.firstChild.childNodes.length;X<Z;X++)this.node.appendChild(F.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(A){return this.dom=A,this},is:function(A){return this instanceof A}}}),l.easing={"-":function(A){return A},"<>":function(A){return-Math.cos(A*Math.PI)/2+.5},">":function(A){return Math.sin(A*Math.PI/2)},"<":function(A){return 1-Math.cos(A*Math.PI/2)}},l.morph=function(A){return function(F,X){return new l.MorphObj(F,X).at(A)}},l.Situation=l.invent({create:function(A){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(A.duration).valueOf(),this.delay=new l.Number(A.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=A.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(A){this._target=A,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(A,F,X){"object"===Ne(A)&&(F=A.ease,X=A.delay,A=A.duration);var Z=new l.Situation({duration:A||1e3,delay:X||0,ease:l.easing[F||"-"]||F});return this.queue(Z),this},target:function(A){return A&&A instanceof l.Element?(this._target=A,this):this._target},timeToAbsPos:function(A){return(A-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(A){return this.situation.duration/this._speed*A+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=J.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){J.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(A){return("function"==typeof A||A instanceof l.Situation)&&this.situations.push(A),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var A,F=this.situation;if(F.init)return this;for(var X in F.animations){A=this.target()[X](),Array.isArray(A)||(A=[A]),Array.isArray(F.animations[X])||(F.animations[X]=[F.animations[X]]);for(var Z=A.length;Z--;)F.animations[X][Z]instanceof l.Number&&(A[Z]=new l.Number(A[Z])),F.animations[X][Z]=A[Z].morph(F.animations[X][Z])}for(var X in F.attrs)F.attrs[X]=new l.MorphObj(this.target().attr(X),F.attrs[X]);for(var X in F.styles)F.styles[X]=new l.MorphObj(this.target().style(X),F.styles[X]);return F.initialTransformation=this.target().matrixify(),F.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(A,F){var X=this.active;return this.active=!1,F&&this.clearQueue(),A&&this.situation&&(!X&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(A){var F=this.last();return this.target().on("finished.fx",function X(Z){Z.detail.situation==F&&(A.call(this,F),this.off("finished.fx",X))}),this._callStart()},during:function(A){var F=this.last(),X=function(Z){Z.detail.situation==F&&A.call(this,Z.detail.pos,l.morph(Z.detail.pos),Z.detail.eased,F)};return this.target().off("during.fx",X).on("during.fx",X),this.after(function(){this.off("during.fx",X)}),this._callStart()},afterAll:function(A){var F=function X(Z){A.call(this),this.off("allfinished.fx",X)};return this.target().off("allfinished.fx",F).on("allfinished.fx",F),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(A,F,X){return this.last()[X||"animations"][A]=F,this._callStart()},step:function(A){var F,X,Z;A||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(F=Math.max(this.absPos,0),X=Math.floor(F),!0===this.situation.loops||X<this.situation.loops?(this.pos=F-X,Z=this.situation.loop,this.situation.loop=X):(this.absPos=this.situation.loops,this.pos=1,Z=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-Z)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var le=this.situation.ease(this.pos);for(var ke in this.situation.once)ke>this.lastPos&&ke<=le&&(this.situation.once[ke].call(this.target(),this.pos,le),delete this.situation.once[ke]);return this.active&&this.target().fire("during",{pos:this.pos,eased:le,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=le,this):this},eachAt:function(){var A,F=this,X=this.target(),Z=this.situation;for(var le in Z.animations)A=[].concat(Z.animations[le]).map(function(at){return"string"!=typeof at&&at.at?at.at(Z.ease(F.pos),F.pos):at}),X[le].apply(X,A);for(var le in Z.attrs)A=[le].concat(Z.attrs[le]).map(function(ct){return"string"!=typeof ct&&ct.at?ct.at(Z.ease(F.pos),F.pos):ct}),X.attr.apply(X,A);for(var le in Z.styles)A=[le].concat(Z.styles[le]).map(function(ct){return"string"!=typeof ct&&ct.at?ct.at(Z.ease(F.pos),F.pos):ct}),X.style.apply(X,A);if(Z.transforms.length){A=Z.initialTransformation,le=0;for(var ke=Z.transforms.length;le<ke;le++){var Me=Z.transforms[le];Me instanceof l.Matrix?A=Me.relative?A.multiply((new l.Matrix).morph(Me).at(Z.ease(this.pos))):A.morph(Me).at(Z.ease(this.pos)):(Me.relative||Me.undo(A.extract()),A=A.multiply(Me.at(Z.ease(this.pos))))}X.matrix(A)}return this},once:function(A,F,X){var Z=this.last();return X||(A=Z.ease(A)),Z.once[A]=F,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(A,F,X){return(this.fx||(this.fx=new l.FX(this))).animate(A,F,X)},delay:function(A){return(this.fx||(this.fx=new l.FX(this))).delay(A)},stop:function(A,F){return this.fx&&this.fx.stop(A,F),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(A,F){return l.Color.isColor(F)?new l.Color(A).morph(F):l.regex.delimiter.test(A)?l.regex.pathLetters.test(A)?new l.PathArray(A).morph(F):new l.Array(A).morph(F):l.regex.numberAndUnit.test(F)?new l.Number(A).morph(F):(this.value=A,void(this.destination=F))},extend:{at:function(A,F){return F<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(A,F,X){if("object"===Ne(A))for(var Z in A)this.attr(Z,A[Z]);else this.add(A,F,"attrs");return this},plot:function(A,F,X,Z){return 4==arguments.length?this.plot([A,F,X,Z]):this.add("plot",new(this.target().morphArray)(A))}}),l.Box=l.invent({create:function(A,F,X,Z){if(!("object"!==Ne(A)||A instanceof l.Element))return l.Box.call(this,null!=A.left?A.left:A.x,null!=A.top?A.top:A.y,A.width,A.height);4==arguments.length&&(this.x=A,this.y=F,this.width=X,this.height=Z),ee(this)}}),l.BBox=l.invent({create:function(A){if(l.Box.apply(this,[].slice.call(arguments)),A instanceof l.Element){var F;try{if(!a.documentElement.contains){for(var X=A.node;X.parentNode;)X=X.parentNode;if(X!=a)throw new Error("Element not in the dom")}F=A.node.getBBox()}catch{if(A instanceof l.Shape){l.parser.draw||l.prepare();var Z=A.clone(l.parser.draw.instance).show();Z&&Z.node&&"function"==typeof Z.node.getBBox&&(F=Z.node.getBBox()),Z&&"function"==typeof Z.remove&&Z.remove()}else F={x:A.node.clientLeft,y:A.node.clientTop,width:A.node.clientWidth,height:A.node.clientHeight}}l.Box.call(this,F)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(A){var F=$([1,0,0,1,0,0]);A=null===A?F:A instanceof l.Element?A.matrixify():"string"==typeof A?$(A.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?$([].slice.call(arguments)):Array.isArray(A)?$(A):A&&"object"===Ne(A)?A:F;for(var X=ce.length-1;X>=0;--X)this[ce[X]]=null!=A[ce[X]]?A[ce[X]]:F[ce[X]]},extend:{extract:function(){var A=H(this,0,1);H(this,1,0);var F=180/Math.PI*Math.atan2(A.y,A.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(F*Math.PI/180)+this.f*Math.sin(F*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(F*Math.PI/180)+this.e*Math.sin(-F*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:F,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(A){return this.destination=new l.Matrix(A),this},multiply:function(A){return new l.Matrix(this.native().multiply((F=A,F instanceof l.Matrix||(F=new l.Matrix(F)),F).native()));var F},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(A,F){return new l.Matrix(this.native().translate(A||0,F||0))},native:function(){for(var A=l.parser.native.createSVGMatrix(),F=ce.length-1;F>=0;F--)A[ce[F]]=this[ce[F]];return A},toString:function(){return"matrix("+re(this.a)+","+re(this.b)+","+re(this.c)+","+re(this.d)+","+re(this.e)+","+re(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var A=this.rect(1,1),F=A.node.getScreenCTM();return A.remove(),new l.Matrix(F)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(A,F){var X;X=Array.isArray(A)?{x:A[0],y:A[1]}:"object"===Ne(A)?{x:A.x,y:A.y}:null!=A?{x:A,y:F??A}:{x:0,y:0},this.x=X.x,this.y=X.y},extend:{clone:function(){return new l.Point(this)},morph:function(A,F){return this.destination=new l.Point(A,F),this}}}),l.extend(l.Element,{point:function(A,F){return new l.Point(A,F).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(A,F,X){if(null==A){for(A={},X=(F=this.node.attributes).length-1;X>=0;X--)A[F[X].nodeName]=l.regex.isNumber.test(F[X].nodeValue)?parseFloat(F[X].nodeValue):F[X].nodeValue;return A}if("object"===Ne(A))for(var Z in A)this.attr(Z,A[Z]);else if(null===F)this.node.removeAttribute(A);else{if(null==F)return null==(F=this.node.getAttribute(A))?l.defaults.attrs[A]:l.regex.isNumber.test(F)?parseFloat(F):F;"stroke-width"==A?this.attr("stroke",parseFloat(F)>0?this._stroke:null):"stroke"==A&&(this._stroke=F),"fill"!=A&&"stroke"!=A||(l.regex.isImage.test(F)&&(F=this.doc().defs().image(F,0,0)),F instanceof l.Image&&(F=this.doc().defs().pattern(0,0,function(){this.add(F)}))),"number"==typeof F?F=new l.Number(F):l.Color.isColor(F)?F=new l.Color(F):Array.isArray(F)&&(F=new l.Array(F)),"leading"==A?this.leading&&this.leading(F):"string"==typeof X?this.node.setAttributeNS(X,A,F.toString()):this.node.setAttribute(A,F.toString()),!this.rebuild||"font-size"!=A&&"x"!=A||this.rebuild(A,F)}return this}}),l.extend(l.Element,{transform:function(A,F){var X;return"object"!==Ne(A)?(X=new l.Matrix(this).extract(),"string"==typeof A?X[A]:X):(X=new l.Matrix(this),F=!!F||!!A.relative,null!=A.a&&(X=F?X.multiply(new l.Matrix(A)):new l.Matrix(A)),this.attr("transform",X))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(A){var F=A.trim().split("(");return[F[0],F[1].split(l.regex.delimiter).map(function(X){return parseFloat(X)})]}).reduce(function(A,F){return"matrix"==F[0]?A.multiply($(F[1])):A[F[0]].apply(A,F[1])},new l.Matrix)},toParent:function(A){if(this==A)return this;var F=this.screenCTM(),X=A.screenCTM().inverse();return this.addTo(A).untransform().transform(X.multiply(F)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(A,F){if(arguments.length>1&&"boolean"!=typeof F)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(A))for(var X=0,Z=this.arguments.length;X<Z;++X)this[this.arguments[X]]=A[X];else if(A&&"object"===Ne(A))for(X=0,Z=this.arguments.length;X<Z;++X)this[this.arguments[X]]=A[this.arguments[X]];this.inversed=!1,!0===F&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(A,F){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(A,F){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Ne(A))for(var X in A)this.style(X,A[X]);else{if(!l.regex.isCss.test(A))return this.node.style[D(A)];for(A=A.split(/\s*;\s*/).filter(function(Z){return!!Z}).map(function(Z){return Z.split(/\s*:\s*/)});F=A.pop();)this.style(F[0],F[1])}else this.node.style[D(A)]=null===F||l.regex.isBlank.test(F)?"":F;return this}}),l.Parent=l.invent({create:function(A){this.constructor.call(this,A)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(A){return l.adopt(A)})},add:function(A,F){return null==F?this.node.appendChild(A.node):A.node!=this.node.childNodes[F]&&this.node.insertBefore(A.node,this.node.childNodes[F]),this},put:function(A,F){return this.add(A,F),A},has:function(A){return this.index(A)>=0},index:function(A){return[].slice.call(this.node.childNodes).indexOf(A.node)},get:function(A){return l.adopt(this.node.childNodes[A])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(A,F){for(var X=this.children(),Z=0,le=X.length;Z<le;Z++)X[Z]instanceof l.Element&&A.apply(X[Z],[Z,X]),F&&X[Z]instanceof l.Container&&X[Z].each(A,F);return this},removeElement:function(A){return this.node.removeChild(A.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(A,F){return 0===F||this instanceof l.Defs||this.node==l.parser.draw||(A=A||(this instanceof l.Doc?this:this.parent(l.Parent)),F=F||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(A,F-1):this.toParent(A)}),this.node.firstChild||this.remove()),this},flatten:function(A,F){return this.ungroup(A,F)}}),l.Container=l.invent({create:function(A){this.constructor.call(this,A)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(A){l.Element.prototype[A]=function(F){return l.on(this.node,A,F),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(A,F,X,Z,le){var ke=X.bind(Z||A.instance||A),Me=(l.handlerMap.indexOf(A)+1||l.handlerMap.push(A))-1,at=F.split(".")[0],ct=F.split(".")[1]||"*";l.listeners[Me]=l.listeners[Me]||{},l.listeners[Me][at]=l.listeners[Me][at]||{},l.listeners[Me][at][ct]=l.listeners[Me][at][ct]||{},X._svgjsListenerId||(X._svgjsListenerId=++l.listenerId),l.listeners[Me][at][ct][X._svgjsListenerId]=ke,A.addEventListener(at,ke,le||{passive:!0})},l.off=function(A,F,X){var Z=l.handlerMap.indexOf(A),le=F&&F.split(".")[0],ke=F&&F.split(".")[1],Me="";if(-1!=Z)if(X){if("function"==typeof X&&(X=X._svgjsListenerId),!X)return;l.listeners[Z][le]&&l.listeners[Z][le][ke||"*"]&&(A.removeEventListener(le,l.listeners[Z][le][ke||"*"][X],!1),delete l.listeners[Z][le][ke||"*"][X])}else if(ke&&le){if(l.listeners[Z][le]&&l.listeners[Z][le][ke]){for(var at in l.listeners[Z][le][ke])l.off(A,[le,ke].join("."),at);delete l.listeners[Z][le][ke]}}else if(ke)for(var ct in l.listeners[Z])for(var Me in l.listeners[Z][ct])ke===Me&&l.off(A,[ct,ke].join("."));else if(le){if(l.listeners[Z][le]){for(var Me in l.listeners[Z][le])l.off(A,[le,Me].join("."));delete l.listeners[Z][le]}}else{for(var ct in l.listeners[Z])l.off(A,ct);delete l.listeners[Z],delete l.handlerMap[Z]}},l.extend(l.Element,{on:function(A,F,X,Z){return l.on(this.node,A,F,X,Z),this},off:function(A,F){return l.off(this.node,A,F),this},fire:function(A,F){return this.node.dispatchEvent(A instanceof J.Event?A:A=new l.CustomEvent(A,{detail:F,cancelable:!0})),this._event=A,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(A){return null==A?this.transform("x"):this.transform({x:A-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(A){A&&("svg"==(A="string"==typeof A?a.getElementById(A):A).nodeName?this.constructor.call(this,A):(this.constructor.call(this,l.create("svg")),A.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var A;return this._defs||(this._defs=(A=this.node.getElementsByTagName("defs")[0])?l.adopt(A):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(A){this.writeDataToDom();var F=this.node,X=j(F.cloneNode(!0));return A?(A.node||A).appendChild(X.node):F.parentNode.insertBefore(X.node,F.nextSibling),X}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(A){this.constructor.call(this,l.create(A+"Gradient")),this.type=A},inherit:l.Container,extend:{at:function(A,F,X){return this.put(new l.Stop).update(A,F,X)},update:function(A){return this.clear(),"function"==typeof A&&A.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(A,F,X){return"transform"==A&&(A="gradientTransform"),l.Container.prototype.attr.call(this,A,F,X)}},construct:{gradient:function(A,F){return this.defs().gradient(A,F)}}}),l.extend(l.Gradient,l.FX,{from:function(A,F){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(A),fy:new l.Number(F)}:{x1:new l.Number(A),y1:new l.Number(F)})},to:function(A,F){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(A),cy:new l.Number(F)}:{x2:new l.Number(A),y2:new l.Number(F)})}}),l.extend(l.Defs,{gradient:function(A,F){return this.put(new l.Gradient(A)).update(F)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(A){return("number"==typeof A||A instanceof l.Number)&&(A={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=A.opacity&&this.attr("stop-opacity",A.opacity),null!=A.color&&this.attr("stop-color",A.color),null!=A.offset&&this.attr("offset",new l.Number(A.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(A){return this.clear(),"function"==typeof A&&A.call(this,this),this},toString:function(){return this.fill()},attr:function(A,F,X){return"transform"==A&&(A="patternTransform"),l.Container.prototype.attr.call(this,A,F,X)}},construct:{pattern:function(A,F,X){return this.defs().pattern(A,F,X)}}}),l.extend(l.Defs,{pattern:function(A,F,X){return this.put(new l.Pattern).update(X).attr({x:0,y:0,width:A,height:F,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(A){this.constructor.call(this,A)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(A,F){return this.attr("href",(F||"")+"#"+A,l.xlink)}},construct:{use:function(A,F){return this.put(new l.Use).element(A,F)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(A,F){return this.put(new l.Rect).size(A,F)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(A){return this.put(new l.Circle).rx(new l.Number(A).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(A){return this.attr("r",A)},ry:function(A){return this.rx(A)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(A,F){return this.put(new l.Ellipse).size(A,F).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(A){return this.attr("rx",A)},ry:function(A){return this.attr("ry",A)}}),l.extend(l.Circle,l.Ellipse,{x:function(A){return null==A?this.cx()-this.rx():this.cx(A+this.rx())},y:function(A){return null==A?this.cy()-this.ry():this.cy(A+this.ry())},cx:function(A){return null==A?this.attr("cx"):this.attr("cx",A)},cy:function(A){return null==A?this.attr("cy"):this.attr("cy",A)},width:function(A){return null==A?2*this.rx():this.rx(new l.Number(A).divide(2))},height:function(A){return null==A?2*this.ry():this.ry(new l.Number(A).divide(2))},size:function(A,F){var X=O(this,A,F);return this.rx(new l.Number(X.width).divide(2)).ry(new l.Number(X.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(A,F,X,Z){return null==A?this.array():(A=void 0!==F?{x1:A,y1:F,x2:X,y2:Z}:new l.PointArray(A).toLine(),this.attr(A))},move:function(A,F){return this.attr(this.array().move(A,F).toLine())},size:function(A,F){var X=O(this,A,F);return this.attr(this.array().size(X.width,X.height).toLine())}},construct:{line:function(A,F,X,Z){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=A?[A,F,X,Z]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(A){return this.put(new l.Polyline).plot(A||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(A){return this.put(new l.Polygon).plot(A||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(A){return null==A?this.array():this.clear().attr("points","string"==typeof A?A:this._array=new l.PointArray(A))},clear:function(){return delete this._array,this},move:function(A,F){return this.attr("points",this.array().move(A,F))},size:function(A,F){var X=O(this,A,F);return this.attr("points",this.array().size(X.width,X.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(A){return null==A?this.bbox().x:this.move(A,this.bbox().y)},y:function(A){return null==A?this.bbox().y:this.move(this.bbox().x,A)},width:function(A){var F=this.bbox();return null==A?F.width:this.size(A,F.height)},height:function(A){var F=this.bbox();return null==A?F.height:this.size(F.width,A)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(A){return null==A?this.array():this.clear().attr("d","string"==typeof A?A:this._array=new l.PathArray(A))},clear:function(){return delete this._array,this}},construct:{path:function(A){return this.put(new l.Path).plot(A||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(A){if(!A)return this;var F=this,X=new J.Image;return l.on(X,"load",function(){l.off(X);var Z=F.parent(l.Pattern);null!==Z&&(0==F.width()&&0==F.height()&&F.size(X.width,X.height),Z&&0==Z.width()&&0==Z.height()&&Z.size(F.width(),F.height()),"function"==typeof F._loaded&&F._loaded.call(F,{width:X.width,height:X.height,ratio:X.width/X.height,url:A}))}),l.on(X,"error",function(Z){l.off(X),"function"==typeof F._error&&F._error.call(F,Z)}),this.attr("href",X.src=this.src=A,l.xlink)},loaded:function(A){return this._loaded=A,this},error:function(A){return this._error=A,this}},construct:{image:function(A,F,X){return this.put(new l.Image).load(A).size(F||0,X||F||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(A){return null==A?this.attr("x"):this.attr("x",A)},text:function(A){if(void 0===A){A="";for(var F=this.node.childNodes,X=0,Z=F.length;X<Z;++X)0!=X&&3!=F[X].nodeType&&1==l.adopt(F[X]).dom.newLined&&(A+="\n"),A+=F[X].textContent;return A}if(this.clear().build(!0),"function"==typeof A)A.call(this,this);else{X=0;for(var le=(A=A.split("\n")).length;X<le;X++)this.tspan(A[X]).newLine()}return this.build(!1).rebuild()},size:function(A){return this.attr("font-size",A).rebuild()},leading:function(A){return null==A?this.dom.leading:(this.dom.leading=new l.Number(A),this.rebuild())},lines:function(){var A=(this.textPath&&this.textPath()||this).node,F=l.utils.map(l.utils.filterSVGElements(A.childNodes),function(X){return l.adopt(X)});return new l.Set(F)},rebuild:function(A){if("boolean"==typeof A&&(this._rebuild=A),this._rebuild){var F=this,X=0,Z=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(F.textPath()||this.attr("x",F.attr("x")),"\n"==this.text()?X+=Z:(this.attr("dy",Z+X),X=0))}),this.fire("rebuild")}return this},build:function(A){return this._build=!!A,this},setData:function(A){return this.dom=A,this.dom.leading=new l.Number(A.leading||1.3),this}},construct:{text:function(A){return this.put(new l.Text).text(A)},plain:function(A){return this.put(new l.Text).plain(A)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(A){return null==A?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof A?A.call(this,this):this.plain(A),this)},dx:function(A){return this.attr("dx",A)},dy:function(A){return this.attr("dy",A)},newLine:function(){var A=this.parent(l.Text);return this.dom.newLined=!0,this.dy(A.dom.leading*A.attr("font-size")).attr("x",A.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(A){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(A)),this},tspan:function(A){var F=(this.textPath&&this.textPath()||this).node,X=new l.Tspan;return!1===this._build&&this.clear(),F.appendChild(X.node),X.text(A)},clear:function(){for(var A=(this.textPath&&this.textPath()||this).node;A.hasChildNodes();)A.removeChild(A.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var A=this.track();return A?A.array():null},plot:function(A){var F=this.track(),X=null;return F&&(X=F.plot(A)),null==A?X:this},track:function(){var A=this.textPath();if(A)return A.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var x={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(A,F){return"color"==F?A:A+"-"+F}};function S(A,F,X,Z){return X+Z.replace(l.regex.dots," .")}function D(A){return A.toLowerCase().replace(/-(.)/g,function(F,X){return X.toUpperCase()})}function M(A){return A.charAt(0).toUpperCase()+A.slice(1)}function L(A){var F=A.toString(16);return 1==F.length?"0"+F:F}function O(A,F,X){if(null==F||null==X){var Z=A.bbox();null==F?F=Z.width/Z.height*X:null==X&&(X=Z.height/Z.width*F)}return{width:F,height:X}}function H(A,F,X){return{x:F*A.a+X*A.c+0,y:F*A.b+X*A.d+0}}function $(A){return{a:A[0],b:A[1],c:A[2],d:A[3],e:A[4],f:A[5]}}function j(A){for(var F=A.childNodes.length-1;F>=0;F--)A.childNodes[F]instanceof J.SVGElement&&j(A.childNodes[F]);return l.adopt(A).id(l.eid(A.nodeName))}function ee(A){return null==A.x&&(A.x=0,A.y=0,A.width=0,A.height=0),A.w=A.width,A.h=A.height,A.x2=A.x+A.width,A.y2=A.y+A.height,A.cx=A.x+A.width/2,A.cy=A.y+A.height/2,A}function re(A){return Math.abs(A)>1e-37?A:0}["fill","stroke"].forEach(function(A){var F={};F[A]=function(X){if(void 0===X)return this;if("string"==typeof X||l.Color.isRgb(X)||X&&"function"==typeof X.fill)this.attr(A,X);else for(var Z=x[A].length-1;Z>=0;Z--)null!=X[x[A][Z]]&&this.attr(x.prefix(A,x[A][Z]),X[x[A][Z]]);return this},l.extend(l.Element,l.FX,F)}),l.extend(l.Element,l.FX,{translate:function(A,F){return this.transform({x:A,y:F})},matrix:function(A){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):A))},opacity:function(A){return this.attr("opacity",A)},dx:function(A){return this.x(new l.Number(A).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(A){return this.y(new l.Number(A).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(A){return this.node.getPointAtLength(A)}}),l.Set=l.invent({create:function(A){Array.isArray(A)?this.members=A:this.clear()},extend:{add:function(){for(var A=[].slice.call(arguments),F=0,X=A.length;F<X;F++)this.members.push(A[F]);return this},remove:function(A){var F=this.index(A);return F>-1&&this.members.splice(F,1),this},each:function(A){for(var F=0,X=this.members.length;F<X;F++)A.apply(this.members[F],[F,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(A){return this.index(A)>=0},index:function(A){return this.members.indexOf(A)},get:function(A){return this.members[A]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(A){return new l.Set(A)}}}),l.FX.Set=l.invent({create:function(A){this.set=A}}),l.Set.inherit=function(){var A=[];for(var F in l.Shape.prototype)"function"==typeof l.Shape.prototype[F]&&"function"!=typeof l.Set.prototype[F]&&A.push(F);for(var F in A.forEach(function(Z){l.Set.prototype[Z]=function(){for(var le=0,ke=this.members.length;le<ke;le++)this.members[le]&&"function"==typeof this.members[le][Z]&&this.members[le][Z].apply(this.members[le],arguments);return"animate"==Z?this.fx||(this.fx=new l.FX.Set(this)):this}}),A=[],l.FX.prototype)"function"==typeof l.FX.prototype[F]&&"function"!=typeof l.FX.Set.prototype[F]&&A.push(F);A.forEach(function(X){l.FX.Set.prototype[X]=function(){for(var Z=0,le=this.set.members.length;Z<le;Z++)this.set.members[Z].fx[X].apply(this.set.members[Z].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(A,F){if("object"===Ne(arguments[0]))for(var X in A)this.remember(X,A[X]);else{if(1==arguments.length)return this.memory()[A];this.memory()[A]=F}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var A=arguments.length-1;A>=0;A--)delete this.memory()[arguments[A]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(A){var F=a.getElementById(function(X){var Z=(X||"").toString().match(l.regex.reference);if(Z)return Z[1]}(A)||A);return l.adopt(F)},l.select=function(A,F){return new l.Set(l.utils.map((F||a).querySelectorAll(A),function(X){return l.adopt(X)}))},l.extend(l.Parent,{select:function(A){return l.select(A,this.node)}});var ce="abcdef".split("");if("function"!=typeof J.CustomEvent){var ae=function(A,F){F=F||{bubbles:!1,cancelable:!1,detail:void 0};var X=a.createEvent("CustomEvent");return X.initCustomEvent(A,F.bubbles,F.cancelable,F.detail),X};ae.prototype=J.Event.prototype,l.CustomEvent=ae}else l.CustomEvent=J.CustomEvent;return l},void 0!==(g=function(){return vt(Ue,Ue.document)}.call(rt,ue,rt,Gt))&&(Gt.exports=g),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(x,S){return this.add(x,S),!x.attr("in")&&this.autoSetIn&&x.attr("in",this.source),x.attr("result")||x.attr("result",x),x},blend:function(x,S,D){return this.put(new SVG.BlendEffect(x,S,D))},colorMatrix:function(x,S){return this.put(new SVG.ColorMatrixEffect(x,S))},convolveMatrix:function(x){return this.put(new SVG.ConvolveMatrixEffect(x))},componentTransfer:function(x){return this.put(new SVG.ComponentTransferEffect(x))},composite:function(x,S,D){return this.put(new SVG.CompositeEffect(x,S,D))},flood:function(x,S){return this.put(new SVG.FloodEffect(x,S))},offset:function(x,S){return this.put(new SVG.OffsetEffect(x,S))},image:function(x){return this.put(new SVG.ImageEffect(x))},merge:function(){var x=[void 0];for(var S in arguments)x.push(arguments[S]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,x)))},gaussianBlur:function(x,S){return this.put(new SVG.GaussianBlurEffect(x,S))},morphology:function(x,S){return this.put(new SVG.MorphologyEffect(x,S))},diffuseLighting:function(x,S,D){return this.put(new SVG.DiffuseLightingEffect(x,S,D))},displacementMap:function(x,S,D,M,L){return this.put(new SVG.DisplacementMapEffect(x,S,D,M,L))},specularLighting:function(x,S,D,M){return this.put(new SVG.SpecularLightingEffect(x,S,D,M))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(x,S,D,M,L){return this.put(new SVG.TurbulenceEffect(x,S,D,M,L))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(x){var S=this.put(new SVG.Filter);return"function"==typeof x&&x.call(S,S),S}}),SVG.extend(SVG.Container,{filter:function(x){return this.defs().filter(x)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(x){return this.filterer=x instanceof SVG.Element?x:this.doc().filter(x),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(x){return this.filterer&&!0===x&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(x){return null==x?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",x)},result:function(x){return null==x?this.attr("result"):this.attr("result",x)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(x){return null==x?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",x)},result:function(x){return null==x?this.attr("result"):this.attr("result",x)},toString:function(){return this.result()}}});var J={blend:function(x,S){return this.parent()&&this.parent().blend(this,x,S)},colorMatrix:function(x,S){return this.parent()&&this.parent().colorMatrix(x,S).in(this)},convolveMatrix:function(x){return this.parent()&&this.parent().convolveMatrix(x).in(this)},componentTransfer:function(x){return this.parent()&&this.parent().componentTransfer(x).in(this)},composite:function(x,S){return this.parent()&&this.parent().composite(this,x,S)},flood:function(x,S){return this.parent()&&this.parent().flood(x,S)},offset:function(x,S){return this.parent()&&this.parent().offset(x,S).in(this)},image:function(x){return this.parent()&&this.parent().image(x)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(x,S){return this.parent()&&this.parent().gaussianBlur(x,S).in(this)},morphology:function(x,S){return this.parent()&&this.parent().morphology(x,S).in(this)},diffuseLighting:function(x,S,D){return this.parent()&&this.parent().diffuseLighting(x,S,D).in(this)},displacementMap:function(x,S,D,M){return this.parent()&&this.parent().displacementMap(this,x,S,D,M)},specularLighting:function(x,S,D,M){return this.parent()&&this.parent().specularLighting(x,S,D,M).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(x,S,D,M,L){return this.parent()&&this.parent().turbulence(x,S,D,M,L).in(this)}};SVG.extend(SVG.Effect,J),SVG.extend(SVG.ParentEffect,J),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(x){this.attr("in",x)}}});var a={blend:function(x,S,D){this.attr({in:x,in2:S,mode:D||"normal"})},colorMatrix:function(x,S){"matrix"==x&&(S=m(S)),this.attr({type:x,values:void 0===S?null:S})},convolveMatrix:function(x){x=m(x),this.attr({order:Math.sqrt(x.split(" ").length),kernelMatrix:x})},composite:function(x,S,D){this.attr({in:x,in2:S,operator:D})},flood:function(x,S){this.attr("flood-color",x),null!=S&&this.attr("flood-opacity",S)},offset:function(x,S){this.attr({dx:x,dy:S})},image:function(x){this.attr("href",x,SVG.xlink)},displacementMap:function(x,S,D,M,L){this.attr({in:x,in2:S,scale:D,xChannelSelector:M,yChannelSelector:L})},gaussianBlur:function(x,S){this.attr("stdDeviation",null!=x||null!=S?y(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(x,S){this.attr({operator:x,radius:S})},tile:function(){},turbulence:function(x,S,D,M,L){this.attr({numOctaves:S,seed:D,stitchTiles:M,baseFrequency:x,type:L})}},l={merge:function(){var x;if(arguments[0]instanceof SVG.Set){var S=this;arguments[0].each(function(M){this instanceof SVG.MergeNode?S.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&S.put(new SVG.MergeNode(this))})}else{x=Array.isArray(arguments[0])?arguments[0]:arguments;for(var D=0;D<x.length;D++)x[D]instanceof SVG.MergeNode?this.put(x[D]):this.put(new SVG.MergeNode(x[D]))}},componentTransfer:function(x){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(D){this[D]=new(SVG["Func"+D.toUpperCase()])("identity"),this.rgb.add(this[D]),this.node.appendChild(this[D].node)}.bind(this)),x)for(var S in x.rgb&&(["r","g","b"].forEach(function(D){this[D].attr(x.rgb)}.bind(this)),delete x.rgb),x)this[S].attr(x[S])},diffuseLighting:function(x,S,D){this.attr({surfaceScale:x,diffuseConstant:S,kernelUnitLength:D})},specularLighting:function(x,S,D,M){this.attr({surfaceScale:x,diffuseConstant:S,specularExponent:D,kernelUnitLength:M})}},f={distantLight:function(x,S){this.attr({azimuth:x,elevation:S})},pointLight:function(x,S,D){this.attr({x,y:S,z:D})},spotLight:function(x,S,D,M,L,O){this.attr({x,y:S,z:D,pointsAtX:M,pointsAtY:L,pointsAtZ:O})},mergeNode:function(x){this.attr("in",x)}};function m(x){return Array.isArray(x)&&(x=new SVG.Array(x)),x.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function y(x){if(!Array.isArray(x))return x;for(var S=0,D=x.length,M=[];S<D;S++)M.push(x[S]);return M.join(" ")}function b(){var x=function(){};for(var S in"function"==typeof arguments[arguments.length-1]&&(x=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var D in arguments[S])x(arguments[S][D],D,arguments[S])}["r","g","b","a"].forEach(function(x){f["Func"+x.toUpperCase()]=function(S){switch(this.attr("type",S),S){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),b(a,function(x,S){var D=S.charAt(0).toUpperCase()+S.slice(1);SVG[D+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+D)),x.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),b(l,function(x,S){var D=S.charAt(0).toUpperCase()+S.slice(1);SVG[D+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+D)),x.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),b(f,function(x,S){var D=S.charAt(0).toUpperCase()+S.slice(1);SVG[D]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+D)),x.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(x){return x instanceof SVG.MergeNode?this.add(x,0):this.add(new SVG.MergeNode(x),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(x){return null==x?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",x)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function J(y,b,x,S,D,M,L){for(var O=y.slice(b,x||L),H=S.slice(D,M||L),$=0,j={pos:[0,0],start:[0,0]},ee={pos:[0,0],start:[0,0]};O[$]=a.call(j,O[$]),H[$]=a.call(ee,H[$]),O[$][0]!=H[$][0]||"M"==O[$][0]||"A"==O[$][0]&&(O[$][4]!=H[$][4]||O[$][5]!=H[$][5])?(Array.prototype.splice.apply(O,[$,1].concat(f.call(j,O[$]))),Array.prototype.splice.apply(H,[$,1].concat(f.call(ee,H[$])))):(O[$]=l.call(j,O[$]),H[$]=l.call(ee,H[$])),++$!=O.length||$!=H.length;)$==O.length&&O.push(["C",j.pos[0],j.pos[1],j.pos[0],j.pos[1],j.pos[0],j.pos[1]]),$==H.length&&H.push(["C",ee.pos[0],ee.pos[1],ee.pos[0],ee.pos[1],ee.pos[0],ee.pos[1]]);return{start:O,dest:H}}function a(y){switch(y[0]){case"z":case"Z":y[0]="L",y[1]=this.start[0],y[2]=this.start[1];break;case"H":y[0]="L",y[2]=this.pos[1];break;case"V":y[0]="L",y[2]=y[1],y[1]=this.pos[0];break;case"T":y[0]="Q",y[3]=y[1],y[4]=y[2],y[1]=this.reflection[1],y[2]=this.reflection[0];break;case"S":y[0]="C",y[6]=y[4],y[5]=y[3],y[4]=y[2],y[3]=y[1],y[2]=this.reflection[1],y[1]=this.reflection[0]}return y}function l(y){var b=y.length;return this.pos=[y[b-2],y[b-1]],-1!="SCQT".indexOf(y[0])&&(this.reflection=[2*this.pos[0]-y[b-4],2*this.pos[1]-y[b-3]]),y}function f(y){var b=[y];switch(y[0]){case"M":return this.pos=this.start=[y[1],y[2]],b;case"L":y[5]=y[3]=y[1],y[6]=y[4]=y[2],y[1]=this.pos[0],y[2]=this.pos[1];break;case"Q":y[6]=y[4],y[5]=y[3],y[4]=1*y[4]/3+2*y[2]/3,y[3]=1*y[3]/3+2*y[1]/3,y[2]=1*this.pos[1]/3+2*y[2]/3,y[1]=1*this.pos[0]/3+2*y[1]/3;break;case"A":y=(b=function(x,S){var D,M,L,O,H,$,j,ee,re,ce,ae,A,F,X,Z,le,ke,Me,at,ct,Tt,It,ei,ai,fi,Si,Li=Math.abs(S[1]),pi=Math.abs(S[2]),Ir=S[3]%360,Mr=S[4],Vc=S[5],Ia=S[6],Hc=S[7],ss=new SVG.Point(x),Fi=new SVG.Point(Ia,Hc),Ll=[];if(0===Li||0===pi||ss.x===Fi.x&&ss.y===Fi.y)return[["C",ss.x,ss.y,Fi.x,Fi.y,Fi.x,Fi.y]];for((M=(D=new SVG.Point((ss.x-Fi.x)/2,(ss.y-Fi.y)/2).transform((new SVG.Matrix).rotate(Ir))).x*D.x/(Li*Li)+D.y*D.y/(pi*pi))>1&&(Li*=M=Math.sqrt(M),pi*=M),L=(new SVG.Matrix).rotate(Ir).scale(1/Li,1/pi).rotate(-Ir),ss=ss.transform(L),$=(O=[(Fi=Fi.transform(L)).x-ss.x,Fi.y-ss.y])[0]*O[0]+O[1]*O[1],H=Math.sqrt($),O[0]/=H,O[1]/=H,j=$<4?Math.sqrt(1-$/4):0,Mr===Vc&&(j*=-1),ee=new SVG.Point((Fi.x+ss.x)/2+j*-O[1],(Fi.y+ss.y)/2+j*O[0]),re=new SVG.Point(ss.x-ee.x,ss.y-ee.y),ce=new SVG.Point(Fi.x-ee.x,Fi.y-ee.y),ae=Math.acos(re.x/Math.sqrt(re.x*re.x+re.y*re.y)),re.y<0&&(ae*=-1),A=Math.acos(ce.x/Math.sqrt(ce.x*ce.x+ce.y*ce.y)),ce.y<0&&(A*=-1),Vc&&ae>A&&(A+=2*Math.PI),!Vc&&ae<A&&(A-=2*Math.PI),le=[],ke=ae,F=(A-ae)/(X=Math.ceil(2*Math.abs(ae-A)/Math.PI)),Z=4*Math.tan(F/4)/3,Tt=0;Tt<=X;Tt++)at=Math.cos(ke),Me=Math.sin(ke),ct=new SVG.Point(ee.x+at,ee.y+Me),le[Tt]=[new SVG.Point(ct.x+Z*Me,ct.y-Z*at),ct,new SVG.Point(ct.x-Z*Me,ct.y+Z*at)],ke+=F;for(le[0][0]=le[0][1].clone(),le[le.length-1][2]=le[le.length-1][1].clone(),L=(new SVG.Matrix).rotate(Ir).scale(Li,pi).rotate(-Ir),Tt=0,It=le.length;Tt<It;Tt++)le[Tt][0]=le[Tt][0].transform(L),le[Tt][1]=le[Tt][1].transform(L),le[Tt][2]=le[Tt][2].transform(L);for(Tt=1,It=le.length;Tt<It;Tt++)ei=(ct=le[Tt-1][2]).x,ai=ct.y,fi=(ct=le[Tt][0]).x,Si=ct.y,Ia=(ct=le[Tt][1]).x,Ll.push(["C",ei,ai,fi,Si,Ia,Hc=ct.y]);return Ll}(this.pos,y))[0]}return y[0]="C",this.pos=[y[5],y[6]],this.reflection=[2*y[5]-y[3],2*y[6]-y[4]],b}function m(y,b){if(!1===b)return!1;for(var x=b,S=y.length;x<S;++x)if("M"==y[x][0])return x;return!1}SVG.extend(SVG.PathArray,{morph:function(y){for(var b=this.value,x=this.parse(y),S=0,D=0,M=!1,L=!1;!1!==S||!1!==D;){var O;M=m(b,!1!==S&&S+1),L=m(x,!1!==D&&D+1),!1===S&&(S=0==(O=new SVG.PathArray(H.start).bbox()).height||0==O.width?b.push(b[0])-1:b.push(["M",O.x+O.width/2,O.y+O.height/2])-1),!1===D&&(D=0==(O=new SVG.PathArray(H.dest).bbox()).height||0==O.width?x.push(x[0])-1:x.push(["M",O.x+O.width/2,O.y+O.height/2])-1);var H=J(b,S,M,x,D,L);b=b.slice(0,S).concat(H.start,!1===M?[]:b.slice(M)),x=x.slice(0,D).concat(H.dest,!1===L?[]:x.slice(L)),S=!1!==M&&S+H.start.length,D=!1!==L&&D+H.dest.length}return this.value=b,this.destination=new SVG.PathArray,this.destination.value=x,this}})}(),function(){function J(a){a.remember("_draggable",this),this.el=a}J.prototype.init=function(a,l){var f=this;this.constraint=a,this.value=l,this.el.on("mousedown.drag",function(m){f.start(m)}),this.el.on("touchstart.drag",function(m){f.start(m)})},J.prototype.transformPoint=function(a,l){var f=(a=a||window.event).changedTouches&&a.changedTouches[0]||a;return this.p.x=f.clientX-(l||0),this.p.y=f.clientY,this.p.matrixTransform(this.m)},J.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},J.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var l=this;if(this.el.fire("beforedrag",{event:a,handler:this}),!this.el.event().defaultPrevented){a.preventDefault(),a.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var f,m=this.getBBox();if(this.el instanceof SVG.Text)switch(f=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":f/=2;break;case"start":f=0}this.startPoints={point:this.transformPoint(a,f),box:m,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(y){l.drag(y)}),SVG.on(window,"touchmove.drag",function(y){l.drag(y)}),SVG.on(window,"mouseup.drag",function(y){l.end(y)}),SVG.on(window,"touchend.drag",function(y){l.end(y)}),this.el.fire("dragstart",{event:a,p:this.startPoints.point,m:this.m,handler:this})}}},J.prototype.drag=function(a){var l=this.getBBox(),f=this.transformPoint(a),m=this.startPoints.box.x+f.x-this.startPoints.point.x,y=this.startPoints.box.y+f.y-this.startPoints.point.y,b=this.constraint,x=f.x-this.startPoints.point.x,S=f.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:a,p:f,m:this.m,handler:this}),this.el.event().defaultPrevented)return f;if("function"==typeof b){var D=b.call(this.el,m,y,this.m);"boolean"==typeof D&&(D={x:D,y:D}),!0===D.x?this.el.x(m):!1!==D.x&&this.el.x(D.x),!0===D.y?this.el.y(y):!1!==D.y&&this.el.y(D.y)}else"object"==typeof b&&(null!=b.minX&&m<b.minX?x=(m=b.minX)-this.startPoints.box.x:null!=b.maxX&&m>b.maxX-l.width&&(x=(m=b.maxX-l.width)-this.startPoints.box.x),null!=b.minY&&y<b.minY?S=(y=b.minY)-this.startPoints.box.y:null!=b.maxY&&y>b.maxY-l.height&&(S=(y=b.maxY-l.height)-this.startPoints.box.y),null!=b.snapToGrid&&(m-=m%b.snapToGrid,y-=y%b.snapToGrid,x-=x%b.snapToGrid,S-=S%b.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x,y:S},!0):this.el.move(m,y));return f},J.prototype.end=function(a){var l=this.drag(a);this.el.fire("dragend",{event:a,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(a,l){"function"!=typeof a&&"object"!=typeof a||(l=a,a=!0);var f=this.remember("_draggable")||new J(this);return(a=void 0===a||a)?f.init(l||{},a):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function J(a){this.el=a,a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,f,m){var y="string"!=typeof l?l:f[l];return m?y/2:y},this.pointCoords=function(l,f){var m=this.pointsList[l];return{x:this.pointCoord(m[0],f,"t"===l||"b"===l),y:this.pointCoord(m[1],f,"r"===l||"l"===l)}}}J.prototype.init=function(a,l){var f=this.el.bbox();this.options={};var m=this.el.selectize.defaults.points;for(var y in this.el.selectize.defaults)this.options[y]=this.el.selectize.defaults[y],void 0!==l[y]&&(this.options[y]=l[y]);var b=["points","pointsExclude"];for(var y in b){var x=this.options[b[y]];"string"==typeof x?x=x.length>0?x.split(/\s*,\s*/i):[]:"boolean"==typeof x&&"points"===b[y]&&(x=x?m:[]),this.options[b[y]]=x}this.options.points=[m,this.options.points].reduce(function(S,D){return S.filter(function(M){return D.indexOf(M)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(S,D){return S.filter(function(M){return D.indexOf(M)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(f.x,f.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(a):this.selectRect(a),this.observe(),this.cleanup()},J.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},J.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-a.x,l[1]-a.y]})},J.prototype.drawPoints=function(){for(var a=this,l=this.getPointArray(),f=0,m=l.length;f<m;++f){var y=function(x){return function(S){(S=S||window.event).preventDefault?S.preventDefault():S.returnValue=!1,S.stopPropagation(),a.el.fire("point",{x:S.pageX||S.touches[0].pageX,y:S.pageY||S.touches[0].pageY,i:x,event:S})}}(f),b=this.drawPoint(l[f][0],l[f][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",y).on("mousedown",y);this.pointSelection.set.add(b)}},J.prototype.drawPoint=function(a,l){var f=this.options.pointType;switch(f){case"circle":return this.drawCircle(a,l);case"rect":return this.drawRect(a,l);default:if("function"==typeof f)return f.call(this,a,l);throw new Error("Unknown "+f+" point type!")}},J.prototype.drawCircle=function(a,l){return this.nested.circle(this.options.pointSize).center(a,l)},J.prototype.drawRect=function(a,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(a,l)},J.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===a[l][0]&&this.cy()===a[l][1]||this.center(a[l][0],a[l][1])})},J.prototype.updateRectSelection=function(){var a=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(m,y){var b=a.pointCoords(m,l);a.rectSelection.set.get(y+1).center(b.x,b.y)}),this.options.rotationPoint){var f=this.rectSelection.set.length();this.rectSelection.set.get(f-1).center(l.width/2,20)}},J.prototype.selectRect=function(a){var l=this,f=this.el.bbox();function m(x){return function(S){(S=S||window.event).preventDefault?S.preventDefault():S.returnValue=!1,S.stopPropagation(),l.el.fire(x,{x:S.pageX||S.touches[0].pageX,y:S.pageY||S.touches[0].pageY,event:S})}}if(this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(f.width,f.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(x,S){var D=l.pointCoords(x,f),M=l.drawPoint(D.x,D.y).attr("class",l.options.classPoints+"_"+x).on("mousedown",m(x)).on("touchstart",m(x));l.rectSelection.set.add(M)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var y=function(x){(x=x||window.event).preventDefault?x.preventDefault():x.returnValue=!1,x.stopPropagation(),l.el.fire("rot",{x:x.pageX||x.touches[0].pageX,y:x.pageY||x.touches[0].pageY,event:x})},b=this.drawPoint(f.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",y).on("mousedown",y);this.rectSelection.set.add(b)}},J.prototype.handler=function(){var a=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},J.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},J.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(a,l){return"object"==typeof a&&(l=a,a=!0),(this.remember("_selectHandler")||new J(this)).init(void 0===a||a,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function J(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}J.prototype.transformPoint=function(a,l,f){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(f||this.m)},J.prototype._extractPosition=function(a){return{x:null!=a.clientX?a.clientX:a.touches[0].clientX,y:null!=a.clientY?a.clientY:a.touches[0].clientY}},J.prototype.init=function(a){var l=this;if(this.stop(),"stop"!==a){for(var f in this.options={},this.el.resize.defaults)this.options[f]=this.el.resize.defaults[f],void 0!==a[f]&&(this.options[f]=a[f]);this.el.on("lt.resize",function(m){l.resize(m||window.event)}),this.el.on("rt.resize",function(m){l.resize(m||window.event)}),this.el.on("rb.resize",function(m){l.resize(m||window.event)}),this.el.on("lb.resize",function(m){l.resize(m||window.event)}),this.el.on("t.resize",function(m){l.resize(m||window.event)}),this.el.on("r.resize",function(m){l.resize(m||window.event)}),this.el.on("b.resize",function(m){l.resize(m||window.event)}),this.el.on("l.resize",function(m){l.resize(m||window.event)}),this.el.on("rot.resize",function(m){l.resize(m||window.event)}),this.el.on("point.resize",function(m){l.resize(m||window.event)}),this.update()}},J.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},J.prototype.resize=function(a){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var f=this._extractPosition(a.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(f.x,f.y),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==a.detail.i){var m=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[m[a.detail.i][0],m[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(y,b){var x=this.snapToGrid(y,b);if(this.parameters.box.width-x[0]>0&&this.parameters.box.height-x[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-x[0]);x=this.checkAspectRatio(x),this.el.move(this.parameters.box.x+x[0],this.parameters.box.y+x[1]).size(this.parameters.box.width-x[0],this.parameters.box.height-x[1])}};break;case"rt":this.calc=function(y,b){var x=this.snapToGrid(y,b,2);if(this.parameters.box.width+x[0]>0&&this.parameters.box.height-x[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+x[0]);x=this.checkAspectRatio(x,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+x[1]).size(this.parameters.box.width+x[0],this.parameters.box.height-x[1])}};break;case"rb":this.calc=function(y,b){var x=this.snapToGrid(y,b,0);if(this.parameters.box.width+x[0]>0&&this.parameters.box.height+x[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+x[0]);x=this.checkAspectRatio(x),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+x[0],this.parameters.box.height+x[1])}};break;case"lb":this.calc=function(y,b){var x=this.snapToGrid(y,b,1);if(this.parameters.box.width-x[0]>0&&this.parameters.box.height+x[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-x[0]);x=this.checkAspectRatio(x,!0),this.el.move(this.parameters.box.x+x[0],this.parameters.box.y).size(this.parameters.box.width-x[0],this.parameters.box.height+x[1])}};break;case"t":this.calc=function(y,b){var x=this.snapToGrid(y,b,2);if(this.parameters.box.height-x[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+x[1]).height(this.parameters.box.height-x[1])}};break;case"r":this.calc=function(y,b){var x=this.snapToGrid(y,b,0);if(this.parameters.box.width+x[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+x[0])}};break;case"b":this.calc=function(y,b){var x=this.snapToGrid(y,b,0);if(this.parameters.box.height+x[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+x[1])}};break;case"l":this.calc=function(y,b){var x=this.snapToGrid(y,b,1);if(this.parameters.box.width-x[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+x[0],this.parameters.box.y).width(this.parameters.box.width-x[0])}};break;case"rot":this.calc=function(y,b){var x=y+this.parameters.p.x,S=b+this.parameters.p.y,D=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),M=Math.atan2(S-this.parameters.box.y-this.parameters.box.height/2,x-this.parameters.box.x-this.parameters.box.width/2),L=this.parameters.rotation+180*(M-D)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(L-L%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(y,b){var x=this.snapToGrid(y,b,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),S=this.el.array().valueOf();S[this.parameters.i][0]=this.parameters.pointCoords[0]+x[0],S[this.parameters.i][1]=this.parameters.pointCoords[1]+x[1],this.el.plot(S)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:a}),SVG.on(window,"touchmove.resize",function(y){l.update(y||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(y){l.update(y||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},J.prototype.update=function(a){if(a){var l=this._extractPosition(a),f=this.transformPoint(l.x,l.y),m=f.x-this.parameters.p.x,y=f.y-this.parameters.p.y;this.lastUpdateCall=[m,y],this.calc(m,y),this.el.fire("resizing",{dx:m,dy:y,event:a})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},J.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},J.prototype.snapToGrid=function(a,l,f,m){var y;return y=void 0!==m?[(f+a)%this.options.snapToGrid,(m+l)%this.options.snapToGrid]:[(this.parameters.box.x+a+(1&(f=f??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&f?0:this.parameters.box.height))%this.options.snapToGrid],a<0&&(y[0]-=this.options.snapToGrid),l<0&&(y[1]-=this.options.snapToGrid),a-=Math.abs(y[0])<this.options.snapToGrid/2?y[0]:y[0]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(y[1])<this.options.snapToGrid/2?y[1]:y[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(a,l,f,m)},J.prototype.constraintToBox=function(a,l,f,m){var y,b,x=this.options.constraint||{};return void 0!==m?(y=f,b=m):(y=this.parameters.box.x+(1&f?0:this.parameters.box.width),b=this.parameters.box.y+(2&f?0:this.parameters.box.height)),void 0!==x.minX&&y+a<x.minX&&(a=x.minX-y),void 0!==x.maxX&&y+a>x.maxX&&(a=x.maxX-y),void 0!==x.minY&&b+l<x.minY&&(l=x.minY-b),void 0!==x.maxY&&b+l>x.maxY&&(l=x.maxY-b),[a,l]},J.prototype.checkAspectRatio=function(a,l){if(!this.options.saveAspectRatio)return a;var f=a.slice(),m=this.parameters.box.width/this.parameters.box.height,y=this.parameters.box.width+a[0],b=this.parameters.box.height-a[1],x=y/b;return x<m?(f[1]=y/m-this.parameters.box.height,l&&(f[1]=-f[1])):x>m&&(f[0]=this.parameters.box.width-b*m,l&&(f[0]=-f[0])),f},SVG.extend(SVG.Element,{resize:function(a){return(this.remember("_resizeHandler")||new J(this)).init(a||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var _n=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Bt(this.ctx),this.ctx.axes=new kr(this.ctx),this.ctx.core=new dt(this.ctx.el,this.ctx),this.ctx.config=new Kt({}),this.ctx.data=new On(this.ctx),this.ctx.grid=new Di(this.ctx),this.ctx.graphics=new Pe(this.ctx),this.ctx.coreUtils=new it(this.ctx),this.ctx.crosshairs=new Ht(this.ctx),this.ctx.events=new zi(this.ctx),this.ctx.exports=new Us(this.ctx),this.ctx.localization=new rr(this.ctx),this.ctx.options=new Re,this.ctx.responsive=new Zi(this.ctx),this.ctx.series=new Sn(this.ctx),this.ctx.theme=new Ui(this.ctx),this.ctx.formatters=new wn(this.ctx),this.ctx.titleSubtitle=new vi(this.ctx),this.ctx.legend=new tn(this.ctx),this.ctx.toolbar=new yn(this.ctx),this.ctx.tooltip=new Bn(this.ctx),this.ctx.dimensions=new ii(this.ctx),this.ctx.updateHelpers=new wt(this.ctx),this.ctx.zoomPanSelection=new Gs(this.ctx),this.ctx.w.globals.tooltip=new Bn(this.ctx)}}]),J}(),oi=function(){function J(a){Se(this,J),this.ctx=a,this.w=a.w}return be(J,[{key:"clear",value:function(a){var l=a.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(a){a.each(function(l,f){this.removeClass("*"),this.off(),this.stop()},!0),a.ungroup(),a.clear()}},{key:"clearDomElements",value:function(a){var l=this,m=this.w.globals.dom.Paper.node;m.parentNode&&m.parentNode.parentNode&&!a.isUpdating&&(m.parentNode.parentNode.style.minHeight="unset");var y=this.w.globals.dom.baseEl;y&&this.ctx.eventList.forEach(function(x){y.removeEventListener(x,l.ctx.events.documentEvent)});var b=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(b.Paper),b.Paper.remove(),b.elWrap=null,b.elGraphical=null,b.elAnnotations=null,b.elLegendWrap=null,b.baseEl=null,b.elGridRect=null,b.elGridRectMask=null,b.elGridRectMarkerMask=null,b.elForecastMask=null,b.elNonForecastMask=null,b.elDefs=null}}]),J}(),bn=new WeakMap,di=function(){function J(a,l){Se(this,J),this.opts=l,this.ctx=this,this.w=new Ln(l).init(),this.el=a,this.w.globals.cuid=he.randomId(),this.w.globals.chartID=this.w.config.chart.id?he.escapeString(this.w.config.chart.id):this.w.globals.cuid,new _n(this).initModules(),this.create=he.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return be(J,[{key:"render",value:function(){var a=this;return new Promise(function(l,f){if(null!==a.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),a.w.config.chart.id&&Apex._chartInstances.push({id:a.w.globals.chartID,group:a.w.config.chart.group,chart:a}),a.setLocale(a.w.config.chart.defaultLocale);var m=a.w.config.chart.events.beforeMount;if("function"==typeof m&&m(a,a.w),a.events.fireEvent("beforeMount",[a,a.w]),window.addEventListener("resize",a.windowResizeHandler),function(M,L){var O=!1;if(M.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var H=M.getBoundingClientRect();"none"!==M.style.display&&0!==H.width||(O=!0)}var $=new ResizeObserver(function(j){O&&L.call(M,j),O=!0});M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(M.children).forEach(function(j){return $.observe(j)}):$.observe(M),bn.set(L,$)}(a.el.parentNode,a.parentResizeHandler),!a.css){var y=a.el.getRootNode&&a.el.getRootNode(),b=he.is("ShadowRoot",y),x=a.el.ownerDocument,S=x.getElementById("apexcharts-css");!b&&S||(a.css=document.createElement("style"),a.css.id="apexcharts-css",a.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',b?y.prepend(a.css):x.head.appendChild(a.css))}var D=a.create(a.w.config.series,{});if(!D)return l(a);a.mount(D).then(function(){"function"==typeof a.w.config.chart.events.mounted&&a.w.config.chart.events.mounted(a,a.w),a.events.fireEvent("mounted",[a,a.w]),l(D)}).catch(function(M){f(M)})}else f(new Error("Element not found"))})}},{key:"create",value:function(a,l){var f=this.w;new _n(this).initModules();var m=this.w.globals;if(m.noData=!1,m.animationEnded=!1,this.responsive.checkResponsiveConfig(l),f.config.xaxis.convertedCatToNumeric&&new _t(f.config).convertCatToNumericXaxis(f.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===f.config.chart.type&&(f.config.grid.show=!1,f.config.yaxis[0].show=!1),0===m.svgWidth))return m.animationEnded=!0,null;var y=it.checkComboSeries(a);m.comboCharts=y.comboCharts,m.comboBarCount=y.comboBarCount;var b=a.every(function(L){return L.data&&0===L.data.length});(0===a.length||b)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Jn(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),m.noData&&m.collapsedSeries.length!==m.series.length&&!f.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),m.axisCharts&&(this.core.coreCalculations(),"category"!==f.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=f.globals.minX,this.ctx.toolbar.maxX=f.globals.maxX),this.formatters.heatmapLabelFormatters(),new it(this).getLargestMarkerSize(),this.dimensions.plotCoords();var x=this.core.xySettings();this.grid.createGridMask();var S=this.core.plotChartType(a,x),D=new Nn(this);return D.bringForward(),f.config.dataLabels.background.enabled&&D.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:S,xyRatios:x,elInner:f.globals.dom.elGraphical,dimensions:{plot:{left:f.globals.translateX,top:f.globals.translateY,width:f.globals.gridWidth,height:f.globals.gridHeight}}}}},{key:"mount",value:function(){var a=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=this,m=f.w;return new Promise(function(y,b){if(null===f.el)return b(new Error("Not enough data to display or target element not found"));(null===l||m.globals.allSeriesCollapsed)&&f.series.handleNoData(),f.grid=new Di(f);var x=f.grid.drawGrid();"treemap"!==m.config.chart.type&&f.axes.drawAxis(m.config.chart.type,x),f.annotations=new He(f),f.annotations.drawImageAnnos(),f.annotations.drawTextAnnos(),"back"===m.config.grid.position&&x&&m.globals.dom.elGraphical.add(x.el);var S=new ns(a.ctx,x),D=new vs(a.ctx,x);if(null!==x&&(S.xAxisLabelCorrections(x.xAxisTickWidth),D.setYAxisTextAlignments(),m.config.yaxis.map(function(O,H){-1===m.globals.ignoreYAxisIndexes.indexOf(H)&&D.yAxisTitleRotate(H,O.opposite)})),"back"===m.config.annotations.position&&(m.globals.dom.Paper.add(m.globals.dom.elAnnotations),f.annotations.drawAxesAnnotations()),Array.isArray(l.elGraph))for(var M=0;M<l.elGraph.length;M++)m.globals.dom.elGraphical.add(l.elGraph[M]);else m.globals.dom.elGraphical.add(l.elGraph);if("front"===m.config.grid.position&&x&&m.globals.dom.elGraphical.add(x.el),x&&x.elGridBorders&&x.elGridBorders.node&&m.globals.dom.elGraphical.add(x.elGridBorders),"front"===m.config.xaxis.crosshairs.position&&f.crosshairs.drawXCrosshairs(),"front"===m.config.yaxis[0].crosshairs.position&&f.crosshairs.drawYCrosshairs(),"front"===m.config.annotations.position&&(m.globals.dom.Paper.add(m.globals.dom.elAnnotations),f.annotations.drawAxesAnnotations()),!m.globals.noData){if(m.config.tooltip.enabled&&!m.globals.noData&&f.w.globals.tooltip.drawTooltip(l.xyRatios),m.globals.axisCharts&&(m.globals.isXNumeric||m.config.xaxis.convertedCatToNumeric||m.globals.isRangeBar))(m.config.chart.zoom.enabled||m.config.chart.selection&&m.config.chart.selection.enabled||m.config.chart.pan&&m.config.chart.pan.enabled)&&f.zoomPanSelection.init({xyRatios:l.xyRatios});else{var L=m.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(O){L[O]=!1})}m.config.chart.toolbar.show&&!m.globals.allSeriesCollapsed&&f.toolbar.createToolbar()}m.globals.memory.methodsToExec.length>0&&m.globals.memory.methodsToExec.forEach(function(O){O.method(O.params,!1,O.context)}),m.globals.axisCharts||m.globals.noData||f.core.resizeNonAxisCharts(),y(f)})}},{key:"destroy",value:function(){var a,l;window.removeEventListener("resize",this.windowResizeHandler),(l=bn.get(a=this.parentResizeHandler))&&(l.disconnect(),bn.delete(a));var f=this.w.config.chart.id;f&&Apex._chartInstances.forEach(function(m,y){m.id===he.escapeString(f)&&Apex._chartInstances.splice(y,1)}),new oi(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(a){var l=this,f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],b=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],x=this.w;return x.globals.selection=void 0,a.series&&(this.series.resetSeries(!1,!0,!1),a.series.length&&a.series[0].data&&(a.series=a.series.map(function(S,D){return l.updateHelpers._extendSeries(S,D)})),this.updateHelpers.revertDefaultAxisMinMax()),a.xaxis&&(a=this.updateHelpers.forceXAxisUpdate(a)),a.yaxis&&(a=this.updateHelpers.forceYAxisUpdate(a)),x.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),a.theme&&(a=this.theme.updateThemeOptions(a)),this.updateHelpers._updateOptions(a,f,m,y,b)}},{key:"updateSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,l,f)}},{key:"appendSeries",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=this.w.config.series.slice();return m.push(a),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(m,l,f)}},{key:"appendData",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this;f.w.globals.dataChanged=!0,f.series.getPreviousPaths();for(var m=f.w.config.series.slice(),y=0;y<m.length;y++)if(null!=a[y])for(var b=0;b<a[y].data.length;b++)m[y].data.push(a[y].data[b]);return f.w.config.series=m,l&&(f.w.globals.initialSeries=he.clone(f.w.config.series)),this.update()}},{key:"update",value:function(a){var l=this;return new Promise(function(f,m){new oi(l.ctx).clear({isUpdating:!0});var y=l.create(l.w.config.series,a);if(!y)return f(l);l.mount(y).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,f(l)}).catch(function(b){m(b)})})}},{key:"getSyncedCharts",value:function(){var a=this.getGroupedCharts(),l=[this];return a.length&&(l=[],a.forEach(function(f){l.push(f)})),l}},{key:"getGroupedCharts",value:function(){var a=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return a.w.config.chart.group===l.group?l.chart:a})}},{key:"toggleSeries",value:function(a){return this.series.toggleSeries(a)}},{key:"highlightSeriesOnLegendHover",value:function(a,l){return this.series.toggleSeriesOnHover(a,l)}},{key:"showSeries",value:function(a){this.series.showSeries(a)}},{key:"hideSeries",value:function(a){this.series.hideSeries(a)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(a,l)}},{key:"addEventListener",value:function(a,l){this.events.addEventListener(a,l)}},{key:"removeEventListener",value:function(a,l){this.events.removeEventListener(a,l)}},{key:"addXaxisAnnotation",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=this;f&&(m=f),m.annotations.addXaxisAnnotationExternal(a,l,m)}},{key:"addYaxisAnnotation",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=this;f&&(m=f),m.annotations.addYaxisAnnotationExternal(a,l,m)}},{key:"addPointAnnotation",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=this;f&&(m=f),m.annotations.addPointAnnotationExternal(a,l,m)}},{key:"clearAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;a&&(l=a),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=this;l&&(f=l),f.annotations.removeAnnotation(f,a)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(a,l){return this.coreUtils.getSeriesTotalsXRange(a,l)}},{key:"getHighestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=new sr(this.ctx);return l.getMinYMaxY(a).highestY}},{key:"getLowestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=new sr(this.ctx);return l.getMinYMaxY(a).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(a,l){return this.updateHelpers.toggleDataPointSelection(a,l)}},{key:"zoomX",value:function(a,l){this.ctx.toolbar.zoomUpdateOptions(a,l)}},{key:"setLocale",value:function(a){this.localization.setCurrentLocaleValues(a)}},{key:"dataURI",value:function(a){return new Us(this.ctx).dataURI(a)}},{key:"exportToCSV",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=new Us(this.ctx);return l.exportToCSV(a)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var a=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){a.w.globals.resized=!0,a.w.globals.dataChanged=!1,a.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var a=this.w.config.chart.redrawOnWindowResize;"function"==typeof a&&(a=a()),a&&this._windowResize()}}],[{key:"getChartByID",value:function(a){var l=he.escapeString(a),f=Apex._chartInstances.filter(function(m){return m.id===l})[0];return f&&f.chart}},{key:"initOnLoad",value:function(){for(var a=document.querySelectorAll("[data-apexcharts]"),l=0;l<a.length;l++)new J(a[l],JSON.parse(a[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(a,l){var f=this.getChartByID(a);if(f){f.w.globals.isExecCalled=!0;var m=null;if(-1!==f.publicMethods.indexOf(l)){for(var y=arguments.length,b=new Array(y>2?y-2:0),x=2;x<y;x++)b[x-2]=arguments[x];m=f[l].apply(f,b)}return m}}},{key:"merge",value:function(a,l){return he.extend(a,l)}}]),J}();Gt.exports=di},6087:(Gt,rt,ue)=>{"use strict";const g=ue(4315),ye=ue(2872),te=ue(717);Gt.exports=function Ne(be,je){switch(ye(be)){case"object":return function Se(be,je){if("function"==typeof je)return je(be);if(je||te(be)){const Ie=new be.constructor;for(let me in be)Ie[me]=Ne(be[me],je);return Ie}return be}(be,je);case"array":return function Ze(be,je){const Ie=new be.constructor(be.length);for(let me=0;me<be.length;me++)Ie[me]=Ne(be[me],je);return Ie}(be,je);default:return g(be)}}},5867:(Gt,rt,ue)=>{"use strict";ue.d(rt,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp});var g=ue(9681);(0,g.registerVersion)("firebase","9.13.0","app")},127:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Z:()=>g.Z});var g=ue(3942);g.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(Gt,rt,ue)=>{"use strict";ue.r(rt);var g=ue(5861),ye=ue(3942),te=ue(8247),Ne=ue(2090),be=(ue(9681),ue(1877),ue(4859));function je(){return window}function Ce(){return(Ce=(0,g.Z)(function*(_e,se,ge){var Ue;const{BuildInfo:vt}=je();(0,te.ap)(se.sessionId,"AuthEvent did not contain a session ID");const Yt=yield he(se.sessionId),Xt={};return(0,te.aq)()?Xt.ibi=vt.packageName:(0,te.ar)()?Xt.apn=vt.packageName:(0,te.as)(_e,"operation-not-supported-in-this-environment"),vt.displayName&&(Xt.appDisplayName=vt.displayName),Xt.sessionId=Yt,(0,te.at)(_e,ge,se.type,void 0,null!==(Ue=se.eventId)&&void 0!==Ue?Ue:void 0,Xt)})).apply(this,arguments)}function St(){return(St=(0,g.Z)(function*(_e){const{BuildInfo:se}=je(),ge={};(0,te.aq)()?ge.iosBundleId=se.packageName:(0,te.ar)()?ge.androidPackageName=se.packageName:(0,te.as)(_e,"operation-not-supported-in-this-environment"),yield(0,te.au)(_e,ge)})).apply(this,arguments)}function jt(){return(jt=(0,g.Z)(function*(_e,se,ge){const{cordova:Ue}=je();let vt=()=>{};try{yield new Promise((Yt,Xt)=>{let dt=null;function wt(){var bn;Yt();const di=null===(bn=Ue.plugins.browsertab)||void 0===bn?void 0:bn.close;"function"==typeof di&&di(),"function"==typeof ge?.close&&ge.close()}function _n(){dt||(dt=window.setTimeout(()=>{Xt((0,te.aw)(_e,"redirect-cancelled-by-user"))},2e3))}function oi(){"visible"===document?.visibilityState&&_n()}se.addPassiveListener(wt),document.addEventListener("resume",_n,!1),(0,te.ar)()&&document.addEventListener("visibilitychange",oi,!1),vt=()=>{se.removePassiveListener(wt),document.removeEventListener("resume",_n,!1),document.removeEventListener("visibilitychange",oi,!1),dt&&window.clearTimeout(dt)}})}finally{vt()}})).apply(this,arguments)}function he(_e){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,g.Z)(function*(_e){const se=kt(_e),ge=yield crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(ge)).map(vt=>vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function kt(_e){if((0,te.ap)(/[0-9a-zA-Z]+/.test(_e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_e);const se=new ArrayBuffer(_e.length),ge=new Uint8Array(se);for(let Ue=0;Ue<_e.length;Ue++)ge[Ue]=_e.charCodeAt(Ue);return ge}class it extends te.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(se=>{this.resolveInialized=se})}addPassiveListener(se){this.passiveListeners.add(se)}removePassiveListener(se){this.passiveListeners.delete(se)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(se){return this.resolveInialized(),this.passiveListeners.forEach(ge=>ge(se)),super.onEvent(se)}initialized(){var se=this;return(0,g.Z)(function*(){yield se.initPromise})()}}function We(_e){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(_e){const se=yield He()._get(Ye(_e));return se&&(yield He()._remove(Ye(_e))),se})).apply(this,arguments)}function Re(){const _e=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ge=0;ge<20;ge++){const Ue=Math.floor(Math.random()*se.length);_e.push(se.charAt(Ue))}return _e.join("")}function He(){return(0,te.az)(te.b)}function Ye(_e){return(0,te.aA)("authEvent",_e.config.apiKey,_e.name)}function _t(_e){if(!_e?.includes("?"))return{};const[se,...ge]=_e.split("?");return(0,Ne.zd)(ge.join("?"))}function Et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,te.aw)("no-auth-event")}}function On(){var _e;return(null===(_e=self?.location)||void 0===_e?void 0:_e.protocol)||null}function Ri(_e=(0,Ne.z$)()){return!("file:"!==On()&&"ionic:"!==On()&&"capacitor:"!==On()||!_e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){try{const _e=self.localStorage,se=te.aI();if(_e)return _e.setItem(se,"1"),_e.removeItem(se),!function Es(_e=(0,Ne.z$)()){return function ns(){return(0,Ne.w1)()&&11===document?.documentMode}()||function Di(_e=(0,Ne.z$)()){return/Edge\/\d+/.test(_e)}(_e)}()||(0,Ne.hl)()}catch{return vs()&&(0,Ne.hl)()}return!1}function vs(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zi(){return(function wn(){return"http:"===On()||"https:"===On()}()||(0,Ne.ru)()||Ri())&&!function Us(){return(0,Ne.b$)()||(0,Ne.UG)()}()&&sr()&&!vs()}function rr(){return Ri()&&typeof document<"u"}function Ht(){return(Ht=(0,g.Z)(function*(){return!!rr()&&new Promise(_e=>{const se=setTimeout(()=>{_e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(se),_e(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},vi=te.ax,us="persistence";function wi(_e){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(_e){yield _e._initializationPromise;const se=sn(),ge=te.aA(us,_e.config.apiKey,_e.name);se&&se.setItem(ge,_e._getPersistence())})).apply(this,arguments)}function sn(){var _e;try{return(null===(_e=function Zi(){return typeof window<"u"?window:null}())||void 0===_e?void 0:_e.sessionStorage)||null}catch{return null}}const tn=te.ax;class yn{constructor(){this.browserResolver=te.az(te.k),this.cordovaResolver=te.az(class Kn{constructor(){this._redirectPersistence=te.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=te.aB,this._overrideRedirectResult=te.aC}_initialize(se){var ge=this;return(0,g.Z)(function*(){const Ue=se._key();let vt=ge.eventManagers.get(Ue);return vt||(vt=new it(se),ge.eventManagers.set(Ue,vt),ge.attachCallbackListeners(se,vt)),vt})()}_openPopup(se){(0,te.as)(se,"operation-not-supported-in-this-environment")}_openRedirect(se,ge,Ue,vt){var Yt=this;return(0,g.Z)(function*(){!function nt(_e){var se,ge,Ue,vt,Yt,Xt,dt,wt,_n,oi;const bn=je();(0,te.ax)("function"==typeof(null===(se=bn?.universalLinks)||void 0===se?void 0:se.subscribe),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,te.ax)(typeof(null===(ge=bn?.BuildInfo)||void 0===ge?void 0:ge.packageName)<"u",_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,te.ax)("function"==typeof(null===(Yt=null===(vt=null===(Ue=bn?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Yt?void 0:Yt.openUrl),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.ax)("function"==typeof(null===(wt=null===(dt=null===(Xt=bn?.cordova)||void 0===Xt?void 0:Xt.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===wt?void 0:wt.isAvailable),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.ax)("function"==typeof(null===(oi=null===(_n=bn?.cordova)||void 0===_n?void 0:_n.InAppBrowser)||void 0===oi?void 0:oi.open),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(se);const Xt=yield Yt._initialize(se);yield Xt.initialized(),Xt.resetRedirect(),(0,te.aD)(),yield Yt._originValidation(se);const dt=function st(_e,se,ge=null){return{type:se,eventId:ge,urlResponse:null,sessionId:Re(),postBody:null,tenantId:_e.tenantId,error:(0,te.aw)(_e,"no-auth-event")}}(se,Ue,vt);yield function Ot(_e,se){return He()._set(Ye(_e),se)}(se,dt);const wt=yield function me(_e,se,ge){return Ce.apply(this,arguments)}(se,dt,ge),_n=yield function mt(_e){const{cordova:se}=je();return new Promise(ge=>{se.plugins.browsertab.isAvailable(Ue=>{let vt=null;Ue?se.plugins.browsertab.openUrl(_e):vt=se.InAppBrowser.open(_e,(0,te.av)()?"_blank":"_system","location=yes"),ge(vt)})})}(wt);return function et(_e,se,ge){return jt.apply(this,arguments)}(se,Xt,_n)})()}_isIframeWebStorageSupported(se,ge){throw new Error("Method not implemented.")}_originValidation(se){const ge=se._key();return this.originValidationPromises[ge]||(this.originValidationPromises[ge]=function Be(_e){return St.apply(this,arguments)}(se)),this.originValidationPromises[ge]}attachCallbackListeners(se,ge){const{universalLinks:Ue,handleOpenURL:vt,BuildInfo:Yt}=je(),Xt=setTimeout((0,g.Z)(function*(){yield We(se),ge.onEvent(Et())}),500),dt=function(){var oi=(0,g.Z)(function*(bn){clearTimeout(Xt);const di=yield We(se);let J=null;di&&bn?.url&&(J=function tt(_e,se){var ge,Ue;const vt=function bt(_e){const se=_t(_e),ge=se.link?decodeURIComponent(se.link):void 0,Ue=_t(ge).link,vt=se.deep_link_id?decodeURIComponent(se.deep_link_id):void 0;return _t(vt).link||vt||Ue||ge||_e}(se);if(vt.includes("/__/auth/callback")){const Yt=_t(vt),Xt=Yt.firebaseError?function $e(_e){try{return JSON.parse(_e)}catch{return null}}(decodeURIComponent(Yt.firebaseError)):null,dt=null===(Ue=null===(ge=Xt?.code)||void 0===ge?void 0:ge.split("auth/"))||void 0===Ue?void 0:Ue[1],wt=dt?(0,te.aw)(dt):null;return wt?{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,error:wt,urlResponse:null,sessionId:null,postBody:null}:{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,sessionId:_e.sessionId,urlResponse:vt,postBody:null}}return null}(di,bn.url)),ge.onEvent(J||Et())});return function(di){return oi.apply(this,arguments)}}();typeof Ue<"u"&&"function"==typeof Ue.subscribe&&Ue.subscribe(null,dt);const wt=vt,_n=`${Yt.packageName.toLowerCase()}://`;je().handleOpenURL=function(){var oi=(0,g.Z)(function*(bn){if(bn.toLowerCase().startsWith(_n)&&dt({url:bn}),"function"==typeof wt)try{wt(bn)}catch(di){console.error(di)}});return function(bn){return oi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=te.a,this._completeRedirectFn=te.aB,this._overrideRedirectResult=te.aC}_initialize(se){var ge=this;return(0,g.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._initialize(se)})()}_openPopup(se,ge,Ue,vt){var Yt=this;return(0,g.Z)(function*(){return yield Yt.selectUnderlyingResolver(),Yt.assertedUnderlyingResolver._openPopup(se,ge,Ue,vt)})()}_openRedirect(se,ge,Ue,vt){var Yt=this;return(0,g.Z)(function*(){return yield Yt.selectUnderlyingResolver(),Yt.assertedUnderlyingResolver._openRedirect(se,ge,Ue,vt)})()}_isIframeWebStorageSupported(se,ge){this.assertedUnderlyingResolver._isIframeWebStorageSupported(se,ge)}_originValidation(se){return this.assertedUnderlyingResolver._originValidation(se)}get _shouldInitProactively(){return rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var se=this;return(0,g.Z)(function*(){if(se.underlyingResolver)return;const ge=yield function kr(){return Ht.apply(this,arguments)}();se.underlyingResolver=ge?se.cordovaResolver:se.browserResolver})()}}function Gs(_e){return _e.unwrap()}function Cs(_e){return Ds(_e)}function Ds(_e){const{_tokenResponse:se}=_e instanceof Ne.ZR?_e.customData:_e;if(!se)return null;if(!(_e instanceof Ne.ZR)&&"temporaryProof"in se&&"phoneNumber"in se)return te.P.credentialFromResult(_e);const ge=se.providerId;if(!ge||ge===te.o.PASSWORD)return null;let Ue;switch(ge){case te.o.GOOGLE:Ue=te.Q;break;case te.o.FACEBOOK:Ue=te.N;break;case te.o.GITHUB:Ue=te.T;break;case te.o.TWITTER:Ue=te.W;break;default:const{oauthIdToken:vt,oauthAccessToken:Yt,oauthTokenSecret:Xt,pendingToken:dt,nonce:wt}=se;return Yt||Xt||vt||dt?dt?ge.startsWith("saml.")?te.aL._create(ge,dt):te.J._fromParams({providerId:ge,signInMethod:ge,pendingToken:dt,idToken:vt,accessToken:Yt}):new te.U(ge).credential({idToken:vt,accessToken:Yt,rawNonce:wt}):null}return _e instanceof Ne.ZR?Ue.credentialFromError(_e):Ue.credentialFromResult(_e)}function An(_e,se){return se.catch(ge=>{throw ge instanceof Ne.ZR&&function mn(_e,se){var ge,Ue;const vt=null===(ge=se.customData)||void 0===ge?void 0:ge._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ue=se)||void 0===Ue?void 0:Ue.code))se.resolver=new is(_e,te.an(_e,se));else if(vt){const Yt=Ds(se),Xt=se;Yt&&(Xt.credential=Yt,Xt.tenantId=vt.tenantId||void 0,Xt.email=vt.email||void 0,Xt.phoneNumber=vt.phoneNumber||void 0)}}(_e,ge),ge}).then(ge=>{const vt=ge.user;return{operationType:ge.operationType,credential:Cs(ge),additionalUserInfo:te.al(ge),user:Ai.getOrCreate(vt)}})}function qs(_e,se){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(_e,se){const ge=yield se;return{verificationId:ge.verificationId,confirm:Ue=>An(_e,ge.confirm(Ue))}})).apply(this,arguments)}class is{constructor(se,ge){this.resolver=ge,this.auth=function Gi(_e){return _e.wrapped()}(se)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(se){return An(Gs(this.auth),this.resolver.resolveSignIn(se))}}class Ai{constructor(se){this._delegate=se,this.multiFactor=te.ao(se)}static getOrCreate(se){return Ai.USER_MAP.has(se)||Ai.USER_MAP.set(se,new Ai(se)),Ai.USER_MAP.get(se)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(se){return this._delegate.getIdTokenResult(se)}getIdToken(se){return this._delegate.getIdToken(se)}linkAndRetrieveDataWithCredential(se){return this.linkWithCredential(se)}linkWithCredential(se){var ge=this;return(0,g.Z)(function*(){return An(ge.auth,te.Z(ge._delegate,se))})()}linkWithPhoneNumber(se,ge){var Ue=this;return(0,g.Z)(function*(){return qs(Ue.auth,te.l(Ue._delegate,se,ge))})()}linkWithPopup(se){var ge=this;return(0,g.Z)(function*(){return An(ge.auth,te.d(ge._delegate,se,yn))})()}linkWithRedirect(se){var ge=this;return(0,g.Z)(function*(){return yield wi(te.aE(ge.auth)),te.g(ge._delegate,se,yn)})()}reauthenticateAndRetrieveDataWithCredential(se){return this.reauthenticateWithCredential(se)}reauthenticateWithCredential(se){var ge=this;return(0,g.Z)(function*(){return An(ge.auth,te._(ge._delegate,se))})()}reauthenticateWithPhoneNumber(se,ge){return qs(this.auth,te.r(this._delegate,se,ge))}reauthenticateWithPopup(se){return An(this.auth,te.e(this._delegate,se,yn))}reauthenticateWithRedirect(se){var ge=this;return(0,g.Z)(function*(){return yield wi(te.aE(ge.auth)),te.h(ge._delegate,se,yn)})()}sendEmailVerification(se){return te.ab(this._delegate,se)}unlink(se){var ge=this;return(0,g.Z)(function*(){return yield te.ak(ge._delegate,se),ge})()}updateEmail(se){return te.ag(this._delegate,se)}updatePassword(se){return te.ah(this._delegate,se)}updatePhoneNumber(se){return te.u(this._delegate,se)}updateProfile(se){return te.af(this._delegate,se)}verifyBeforeUpdateEmail(se,ge){return te.ac(this._delegate,se,ge)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ai.USER_MAP=new WeakMap;const Vt=te.ax;let ut=(()=>{class _e{constructor(ge,Ue){if(this.app=ge,Ue.isInitialized())return this._delegate=Ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:vt}=ge.options;Vt(vt,"invalid-api-key",{appName:ge.name}),Vt(vt,"invalid-api-key",{appName:ge.name});const Yt=typeof window<"u"?yn:void 0;this._delegate=Ue.initialize({options:{persistence:ln(vt,ge.name),popupRedirectResolver:Yt}}),this._delegate._updateErrorMap(te.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ai.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ge){this._delegate.languageCode=ge}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ge){this._delegate.tenantId=ge}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ge,Ue){te.G(this._delegate,ge,Ue)}applyActionCode(ge){return te.a2(this._delegate,ge)}checkActionCode(ge){return te.a3(this._delegate,ge)}confirmPasswordReset(ge,Ue){return te.a1(this._delegate,ge,Ue)}createUserWithEmailAndPassword(ge,Ue){var vt=this;return(0,g.Z)(function*(){return An(vt._delegate,te.a5(vt._delegate,ge,Ue))})()}fetchProvidersForEmail(ge){return this.fetchSignInMethodsForEmail(ge)}fetchSignInMethodsForEmail(ge){return te.aa(this._delegate,ge)}isSignInWithEmailLink(ge){return te.a8(this._delegate,ge)}getRedirectResult(){var ge=this;return(0,g.Z)(function*(){Vt(zi(),ge._delegate,"operation-not-supported-in-this-environment");const Ue=yield te.j(ge._delegate,yn);return Ue?An(ge._delegate,Promise.resolve(Ue)):{credential:null,user:null}})()}addFrameworkForLogging(ge){!function Jn(_e,se){(0,te.aE)(_e)._logFramework(se)}(this._delegate,ge)}onAuthStateChanged(ge,Ue,vt){const{next:Yt,error:Xt,complete:dt}=Ut(ge,Ue,vt);return this._delegate.onAuthStateChanged(Yt,Xt,dt)}onIdTokenChanged(ge,Ue,vt){const{next:Yt,error:Xt,complete:dt}=Ut(ge,Ue,vt);return this._delegate.onIdTokenChanged(Yt,Xt,dt)}sendSignInLinkToEmail(ge,Ue){return te.a7(this._delegate,ge,Ue)}sendPasswordResetEmail(ge,Ue){return te.a0(this._delegate,ge,Ue||void 0)}setPersistence(ge){var Ue=this;return(0,g.Z)(function*(){let vt;switch(function fo(_e,se){vi(Object.values(Ui).includes(se),_e,"invalid-persistence-type"),(0,Ne.b$)()?vi(se!==Ui.SESSION,_e,"unsupported-persistence-type"):(0,Ne.UG)()?vi(se===Ui.NONE,_e,"unsupported-persistence-type"):vs()?vi(se===Ui.NONE||se===Ui.LOCAL&&(0,Ne.hl)(),_e,"unsupported-persistence-type"):vi(se===Ui.NONE||sr(),_e,"unsupported-persistence-type")}(Ue._delegate,ge),ge){case Ui.SESSION:vt=te.a;break;case Ui.LOCAL:vt=(yield te.az(te.i)._isAvailable())?te.i:te.b;break;case Ui.NONE:vt=te.L;break;default:return te.as("argument-error",{appName:Ue._delegate.name})}return Ue._delegate.setPersistence(vt)})()}signInAndRetrieveDataWithCredential(ge){return this.signInWithCredential(ge)}signInAnonymously(){return An(this._delegate,te.X(this._delegate))}signInWithCredential(ge){return An(this._delegate,te.Y(this._delegate,ge))}signInWithCustomToken(ge){return An(this._delegate,te.$(this._delegate,ge))}signInWithEmailAndPassword(ge,Ue){return An(this._delegate,te.a6(this._delegate,ge,Ue))}signInWithEmailLink(ge,Ue){return An(this._delegate,te.a9(this._delegate,ge,Ue))}signInWithPhoneNumber(ge,Ue){return qs(this._delegate,te.s(this._delegate,ge,Ue))}signInWithPopup(ge){var Ue=this;return(0,g.Z)(function*(){return Vt(zi(),Ue._delegate,"operation-not-supported-in-this-environment"),An(Ue._delegate,te.c(Ue._delegate,ge,yn))})()}signInWithRedirect(ge){var Ue=this;return(0,g.Z)(function*(){return Vt(zi(),Ue._delegate,"operation-not-supported-in-this-environment"),yield wi(Ue._delegate),te.f(Ue._delegate,ge,yn)})()}updateCurrentUser(ge){return this._delegate.updateCurrentUser(ge)}verifyPasswordResetCode(ge){return te.a4(this._delegate,ge)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _e.Persistence=Ui,_e})();function Ut(_e,se,ge){let Ue=_e;"function"!=typeof _e&&({next:Ue,error:se,complete:ge}=_e);const vt=Ue;return{next:Xt=>vt(Xt&&Ai.getOrCreate(Xt)),error:se,complete:ge}}function ln(_e,se){const ge=function ii(_e,se){const ge=sn();if(!ge)return[];const Ue=te.aA(us,_e,se);switch(ge.getItem(Ue)){case Ui.NONE:return[te.L];case Ui.LOCAL:return[te.i,te.a];case Ui.SESSION:return[te.a];default:return[]}}(_e,se);if(typeof self<"u"&&!ge.includes(te.i)&&ge.push(te.i),typeof window<"u")for(const Ue of[te.b,te.a])ge.includes(Ue)||ge.push(Ue);return ge.includes(te.L)||ge.push(te.L),ge}class dn{constructor(){this.providerId="phone",this._delegate=new te.P(Gs(ye.Z.auth()))}static credential(se,ge){return te.P.credential(se,ge)}verifyPhoneNumber(se,ge){return this._delegate.verifyPhoneNumber(se,ge)}unwrap(){return this._delegate}}dn.PHONE_SIGN_IN_METHOD=te.P.PHONE_SIGN_IN_METHOD,dn.PROVIDER_ID=te.P.PROVIDER_ID;const Gn=te.ax;class Ae{constructor(se,ge,Ue=ye.Z.app()){var vt;Gn(null===(vt=Ue.options)||void 0===vt?void 0:vt.apiKey,"invalid-api-key",{appName:Ue.name}),this._delegate=new te.R(se,ge,Ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Oe(_e){_e.INTERNAL.registerComponent(new be.wA("auth-compat",se=>{const ge=se.getProvider("app-compat").getImmediate(),Ue=se.getProvider("auth");return new ut(ge,Ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te.A.EMAIL_SIGNIN,PASSWORD_RESET:te.A.PASSWORD_RESET,RECOVER_EMAIL:te.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te.A.VERIFY_EMAIL}},EmailAuthProvider:te.M,FacebookAuthProvider:te.N,GithubAuthProvider:te.T,GoogleAuthProvider:te.Q,OAuthProvider:te.U,SAMLAuthProvider:te.V,PhoneAuthProvider:dn,PhoneMultiFactorGenerator:te.m,RecaptchaVerifier:Ae,TwitterAuthProvider:te.W,Auth:ut,AuthCredential:te.H,Error:Ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_e.registerVersion("@firebase/auth-compat","0.2.24")}(ye.Z)},717:(Gt,rt,ue)=>{"use strict";var g=ue(623);function ye(te){return!0===g(te)&&"[object Object]"===Object.prototype.toString.call(te)}Gt.exports=function(Ne){var Se,Ze;return!(!1===ye(Ne)||(Se=Ne.constructor,"function"!=typeof Se)||(Ze=Se.prototype,!1===ye(Ze))||!1===Ze.hasOwnProperty("isPrototypeOf"))}},623:Gt=>{"use strict";Gt.exports=function(ue){return null!=ue&&"object"==typeof ue&&!1===Array.isArray(ue)}},2872:Gt=>{var rt=Object.prototype.toString;function ue(Ie){return"function"==typeof Ie.constructor?Ie.constructor.name:null}Gt.exports=function(me){if(void 0===me)return"undefined";if(null===me)return"null";var Ce=typeof me;if("boolean"===Ce)return"boolean";if("string"===Ce)return"string";if("number"===Ce)return"number";if("symbol"===Ce)return"symbol";if("function"===Ce)return function Se(Ie,me){return"GeneratorFunction"===ue(Ie)}(me)?"generatorfunction":"function";if(function g(Ie){return Array.isArray?Array.isArray(Ie):Ie instanceof Array}(me))return"array";if(function je(Ie){return!(!Ie.constructor||"function"!=typeof Ie.constructor.isBuffer)&&Ie.constructor.isBuffer(Ie)}(me))return"buffer";if(function be(Ie){try{if("number"==typeof Ie.length&&"function"==typeof Ie.callee)return!0}catch(me){if(-1!==me.message.indexOf("callee"))return!0}return!1}(me))return"arguments";if(function te(Ie){return Ie instanceof Date||"function"==typeof Ie.toDateString&&"function"==typeof Ie.getDate&&"function"==typeof Ie.setDate}(me))return"date";if(function ye(Ie){return Ie instanceof Error||"string"==typeof Ie.message&&Ie.constructor&&"number"==typeof Ie.constructor.stackTraceLimit}(me))return"error";if(function Ne(Ie){return Ie instanceof RegExp||"string"==typeof Ie.flags&&"boolean"==typeof Ie.ignoreCase&&"boolean"==typeof Ie.multiline&&"boolean"==typeof Ie.global}(me))return"regexp";switch(ue(me)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function Ze(Ie){return"function"==typeof Ie.throw&&"function"==typeof Ie.return&&"function"==typeof Ie.next}(me))return"generator";switch(Ce=rt.call(me)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return Ce.slice(8,-1).toLowerCase().replace(/\s/g,"")}},9751:(Gt,rt,ue)=>{"use strict";ue.d(rt,{y:()=>je});var g=ue(930),ye=ue(727),te=ue(8822),Ne=ue(9635),Se=ue(2416),Ze=ue(576),be=ue(2806);let je=(()=>{class Be{constructor(mt){mt&&(this._subscribe=mt)}lift(mt){const et=new Be;return et.source=this,et.operator=mt,et}subscribe(mt,et,jt){const nt=function Ce(Be){return Be&&Be instanceof g.Lv||function me(Be){return Be&&(0,Ze.m)(Be.next)&&(0,Ze.m)(Be.error)&&(0,Ze.m)(Be.complete)}(Be)&&(0,ye.Nn)(Be)}(mt)?mt:new g.Hp(mt,et,jt);return(0,be.x)(()=>{const{operator:he,source:Bt}=this;nt.add(he?he.call(nt,Bt):Bt?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(mt){try{return this._subscribe(mt)}catch(et){mt.error(et)}}forEach(mt,et){return new(et=Ie(et))((jt,nt)=>{const he=new g.Hp({next:Bt=>{try{mt(Bt)}catch(kt){nt(kt),he.unsubscribe()}},error:nt,complete:jt});this.subscribe(he)})}_subscribe(mt){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(mt)}[te.L](){return this}pipe(...mt){return(0,Ne.U)(mt)(this)}toPromise(mt){return new(mt=Ie(mt))((et,jt)=>{let nt;this.subscribe(he=>nt=he,he=>jt(he),()=>et(nt))})}}return Be.create=St=>new Be(St),Be})();function Ie(Be){var St;return null!==(St=Be??Se.v.Promise)&&void 0!==St?St:Promise}},7579:(Gt,rt,ue)=>{"use strict";ue.d(rt,{x:()=>be});var g=ue(9751),ye=ue(727);const Ne=(0,ue(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=ue(8737),Ze=ue(2806);let be=(()=>{class Ie extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ce){const Be=new je(this,this);return Be.operator=Ce,Be}_throwIfClosed(){if(this.closed)throw new Ne}next(Ce){(0,Ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(Ce)}})}error(Ce){(0,Ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ce;const{observers:Be}=this;for(;Be.length;)Be.shift().error(Ce)}})}complete(){(0,Ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ce;return(null===(Ce=this.observers)||void 0===Ce?void 0:Ce.length)>0}_trySubscribe(Ce){return this._throwIfClosed(),super._trySubscribe(Ce)}_subscribe(Ce){return this._throwIfClosed(),this._checkFinalizedStatuses(Ce),this._innerSubscribe(Ce)}_innerSubscribe(Ce){const{hasError:Be,isStopped:St,observers:mt}=this;return Be||St?ye.Lc:(this.currentObservers=null,mt.push(Ce),new ye.w0(()=>{this.currentObservers=null,(0,Se.P)(mt,Ce)}))}_checkFinalizedStatuses(Ce){const{hasError:Be,thrownError:St,isStopped:mt}=this;Be?Ce.error(St):mt&&Ce.complete()}asObservable(){const Ce=new g.y;return Ce.source=this,Ce}}return Ie.create=(me,Ce)=>new je(me,Ce),Ie})();class je extends be{constructor(me,Ce){super(),this.destination=me,this.source=Ce}next(me){var Ce,Be;null===(Be=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.next)||void 0===Be||Be.call(Ce,me)}error(me){var Ce,Be;null===(Be=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.error)||void 0===Be||Be.call(Ce,me)}complete(){var me,Ce;null===(Ce=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===Ce||Ce.call(me)}_subscribe(me){var Ce,Be;return null!==(Be=null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(me))&&void 0!==Be?Be:ye.Lc}}},930:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Hp:()=>jt,Lv:()=>Be});var g=ue(576),ye=ue(727),te=ue(2416),Ne=ue(7849),Se=ue(5032);const Ze=Ie("C",void 0,void 0);function Ie(Pe,it,st){return{kind:Pe,value:it,error:st}}var me=ue(3410),Ce=ue(2806);class Be extends ye.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,ye.Nn)(it)&&it.add(this)):this.destination=kt}static create(it,st,Ot){return new jt(it,st,Ot)}next(it){this.isStopped?Bt(function je(Pe){return Ie("N",Pe,void 0)}(it),this):this._next(it)}error(it){this.isStopped?Bt(function be(Pe){return Ie("E",void 0,Pe)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?Bt(Ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const St=Function.prototype.bind;function mt(Pe,it){return St.call(Pe,it)}class et{constructor(it){this.partialObserver=it}next(it){const{partialObserver:st}=this;if(st.next)try{st.next(it)}catch(Ot){nt(Ot)}}error(it){const{partialObserver:st}=this;if(st.error)try{st.error(it)}catch(Ot){nt(Ot)}else nt(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(st){nt(st)}}}class jt extends Be{constructor(it,st,Ot){let We;if(super(),(0,g.m)(it)||!it)We={next:it??void 0,error:st??void 0,complete:Ot??void 0};else{let qe;this&&te.v.useDeprecatedNextContext?(qe=Object.create(it),qe.unsubscribe=()=>this.unsubscribe(),We={next:it.next&&mt(it.next,qe),error:it.error&&mt(it.error,qe),complete:it.complete&&mt(it.complete,qe)}):We=it}this.destination=new et(We)}}function nt(Pe){te.v.useDeprecatedSynchronousErrorHandling?(0,Ce.O)(Pe):(0,Ne.h)(Pe)}function Bt(Pe,it){const{onStoppedNotification:st}=te.v;st&&me.z.setTimeout(()=>st(Pe,it))}const kt={closed:!0,next:Se.Z,error:function he(Pe){throw Pe},complete:Se.Z}},727:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Lc:()=>Ze,w0:()=>Se,Nn:()=>be});var g=ue(576);const te=(0,ue(3888).d)(Ie=>function(Ce){Ie(this),this.message=Ce?`${Ce.length} errors occurred during unsubscription:\n${Ce.map((Be,St)=>`${St+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ce});var Ne=ue(8737);class Se{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:Ce}=this;if(Ce)if(this._parentage=null,Array.isArray(Ce))for(const mt of Ce)mt.remove(this);else Ce.remove(this);const{initialTeardown:Be}=this;if((0,g.m)(Be))try{Be()}catch(mt){me=mt instanceof te?mt.errors:[mt]}const{_finalizers:St}=this;if(St){this._finalizers=null;for(const mt of St)try{je(mt)}catch(et){me=me??[],et instanceof te?me=[...me,...et.errors]:me.push(et)}}if(me)throw new te(me)}}add(me){var Ce;if(me&&me!==this)if(this.closed)je(me);else{if(me instanceof Se){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(Ce=this._finalizers)&&void 0!==Ce?Ce:[]).push(me)}}_hasParent(me){const{_parentage:Ce}=this;return Ce===me||Array.isArray(Ce)&&Ce.includes(me)}_addParent(me){const{_parentage:Ce}=this;this._parentage=Array.isArray(Ce)?(Ce.push(me),Ce):Ce?[Ce,me]:me}_removeParent(me){const{_parentage:Ce}=this;Ce===me?this._parentage=null:Array.isArray(Ce)&&(0,Ne.P)(Ce,me)}remove(me){const{_finalizers:Ce}=this;Ce&&(0,Ne.P)(Ce,me),me instanceof Se&&me._removeParent(this)}}Se.EMPTY=(()=>{const Ie=new Se;return Ie.closed=!0,Ie})();const Ze=Se.EMPTY;function be(Ie){return Ie instanceof Se||Ie&&"closed"in Ie&&(0,g.m)(Ie.remove)&&(0,g.m)(Ie.add)&&(0,g.m)(Ie.unsubscribe)}function je(Ie){(0,g.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(Gt,rt,ue)=>{"use strict";ue.d(rt,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Gt,rt,ue)=>{"use strict";ue.d(rt,{E:()=>ye});const ye=new(ue(9751).y)(Se=>Se.complete())},8996:(Gt,rt,ue)=>{"use strict";ue.d(rt,{D:()=>it});var g=ue(8421),ye=ue(5363),te=ue(9468),Ze=ue(9751),je=ue(2202),Ie=ue(576),me=ue(9672);function Be(st,Ot){if(!st)throw new Error("Iterable cannot be null");return new Ze.y(We=>{(0,me.f)(We,Ot,()=>{const qe=st[Symbol.asyncIterator]();(0,me.f)(We,Ot,()=>{qe.next().then(tt=>{tt.done?We.complete():We.next(tt.value)})},0,!0)})})}var St=ue(3670),mt=ue(8239),et=ue(1144),jt=ue(6495),nt=ue(2206),he=ue(4532),Bt=ue(3260);function it(st,Ot){return Ot?function Pe(st,Ot){if(null!=st){if((0,St.c)(st))return function Ne(st,Ot){return(0,g.Xf)(st).pipe((0,te.R)(Ot),(0,ye.Q)(Ot))}(st,Ot);if((0,et.z)(st))return function be(st,Ot){return new Ze.y(We=>{let qe=0;return Ot.schedule(function(){qe===st.length?We.complete():(We.next(st[qe++]),We.closed||this.schedule())})})}(st,Ot);if((0,mt.t)(st))return function Se(st,Ot){return(0,g.Xf)(st).pipe((0,te.R)(Ot),(0,ye.Q)(Ot))}(st,Ot);if((0,nt.D)(st))return Be(st,Ot);if((0,jt.T)(st))return function Ce(st,Ot){return new Ze.y(We=>{let qe;return(0,me.f)(We,Ot,()=>{qe=st[je.h](),(0,me.f)(We,Ot,()=>{let tt,Re;try{({value:tt,done:Re}=qe.next())}catch(He){return void We.error(He)}Re?We.complete():We.next(tt)},0,!0)}),()=>(0,Ie.m)(qe?.return)&&qe.return()})}(st,Ot);if((0,Bt.L)(st))return function kt(st,Ot){return Be((0,Bt.Q)(st),Ot)}(st,Ot)}throw(0,he.z)(st)}(st,Ot):(0,g.Xf)(st)}},8421:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Xf:()=>St});var g=ue(655),ye=ue(1144),te=ue(8239),Ne=ue(9751),Se=ue(3670),Ze=ue(2206),be=ue(4532),je=ue(6495),Ie=ue(3260),me=ue(576),Ce=ue(7849),Be=ue(8822);function St(Pe){if(Pe instanceof Ne.y)return Pe;if(null!=Pe){if((0,Se.c)(Pe))return function mt(Pe){return new Ne.y(it=>{const st=Pe[Be.L]();if((0,me.m)(st.subscribe))return st.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,ye.z)(Pe))return function et(Pe){return new Ne.y(it=>{for(let st=0;st<Pe.length&&!it.closed;st++)it.next(Pe[st]);it.complete()})}(Pe);if((0,te.t)(Pe))return function jt(Pe){return new Ne.y(it=>{Pe.then(st=>{it.closed||(it.next(st),it.complete())},st=>it.error(st)).then(null,Ce.h)})}(Pe);if((0,Ze.D)(Pe))return he(Pe);if((0,je.T)(Pe))return function nt(Pe){return new Ne.y(it=>{for(const st of Pe)if(it.next(st),it.closed)return;it.complete()})}(Pe);if((0,Ie.L)(Pe))return function Bt(Pe){return he((0,Ie.Q)(Pe))}(Pe)}throw(0,be.z)(Pe)}function he(Pe){return new Ne.y(it=>{(function kt(Pe,it){var st,Ot,We,qe;return(0,g.mG)(this,void 0,void 0,function*(){try{for(st=(0,g.KL)(Pe);!(Ot=yield st.next()).done;)if(it.next(Ot.value),it.closed)return}catch(tt){We={error:tt}}finally{try{Ot&&!Ot.done&&(qe=st.return)&&(yield qe.call(st))}finally{if(We)throw We.error}}it.complete()})})(Pe,it).catch(st=>it.error(st))})}},6451:(Gt,rt,ue)=>{"use strict";ue.d(rt,{T:()=>Ze});var g=ue(8189),ye=ue(8421),te=ue(515),Ne=ue(3269),Se=ue(8996);function Ze(...be){const je=(0,Ne.yG)(be),Ie=(0,Ne._6)(be,1/0),me=be;return me.length?1===me.length?(0,ye.Xf)(me[0]):(0,g.J)(Ie)((0,Se.D)(me,je)):te.E}},5403:(Gt,rt,ue)=>{"use strict";ue.d(rt,{x:()=>ye});var g=ue(930);function ye(Ne,Se,Ze,be,je){return new te(Ne,Se,Ze,be,je)}class te extends g.Lv{constructor(Se,Ze,be,je,Ie,me){super(Se),this.onFinalize=Ie,this.shouldUnsubscribe=me,this._next=Ze?function(Ce){try{Ze(Ce)}catch(Be){Se.error(Be)}}:super._next,this._error=je?function(Ce){try{je(Ce)}catch(Be){Se.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(Ce){Se.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ze}=this;super.unsubscribe(),!Ze&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4004:(Gt,rt,ue)=>{"use strict";ue.d(rt,{U:()=>te});var g=ue(4482),ye=ue(5403);function te(Ne,Se){return(0,g.e)((Ze,be)=>{let je=0;Ze.subscribe((0,ye.x)(be,Ie=>{be.next(Ne.call(Se,Ie,je++))}))})}},8189:(Gt,rt,ue)=>{"use strict";ue.d(rt,{J:()=>te});var g=ue(5577),ye=ue(4671);function te(Ne=1/0){return(0,g.z)(ye.y,Ne)}},5577:(Gt,rt,ue)=>{"use strict";ue.d(rt,{z:()=>je});var g=ue(4004),ye=ue(8421),te=ue(4482),Ne=ue(9672),Se=ue(5403),be=ue(576);function je(Ie,me,Ce=1/0){return(0,be.m)(me)?je((Be,St)=>(0,g.U)((mt,et)=>me(Be,mt,St,et))((0,ye.Xf)(Ie(Be,St))),Ce):("number"==typeof me&&(Ce=me),(0,te.e)((Be,St)=>function Ze(Ie,me,Ce,Be,St,mt,et,jt){const nt=[];let he=0,Bt=0,kt=!1;const Pe=()=>{kt&&!nt.length&&!he&&me.complete()},it=Ot=>he<Be?st(Ot):nt.push(Ot),st=Ot=>{mt&&me.next(Ot),he++;let We=!1;(0,ye.Xf)(Ce(Ot,Bt++)).subscribe((0,Se.x)(me,qe=>{St?.(qe),mt?it(qe):me.next(qe)},()=>{We=!0},void 0,()=>{if(We)try{for(he--;nt.length&&he<Be;){const qe=nt.shift();et?(0,Ne.f)(me,et,()=>st(qe)):st(qe)}Pe()}catch(qe){me.error(qe)}}))};return Ie.subscribe((0,Se.x)(me,it,()=>{kt=!0,Pe()})),()=>{jt?.()}}(Be,St,Ie,Ce)))}},5363:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Q:()=>Ne});var g=ue(9672),ye=ue(4482),te=ue(5403);function Ne(Se,Ze=0){return(0,ye.e)((be,je)=>{be.subscribe((0,te.x)(je,Ie=>(0,g.f)(je,Se,()=>je.next(Ie),Ze),()=>(0,g.f)(je,Se,()=>je.complete(),Ze),Ie=>(0,g.f)(je,Se,()=>je.error(Ie),Ze)))})}},3099:(Gt,rt,ue)=>{"use strict";ue.d(rt,{B:()=>Se});var g=ue(8421),ye=ue(7579),te=ue(930),Ne=ue(4482);function Se(be={}){const{connector:je=(()=>new ye.x),resetOnError:Ie=!0,resetOnComplete:me=!0,resetOnRefCountZero:Ce=!0}=be;return Be=>{let St,mt,et,jt=0,nt=!1,he=!1;const Bt=()=>{mt?.unsubscribe(),mt=void 0},kt=()=>{Bt(),St=et=void 0,nt=he=!1},Pe=()=>{const it=St;kt(),it?.unsubscribe()};return(0,Ne.e)((it,st)=>{jt++,!he&&!nt&&Bt();const Ot=et=et??je();st.add(()=>{jt--,0===jt&&!he&&!nt&&(mt=Ze(Pe,Ce))}),Ot.subscribe(st),!St&&jt>0&&(St=new te.Hp({next:We=>Ot.next(We),error:We=>{he=!0,Bt(),mt=Ze(kt,Ie,We),Ot.error(We)},complete:()=>{nt=!0,Bt(),mt=Ze(kt,me),Ot.complete()}}),(0,g.Xf)(it).subscribe(St))})(Be)}}function Ze(be,je,...Ie){if(!0===je)return void be();if(!1===je)return;const me=new te.Hp({next:()=>{me.unsubscribe(),be()}});return je(...Ie).subscribe(me)}},9468:(Gt,rt,ue)=>{"use strict";ue.d(rt,{R:()=>ye});var g=ue(4482);function ye(te,Ne=0){return(0,g.e)((Se,Ze)=>{Ze.add(te.schedule(()=>Se.subscribe(Ze),Ne))})}},8505:(Gt,rt,ue)=>{"use strict";ue.d(rt,{b:()=>Se});var g=ue(576),ye=ue(4482),te=ue(5403),Ne=ue(4671);function Se(Ze,be,je){const Ie=(0,g.m)(Ze)||be||je?{next:Ze,error:be,complete:je}:Ze;return Ie?(0,ye.e)((me,Ce)=>{var Be;null===(Be=Ie.subscribe)||void 0===Be||Be.call(Ie);let St=!0;me.subscribe((0,te.x)(Ce,mt=>{var et;null===(et=Ie.next)||void 0===et||et.call(Ie,mt),Ce.next(mt)},()=>{var mt;St=!1,null===(mt=Ie.complete)||void 0===mt||mt.call(Ie),Ce.complete()},mt=>{var et;St=!1,null===(et=Ie.error)||void 0===et||et.call(Ie,mt),Ce.error(mt)},()=>{var mt,et;St&&(null===(mt=Ie.unsubscribe)||void 0===mt||mt.call(Ie)),null===(et=Ie.finalize)||void 0===et||et.call(Ie)}))}):Ne.y}},4408:(Gt,rt,ue)=>{"use strict";ue.d(rt,{o:()=>Se});var g=ue(727);class ye extends g.w0{constructor(be,je){super()}schedule(be,je=0){return this}}const te={setInterval(Ze,be,...je){const{delegate:Ie}=te;return Ie?.setInterval?Ie.setInterval(Ze,be,...je):setInterval(Ze,be,...je)},clearInterval(Ze){const{delegate:be}=te;return(be?.clearInterval||clearInterval)(Ze)},delegate:void 0};var Ne=ue(8737);class Se extends ye{constructor(be,je){super(be,je),this.scheduler=be,this.work=je,this.pending=!1}schedule(be,je=0){var Ie;if(this.closed)return this;this.state=be;const me=this.id,Ce=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(Ce,me,je)),this.pending=!0,this.delay=je,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(Ce,this.id,je),this}requestAsyncId(be,je,Ie=0){return te.setInterval(be.flush.bind(be,this),Ie)}recycleAsyncId(be,je,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return je;null!=je&&te.clearInterval(je)}execute(be,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(be,je);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,je){let me,Ie=!1;try{this.work(be)}catch(Ce){Ie=!0,me=Ce||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:be,scheduler:je}=this,{actions:Ie}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ne.P)(Ie,this),null!=be&&(this.id=this.recycleAsyncId(je,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,rt,ue)=>{"use strict";ue.d(rt,{v:()=>te});var g=ue(6063);class ye{constructor(Se,Ze=ye.now){this.schedulerActionCtor=Se,this.now=Ze}schedule(Se,Ze=0,be){return new this.schedulerActionCtor(this,Se).schedule(be,Ze)}}ye.now=g.l.now;class te extends ye{constructor(Se,Ze=ye.now){super(Se,Ze),this.actions=[],this._active=!1}flush(Se){const{actions:Ze}=this;if(this._active)return void Ze.push(Se);let be;this._active=!0;do{if(be=Se.execute(Se.state,Se.delay))break}while(Se=Ze.shift());if(this._active=!1,be){for(;Se=Ze.shift();)Se.unsubscribe();throw be}}}},4986:(Gt,rt,ue)=>{"use strict";ue.d(rt,{P:()=>Ne,z:()=>te});var g=ue(4408);const te=new(ue(7565).v)(g.o),Ne=te},6063:(Gt,rt,ue)=>{"use strict";ue.d(rt,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(Gt,rt,ue)=>{"use strict";ue.d(rt,{z:()=>g});const g={setTimeout(ye,te,...Ne){const{delegate:Se}=g;return Se?.setTimeout?Se.setTimeout(ye,te,...Ne):setTimeout(ye,te,...Ne)},clearTimeout(ye){const{delegate:te}=g;return(te?.clearTimeout||clearTimeout)(ye)},delegate:void 0}},2202:(Gt,rt,ue)=>{"use strict";ue.d(rt,{h:()=>ye});const ye=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,rt,ue)=>{"use strict";ue.d(rt,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Gt,rt,ue)=>{"use strict";ue.d(rt,{_6:()=>Ze,jO:()=>Ne,yG:()=>Se});var g=ue(576),ye=ue(3532);function te(be){return be[be.length-1]}function Ne(be){return(0,g.m)(te(be))?be.pop():void 0}function Se(be){return(0,ye.K)(te(be))?be.pop():void 0}function Ze(be,je){return"number"==typeof te(be)?be.pop():je}},8737:(Gt,rt,ue)=>{"use strict";function g(ye,te){if(ye){const Ne=ye.indexOf(te);0<=Ne&&ye.splice(Ne,1)}}ue.d(rt,{P:()=>g})},3888:(Gt,rt,ue)=>{"use strict";function g(ye){const Ne=ye(Se=>{Error.call(Se),Se.stack=(new Error).stack});return Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne,Ne}ue.d(rt,{d:()=>g})},2806:(Gt,rt,ue)=>{"use strict";ue.d(rt,{O:()=>Ne,x:()=>te});var g=ue(2416);let ye=null;function te(Se){if(g.v.useDeprecatedSynchronousErrorHandling){const Ze=!ye;if(Ze&&(ye={errorThrown:!1,error:null}),Se(),Ze){const{errorThrown:be,error:je}=ye;if(ye=null,be)throw je}}else Se()}function Ne(Se){g.v.useDeprecatedSynchronousErrorHandling&&ye&&(ye.errorThrown=!0,ye.error=Se)}},9672:(Gt,rt,ue)=>{"use strict";function g(ye,te,Ne,Se=0,Ze=!1){const be=te.schedule(function(){Ne(),Ze?ye.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(ye.add(be),!Ze)return be}ue.d(rt,{f:()=>g})},4671:(Gt,rt,ue)=>{"use strict";function g(ye){return ye}ue.d(rt,{y:()=>g})},1144:(Gt,rt,ue)=>{"use strict";ue.d(rt,{z:()=>g});const g=ye=>ye&&"number"==typeof ye.length&&"function"!=typeof ye},2206:(Gt,rt,ue)=>{"use strict";ue.d(rt,{D:()=>ye});var g=ue(576);function ye(te){return Symbol.asyncIterator&&(0,g.m)(te?.[Symbol.asyncIterator])}},576:(Gt,rt,ue)=>{"use strict";function g(ye){return"function"==typeof ye}ue.d(rt,{m:()=>g})},3670:(Gt,rt,ue)=>{"use strict";ue.d(rt,{c:()=>te});var g=ue(8822),ye=ue(576);function te(Ne){return(0,ye.m)(Ne[g.L])}},6495:(Gt,rt,ue)=>{"use strict";ue.d(rt,{T:()=>te});var g=ue(2202),ye=ue(576);function te(Ne){return(0,ye.m)(Ne?.[g.h])}},8239:(Gt,rt,ue)=>{"use strict";ue.d(rt,{t:()=>ye});var g=ue(576);function ye(te){return(0,g.m)(te?.then)}},3260:(Gt,rt,ue)=>{"use strict";ue.d(rt,{L:()=>Ne,Q:()=>te});var g=ue(655),ye=ue(576);function te(Se){return(0,g.FC)(this,arguments,function*(){const be=Se.getReader();try{for(;;){const{value:je,done:Ie}=yield(0,g.qq)(be.read());if(Ie)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(je)}}finally{be.releaseLock()}})}function Ne(Se){return(0,ye.m)(Se?.getReader)}},3532:(Gt,rt,ue)=>{"use strict";ue.d(rt,{K:()=>ye});var g=ue(576);function ye(te){return te&&(0,g.m)(te.schedule)}},4482:(Gt,rt,ue)=>{"use strict";ue.d(rt,{A:()=>ye,e:()=>te});var g=ue(576);function ye(Ne){return(0,g.m)(Ne?.lift)}function te(Ne){return Se=>{if(ye(Se))return Se.lift(function(Ze){try{return Ne(Ze,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Gt,rt,ue)=>{"use strict";function g(){}ue.d(rt,{Z:()=>g})},9635:(Gt,rt,ue)=>{"use strict";ue.d(rt,{U:()=>te,z:()=>ye});var g=ue(4671);function ye(...Ne){return te(Ne)}function te(Ne){return 0===Ne.length?g.y:1===Ne.length?Ne[0]:function(Ze){return Ne.reduce((be,je)=>je(be),Ze)}}},7849:(Gt,rt,ue)=>{"use strict";ue.d(rt,{h:()=>te});var g=ue(2416),ye=ue(3410);function te(Ne){ye.z.setTimeout(()=>{const{onUnhandledError:Se}=g.v;if(!Se)throw Ne;Se(Ne)})}},4532:(Gt,rt,ue)=>{"use strict";function g(ye){return new TypeError(`You provided ${null!==ye&&"object"==typeof ye?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ue.d(rt,{z:()=>g})},4315:(Gt,rt,ue)=>{"use strict";const g=Symbol.prototype.valueOf,ye=ue(2872);Gt.exports=function te(Ie,me){switch(ye(Ie)){case"array":return Ie.slice();case"object":return Object.assign({},Ie);case"date":return new Ie.constructor(Number(Ie));case"map":return new Map(Ie);case"set":return new Set(Ie);case"buffer":return function be(Ie){const me=Ie.length,Ce=Buffer.allocUnsafe?Buffer.allocUnsafe(me):Buffer.from(me);return Ie.copy(Ce),Ce}(Ie);case"symbol":return function je(Ie){return g?Object(g.call(Ie)):{}}(Ie);case"arraybuffer":return function Se(Ie){const me=new Ie.constructor(Ie.byteLength);return new Uint8Array(me).set(new Uint8Array(Ie)),me}(Ie);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function Ze(Ie,me){return new Ie.constructor(Ie.buffer,Ie.byteOffset,Ie.length)}(Ie);case"regexp":return function Ne(Ie){const me=void 0!==Ie.flags?Ie.flags:/\w+$/.exec(Ie)||void 0,Ce=new Ie.constructor(Ie.source,me);return Ce.lastIndex=Ie.lastIndex,Ce}(Ie);case"error":return Object.create(Ie);default:return Ie}}},655:(Gt,rt,ue)=>{"use strict";function Ne(Re,He){var Ye={};for(var $e in Re)Object.prototype.hasOwnProperty.call(Re,$e)&&He.indexOf($e)<0&&(Ye[$e]=Re[$e]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var bt=0;for($e=Object.getOwnPropertySymbols(Re);bt<$e.length;bt++)He.indexOf($e[bt])<0&&Object.prototype.propertyIsEnumerable.call(Re,$e[bt])&&(Ye[$e[bt]]=Re[$e[bt]])}return Ye}function Se(Re,He,Ye,$e){var Kt,bt=arguments.length,_t=bt<3?He:null===$e?$e=Object.getOwnPropertyDescriptor(He,Ye):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Re,He,Ye,$e);else for(var Kn=Re.length-1;Kn>=0;Kn--)(Kt=Re[Kn])&&(_t=(bt<3?Kt(_t):bt>3?Kt(He,Ye,_t):Kt(He,Ye))||_t);return bt>3&&_t&&Object.defineProperty(He,Ye,_t),_t}function je(Re,He,Ye,$e){return new(Ye||(Ye=Promise))(function(_t,Kt){function Kn(Jn){try{Et($e.next(Jn))}catch(mi){Kt(mi)}}function Ln(Jn){try{Et($e.throw(Jn))}catch(mi){Kt(mi)}}function Et(Jn){Jn.done?_t(Jn.value):function bt(_t){return _t instanceof Ye?_t:new Ye(function(Kt){Kt(_t)})}(Jn.value).then(Kn,Ln)}Et(($e=$e.apply(Re,He||[])).next())})}function nt(Re){return this instanceof nt?(this.v=Re,this):new nt(Re)}function he(Re,He,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,$e=Ye.apply(Re,He||[]),_t=[];return bt={},Kt("next"),Kt("throw"),Kt("return"),bt[Symbol.asyncIterator]=function(){return this},bt;function Kt(Nn){$e[Nn]&&(bt[Nn]=function(Sn){return new Promise(function(On,wn){_t.push([Nn,Sn,On,wn])>1||Kn(Nn,Sn)})})}function Kn(Nn,Sn){try{!function Ln(Nn){Nn.value instanceof nt?Promise.resolve(Nn.value.v).then(Et,Jn):mi(_t[0][2],Nn)}($e[Nn](Sn))}catch(On){mi(_t[0][3],On)}}function Et(Nn){Kn("next",Nn)}function Jn(Nn){Kn("throw",Nn)}function mi(Nn,Sn){Nn(Sn),_t.shift(),_t.length&&Kn(_t[0][0],_t[0][1])}}function kt(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,He=Re[Symbol.asyncIterator];return He?He.call(Re):(Re=function Be(Re){var He="function"==typeof Symbol&&Symbol.iterator,Ye=He&&Re[He],$e=0;if(Ye)return Ye.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&$e>=Re.length&&(Re=void 0),{value:Re&&Re[$e++],done:!Re}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),Ye={},$e("next"),$e("throw"),$e("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function $e(_t){Ye[_t]=Re[_t]&&function(Kt){return new Promise(function(Kn,Ln){!function bt(_t,Kt,Kn,Ln){Promise.resolve(Ln).then(function(Et){_t({value:Et,done:Kn})},Kt)}(Kn,Ln,(Kt=Re[_t](Kt)).done,Kt.value)})}}}ue.d(rt,{FC:()=>he,KL:()=>kt,_T:()=>Ne,gn:()=>Se,mG:()=>je,qq:()=>nt})},4650:(Gt,rt,ue)=>{"use strict";ue.d(rt,{$8M:()=>Jc,$Z:()=>mC,AFp:()=>sa,AaK:()=>je,CHM:()=>ep,CRH:()=>ZS,CZH:()=>Ig,CqO:()=>QD,D6c:()=>_M,EJc:()=>Sc,EiD:()=>Vh,EpF:()=>KD,F$t:()=>rS,F4k:()=>na,FYo:()=>Wh,FiY:()=>ft,G48:()=>vy,Gf:()=>c0,GfV:()=>Xm,Gpc:()=>Ce,Gre:()=>Dk,Hsn:()=>JD,JOm:()=>hl,JVY:()=>k_,Jf7:()=>W_,KtG:()=>Na,L6k:()=>Hm,LAX:()=>zm,LFG:()=>rs,LSH:()=>Mp,Lbi:()=>KI,Lck:()=>gI,MAs:()=>Fx,MGl:()=>Vv,MMx:()=>Xv,NdJ:()=>yu,O4$:()=>qu,OlP:()=>ki,Oqu:()=>pS,PXZ:()=>oM,Q6J:()=>Nx,QGY:()=>gg,QP$:()=>vt,QbO:()=>tr,Qsj:()=>F_,R0b:()=>Br,RDi:()=>Aw,Rgc:()=>Kv,SBq:()=>Bp,Sil:()=>cT,Suo:()=>qS,TTD:()=>Ho,TgZ:()=>Fv,Tol:()=>fk,Udp:()=>Gx,VKq:()=>BS,W1O:()=>HI,X6Q:()=>uM,XFs:()=>Ht,Xpm:()=>ut,Xts:()=>Lp,Y36:()=>Kh,YKP:()=>LS,YNc:()=>pg,Yjl:()=>_e,Yz7:()=>Sn,Z0I:()=>Us,ZZ4:()=>Ud,_Bn:()=>pI,_UZ:()=>Hx,_Vd:()=>Np,_c5:()=>PT,_uU:()=>_k,aQg:()=>Ng,c2e:()=>QI,cJS:()=>wn,cg1:()=>gS,dDg:()=>_0,dqk:()=>yn,eBb:()=>ul,eFA:()=>_T,ekj:()=>hS,eoX:()=>mT,f3M:()=>Ph,g9A:()=>cy,h0i:()=>uf,hGG:()=>yM,hij:()=>jx,iGM:()=>XS,ifc:()=>tn,ip1:()=>lT,jDz:()=>mI,kL8:()=>Uk,kcU:()=>_h,lG2:()=>Oe,lqb:()=>du,lri:()=>y0,mCW:()=>I,n5z:()=>Yo,n_E:()=>r0,oAB:()=>Gn,oJD:()=>Ip,oxw:()=>vg,pB0:()=>Um,q3G:()=>$i,q4F:()=>Fw,qLn:()=>zp,qOj:()=>kx,qZA:()=>Nv,qzn:()=>Co,rWj:()=>Eo,s9C:()=>yg,sBO:()=>yy,sIi:()=>ug,s_b:()=>a0,soG:()=>pf,tb:()=>so,tp0:()=>an,uIk:()=>Pv,vHH:()=>et,vpe:()=>Sl,wAp:()=>Cn,xp6:()=>aC,z2F:()=>py,z3N:()=>ya,zSh:()=>Lw,zs3:()=>fc});var g=ue(7579),ye=ue(727),te=ue(9751),Ne=ue(6451),Se=ue(3099);function Ze(c){for(let u in c)if(c[u]===Ze)return u;throw Error("Could not find renamed property on target object.")}function be(c,u){for(const h in u)u.hasOwnProperty(h)&&!c.hasOwnProperty(h)&&(c[h]=u[h])}function je(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(je).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function Ie(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const me=Ze({__forward_ref__:Ze});function Ce(c){return c.__forward_ref__=Ce,c.toString=function(){return je(this())},c}function Be(c){return St(c)?c():c}function St(c){return"function"==typeof c&&c.hasOwnProperty(me)&&c.__forward_ref__===Ce}class et extends Error{constructor(u,h){super(function jt(c,u){return`NG0${Math.abs(c)}${u?": "+u.trim():""}`}(u,h)),this.code=u}}function nt(c){return"string"==typeof c?c:null==c?"":String(c)}function it(c,u){throw new et(-201,!1)}function Ln(c,u){null==c&&function Et(c,u,h,v){throw new Error(`ASSERTION ERROR: ${c}`+(null==v?"":` [Expected=> ${h} ${v} ${u} <=Actual]`))}(u,c,null,"!=")}function Sn(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function wn(c){return{providers:c.providers||[],imports:c.imports||[]}}function Ri(c){return ns(c,vs)||ns(c,rr)}function Us(c){return null!==Ri(c)}function ns(c,u){return c.hasOwnProperty(u)?c[u]:null}function sr(c){return c&&(c.hasOwnProperty(zi)||c.hasOwnProperty(kr))?c[zi]:null}const vs=Ze({\u0275prov:Ze}),zi=Ze({\u0275inj:Ze}),rr=Ze({ngInjectableDef:Ze}),kr=Ze({ngInjectorDef:Ze});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let Zi;function vi(c){const u=Zi;return Zi=c,u}function us(c,u,h){const v=Ri(c);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:h&Ht.Optional?null:void 0!==u?u:void it(je(c))}function wi(c){return{toString:c}.toString()}var Ci=(()=>((Ci=Ci||{})[Ci.OnPush=0]="OnPush",Ci[Ci.Default=1]="Default",Ci))(),tn=(()=>{return(c=tn||(tn={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",tn;var c})();const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cs={},mn=[],Ds=Ze({\u0275cmp:Ze}),An=Ze({\u0275dir:Ze}),qs=Ze({\u0275pipe:Ze}),Bn=Ze({\u0275mod:Ze}),is=Ze({\u0275fac:Ze}),Ai=Ze({__NG_ELEMENT_ID__:Ze});let Vt=0;function ut(c){return wi(()=>{const h=!0===c.standalone,v={},w={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Ci.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&c.dependencies||null,getStandaloneInjector:null,selectors:c.selectors||mn,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||tn.Emulated,id:"c"+Vt++,styles:c.styles||mn,_:null,setInput:null,schemas:c.schemas||null,tView:null},T=c.dependencies,P=c.features;return w.inputs=we(c.inputs,v),w.outputs=we(c.outputs),P&&P.forEach(B=>B(w)),w.directiveDefs=T?()=>("function"==typeof T?T():T).map(ln).filter(dn):null,w.pipeDefs=T?()=>("function"==typeof T?T():T).map(Ue).filter(dn):null,w})}function ln(c){return se(c)||ge(c)}function dn(c){return null!==c}function Gn(c){return wi(()=>({type:c.type,bootstrap:c.bootstrap||mn,declarations:c.declarations||mn,imports:c.imports||mn,exports:c.exports||mn,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function we(c,u){if(null==c)return Cs;const h={};for(const v in c)if(c.hasOwnProperty(v)){let w=c[v],T=w;Array.isArray(w)&&(T=w[1],w=w[0]),h[w]=v,u&&(u[w]=T)}return h}const Oe=ut;function _e(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function se(c){return c[Ds]||null}function ge(c){return c[An]||null}function Ue(c){return c[qs]||null}function vt(c){const u=se(c)||ge(c)||Ue(c);return null!==u&&u.standalone}function Yt(c,u){const h=c[Bn]||null;if(!h&&!0===u)throw new Error(`Type ${je(c)} does not have '\u0275mod' property.`);return h}const m=11,S=15,D=16,L=18,O=19,j=22,Z=10;function ke(c){return Array.isArray(c)&&"object"==typeof c[1]}function Me(c){return Array.isArray(c)&&!0===c[1]}function at(c){return 0!=(8&c.flags)}function ct(c){return 2==(2&c.flags)}function Tt(c){return 1==(1&c.flags)}function It(c){return null!==c.template}function ei(c){return 0!=(256&c[2])}function ks(c,u){return c.hasOwnProperty(is)?c[is]:null}class Pa{constructor(u,h,v){this.previousValue=u,this.currentValue=h,this.firstChange=v}isFirstChange(){return this.firstChange}}function Ho(){return uh}function uh(c){return c.type.prototype.ngOnChanges&&(c.setInput=Uu),Uc}function Uc(){const c=Oa(this),u=c?.current;if(u){const h=c.previous;if(h===Cs)c.previous=u;else for(let v in u)h[v]=u[v];c.current=null,this.ngOnChanges(u)}}function Uu(c,u,h,v){const w=Oa(c)||function zo(c,u){return c[dh]=u}(c,{previous:Cs,current:null}),T=w.current||(w.current={}),P=w.previous,B=this.declaredInputs[h],U=P[B];T[B]=new Pa(U&&U.currentValue,u,P===Cs),c[v]=u}Ho.ngInherit=!0;const dh="__ngSimpleChanges__";function Oa(c){return c[dh]||null}function Wi(c){for(;Array.isArray(c);)c=c[0];return c}function Lr(c,u){return Wi(u[c])}function Ms(c,u){return Wi(u[c.index])}function Ra(c,u){return c.data[u]}function si(c,u){const h=u[c];return ke(h)?h:h[0]}function Go(c){return 64==(64&c[2])}function mr(c,u){return null==u?null:c[u]}function Pl(c){c[L]=0}function Ki(c,u){c[5]+=u;let h=c,v=c[3];for(;null!==v&&(1===u&&1===h[5]||-1===u&&0===h[5]);)v[5]+=u,h=v,v=v[3]}const En={lFrame:Gl(null),bindingsEnabled:!0};function ha(){return En.bindingsEnabled}function gt(){return En.lFrame.lView}function jn(){return En.lFrame.tView}function ep(c){return En.lFrame.contextLView=c,c[8]}function Na(c){return En.lFrame.contextLView=null,c}function ds(){let c=Ba();for(;null!==c&&64===c.type;)c=c.parent;return c}function Ba(){return En.lFrame.currentTNode}function Zs(c,u){const h=En.lFrame;h.currentTNode=c,h.isParent=u}function jc(){return En.lFrame.isParent}function Va(){En.lFrame.isParent=!1}function Hl(){return En.lFrame.bindingIndex++}function go(c){const u=En.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,h}function gh(c,u){const h=En.lFrame;h.bindingIndex=h.bindingRootIndex=c,Ha(u)}function Ha(c){En.lFrame.currentDirectiveIndex=c}function zl(){return En.lFrame.currentQueryIndex}function Xu(c){En.lFrame.currentQueryIndex=c}function Ul(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function mh(c,u,h){if(h&Ht.SkipSelf){let w=u,T=c;for(;!(w=w.parent,null!==w||h&Ht.Host||(w=Ul(T),null===w||(T=T[S],10&w.type))););if(null===w)return!1;u=w,c=T}const v=En.lFrame=ip();return v.currentTNode=u,v.lView=c,!0}function za(c){const u=ip(),h=c[1];En.lFrame=u,u.currentTNode=h.firstChild,u.lView=c,u.tView=h,u.contextLView=c,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function ip(){const c=En.lFrame,u=null===c?null:c.child;return null===u?Gl(c):u}function Gl(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function sp(){const c=En.lFrame;return En.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const vh=sp;function Wo(){const c=sp();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Ni(){return En.lFrame.selectedIndex}function mo(c){En.lFrame.selectedIndex=c}function Bi(){const c=En.lFrame;return Ra(c.tView,c.selectedIndex)}function qu(){En.lFrame.currentNamespace="svg"}function _h(){!function Ku(){En.lFrame.currentNamespace=null}()}function $c(c,u){for(let h=u.directiveStart,v=u.directiveEnd;h<v;h++){const T=c.data[h].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:B,ngAfterViewInit:U,ngAfterViewChecked:q,ngOnDestroy:oe}=T;P&&(c.contentHooks||(c.contentHooks=[])).push(-h,P),B&&((c.contentHooks||(c.contentHooks=[])).push(h,B),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(h,B)),U&&(c.viewHooks||(c.viewHooks=[])).push(-h,U),q&&((c.viewHooks||(c.viewHooks=[])).push(h,q),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(h,q)),null!=oe&&(c.destroyHooks||(c.destroyHooks=[])).push(h,oe)}}function Ua(c,u,h){Wa(c,u,3,h)}function Ga(c,u,h,v){(3&c[2])===h&&Wa(c,u,h,v)}function xh(c,u){let h=c[2];(3&h)===u&&(h&=2047,h+=1,c[2]=h)}function Wa(c,u,h,v){const T=v??-1,P=u.length-1;let B=0;for(let U=void 0!==v?65535&c[L]:0;U<P;U++)if("number"==typeof u[U+1]){if(B=u[U],null!=v&&B>=v)break}else u[U]<0&&(c[L]+=65536),(B<T||-1==T)&&(bh(c,h,u,U),c[L]=(4294901760&c[L])+U+2),U++}function bh(c,u,h,v){const w=h[v]<0,T=h[v+1],B=c[w?-h[v]:h[v]];if(w){if(c[2]>>11<c[L]>>16&&(3&c[2])===u){c[2]+=2048;try{T.call(B)}finally{}}}else try{T.call(B)}finally{}}class vr{constructor(u,h,v){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=v}}function vo(c,u,h){let v=0;for(;v<h.length;){const w=h[v];if("number"==typeof w){if(0!==w)break;v++;const T=h[v++],P=h[v++],B=h[v++];c.setAttribute(u,P,B,T)}else{const T=w,P=h[++v];td(T)?c.setProperty(u,T,P):c.setAttribute(u,T,P),v++}}return v}function jl(c){return 3===c||4===c||6===c}function td(c){return 64===c.charCodeAt(0)}function $l(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let h=-1;for(let v=0;v<u.length;v++){const w=u[v];"number"==typeof w?h=w:0===h||Ch(c,h,w,null,-1===h||2===h?u[++v]:null)}}return c}function Ch(c,u,h,v,w){let T=0,P=c.length;if(-1===u)P=-1;else for(;T<c.length;){const B=c[T++];if("number"==typeof B){if(B===u){P=-1;break}if(B>u){P=T-1;break}}}for(;T<c.length;){const B=c[T];if("number"==typeof B)break;if(B===h){if(null===v)return void(null!==w&&(c[T+1]=w));if(v===c[T+1])return void(c[T+2]=w)}T++,null!==v&&T++,null!==w&&T++}-1!==P&&(c.splice(P,0,u),T=P+1),c.splice(T++,0,h),null!==v&&c.splice(T++,0,v),null!==w&&c.splice(T++,0,w)}function op(c){return-1!==c}function fs(c){return 32767&c}function $o(c,u){let h=function ap(c){return c>>16}(c),v=u;for(;h>0;)v=v[S],h--;return v}let nd=!0;function Yl(c){const u=nd;return nd=c,u}let Sh=0;const ar={};function yo(c,u){const h=Zc(c,u);if(-1!==h)return h;const v=u[1];v.firstCreatePass&&(c.injectorIndex=u.length,id(v.data,c),id(u,null),id(v.blueprint,null));const w=Xl(c,u),T=c.injectorIndex;if(op(w)){const P=fs(w),B=$o(w,u),U=B[1].data;for(let q=0;q<8;q++)u[T+q]=B[P+q]|U[P+q]}return u[T+8]=w,T}function id(c,u){c.push(0,0,0,0,0,0,0,0,u)}function Zc(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function Xl(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let h=0,v=null,w=u;for(;null!==w;){if(v=Ka(w),null===v)return-1;if(h++,w=w[S],-1!==v.injectorIndex)return v.injectorIndex|h<<16}return-1}function pa(c,u,h){!function Th(c,u,h){let v;"string"==typeof h?v=h.charCodeAt(0)||0:h.hasOwnProperty(Ai)&&(v=h[Ai]),null==v&&(v=h[Ai]=Sh++);const w=255&v;u.data[c+(w>>5)]|=1<<w}(c,u,h)}function $a(c,u,h){if(h&Ht.Optional||void 0!==c)return c;it()}function ga(c,u,h,v){if(h&Ht.Optional&&void 0===v&&(v=null),0==(h&(Ht.Self|Ht.Host))){const w=c[9],T=vi(void 0);try{return w?w.get(u,v,h&Ht.Optional):us(u,v,h&Ht.Optional)}finally{vi(T)}}return $a(v,0,h)}function Ya(c,u,h,v=Ht.Default,w){if(null!==c){if(1024&u[2]){const P=function up(c,u,h,v,w){let T=c,P=u;for(;null!==T&&null!==P&&1024&P[2]&&!(256&P[2]);){const B=Ah(T,P,h,v|Ht.Self,ar);if(B!==ar)return B;let U=T.parent;if(!U){const q=P[21];if(q){const oe=q.get(h,ar,v);if(oe!==ar)return oe}U=Ka(P),P=P[S]}T=U}return w}(c,u,h,v,ar);if(P!==ar)return P}const T=Ah(c,u,h,v,ar);if(T!==ar)return T}return ga(u,h,v,w)}function Ah(c,u,h,v,w){const T=function cp(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Ai)?c[Ai]:void 0;return"number"==typeof u?u>=0?255&u:sd:u}(h);if("function"==typeof T){if(!mh(u,c,v))return v&Ht.Host?$a(w,0,v):ga(u,h,v,w);try{const P=T(v);if(null!=P||v&Ht.Optional)return P;it()}finally{vh()}}else if("number"==typeof T){let P=null,B=Zc(c,u),U=-1,q=v&Ht.Host?u[D][6]:null;for((-1===B||v&Ht.SkipSelf)&&(U=-1===B?Xl(c,u):u[B+8],-1!==U&&Qc(v,!1)?(P=u[1],B=fs(U),u=$o(U,u)):B=-1);-1!==B;){const oe=u[1];if(Xa(T,B,oe.data)){const pe=Kc(B,u,h,P,v,q);if(pe!==ar)return pe}U=u[B+8],-1!==U&&Qc(v,u[1].data[B+8]===q)&&Xa(T,B,u)?(P=oe,B=fs(U),u=$o(U,u)):B=-1}}return w}function Kc(c,u,h,v,w,T){const P=u[1],B=P.data[c+8],oe=Zl(B,P,h,null==v?ct(B)&&nd:v!=P&&0!=(3&B.type),w&Ht.Host&&T===B);return null!==oe?Yr(u,P,oe,B):ar}function Zl(c,u,h,v,w){const T=c.providerIndexes,P=u.data,B=1048575&T,U=c.directiveStart,oe=T>>20,Le=w?B+oe:c.directiveEnd;for(let Ge=v?B:B+oe;Ge<Le;Ge++){const lt=P[Ge];if(Ge<U&&h===lt||Ge>=U&&lt.type===h)return Ge}if(w){const Ge=P[U];if(Ge&&It(Ge)&&Ge.type===h)return U}return null}function Yr(c,u,h,v){let w=c[h];const T=u.data;if(function ed(c){return c instanceof vr}(w)){const P=w;P.resolving&&function Bt(c,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${c}`:"";throw new et(-200,`Circular dependency in DI detected for ${c}${h}`)}(function he(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():nt(c)}(T[h]));const B=Yl(P.canSeeViewProviders);P.resolving=!0;const U=P.injectImpl?vi(P.injectImpl):null;mh(c,v,Ht.Default);try{w=c[h]=P.factory(void 0,T,c,v),u.firstCreatePass&&h>=v.directiveStart&&function Ju(c,u,h){const{ngOnChanges:v,ngOnInit:w,ngDoCheck:T}=u.type.prototype;if(v){const P=uh(u);(h.preOrderHooks||(h.preOrderHooks=[])).push(c,P),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,P)}w&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-c,w),T&&((h.preOrderHooks||(h.preOrderHooks=[])).push(c,T),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,T))}(h,T[h],u)}finally{null!==U&&vi(U),Yl(B),P.resolving=!1,vh()}}return w}function Xa(c,u,h){return!!(h[u+(c>>5)]&1<<c)}function Qc(c,u){return!(c&Ht.Self||c&Ht.Host&&u)}class qa{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,v){return Ya(this._tNode,this._lView,u,v,h)}}function sd(){return new qa(ds(),gt())}function Yo(c){return wi(()=>{const u=c.prototype.constructor,h=u[is]||Za(u),v=Object.prototype;let w=Object.getPrototypeOf(c.prototype).constructor;for(;w&&w!==v;){const T=w[is]||Za(w);if(T&&T!==h)return T;w=Object.getPrototypeOf(w)}return T=>new T})}function Za(c){return St(c)?()=>{const u=Za(Be(c));return u&&u()}:ks(c)}function Ka(c){const u=c[1],h=u.type;return 2===h?u.declTNode:1===h?c[6]:null}function Jc(c){return function ql(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const h=c.attrs;if(h){const v=h.length;let w=0;for(;w<v;){const T=h[w];if(jl(T))break;if(0===T)w+=2;else if("number"==typeof T)for(w++;w<v&&"string"==typeof h[w];)w++;else{if(T===u)return h[w+1];w+=2}}}return null}(ds(),c)}const Qa="__parameters__";function el(c,u,h){return wi(()=>{const v=function rd(c){return function(...h){if(c){const v=c(...h);for(const w in v)this[w]=v[w]}}}(u);function w(...T){if(this instanceof w)return v.apply(this,T),this;const P=new w(...T);return B.annotation=P,B;function B(U,q,oe){const pe=U.hasOwnProperty(Qa)?U[Qa]:Object.defineProperty(U,Qa,{value:[]})[Qa];for(;pe.length<=oe;)pe.push(null);return(pe[oe]=pe[oe]||[]).push(P),U}}return h&&(w.prototype=Object.create(h.prototype)),w.prototype.ngMetadataName=c,w.annotationCls=w,w})}class ki{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Sn({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ji(c,u){void 0===u&&(u=c);for(let h=0;h<c.length;h++){let v=c[h];Array.isArray(v)?(u===c&&(u=c.slice(0,h)),ji(v,u)):u!==c&&u.push(v)}return u}function Xo(c,u){c.forEach(h=>Array.isArray(h)?Xo(h,u):u(h))}function Kl(c,u,h){u>=c.length?c.push(h):c.splice(u,0,h)}function es(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function qr(c,u){const h=[];for(let v=0;v<c;v++)h.push(u);return h}function lr(c,u,h){let v=Ks(c,u);return v>=0?c[1|v]=h:(v=~v,function Nm(c,u,h,v){let w=c.length;if(w==u)c.push(h,v);else if(1===w)c.push(v,c[0]),c[0]=h;else{for(w--,c.push(c[w-1],c[w]);w>u;)c[w]=c[w-2],w--;c[u]=h,c[u+1]=v}}(c,v,u,h)),v}function tu(c,u){const h=Ks(c,u);if(h>=0)return c[1|h]}function Ks(c,u){return function sl(c,u,h){let v=0,w=c.length>>h;for(;w!==v;){const T=v+(w-v>>1),P=c[T<<h];if(u===P)return T<<h;P>u?w=T:v=T+1}return~(w<<h)}(c,u,1)}const Zr={},ou="__NG_DI_FLAG__",ol="ngTempTokenPath",xo=/\n/gm,bo="__source";let Jl;function al(c){const u=Jl;return Jl=c,u}function Lh(c,u=Ht.Default){if(void 0===Jl)throw new et(-203,!1);return null===Jl?us(c,void 0,u):Jl.get(c,u&Ht.Optional?null:void 0,u)}function rs(c,u=Ht.Default){return(function Ui(){return Zi}()||Lh)(Be(c),u)}function Ph(c,u=Ht.Default){return"number"!=typeof u&&(u=0|(u.optional&&8)|(u.host&&1)|(u.self&&2)|(u.skipSelf&&4)),rs(c,u)}function G(c){const u=[];for(let h=0;h<c.length;h++){const v=Be(c[h]);if(Array.isArray(v)){if(0===v.length)throw new et(900,!1);let w,T=Ht.Default;for(let P=0;P<v.length;P++){const B=v[P],U=ie(B);"number"==typeof U?-1===U?w=B.token:T|=U:w=B}u.push(rs(w,T))}else u.push(rs(v))}return u}function Y(c,u){return c[ou]=u,c.prototype[ou]=u,c}function ie(c){return c[ou]}const ft=Y(el("Optional"),8),an=Y(el("SkipSelf"),4);let xp,ld,ud;function Aw(c){xp=c}function cd(c){return function Rh(){if(void 0===ld&&(ld=null,yn.trustedTypes))try{ld=yn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return ld}()?.createHTML(c)||c}function Fh(c){return function wp(){if(void 0===ud&&(ud=null,yn.trustedTypes))try{ud=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return ud}()?.createHTML(c)||c}class qo{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nh extends qo{getTypeName(){return"HTML"}}class Cp extends qo{getTypeName(){return"Style"}}class Zo extends qo{getTypeName(){return"Script"}}class Sp extends qo{getTypeName(){return"URL"}}class lu extends qo{getTypeName(){return"ResourceURL"}}function ya(c){return c instanceof qo?c.changingThisBreaksApplicationSecurity:c}function Co(c,u){const h=function Tp(c){return c instanceof qo&&c.getTypeName()||null}(c);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===u}function k_(c){return new Nh(c)}function Hm(c){return new Cp(c)}function ul(c){return new Zo(c)}function zm(c){return new Sp(c)}function Um(c){return new lu(c)}class sc{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(cd(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class Bh{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const v=this.inertDocument.createElement("body");h.appendChild(v)}}getInertBodyElement(u){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=cd(u),h;const v=this.inertDocument.createElement("body");return v.innerHTML=cd(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(u){const h=u.attributes;for(let w=h.length-1;0<w;w--){const P=h.item(w).name;("xmlns:ns1"===P||0===P.indexOf("ns1:"))&&u.removeAttribute(P)}let v=u.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const E=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function I(c){return(c=String(c)).match(E)?c:"unsafe:"+c}function V(c){const u={};for(const h of c.split(","))u[h]=!0;return u}function ne(...c){const u={};for(const h of c)for(const v in h)h.hasOwnProperty(v)&&(u[v]=!0);return u}const de=V("area,br,col,hr,img,wbr"),ze=V("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ht=V("rp,rt"),Ii=ne(de,ne(ze,V("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ne(ht,V("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ne(ht,ze)),cr=V("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ep=ne(cr,V("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),V("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dp=V("script,style,template");class I_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,v=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?v=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,v&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let w=this.checkClobberedElement(h,h.nextSibling);if(w){h=w;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!Ii.hasOwnProperty(h))return this.sanitizedSomething=!0,!Dp.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const v=u.attributes;for(let w=0;w<v.length;w++){const T=v.item(w),P=T.name,B=P.toLowerCase();if(!Ep.hasOwnProperty(B)){this.sanitizedSomething=!0;continue}let U=T.value;cr[B]&&(U=I(U)),this.buf.push(" ",P,'="',kp(U),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();Ii.hasOwnProperty(h)&&!de.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(kp(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const M_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cu=/([^\#-~ |!])/g;function kp(c){return c.replace(/&/g,"&amp;").replace(M_,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(cu,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hd;function Vh(c,u){let h=null;try{hd=hd||function eo(c){const u=new Bh(c);return function R(){try{return!!(new window.DOMParser).parseFromString(cd(""),"text/html")}catch{return!1}}()?new sc(u):u}(c);let v=u?String(u):"";h=hd.getInertBodyElement(v);let w=5,T=v;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,v=T,T=h.innerHTML,h=hd.getInertBodyElement(v)}while(v!==T);return cd((new I_).sanitizeChildren(rc(h)||h))}finally{if(h){const v=rc(h)||h;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function rc(c){return"content"in c&&function Hh(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var $i=(()=>(($i=$i||{})[$i.NONE=0]="NONE",$i[$i.HTML=1]="HTML",$i[$i.STYLE=2]="STYLE",$i[$i.SCRIPT=3]="SCRIPT",$i[$i.URL=4]="URL",$i[$i.RESOURCE_URL=5]="RESOURCE_URL",$i))();function Ip(c){const u=fd();return u?Fh(u.sanitize($i.HTML,c)||""):Co(c,"HTML")?Fh(ya(c)):Vh(function Oh(){return void 0!==xp?xp:typeof document<"u"?document:void 0}(),nt(c))}function Mp(c){const u=fd();return u?u.sanitize($i.URL,c)||"":Co(c,"URL")?ya(c):I(nt(c))}function fd(){const c=gt();return c&&c[12]}const Lp=new ki("ENVIRONMENT_INITIALIZER"),Pp=new ki("INJECTOR",-1),Ew=new ki("INJECTOR_DEF_TYPES");class Dw{get(u,h=Zr){if(h===Zr){const v=new Error(`NullInjectorError: No provider for ${je(u)}!`);throw v.name="NullInjectorError",v}return h}}function kE(...c){return{\u0275providers:kw(0,c)}}function kw(c,...u){const h=[],v=new Set;let w;return Xo(u,T=>{const P=T;Op(P,h,[],v)&&(w||(w=[]),w.push(P))}),void 0!==w&&Iw(w,h),h}function Iw(c,u){for(let h=0;h<c.length;h++){const{providers:w}=c[h];Xo(w,T=>{u.push(T)})}}function Op(c,u,h,v){if(!(c=Be(c)))return!1;let w=null,T=sr(c);const P=!T&&se(c);if(T||P){if(P&&!P.standalone)return!1;w=c}else{const U=c.ngModule;if(T=sr(U),!T)return!1;w=U}const B=v.has(w);if(P){if(B)return!1;if(v.add(w),P.dependencies){const U="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const q of U)Op(q,u,h,v)}}else{if(!T)return!1;{if(null!=T.imports&&!B){let q;v.add(w);try{Xo(T.imports,oe=>{Op(oe,u,h,v)&&(q||(q=[]),q.push(oe))})}finally{}void 0!==q&&Iw(q,u)}if(!B){const q=ks(w)||(()=>new w);u.push({provide:w,useFactory:q,deps:mn},{provide:Ew,useValue:w,multi:!0},{provide:Lp,useValue:()=>rs(w),multi:!0})}const U=T.providers;null==U||B||Xo(U,oe=>{u.push(oe)})}}return w!==c&&void 0!==c.providers}const Gm=Ze({provide:String,useValue:Ze});function Rp(c){return null!==c&&"object"==typeof c&&Gm in c}function uu(c){return"function"==typeof c}const Lw=new ki("Set Injector scope."),Uh={},qF={};let P_;function Wm(){return void 0===P_&&(P_=new Dw),P_}class du{}class jm extends du{constructor(u,h,v,w){super(),this.parent=h,this.source=v,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,O_(u,P=>this.processProvider(P)),this.records.set(Pp,Gh(void 0,this)),w.has("environment")&&this.records.set(du,Gh(void 0,this));const T=this.records.get(Lw);null!=T&&"string"==typeof T.value&&this.scopes.add(T.value),this.injectorDefTypes=new Set(this.get(Ew.multi,mn,Ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const h=al(this),v=vi(void 0);try{return u()}finally{al(h),vi(v)}}get(u,h=Zr,v=Ht.Default){this.assertNotDestroyed();const w=al(this),T=vi(void 0);try{if(!(v&Ht.SkipSelf)){let B=this.records.get(u);if(void 0===B){const U=function OE(c){return"function"==typeof c||"object"==typeof c&&c instanceof ki}(u)&&Ri(u);B=U&&this.injectableDefInScope(U)?Gh($m(u),Uh):null,this.records.set(u,B)}if(null!=B)return this.hydrate(u,B)}return(v&Ht.Self?Wm():this.parent).get(u,h=v&Ht.Optional&&h===Zr?null:h)}catch(P){if("NullInjectorError"===P.name){if((P[ol]=P[ol]||[]).unshift(je(u)),w)throw P;return function xe(c,u,h,v){const w=c[ol];throw u[bo]&&w.unshift(u[bo]),c.message=function Ve(c,u,h,v=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let w=je(u);if(Array.isArray(u))w=u.map(je).join(" -> ");else if("object"==typeof u){let T=[];for(let P in u)if(u.hasOwnProperty(P)){let B=u[P];T.push(P+":"+("string"==typeof B?JSON.stringify(B):je(B)))}w=`{${T.join(", ")}}`}return`${h}${v?"("+v+")":""}[${w}]: ${c.replace(xo,"\n  ")}`}("\n"+c.message,w,h,v),c.ngTokenPath=w,c[ol]=null,c}(P,u,"R3InjectorError",this.source)}throw P}finally{vi(T),al(w)}}resolveInjectorInitializers(){const u=al(this),h=vi(void 0);try{const v=this.get(Lp.multi,mn,Ht.Self);for(const w of v)w()}finally{al(u),vi(h)}}toString(){const u=[],h=this.records;for(const v of h.keys())u.push(je(v));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(u){let h=uu(u=Be(u))?u:Be(u&&u.provide);const v=function ME(c){return Rp(c)?Gh(void 0,c.useValue):Gh(Pw(c),Uh)}(u);if(uu(u)||!0!==u.multi)this.records.get(h);else{let w=this.records.get(h);w||(w=Gh(void 0,Uh,!0),w.factory=()=>G(w.multi),this.records.set(h,w)),h=u,w.multi.push(u)}this.records.set(h,v)}hydrate(u,h){return h.value===Uh&&(h.value=qF,h.value=h.factory()),"object"==typeof h.value&&h.value&&function PE(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=Be(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function $m(c){const u=Ri(c),h=null!==u?u.factory:ks(c);if(null!==h)return h;if(c instanceof ki)throw new et(204,!1);if(c instanceof Function)return function ZF(c){const u=c.length;if(u>0)throw qr(u,"?"),new et(204,!1);const h=function Di(c){const u=c&&(c[vs]||c[rr]);if(u){const h=function Es(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),u}return null}(c);return null!==h?()=>h.factory(c):()=>new c}(c);throw new et(204,!1)}function Pw(c,u,h){let v;if(uu(c)){const w=Be(c);return ks(w)||$m(w)}if(Rp(c))v=()=>Be(c.useValue);else if(function Mw(c){return!(!c||!c.useFactory)}(c))v=()=>c.useFactory(...G(c.deps||[]));else if(function Fp(c){return!(!c||!c.useExisting)}(c))v=()=>rs(Be(c.useExisting));else{const w=Be(c&&(c.useClass||c.provide));if(!function LE(c){return!!c.deps}(c))return ks(w)||$m(w);v=()=>new w(...G(c.deps))}return v}function Gh(c,u,h=!1){return{factory:c,value:u,multi:h?[]:void 0}}function Ow(c){return!!c.\u0275providers}function O_(c,u){for(const h of c)Array.isArray(h)?O_(h,u):Ow(h)?O_(h.\u0275providers,u):u(h)}class R_{}class NE{resolveComponentFactory(u){throw function FE(c){const u=Error(`No component factory found for ${je(c)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=c,u}(u)}}let Np=(()=>{class c{}return c.NULL=new NE,c})();function BE(){return pd(ds(),gt())}function pd(c,u){return new Bp(Ms(c,u))}let Bp=(()=>{class c{constructor(h){this.nativeElement=h}}return c.__NG_ELEMENT_ID__=BE,c})();function Qo(c){return c instanceof Bp?c.nativeElement:c}class Wh{}let F_=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function VE(){const c=gt(),h=si(ds().index,c);return(ke(h)?h:c)[m]}(),c})(),HE=(()=>{class c{}return c.\u0275prov=Sn({token:c,providedIn:"root",factory:()=>null}),c})();class Xm{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Fw=new Xm("14.2.10"),N_={};function V_(c){return c.ngOriginalError}class zp{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&V_(u);for(;h&&V_(h);)h=V_(h);return h||null}}const z_=new Map;let ZE=0;const Ww="__ngContext__";function Yn(c,u){ke(u)?(c[Ww]=u[20],function QE(c){z_.set(c[20],c)}(u)):c[Ww]=u}function W_(c){return c.ownerDocument.defaultView}function oc(c){return c instanceof Function?c():c}var hl=(()=>((hl=hl||{})[hl.Important=1]="Important",hl[hl.DashCase=2]="DashCase",hl))();function gd(c,u){return undefined(c,u)}function jh(c){const u=c[3];return Me(u)?u[3]:u}function hu(c){return vd(c[13])}function ac(c){return vd(c[4])}function vd(c){for(;null!==c&&!Me(c);)c=c[4];return c}function fu(c,u,h,v,w){if(null!=v){let T,P=!1;Me(v)?T=v:ke(v)&&(P=!0,v=v[0]);const B=Wi(v);0===c&&null!==h?null==w?jp(u,h,B):_d(u,h,B,w||null,!0):1===c&&null!==h?_d(u,h,B,w||null,!0):2===c?function Qw(c,u,h){const v=dc(c,u);v&&function $p(c,u,h,v){c.removeChild(u,h,v)}(c,v,u,h)}(u,B,P):3===c&&u.destroyNode(B),null!=T&&function tC(c,u,h,v,w){const T=h[7];T!==Wi(h)&&fu(u,c,v,T,w);for(let B=Z;B<h.length;B++){const U=h[B];$h(U[1],U,c,u,v,T)}}(u,c,T,h,w)}}function lc(c,u,h){return c.createElement(u,h)}function uc(c,u){const h=c[9],v=h.indexOf(u),w=u[3];512&u[2]&&(u[2]&=-513,Ki(w,-1)),h.splice(v,1)}function ys(c,u){if(c.length<=Z)return;const h=Z+u,v=c[h];if(v){const w=v[17];null!==w&&w!==c&&uc(w,v),u>0&&(c[h-1][4]=v[4]);const T=es(c,Z+u);!function Nr(c,u){$h(c,u,u[m],2,null,null),u[0]=null,u[6]=null}(v[1],v);const P=T[O];null!==P&&P.detachView(T[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function pl(c,u){if(!(128&u[2])){const h=u[m];h.destroyNode&&$h(c,u,h,3,null,null),function qw(c){let u=c[13];if(!u)return $_(c[1],c);for(;u;){let h=null;if(ke(u))h=u[13];else{const v=u[Z];v&&(h=v)}if(!h){for(;u&&!u[4]&&u!==c;)ke(u)&&$_(u[1],u),u=u[3];null===u&&(u=c),ke(u)&&$_(u[1],u),h=u&&u[4]}u=h}}(u)}}function $_(c,u){if(!(128&u[2])){u[2]&=-65,u[2]|=128,function Y_(c,u){let h;if(null!=c&&null!=(h=c.destroyHooks))for(let v=0;v<h.length;v+=2){const w=u[h[v]];if(!(w instanceof vr)){const T=h[v+1];if(Array.isArray(T))for(let P=0;P<T.length;P+=2){const B=w[T[P]],U=T[P+1];try{U.call(B)}finally{}}else try{T.call(w)}finally{}}}}(c,u),function Wp(c,u){const h=c.cleanup,v=u[7];let w=-1;if(null!==h)for(let T=0;T<h.length-1;T+=2)if("string"==typeof h[T]){const P=h[T+1],B="function"==typeof P?P(u):Wi(u[P]),U=v[w=h[T+2]],q=h[T+3];"boolean"==typeof q?B.removeEventListener(h[T],U,q):q>=0?v[w=q]():v[w=-q].unsubscribe(),T+=2}else{const P=v[w=h[T+1]];h[T].call(P)}if(null!==v){for(let T=w+1;T<v.length;T++)(0,v[T])();u[7]=null}}(c,u),1===u[1].type&&u[m].destroy();const h=u[17];if(null!==h&&Me(u[3])){h!==u[3]&&uc(h,u);const v=u[O];null!==v&&v.detachView(c)}!function G_(c){z_.delete(c[20])}(u)}}function X_(c,u,h){return function Zw(c,u,h){let v=u;for(;null!==v&&40&v.type;)v=(u=v).parent;if(null===v)return h[0];if(2&v.flags){const w=c.data[v.directiveStart].encapsulation;if(w===tn.None||w===tn.Emulated)return null}return Ms(v,h)}(c,u.parent,h)}function _d(c,u,h,v,w){c.insertBefore(u,h,v,w)}function jp(c,u,h){c.appendChild(u,h)}function Xn(c,u,h,v,w){null!==v?_d(c,u,h,v,w):jp(c,u,h)}function dc(c,u){return c.parentNode(u)}function Kw(c,u,h){return q_(c,u,h)}let q_=function _a(c,u,h){return 40&c.type?Ms(c,h):null};function K_(c,u,h,v){const w=X_(c,v,u),T=u[m],B=Kw(v.parent||u[6],v,u);if(null!=w)if(Array.isArray(h))for(let U=0;U<h.length;U++)Xn(T,w,h[U],B,!1);else Xn(T,w,h,B,!1)}function Ls(c,u){if(null!==u){const h=u.type;if(3&h)return Ms(u,c);if(4&h)return Yp(-1,c[u.index]);if(8&h){const v=u.child;if(null!==v)return Ls(c,v);{const w=c[u.index];return Me(w)?Yp(-1,w):Wi(w)}}if(32&h)return gd(u,c)()||Wi(c[u.index]);{const v=hc(c,u);return null!==v?Array.isArray(v)?v[0]:Ls(jh(c[D]),v):Ls(c,u.next)}}return null}function hc(c,u){return null!==u?c[D][6].projection[u.projection]:null}function Yp(c,u){const h=Z+c+1;if(h<u.length){const v=u[h],w=v[1].firstChild;if(null!==w)return Ls(v,w)}return u[7]}function Q_(c,u,h,v,w,T,P){for(;null!=h;){const B=v[h.index],U=h.type;if(P&&0===u&&(B&&Yn(Wi(B),v),h.flags|=4),64!=(64&h.flags))if(8&U)Q_(c,u,h.child,v,w,T,!1),fu(u,c,w,B,T);else if(32&U){const q=gd(h,v);let oe;for(;oe=q();)fu(u,c,w,oe,T);fu(u,c,w,B,T)}else 16&U?eC(c,u,v,h,w,T):fu(u,c,w,B,T);h=P?h.projectionNext:h.next}}function $h(c,u,h,v,w,T){Q_(h,v,c.firstChild,u,w,T,!1)}function eC(c,u,h,v,w,T){const P=h[D],U=P[6].projection[v.projection];if(Array.isArray(U))for(let q=0;q<U.length;q++)fu(u,c,w,U[q],T);else Q_(c,u,U,P[3],w,T,!0)}function J_(c,u,h){c.setAttribute(u,"style",h)}function rv(c,u,h){""===h?c.removeAttribute(u,"class"):c.setAttribute(u,"class",h)}function Xp(c,u,h){let v=c.length;for(;;){const w=c.indexOf(u,h);if(-1===w)return w;if(0===w||c.charCodeAt(w-1)<=32){const T=u.length;if(w+T===v||c.charCodeAt(w+T)<=32)return w}h=w+1}}const Qn="ng-template";function qp(c,u,h){let v=0;for(;v<c.length;){let w=c[v++];if(h&&"class"===w){if(w=c[v],-1!==Xp(w.toLowerCase(),u,0))return!0}else if(1===w){for(;v<c.length&&"string"==typeof(w=c[v++]);)if(w.toLowerCase()===u)return!0;return!1}}return!1}function nC(c){return 4===c.type&&c.value!==Qn}function xd(c,u,h){return u===(4!==c.type||h?c.value:Qn)}function dD(c,u,h){let v=4;const w=c.attrs||[],T=function Zp(c){for(let u=0;u<c.length;u++)if(jl(c[u]))return u;return c.length}(w);let P=!1;for(let B=0;B<u.length;B++){const U=u[B];if("number"!=typeof U){if(!P)if(4&v){if(v=2|1&v,""!==U&&!xd(c,U,h)||""===U&&1===u.length){if(ea(v))return!1;P=!0}}else{const q=8&v?U:u[++B];if(8&v&&null!==c.attrs){if(!qp(c.attrs,q,h)){if(ea(v))return!1;P=!0}continue}const pe=ex(8&v?"class":U,w,nC(c),h);if(-1===pe){if(ea(v))return!1;P=!0;continue}if(""!==q){let Le;Le=pe>T?"":w[pe+1].toLowerCase();const Ge=8&v?Le:null;if(Ge&&-1!==Xp(Ge,q,0)||2&v&&q!==Le){if(ea(v))return!1;P=!0}}}}else{if(!P&&!ea(v)&&!ea(U))return!1;if(P&&ea(U))continue;P=!1,v=U|1&v}}return ea(v)||P}function ea(c){return 0==(1&c)}function ex(c,u,h,v){if(null===u)return-1;let w=0;if(v||!h){let T=!1;for(;w<u.length;){const P=u[w];if(P===c)return w;if(3===P||6===P)T=!0;else{if(1===P||2===P){let B=u[++w];for(;"string"==typeof B;)B=u[++w];continue}if(4===P)break;if(0===P){w+=4;continue}}w+=T?1:2}return-1}return function sC(c,u){let h=c.indexOf(4);if(h>-1)for(h++;h<c.length;){const v=c[h];if("number"==typeof v)return-1;if(v===u)return h;h++}return-1}(u,c)}function iC(c,u,h=!1){for(let v=0;v<u.length;v++)if(dD(c,u[v],h))return!0;return!1}function av(c,u){e:for(let h=0;h<u.length;h++){const v=u[h];if(c.length===v.length){for(let w=0;w<c.length;w++)if(c[w]!==v[w])continue e;return!0}}return!1}function rC(c,u){return c?":not("+u.trim()+")":u}function tx(c){let u=c[0],h=1,v=2,w="",T=!1;for(;h<c.length;){let P=c[h];if("string"==typeof P)if(2&v){const B=c[++h];w+="["+P+(B.length>0?'="'+B+'"':"")+"]"}else 8&v?w+="."+P:4&v&&(w+=" "+P);else""!==w&&!ea(P)&&(u+=rC(T,w),w=""),v=P,T=T||!ea(v);h++}return""!==w&&(u+=rC(T,w)),u}const Rn={};function aC(c){lC(jn(),gt(),Ni()+c,!1)}function lC(c,u,h,v){if(!v)if(3==(3&u[2])){const T=c.preOrderCheckHooks;null!==T&&Ua(u,T,h)}else{const T=c.preOrderHooks;null!==T&&Ga(u,T,0,h)}mo(h)}function hC(c,u=null,h=null,v){const w=pu(c,u,h,v);return w.resolveInjectorInitializers(),w}function pu(c,u=null,h=null,v,w=new Set){const T=[h||mn,kE(c)];return v=v||("object"==typeof c?void 0:je(c)),new jm(T,u||Wm(),v||null,w)}let fc=(()=>{class c{static create(h,v){if(Array.isArray(h))return hC({name:""},v,h,"");{const w=h.name??"";return hC({name:w},h.parent,h.providers,w)}}}return c.THROW_IF_NOT_FOUND=Zr,c.NULL=new Dw,c.\u0275prov=Sn({token:c,providedIn:"any",factory:()=>rs(Pp)}),c.__NG_ELEMENT_ID__=-1,c})();function Kh(c,u=Ht.Default){const h=gt();return null===h?rs(c,u):Ya(ds(),h,Be(c),u)}function mC(){throw new Error("invalid")}function pv(c,u){return c<<17|u<<2}function xa(c){return c>>17&32767}function gv(c){return 2|c}function pc(c){return(131068&c)>>2}function mv(c,u){return-131069&c|u<<2}function Jp(c){return 1|c}function DC(c,u){const h=c.contentQueries;if(null!==h)for(let v=0;v<h.length;v+=2){const w=h[v],T=h[v+1];if(-1!==T){const P=c.data[T];Xu(w),P.contentQueries(2,u[T],T)}}}function Cd(c,u,h,v,w,T,P,B,U,q,oe){const pe=u.blueprint.slice();return pe[0]=w,pe[2]=76|v,(null!==oe||c&&1024&c[2])&&(pe[2]|=1024),Pl(pe),pe[3]=pe[S]=c,pe[8]=h,pe[10]=P||c&&c[10],pe[m]=B||c&&c[m],pe[12]=U||c&&c[12]||null,pe[9]=q||c&&c[9]||null,pe[6]=T,pe[20]=function KE(){return ZE++}(),pe[21]=oe,pe[D]=2==u.type?c[D]:pe,pe}function Qh(c,u,h,v,w){let T=c.data[u];if(null===T)T=function yx(c,u,h,v,w){const T=Ba(),P=jc(),U=c.data[u]=function LD(c,u,h,v,w,T){return{type:h,index:v,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?T:T&&T.parent,h,u,v,w);return null===c.firstChild&&(c.firstChild=U),null!==T&&(P?null==T.child&&null!==U.parent&&(T.child=U):null===T.next&&(T.next=U)),U}(c,u,h,v,w),function ph(){return En.lFrame.inI18n}()&&(T.flags|=64);else if(64&T.type){T.type=h,T.value=v,T.attrs=w;const P=function Wc(){const c=En.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}();T.injectorIndex=null===P?-1:P.injectorIndex}return Zs(T,!0),T}function ba(c,u,h,v){if(0===h)return-1;const w=u.length;for(let T=0;T<h;T++)u.push(v),c.blueprint.push(v),c.data.push(null);return w}function Sd(c,u,h){za(u);try{const v=c.viewQuery;null!==v&&Dx(1,v,h);const w=c.template;null!==w&&IC(c,u,w,1,h),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&DC(c,u),c.staticViewQueries&&Dx(2,c.viewQuery,h);const T=c.components;null!==T&&function kC(c,u){for(let h=0;h<u.length;h++)BD(c,u[h])}(u,T)}catch(v){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),v}finally{u[2]&=-5,Wo()}}function Sv(c,u,h,v){const w=u[2];if(128!=(128&w)){za(u);try{Pl(u),function Vl(c){return En.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==h&&IC(c,u,h,2,v);const P=3==(3&w);if(P){const q=c.preOrderCheckHooks;null!==q&&Ua(u,q,null)}else{const q=c.preOrderHooks;null!==q&&Ga(u,q,0,null),xh(u,0)}if(function og(c){for(let u=hu(c);null!==u;u=ac(u)){if(!u[2])continue;const h=u[9];for(let v=0;v<h.length;v++){const w=h[v],T=w[3];0==(512&w[2])&&Ki(T,1),w[2]|=512}}}(u),function HC(c){for(let u=hu(c);null!==u;u=ac(u))for(let h=Z;h<u.length;h++){const v=u[h],w=v[1];Go(v)&&Sv(w,v,w.template,v[8])}}(u),null!==c.contentQueries&&DC(c,u),P){const q=c.contentCheckHooks;null!==q&&Ua(u,q)}else{const q=c.contentHooks;null!==q&&Ga(u,q,1),xh(u,1)}!function ig(c,u){const h=c.hostBindingOpCodes;if(null!==h)try{for(let v=0;v<h.length;v++){const w=h[v];if(w<0)mo(~w);else{const T=w,P=h[++v],B=h[++v];gh(P,T),B(2,u[T])}}}finally{mo(-1)}}(c,u);const B=c.components;null!==B&&function DD(c,u){for(let h=0;h<u.length;h++)zC(c,u[h])}(u,B);const U=c.viewQuery;if(null!==U&&Dx(2,U,v),P){const q=c.viewCheckHooks;null!==q&&Ua(u,q)}else{const q=c.viewHooks;null!==q&&Ga(u,q,2),xh(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),u[2]&=-41,512&u[2]&&(u[2]&=-513,Ki(u[3],-1))}finally{Wo()}}}function IC(c,u,h,v,w){const T=Ni(),P=2&v;try{mo(-1),P&&u.length>j&&lC(c,u,j,!1),h(v,w)}finally{mo(T)}}function Td(c,u,h){!ha()||(function FD(c,u,h,v){const w=h.directiveStart,T=h.directiveEnd;c.firstCreatePass||yo(h,u),Yn(v,u);const P=h.initialInputs;for(let B=w;B<T;B++){const U=c.data[B],q=It(U);q&&ND(u,h,U);const oe=Yr(u,c,B,h);Yn(oe,u),null!==P&&BC(0,B-w,oe,U,0,P),q&&(si(h.index,u)[8]=oe)}}(c,u,h,Ms(h,u)),128==(128&h.flags)&&function OC(c,u,h){const v=h.directiveStart,w=h.directiveEnd,T=h.index,P=function np(){return En.lFrame.currentDirectiveIndex}();try{mo(T);for(let B=v;B<w;B++){const U=c.data[B],q=u[B];Ha(B),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&RC(U,q)}}finally{mo(-1),Ha(P)}}(c,u,h))}function _x(c,u,h=Ms){const v=u.localNames;if(null!==v){let w=u.index+1;for(let T=0;T<v.length;T+=2){const P=v[T+1],B=-1===P?h(u,c):c[P];c[w++]=B}}}function MC(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=xx(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function xx(c,u,h,v,w,T,P,B,U,q){const oe=j+v,pe=oe+w,Le=function kD(c,u){const h=[];for(let v=0;v<u;v++)h.push(v<c?null:Rn);return h}(oe,pe),Ge="function"==typeof q?q():q;return Le[1]={type:c,blueprint:Le,template:h,queries:null,viewQuery:B,declTNode:u,data:Le.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:U,consts:Ge,incompleteFirstPass:!1}}function MD(c,u,h,v){const w=UC(u);null===h?w.push(v):(w.push(h),c.firstCreatePass&&GC(c).push(v,w.length-1))}function Tv(c,u,h){for(let v in c)if(c.hasOwnProperty(v)){const w=c[v];(h=null===h?{}:h).hasOwnProperty(v)?h[v].push(u,w):h[v]=[u,w]}return h}function sg(c,u){const v=u.directiveEnd,w=c.data,T=u.attrs,P=[];let B=null,U=null;for(let q=u.directiveStart;q<v;q++){const oe=w[q],pe=oe.inputs,Le=null===T||nC(u)?null:VC(pe,T);P.push(Le),B=Tv(pe,q,B),U=Tv(oe.outputs,q,U)}null!==B&&(B.hasOwnProperty("class")&&(u.flags|=16),B.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=P,u.inputs=B,u.outputs=U}function To(c,u,h,v,w,T,P,B){const U=Ms(u,h);let oe,q=u.inputs;!B&&null!=q&&(oe=q[v])?(Dv(c,h,oe,v,w),ct(u)&&LC(h,u.index)):3&u.type&&(v=function ef(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(v),w=null!=P?P(w,u.value||"",v):w,T.setProperty(U,v,w))}function LC(c,u){const h=si(u,c);16&h[2]||(h[2]|=32)}function bx(c,u,h,v){let w=!1;if(ha()){const T=function wx(c,u,h){const v=c.directiveRegistry;let w=null;if(v)for(let T=0;T<v.length;T++){const P=v[T];iC(h,P.selectors,!1)&&(w||(w=[]),pa(yo(h,u),c,P.type),It(P)?(Cx(c,h),w.unshift(P)):w.push(P))}return w}(c,u,h),P=null===v?null:{"":-1};if(null!==T){w=!0,FC(h,c.data.length,T.length);for(let oe=0;oe<T.length;oe++){const pe=T[oe];pe.providersResolver&&pe.providersResolver(pe)}let B=!1,U=!1,q=ba(c,u,T.length,null);for(let oe=0;oe<T.length;oe++){const pe=T[oe];h.mergedAttrs=$l(h.mergedAttrs,pe.hostAttrs),NC(c,h,u,q,pe),Av(q,pe,P),null!==pe.contentQueries&&(h.flags|=8),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(h.flags|=128);const Le=pe.type.prototype;!B&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(h.index),B=!0),!U&&(Le.ngOnChanges||Le.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(h.index),U=!0),q++}sg(c,h)}P&&function Sx(c,u,h){if(u){const v=c.localNames=[];for(let w=0;w<u.length;w+=2){const T=h[u[w+1]];if(null==T)throw new et(-301,!1);v.push(u[w],T)}}}(h,v,P)}return h.mergedAttrs=$l(h.mergedAttrs,h.attrs),w}function PC(c,u,h,v,w,T){const P=T.hostBindings;if(P){let B=c.hostBindingOpCodes;null===B&&(B=c.hostBindingOpCodes=[]);const U=~u.index;(function RD(c){let u=c.length;for(;u>0;){const h=c[--u];if("number"==typeof h&&h<0)return h}return 0})(B)!=U&&B.push(U),B.push(v,w,P)}}function RC(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function Cx(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function Av(c,u,h){if(h){if(u.exportAs)for(let v=0;v<u.exportAs.length;v++)h[u.exportAs[v]]=c;It(u)&&(h[""]=c)}}function FC(c,u,h){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+h,c.providerIndexes=u}function NC(c,u,h,v,w){c.data[v]=w;const T=w.factory||(w.factory=ks(w.type)),P=new vr(T,It(w),Kh);c.blueprint[v]=P,h[v]=P,PC(c,u,0,v,ba(c,h,w.hostVars,Rn),w)}function ND(c,u,h){const v=Ms(u,c),w=MC(h),T=c[10],P=Ev(c,Cd(c,w,null,h.onPush?32:16,v,u,T,T.createRenderer(v,h),null,null,null));c[u.index]=P}function vl(c,u,h,v,w,T){const P=Ms(c,u);!function tf(c,u,h,v,w,T,P){if(null==T)c.removeAttribute(u,w,h);else{const B=null==P?nt(T):P(T,v||"",w);c.setAttribute(u,w,B,h)}}(u[m],P,T,c.value,h,v,w)}function BC(c,u,h,v,w,T){const P=T[u];if(null!==P){const B=v.setInput;for(let U=0;U<P.length;){const q=P[U++],oe=P[U++],pe=P[U++];null!==B?v.setInput(h,pe,q,oe):h[oe]=pe}}}function VC(c,u){let h=null,v=0;for(;v<u.length;){const w=u[v];if(0!==w)if(5!==w){if("number"==typeof w)break;c.hasOwnProperty(w)&&(null===h&&(h=[]),h.push(w,c[w],u[v+1])),v+=2}else v+=2;else v+=4}return h}function rg(c,u,h,v){return new Array(c,!0,!1,u,null,0,v,h,null,null)}function zC(c,u){const h=si(u,c);if(Go(h)){const v=h[1];48&h[2]?Sv(v,h,v.template,h[8]):h[5]>0&&Ax(h)}}function Ax(c){for(let v=hu(c);null!==v;v=ac(v))for(let w=Z;w<v.length;w++){const T=v[w];if(Go(T))if(512&T[2]){const P=T[1];Sv(P,T,P.template,T[8])}else T[5]>0&&Ax(T)}const h=c[1].components;if(null!==h)for(let v=0;v<h.length;v++){const w=si(h[v],c);Go(w)&&w[5]>0&&Ax(w)}}function BD(c,u){const h=si(u,c),v=h[1];(function VD(c,u){for(let h=u.length;h<c.blueprint.length;h++)u.push(c.blueprint[h])})(v,h),Sd(v,h,h[8])}function Ev(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function Ex(c){for(;c;){c[2]|=32;const u=jh(c);if(ei(c)&&!u)return c;c=u}return null}function Ad(c,u,h,v=!0){const w=u[10];w.begin&&w.begin();try{Sv(c,u,c.template,h)}catch(P){throw v&&jC(u,P),P}finally{w.end&&w.end()}}function Dx(c,u,h){Xu(0),u(c,h)}function UC(c){return c[7]||(c[7]=[])}function GC(c){return c.cleanup||(c.cleanup=[])}function jC(c,u){const h=c[9],v=h?h.get(zp,null):null;v&&v.handleError(u)}function Dv(c,u,h,v,w){for(let T=0;T<h.length;){const P=h[T++],B=h[T++],U=u[P],q=c.data[P];null!==q.setInput?q.setInput(U,w,v,B):U[B]=w}}function ag(c,u,h){let v=h?c.styles:null,w=h?c.classes:null,T=0;if(null!==u)for(let P=0;P<u.length;P++){const B=u[P];"number"==typeof B?T=B:1==T?w=Ie(w,B):2==T&&(v=Ie(v,B+": "+u[++P]+";"))}h?c.styles=v:c.stylesWithoutHost=v,h?c.classes=w:c.classesWithoutHost=w}function lg(c,u,h,v,w=!1){for(;null!==h;){const T=u[h.index];if(null!==T&&v.push(Wi(T)),Me(T))for(let B=Z;B<T.length;B++){const U=T[B],q=U[1].firstChild;null!==q&&lg(U[1],U,q,v)}const P=h.type;if(8&P)lg(c,u,h.child,v);else if(32&P){const B=gd(h,u);let U;for(;U=B();)v.push(U)}else if(16&P){const B=hc(u,h);if(Array.isArray(B))v.push(...B);else{const U=jh(u[D]);lg(U[1],U,B,v,!0)}}h=w?h.projectionNext:h.next}return v}class nf{constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,h=u[1];return lg(h,u,h.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Me(u)){const h=u[8],v=h?h.indexOf(this):-1;v>-1&&(ys(u,v),es(h,v))}this._attachedToViewContainer=!1}pl(this._lView[1],this._lView)}onDestroy(u){MD(this._lView[1],this._lView,null,u)}markForCheck(){Ex(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ad(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iv(c,u){$h(c,u,u[m],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=u}}class $C extends nf{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;Ad(u[1],u,u[8],!1)}checkNoChanges(){}get context(){return null}}class kv extends Np{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=se(u);return new cg(h,this.ngModule)}}function YC(c){const u=[];for(let h in c)c.hasOwnProperty(h)&&u.push({propName:c[h],templateName:h});return u}class zD{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,v){const w=this.injector.get(u,N_,v);return w!==N_||h===N_?w:this.parentInjector.get(u,h,v)}}class cg extends R_{constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function lv(c){return c.map(tx).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return YC(this.componentDef.inputs)}get outputs(){return YC(this.componentDef.outputs)}create(u,h,v,w){let T=(w=w||this.ngModule)instanceof du?w:w?.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const P=T?new zD(u,T):u,B=P.get(Wh,null);if(null===B)throw new et(407,!1);const U=P.get(HE,null),q=B.createRenderer(null,this.componentDef),oe=this.componentDef.selectors[0][0]||"div",pe=v?function ID(c,u,h){return c.selectRootElement(u,h===tn.ShadowDom)}(q,v,this.componentDef.encapsulation):lc(q,oe,function HD(c){const u=c.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(oe)),Le=this.componentDef.onPush?288:272,Ge=xx(0,null,null,1,0,null,null,null,null,null),lt=Cd(null,Ge,null,Le,null,null,B,q,U,P,null);let Mt,Ft;za(lt);try{const nn=function ZC(c,u,h,v,w,T){const P=h[1];h[22]=c;const U=Qh(P,22,2,"#host",null),q=U.mergedAttrs=u.hostAttrs;null!==q&&(ag(U,q,!0),null!==c&&(vo(w,c,q),null!==U.classes&&rv(w,c,U.classes),null!==U.styles&&J_(w,c,U.styles)));const oe=v.createRenderer(c,u),pe=Cd(h,MC(u),null,u.onPush?32:16,h[22],U,v,oe,T||null,null,null);return P.firstCreatePass&&(pa(yo(U,h),P,u.type),Cx(P,U),FC(U,h.length,1)),Ev(h,pe),h[22]=pe}(pe,this.componentDef,lt,B,q);if(pe)if(v)vo(q,pe,["ng-version",Fw.full]);else{const{attrs:vn,classes:pt}=function oC(c){const u=[],h=[];let v=1,w=2;for(;v<c.length;){let T=c[v];if("string"==typeof T)2===w?""!==T&&u.push(T,c[++v]):8===w&&h.push(T);else{if(!ea(w))break;w=T}v++}return{attrs:u,classes:h}}(this.componentDef.selectors[0]);vn&&vo(q,pe,vn),pt&&pt.length>0&&rv(q,pe,pt.join(" "))}if(Ft=Ra(Ge,j),void 0!==h){const vn=Ft.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const Tn=h[pt];vn.push(null!=Tn?Array.from(Tn):null)}}Mt=function KC(c,u,h,v){const w=h[1],T=function OD(c,u,h){const v=ds();c.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),NC(c,v,u,ba(c,u,1,null),h),sg(c,v));const w=Yr(u,c,v.directiveStart,v);Yn(w,u);const T=Ms(v,u);return T&&Yn(T,u),w}(w,h,u);if(c[8]=h[8]=T,null!==v)for(const B of v)B(T,u);if(u.contentQueries){const B=ds();u.contentQueries(1,T,B.directiveStart)}const P=ds();return!w.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(mo(P.index),PC(h[1],P,0,P.directiveStart,P.directiveEnd,u),RC(u,T)),T}(nn,this.componentDef,lt,[mN]),Sd(Ge,lt,null)}finally{Wo()}return new XC(this.componentType,Mt,pd(Ft,lt),lt,Ft)}}class XC extends class RE{}{constructor(u,h,v,w,T){super(),this.location=v,this._rootLView=w,this._tNode=T,this.instance=h,this.hostView=this.changeDetectorRef=new $C(w),this.componentType=u}setInput(u,h){const v=this._tNode.inputs;let w;if(null!==v&&(w=v[u])){const T=this._rootLView;Dv(T[1],T,w,u,h),LC(T,this._tNode.index)}}get injector(){return new qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function mN(){const c=ds();$c(gt()[1],c)}function kx(c){let u=function QC(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),h=!0;const v=[c];for(;u;){let w;if(It(c))w=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new et(903,!1);w=u.\u0275dir}if(w){if(h){v.push(w);const P=c;P.inputs=Ix(c.inputs),P.declaredInputs=Ix(c.declaredInputs),P.outputs=Ix(c.outputs);const B=w.hostBindings;B&&Mx(c,B);const U=w.viewQuery,q=w.contentQueries;if(U&&Iv(c,U),q&&JC(c,q),be(c.inputs,w.inputs),be(c.declaredInputs,w.declaredInputs),be(c.outputs,w.outputs),It(w)&&w.data.animation){const oe=c.data;oe.animation=(oe.animation||[]).concat(w.data.animation)}}const T=w.features;if(T)for(let P=0;P<T.length;P++){const B=T[P];B&&B.ngInherit&&B(c),B===kx&&(h=!1)}}u=Object.getPrototypeOf(u)}!function GD(c){let u=0,h=null;for(let v=c.length-1;v>=0;v--){const w=c[v];w.hostVars=u+=w.hostVars,w.hostAttrs=$l(w.hostAttrs,h=$l(h,w.hostAttrs))}}(v)}function Ix(c){return c===Cs?{}:c===mn?[]:c}function Iv(c,u){const h=c.viewQuery;c.viewQuery=h?(v,w)=>{u(v,w),h(v,w)}:u}function JC(c,u){const h=c.contentQueries;c.contentQueries=h?(v,w,T)=>{u(v,w,T),h(v,w,T)}:u}function Mx(c,u){const h=c.hostBindings;c.hostBindings=h?(v,w)=>{u(v,w),h(v,w)}:u}let Ed=null;function Dd(){if(!Ed){const c=yn.Symbol;if(c&&c.iterator)Ed=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<u.length;++h){const v=u[h];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Ed=v)}}}return Ed}function ug(c){return!!Mv(c)&&(Array.isArray(c)||!(c instanceof Map)&&Dd()in c)}function Mv(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Js(c,u,h){return!Object.is(c[u],h)&&(c[u]=h,!0)}function Pv(c,u,h,v){const w=gt();return Js(w,Hl(),u)&&(jn(),vl(Bi(),w,c,u,h,v)),Pv}function hg(c,u,h,v){return Js(c,Hl(),h)?u+nt(h)+v:Rn}function pg(c,u,h,v,w,T,P,B){const U=gt(),q=jn(),oe=c+j,pe=q.firstCreatePass?function yN(c,u,h,v,w,T,P,B,U){const q=u.consts,oe=Qh(u,c,4,P||null,mr(q,B));bx(u,h,oe,mr(q,U)),$c(u,oe);const pe=oe.tViews=xx(2,oe,v,w,T,u.directiveRegistry,u.pipeRegistry,null,u.schemas,q);return null!==u.queries&&(u.queries.template(u,oe),pe.queries=u.queries.embeddedTView(oe)),oe}(oe,q,U,u,h,v,w,T,P):q.data[oe];Zs(pe,!1);const Le=U[m].createComment("");K_(q,U,Le,pe),Yn(Le,U),Ev(U,U[oe]=rg(Le,U,Le,pe)),Tt(pe)&&Td(q,U,pe),null!=P&&_x(U,pe,B)}function Fx(c){return function jr(c,u){return c[u]}(function Bl(){return En.lFrame.contextLView}(),j+c)}function Nx(c,u,h){const v=gt();return Js(v,Hl(),u)&&To(jn(),Bi(),v,c,u,v[m],h,!1),Nx}function Bx(c,u,h,v,w){const P=w?"class":"style";Dv(c,h,u.inputs[P],P,v)}function Fv(c,u,h,v){const w=gt(),T=jn(),P=j+c,B=w[m],U=w[P]=lc(B,u,function Qu(){return En.lFrame.currentNamespace}()),q=T.firstCreatePass?function Vx(c,u,h,v,w,T,P){const B=u.consts,q=Qh(u,c,2,w,mr(B,T));return bx(u,h,q,mr(B,P)),null!==q.attrs&&ag(q,q.attrs,!1),null!==q.mergedAttrs&&ag(q,q.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,q),q}(P,T,w,0,u,h,v):T.data[P];Zs(q,!0);const oe=q.mergedAttrs;null!==oe&&vo(B,U,oe);const pe=q.classes;null!==pe&&rv(B,U,pe);const Le=q.styles;return null!==Le&&J_(B,U,Le),64!=(64&q.flags)&&K_(T,w,U,q),0===function Rl(){return En.lFrame.elementDepthCount}()&&Yn(U,w),function fh(){En.lFrame.elementDepthCount++}(),Tt(q)&&(Td(T,w,q),function Jh(c,u,h){if(at(u)){const w=u.directiveEnd;for(let T=u.directiveStart;T<w;T++){const P=c.data[T];P.contentQueries&&P.contentQueries(1,h[T],T)}}}(T,q,w)),null!==v&&_x(w,q),Fv}function Nv(){let c=ds();jc()?Va():(c=c.parent,Zs(c,!1));const u=c;!function Fl(){En.lFrame.elementDepthCount--}();const h=jn();return h.firstCreatePass&&($c(h,c),at(c)&&h.queries.elementEnd(c)),null!=u.classesWithoutHost&&function Xc(c){return 0!=(16&c.flags)}(u)&&Bx(h,u,gt(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function qc(c){return 0!=(32&c.flags)}(u)&&Bx(h,u,gt(),u.stylesWithoutHost,!1),Nv}function Hx(c,u,h,v){return Fv(c,u,h,v),Nv(),Hx}function KD(){return gt()}function gg(c){return!!c&&"function"==typeof c.then}function na(c){return!!c&&"function"==typeof c.subscribe}const QD=na;function yu(c,u,h,v){const w=gt(),T=jn(),P=ds();return function af(c,u,h,v,w,T,P,B){const U=Tt(v),oe=c.firstCreatePass&&GC(c),pe=u[8],Le=UC(u);let Ge=!0;if(3&v.type||B){const Ft=Ms(v,u),nn=B?B(Ft):Ft,vn=Le.length,pt=B?gi=>B(Wi(gi[v.index])):v.index;let Tn=null;if(!B&&U&&(Tn=function xN(c,u,h,v){const w=c.cleanup;if(null!=w)for(let T=0;T<w.length-1;T+=2){const P=w[T];if(P===h&&w[T+1]===v){const B=u[7],U=w[T+2];return B.length>U?B[U]:null}"string"==typeof P&&(T+=2)}return null}(c,u,w,v.index)),null!==Tn)(Tn.__ngLastListenerFn__||Tn).__ngNextListenerFn__=T,Tn.__ngLastListenerFn__=T,Ge=!1;else{T=mg(v,u,pe,T,!1);const gi=h.listen(nn,w,T);Le.push(T,gi),oe&&oe.push(w,pt,vn,vn+1)}}else T=mg(v,u,pe,T,!1);const lt=v.outputs;let Mt;if(Ge&&null!==lt&&(Mt=lt[w])){const Ft=Mt.length;if(Ft)for(let nn=0;nn<Ft;nn+=2){const ls=u[Mt[nn]][Mt[nn+1]].subscribe(T),Su=Le.length;Le.push(T,ls),oe&&oe.push(w,v.index,Su,-(Su+1))}}}(T,w,w[m],P,c,u,0,v),yu}function sS(c,u,h,v){try{return!1!==h(v)}catch(w){return jC(c,w),!1}}function mg(c,u,h,v,w){return function T(P){if(P===Function)return v;Ex(2&c.flags?si(c.index,u):u);let U=sS(u,0,v,P),q=T.__ngNextListenerFn__;for(;q;)U=sS(u,0,q,P)&&U,q=q.__ngNextListenerFn__;return w&&!1===U&&(P.preventDefault(),P.returnValue=!1),U}}function vg(c=1){return function jo(c){return(En.lFrame.contextLView=function yh(c,u){for(;c>0;)u=u[S],c--;return u}(c,En.lFrame.contextLView))[8]}(c)}function Md(c,u){let h=null;const v=function ov(c){const u=c.attrs;if(null!=u){const h=u.indexOf(5);if(0==(1&h))return u[h+1]}return null}(c);for(let w=0;w<u.length;w++){const T=u[w];if("*"!==T){if(null===v?iC(c,T,!0):av(v,T))return w}else h=w}return h}function rS(c){const u=gt()[D][6];if(!u.projection){const v=u.projection=qr(c?c.length:1,null),w=v.slice();let T=u.child;for(;null!==T;){const P=c?Md(T,c):0;null!==P&&(w[P]?w[P].projectionNext=T:v[P]=T,w[P]=T),T=T.next}}}function JD(c,u=0,h){const v=gt(),w=jn(),T=Qh(w,j+c,16,null,h||null);null===T.projection&&(T.projection=u),Va(),64!=(64&T.flags)&&function Jw(c,u,h){eC(u[m],0,u,h,X_(c,h,u),Kw(h.parent||u[6],h,u))}(w,v,T)}function yg(c,u,h){return Vv(c,"",u,"",h),yg}function Vv(c,u,h,v,w){const T=gt(),P=hg(T,u,h,v);return P!==Rn&&To(jn(),Bi(),T,c,P,T[m],w,!1),Vv}function lS(c,u,h,v,w){const T=c[h+1],P=null===u;let B=v?xa(T):pc(T),U=!1;for(;0!==B&&(!1===U||P);){const oe=c[B+1];wN(c[B],u)&&(U=!0,c[B+1]=v?Jp(oe):gv(oe)),B=v?xa(oe):pc(oe)}U&&(c[h+1]=v?gv(T):Jp(T))}function wN(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&Ks(c,u)>=0}const er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ok(c){return c.substring(er.key,er.keyEnd)}function lk(c,u){const h=er.textEnd;return h===u?-1:(u=er.keyEnd=function uk(c,u,h){for(;u<h&&c.charCodeAt(u)>32;)u++;return u}(c,er.key=u,h),Ld(c,u,h))}function Ld(c,u,h){for(;u<h&&c.charCodeAt(u)<=32;)u++;return u}function Gx(c,u,h){return xl(c,u,h,!1),Gx}function hS(c,u){return xl(c,u,null,!0),hS}function fk(c){bl(lr,_c,c,!0)}function _c(c,u){for(let h=function CN(c){return function uS(c){er.key=0,er.keyEnd=0,er.value=0,er.valueEnd=0,er.textEnd=c.length}(c),lk(c,Ld(c,0,er.textEnd))}(u);h>=0;h=lk(u,h))lr(c,ok(u),!0)}function xl(c,u,h,v){const w=gt(),T=jn(),P=go(2);T.firstUpdatePass&&fS(T,c,P,v),u!==Rn&&Js(w,P,u)&&mk(T,T.data[Ni()],w,w[m],c,w[P+1]=function LN(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=je(ya(c)))),c}(u,h),v,P)}function bl(c,u,h,v){const w=jn(),T=go(2);w.firstUpdatePass&&fS(w,null,T,v);const P=gt();if(h!==Rn&&Js(P,T,h)){const B=w.data[Ni()];if(yk(B,v)&&!pk(w,T)){let U=v?B.classesWithoutHost:B.stylesWithoutHost;null!==U&&(h=Ie(U,h||"")),Bx(w,B,P,h,v)}else!function MN(c,u,h,v,w,T,P,B){w===Rn&&(w=mn);let U=0,q=0,oe=0<w.length?w[0]:null,pe=0<T.length?T[0]:null;for(;null!==oe||null!==pe;){const Le=U<w.length?w[U+1]:void 0,Ge=q<T.length?T[q+1]:void 0;let Mt,lt=null;oe===pe?(U+=2,q+=2,Le!==Ge&&(lt=pe,Mt=Ge)):null===pe||null!==oe&&oe<pe?(U+=2,lt=oe):(q+=2,lt=pe,Mt=Ge),null!==lt&&mk(c,u,h,v,lt,Mt,P,B),oe=U<w.length?w[U]:null,pe=q<T.length?T[q]:null}}(w,B,P,P[m],P[T+1],P[T+1]=function IN(c,u,h){if(null==h||""===h)return mn;const v=[],w=ya(h);if(Array.isArray(w))for(let T=0;T<w.length;T++)c(v,w[T],!0);else if("object"==typeof w)for(const T in w)w.hasOwnProperty(T)&&c(v,T,w[T]);else"string"==typeof w&&u(v,w);return v}(c,u,h),v,T)}}function pk(c,u){return u>=c.expandoStartIndex}function fS(c,u,h,v){const w=c.data;if(null===w[h+1]){const T=w[Ni()],P=pk(c,h);yk(T,v)&&null===u&&!P&&(u=!1),u=function AN(c,u,h,v){const w=function Yu(c){const u=En.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}(c);let T=v?u.residualClasses:u.residualStyles;if(null===w)0===(v?u.classBindings:u.styleBindings)&&(h=Uv(h=zv(null,c,u,h,v),u.attrs,v),T=null);else{const P=u.directiveStylingLast;if(-1===P||c[P]!==w)if(h=zv(w,c,u,h,v),null===T){let U=function EN(c,u,h){const v=h?u.classBindings:u.styleBindings;if(0!==pc(v))return c[xa(v)]}(c,u,v);void 0!==U&&Array.isArray(U)&&(U=zv(null,c,u,U[1],v),U=Uv(U,u.attrs,v),function DN(c,u,h,v){c[xa(h?u.classBindings:u.styleBindings)]=v}(c,u,v,U))}else T=function kN(c,u,h){let v;const w=u.directiveEnd;for(let T=1+u.directiveStylingLast;T<w;T++)v=Uv(v,c[T].hostAttrs,h);return Uv(v,u.attrs,h)}(c,u,v)}return void 0!==T&&(v?u.residualClasses=T:u.residualStyles=T),h}(w,T,u,v),function sk(c,u,h,v,w,T){let P=T?u.classBindings:u.styleBindings,B=xa(P),U=pc(P);c[v]=h;let oe,q=!1;if(Array.isArray(h)){const pe=h;oe=pe[1],(null===oe||Ks(pe,oe)>0)&&(q=!0)}else oe=h;if(w)if(0!==U){const Le=xa(c[B+1]);c[v+1]=pv(Le,B),0!==Le&&(c[Le+1]=mv(c[Le+1],v)),c[B+1]=function bD(c,u){return 131071&c|u<<17}(c[B+1],v)}else c[v+1]=pv(B,0),0!==B&&(c[B+1]=mv(c[B+1],v)),B=v;else c[v+1]=pv(U,0),0===B?B=v:c[U+1]=mv(c[U+1],v),U=v;q&&(c[v+1]=gv(c[v+1])),lS(c,oe,v,!0),lS(c,oe,v,!1),function rk(c,u,h,v,w){const T=w?c.residualClasses:c.residualStyles;null!=T&&"string"==typeof u&&Ks(T,u)>=0&&(h[v+1]=Jp(h[v+1]))}(u,oe,c,v,T),P=pv(B,U),T?u.classBindings=P:u.styleBindings=P}(w,T,u,h,P,v)}}function zv(c,u,h,v,w){let T=null;const P=h.directiveEnd;let B=h.directiveStylingLast;for(-1===B?B=h.directiveStart:B++;B<P&&(T=u[B],v=Uv(v,T.hostAttrs,w),T!==c);)B++;return null!==c&&(h.directiveStylingLast=B),v}function Uv(c,u,h){const v=h?1:2;let w=-1;if(null!==u)for(let T=0;T<u.length;T++){const P=u[T];"number"==typeof P?w=P:w===v&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),lr(c,P,!!h||u[++T]))}return void 0===c?null:c}function mk(c,u,h,v,w,T,P,B){if(!(3&u.type))return;const U=c.data,q=U[B+1];Wx(function vv(c){return 1==(1&c)}(q)?vk(U,u,h,w,pc(q),P):void 0)||(Wx(T)||function yC(c){return 2==(2&c)}(q)&&(T=vk(U,null,h,w,B,P)),function uD(c,u,h,v,w){if(u)w?c.addClass(h,v):c.removeClass(h,v);else{let T=-1===v.indexOf("-")?void 0:hl.DashCase;null==w?c.removeStyle(h,v,T):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),T|=hl.Important),c.setStyle(h,v,w,T))}}(v,P,Lr(Ni(),h),w,T))}function vk(c,u,h,v,w,T){const P=null===u;let B;for(;w>0;){const U=c[w],q=Array.isArray(U),oe=q?U[1]:U,pe=null===oe;let Le=h[w+1];Le===Rn&&(Le=pe?mn:void 0);let Ge=pe?tu(Le,v):oe===v?Le:void 0;if(q&&!Wx(Ge)&&(Ge=tu(U,v)),Wx(Ge)&&(B=Ge,P))return B;const lt=c[w+1];w=P?xa(lt):pc(lt)}if(null!==u){let U=T?u.residualClasses:u.residualStyles;null!=U&&(B=tu(U,v))}return B}function Wx(c){return void 0!==c}function yk(c,u){return 0!=(c.flags&(u?16:32))}function _k(c,u=""){const h=gt(),v=jn(),w=c+j,T=v.firstCreatePass?Qh(v,w,1,u,null):v.data[w],P=h[w]=function nv(c,u){return c.createText(u)}(h[m],u);K_(v,h,P,T),Zs(T,!1)}function pS(c){return jx("",c,""),pS}function jx(c,u,h){const v=gt(),w=hg(v,c,u,h);return w!==Rn&&function mc(c,u,h){const v=Lr(u,c);!function $s(c,u,h){c.setValue(u,h)}(c[m],v,h)}(v,Ni(),w),jx}function Dk(c,u,h){bl(lr,_c,hg(gt(),c,u,h),!0)}const lf=void 0;var qN=["en",[["a","p"],["AM","PM"],lf],[["AM","PM"],lf,lf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lf,"{1} 'at' {0}",lf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XN(c){const h=Math.floor(Math.abs(c)),v=c.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===v?1:5}];let _g={};function gS(c){const u=function ZN(c){return c.toLowerCase().replace(/_/g,"-")}(c);let h=Gk(u);if(h)return h;const v=u.split("-")[0];if(h=Gk(v),h)return h;if("en"===v)return qN;throw new et(701,!1)}function Uk(c){return gS(c)[Cn.PluralCase]}function Gk(c){return c in _g||(_g[c]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[c]),_g[c]}var Cn=(()=>((Cn=Cn||{})[Cn.LocaleId=0]="LocaleId",Cn[Cn.DayPeriodsFormat=1]="DayPeriodsFormat",Cn[Cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Cn[Cn.DaysFormat=3]="DaysFormat",Cn[Cn.DaysStandalone=4]="DaysStandalone",Cn[Cn.MonthsFormat=5]="MonthsFormat",Cn[Cn.MonthsStandalone=6]="MonthsStandalone",Cn[Cn.Eras=7]="Eras",Cn[Cn.FirstDayOfWeek=8]="FirstDayOfWeek",Cn[Cn.WeekendRange=9]="WeekendRange",Cn[Cn.DateFormat=10]="DateFormat",Cn[Cn.TimeFormat=11]="TimeFormat",Cn[Cn.DateTimeFormat=12]="DateTimeFormat",Cn[Cn.NumberSymbols=13]="NumberSymbols",Cn[Cn.NumberFormats=14]="NumberFormats",Cn[Cn.CurrencyCode=15]="CurrencyCode",Cn[Cn.CurrencySymbol=16]="CurrencySymbol",Cn[Cn.CurrencyName=17]="CurrencyName",Cn[Cn.Currencies=18]="Currencies",Cn[Cn.Directionality=19]="Directionality",Cn[Cn.PluralCase=20]="PluralCase",Cn[Cn.ExtraData=21]="ExtraData",Cn))();const xg="en-US";let Wk=xg;function t0(c,u,h,v,w){if(c=Be(c),Array.isArray(c))for(let T=0;T<c.length;T++)t0(c[T],u,h,v,w);else{const T=jn(),P=gt();let B=uu(c)?c:Be(c.provide),U=Pw(c);const q=ds(),oe=1048575&q.providerIndexes,pe=q.directiveStart,Le=q.providerIndexes>>20;if(uu(c)||!c.multi){const Ge=new vr(U,w,Kh),lt=kS(B,u,w?oe:oe+Le,pe);-1===lt?(pa(yo(q,P),T,B),cf(T,c,u.length),u.push(B),q.directiveStart++,q.directiveEnd++,w&&(q.providerIndexes+=1048576),h.push(Ge),P.push(Ge)):(h[lt]=Ge,P[lt]=Ge)}else{const Ge=kS(B,u,oe+Le,pe),lt=kS(B,u,oe,oe+Le),Mt=Ge>=0&&h[Ge],Ft=lt>=0&&h[lt];if(w&&!Ft||!w&&!Mt){pa(yo(q,P),T,B);const nn=function fI(c,u,h,v,w){const T=new vr(c,h,Kh);return T.multi=[],T.index=u,T.componentProviders=0,Yv(T,w,v&&!h),T}(w?MS:IS,h.length,w,v,U);!w&&Ft&&(h[lt].providerFactory=nn),cf(T,c,u.length,0),u.push(B),q.directiveStart++,q.directiveEnd++,w&&(q.providerIndexes+=1048576),h.push(nn),P.push(nn)}else cf(T,c,Ge>-1?Ge:lt,Yv(h[w?lt:Ge],U,!w&&v));!w&&v&&Ft&&h[lt].componentProviders++}}}function cf(c,u,h,v){const w=uu(u),T=function IE(c){return!!c.useClass}(u);if(w||T){const U=(T?Be(u.useClass):u).prototype.ngOnDestroy;if(U){const q=c.destroyHooks||(c.destroyHooks=[]);if(!w&&u.multi){const oe=q.indexOf(h);-1===oe?q.push(h,[v,U]):q[oe+1].push(v,U)}else q.push(h,U)}}}function Yv(c,u,h){return h&&c.componentProviders++,c.multi.push(u)-1}function kS(c,u,h,v){for(let w=h;w<v;w++)if(u[w]===c)return w;return-1}function IS(c,u,h,v){return Sg(this.multi,[])}function MS(c,u,h,v){const w=this.multi;let T;if(this.providerFactory){const P=this.providerFactory.componentProviders,B=Yr(h,h[1],this.providerFactory.index,v);T=B.slice(0,P),Sg(w,T);for(let U=P;U<B.length;U++)T.push(B[U])}else T=[],Sg(w,T);return T}function Sg(c,u){for(let h=0;h<c.length;h++)u.push((0,c[h])());return u}function pI(c,u=[]){return h=>{h.providersResolver=(v,w)=>function A2(c,u,h){const v=jn();if(v.firstCreatePass){const w=It(c);t0(h,v.data,v.blueprint,w,!0),t0(u,v.data,v.blueprint,w,!1)}}(v,w?w(c):c,u)}}class uf{}class LS{}function gI(c,u){return new PS(c,u??null)}class PS extends uf{constructor(u,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kv(this);const v=Yt(u);this._bootstrapComponents=oc(v.bootstrap),this._r3Injector=pu(u,h,[{provide:uf,useValue:this},{provide:Np,useValue:this.componentFactoryResolver}],je(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class OS extends LS{constructor(u){super(),this.moduleType=u}create(u){return new PS(this.moduleType,u)}}class Tg extends uf{constructor(u,h,v){super(),this.componentFactoryResolver=new kv(this),this.instance=null;const w=new jm([...u,{provide:uf,useValue:this},{provide:Np,useValue:this.componentFactoryResolver}],h||Wm(),v,new Set(["environment"]));this.injector=w,w.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function Xv(c,u,h=null){return new Tg(c,u,h).injector}let D2=(()=>{class c{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const v=kw(0,h.type),w=v.length>0?Xv([v],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,w)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return c.\u0275prov=Sn({token:c,providedIn:"environment",factory:()=>new c(rs(du))}),c})();function mI(c){c.getStandaloneInjector=u=>u.get(D2).getOrCreateStandaloneInjector(c)}function BS(c,u,h,v){return function TI(c,u,h,v,w,T){const P=u+h;return Js(c,P,w)?function yl(c,u,h){return c[u]=h}(c,P+1,T?v.call(T,w):v(w)):function qv(c,u){const h=c[u];return h===Rn?void 0:h}(c,P+1)}(gt(),function hs(){const c=En.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}(),c,u,h,v)}function Dg(c){return u=>{setTimeout(c,void 0,u)}}const Sl=class Zv extends g.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,v){let w=u,T=h||(()=>null),P=v;if(u&&"object"==typeof u){const U=u;w=U.next?.bind(U),T=U.error?.bind(U),P=U.complete?.bind(U)}this.__isAsync&&(T=Dg(T),w&&(w=Dg(w)),P&&(P=Dg(P)));const B=super.subscribe({next:w,error:T,complete:P});return u instanceof ye.w0&&u.add(B),B}};function WS(){return this._results[Dd()]()}class r0{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Dd(),v=r0.prototype;v[h]||(v[h]=WS)}get changes(){return this._changes||(this._changes=new Sl)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const v=this;v.dirty=!1;const w=ji(u);(this._changesDetected=!function nl(c,u,h){if(c.length!==u.length)return!1;for(let v=0;v<c.length;v++){let w=c[v],T=u[v];if(h&&(w=h(w),T=h(T)),T!==w)return!1}return!0}(v._results,w,h))&&(v._results=w,v.length=w.length,v.last=w[this.length-1],v.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kv=(()=>{class c{}return c.__NG_ELEMENT_ID__=W2,c})();const U2=Kv,G2=class extends U2{constructor(u,h,v){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=v}createEmbeddedView(u,h){const v=this._declarationTContainer.tViews,w=Cd(this._declarationLView,v,u,16,null,v.declTNode,null,null,null,null,h||null);w[17]=this._declarationLView[this._declarationTContainer.index];const P=this._declarationLView[O];return null!==P&&(w[O]=P.createEmbeddedView(v)),Sd(v,w,u),new nf(w)}};function W2(){return o0(ds(),gt())}function o0(c,u){return 4&c.type?new G2(u,c,pd(c,u)):null}let a0=(()=>{class c{}return c.__NG_ELEMENT_ID__=j2,c})();function j2(){return MI(ds(),gt())}const $2=a0,kI=class extends $2{constructor(u,h,v){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=v}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new qa(this._hostTNode,this._hostLView)}get parentInjector(){const u=Xl(this._hostTNode,this._hostLView);if(op(u)){const h=$o(u,this._hostLView),v=fs(u);return new qa(h[1].data[v+8],h)}return new qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=II(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-Z}createEmbeddedView(u,h,v){let w,T;"number"==typeof v?w=v:null!=v&&(w=v.index,T=v.injector);const P=u.createEmbeddedView(h||{},T);return this.insert(P,w),P}createComponent(u,h,v,w,T){const P=u&&!function eu(c){return"function"==typeof c}(u);let B;if(P)B=h;else{const pe=h||{};B=pe.index,v=pe.injector,w=pe.projectableNodes,T=pe.environmentInjector||pe.ngModuleRef}const U=P?u:new cg(se(u)),q=v||this.parentInjector;if(!T&&null==U.ngModule){const Le=(P?q:this.parentInjector).get(du,null);Le&&(T=Le)}const oe=U.create(q,w,void 0,T);return this.insert(oe.hostView,B),oe}insert(u,h){const v=u._lView,w=v[1];if(function ju(c){return Me(c[3])}(v)){const oe=this.indexOf(u);if(-1!==oe)this.detach(oe);else{const pe=v[3],Le=new kI(pe,pe[6],pe[3]);Le.detach(Le.indexOf(u))}}const T=this._adjustIndex(h),P=this._lContainer;!function lD(c,u,h,v){const w=Z+v,T=h.length;v>0&&(h[w-1][4]=u),v<T-Z?(u[4]=h[w],Kl(h,Z+v,u)):(h.push(u),u[4]=null),u[3]=h;const P=u[17];null!==P&&h!==P&&function cc(c,u){const h=c[9];u[D]!==u[3][3][D]&&(c[2]=!0),null===h?c[9]=[u]:h.push(u)}(P,u);const B=u[O];null!==B&&B.insertView(c),u[2]|=64}(w,v,P,T);const B=Yp(T,P),U=v[m],q=dc(U,P[7]);return null!==q&&function _r(c,u,h,v,w,T){v[0]=w,v[6]=u,$h(c,v,h,1,w,T)}(w,P[6],U,v,q,B),u.attachToViewContainerRef(),Kl(jS(P),T,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=II(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),v=ys(this._lContainer,h);v&&(es(jS(this._lContainer),h),pl(v[1],v))}detach(u){const h=this._adjustIndex(u,-1),v=ys(this._lContainer,h);return v&&null!=es(jS(this._lContainer),h)?new nf(v):null}_adjustIndex(u,h=0){return u??this.length+h}};function II(c){return c[8]}function jS(c){return c[8]||(c[8]=[])}function MI(c,u){let h;const v=u[c.index];if(Me(v))h=v;else{let w;if(8&c.type)w=Wi(v);else{const T=u[m];w=T.createComment("");const P=Ms(c,u);_d(T,dc(T,P),w,function cD(c,u){return c.nextSibling(u)}(T,P),!1)}u[c.index]=h=rg(v,u,w,c),Ev(u,h)}return new kI(h,c,u)}class Qv{constructor(u){this.queryList=u,this.matches=null}clone(){return new Qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class l0{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const v=null!==u.contentQueries?u.contentQueries[0]:h.length,w=[];for(let T=0;T<v;T++){const P=h.getByIndex(T);w.push(this.queries[P.indexInDeclarationView].clone())}return new l0(w)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==JS(u,h).matches&&this.queries[h].setDirty()}}class OI{constructor(u,h,v=null){this.predicate=u,this.flags=h,this.read=v}}class Jv{constructor(u=[]){this.queries=u}elementStart(u,h){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let v=0;v<this.length;v++){const w=null!==h?h.length:0,T=this.getByIndex(v).embeddedTView(u,w);T&&(T.indexInDeclarationView=v,null!==h?h.push(T):h=[T])}return null!==h?new Jv(h):null}template(u,h){for(let v=0;v<this.queries.length;v++)this.queries[v].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class ey{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new ey(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let v=u.parent;for(;null!==v&&8&v.type&&v.index!==h;)v=v.parent;return h===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const v=this.metadata.predicate;if(Array.isArray(v))for(let w=0;w<v.length;w++){const T=v[w];this.matchTNodeWithReadOption(u,h,$S(h,T)),this.matchTNodeWithReadOption(u,h,Zl(h,u,T,!1,!1))}else v===Kv?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,Zl(h,u,v,!1,!1))}matchTNodeWithReadOption(u,h,v){if(null!==v){const w=this.metadata.read;if(null!==w)if(w===Bp||w===a0||w===Kv&&4&h.type)this.addMatch(h.index,-2);else{const T=Zl(h,u,w,!1,!1);null!==T&&this.addMatch(h.index,T)}else this.addMatch(h.index,v)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function $S(c,u){const h=c.localNames;if(null!==h)for(let v=0;v<h.length;v+=2)if(h[v]===u)return h[v+1];return null}function FI(c,u,h,v){return-1===h?function RI(c,u){return 11&c.type?pd(c,u):4&c.type?o0(c,u):null}(u,c):-2===h?function NI(c,u,h){return h===Bp?pd(u,c):h===Kv?o0(u,c):h===a0?MI(u,c):void 0}(c,u,v):Yr(c,c[1],h,u)}function YS(c,u,h,v){const w=u[O].queries[v];if(null===w.matches){const T=c.data,P=h.matches,B=[];for(let U=0;U<P.length;U+=2){const q=P[U];B.push(q<0?null:FI(u,T[q],P[U+1],h.metadata.read))}w.matches=B}return w.matches}function ty(c,u,h,v){const w=c.queries.getByIndex(h),T=w.matches;if(null!==T){const P=YS(c,u,w,h);for(let B=0;B<T.length;B+=2){const U=T[B];if(U>0)v.push(P[B/2]);else{const q=T[B+1],oe=u[-U];for(let pe=Z;pe<oe.length;pe++){const Le=oe[pe];Le[17]===Le[3]&&ty(Le[1],Le,q,v)}if(null!==oe[9]){const pe=oe[9];for(let Le=0;Le<pe.length;Le++){const Ge=pe[Le];ty(Ge[1],Ge,q,v)}}}}}return v}function XS(c){const u=gt(),h=jn(),v=zl();Xu(v+1);const w=JS(h,v);if(c.dirty&&function Wu(c){return 4==(4&c[2])}(u)===(2==(2&w.metadata.flags))){if(null===w.matches)c.reset([]);else{const T=w.crossesNgTemplate?ty(h,u,v,[]):YS(h,u,w,v);c.reset(T,Qo),c.notifyOnChanges()}return!0}return!1}function c0(c,u,h){const v=jn();v.firstCreatePass&&(QS(v,new OI(c,u,h),-1),2==(2&u)&&(v.staticViewQueries=!0)),KS(v,gt(),u)}function qS(c,u,h,v){const w=jn();if(w.firstCreatePass){const T=ds();QS(w,new OI(u,h,v),T.index),function VI(c,u){const h=c.contentQueries||(c.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(c.queries.length-1,u)}(w,c),2==(2&h)&&(w.staticContentQueries=!0)}KS(w,gt(),h)}function ZS(){return function BI(c,u){return c[O].queries[u].queryList}(gt(),zl())}function KS(c,u,h){const v=new r0(4==(4&h));MD(c,u,v,v.destroy),null===u[O]&&(u[O]=new l0),u[O].queries.push(new Qv(v))}function QS(c,u,h){null===c.queries&&(c.queries=new Jv),c.queries.track(new ey(u,h))}function JS(c,u){return c.queries.getByIndex(u)}function HI(c,u){return o0(c,u)}function wc(...c){}const lT=new ki("Application Initializer");let Ig=(()=>{class c{constructor(h){this.appInits=h,this.resolve=wc,this.reject=wc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,w)=>{this.resolve=v,this.reject=w})}runInitializers(){if(this.initialized)return;const h=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const T=this.appInits[w]();if(gg(T))h.push(T);else if(QD(T)){const P=new Promise((B,U)=>{T.subscribe({complete:B,error:U})});h.push(P)}}Promise.all(h).then(()=>{v()}).catch(w=>{this.reject(w)}),0===h.length&&v(),this.initialized=!0}}return c.\u0275fac=function(h){return new(h||c)(rs(lT,8))},c.\u0275prov=Sn({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const sa=new ki("AppId",{providedIn:"root",factory:function ay(){return`${ly()}${ly()}${ly()}`}});function ly(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cy=new ki("Platform Initializer"),KI=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),so=new ki("appBootstrapListener"),tr=new ki("AnimationModuleType");let QI=(()=>{class c{log(h){console.log(h)}warn(h){console.warn(h)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=Sn({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const pf=new ki("LocaleId",{providedIn:"root",factory:()=>Ph(pf,Ht.Optional|Ht.SkipSelf)||function Cc(){return typeof $localize<"u"&&$localize.locale||xg}()}),Sc=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eM{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let cT=(()=>{class c{compileModuleSync(h){return new OS(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const v=this.compileModuleSync(h),T=oc(Yt(h).declarations).reduce((P,B)=>{const U=se(B);return U&&P.push(new cg(U)),P},[]);return new eM(v,T)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=Sn({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const tM=(()=>Promise.resolve(0))();function dy(c){typeof Zone>"u"?tM.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class Br{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sl(!1),this.onMicrotaskEmpty=new Sl(!1),this.onStable=new Sl(!1),this.onError=new Sl(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const w=this;if(w._nesting=0,w._outer=w._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const T=Zone.AsyncStackTaggingZoneSpec;w._inner=w._inner.fork(new T("Angular"))}Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!v&&h,w.shouldCoalesceRunChangeDetection=v,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function pT(){let c=yn.requestAnimationFrame,u=yn.cancelAnimationFrame;if(typeof Zone<"u"&&c&&u){const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h);const v=u[Zone.__symbol__("OriginalDelegate")];v&&(u=v)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function Lg(c){const u=()=>{!function Mg(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(yn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Tl(c),c.isCheckStableRunning=!0,hy(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Tl(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,v,w,T,P,B)=>{try{return gf(c),h.invokeTask(w,T,P,B)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||c.shouldCoalesceRunChangeDetection)&&u(),Tc(c)}},onInvoke:(h,v,w,T,P,B,U)=>{try{return gf(c),h.invoke(w,T,P,B,U)}finally{c.shouldCoalesceRunChangeDetection&&u(),Tc(c)}},onHasTask:(h,v,w,T)=>{h.hasTask(w,T),v===w&&("microTask"==T.change?(c._hasPendingMicrotasks=T.microTask,Tl(c),hy(c)):"macroTask"==T.change&&(c.hasPendingMacrotasks=T.macroTask))},onHandleError:(h,v,w,T)=>(h.handleError(w,T),c.runOutsideAngular(()=>c.onError.emit(T)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Br.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(Br.isInAngularZone())throw new et(909,!1)}run(u,h,v){return this._inner.run(u,h,v)}runTask(u,h,v,w){const T=this._inner,P=T.scheduleEventTask("NgZoneEvent: "+w,u,gT,wc,wc);try{return T.runTask(P,h,v)}finally{T.cancelTask(P)}}runGuarded(u,h,v){return this._inner.runGuarded(u,h,v)}runOutsideAngular(u){return this._outer.run(u)}}const gT={};function hy(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Tl(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function gf(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function Tc(c){c._nesting--,hy(c)}class Ac{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sl,this.onMicrotaskEmpty=new Sl,this.onStable=new Sl,this.onError=new Sl}run(u,h,v){return u.apply(h,v)}runGuarded(u,h,v){return u.apply(h,v)}runOutsideAngular(u){return u()}runTask(u,h,v,w){return u.apply(h,v)}}const y0=new ki(""),Eo=new ki("");let mf,_0=(()=>{class c{constructor(h,v,w){this._ngZone=h,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mf||(function nM(c){mf=c}(w),w.addToWindow(v)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Br.assertNotInAngularZone(),dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dy(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(h)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,v,w){let T=-1;v&&v>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==T),h(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:h,timeoutId:T,updateCb:w})}whenStable(h,v,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,v,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,v,w){return[]}}return c.\u0275fac=function(h){return new(h||c)(rs(Br),rs(mT),rs(Eo))},c.\u0275prov=Sn({token:c,factory:c.\u0275fac}),c})(),mT=(()=>{class c{constructor(){this._applications=new Map}registerApplication(h,v){this._applications.set(h,v)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,v=!0){return mf?.findTestabilityInTree(this,h,v)??null}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=Sn({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})(),wu=null;const vT=new ki("AllowMultipleToken"),x0=new ki("PlatformDestroyListeners");class oM{constructor(u,h){this.name=u,this.token=h}}function _T(c,u,h=[]){const v=`Platform: ${u}`,w=new ki(v);return(T=[])=>{let P=C0();if(!P||P.injector.get(vT,!1)){const B=[...h,...T,{provide:w,useValue:!0}];c?c(B):function aM(c){if(wu&&!wu.get(vT,!1))throw new et(400,!1);wu=c;const u=c.get(xT);(function fy(c){const u=c.get(cy,null);u&&u.forEach(h=>h())})(c)}(function w0(c=[],u){return fc.create({name:u,providers:[{provide:Lw,useValue:"platform"},{provide:x0,useValue:new Set([()=>wu=null])},...c]})}(B,v))}return function lM(c){const u=C0();if(!u)throw new et(401,!1);return u}()}}function C0(){return wu?.get(xT)??null}let xT=(()=>{class c{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,v){const w=function T0(c,u){let h;return h="noop"===c?new Ac:("zone.js"===c?void 0:c)||new Br(u),h}(v?.ngZone,function S0(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!c||!c.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!c||!c.ngZoneRunCoalescing)||!1}}(v)),T=[{provide:Br,useValue:w}];return w.run(()=>{const P=fc.create({providers:T,parent:this.injector,name:h.moduleType.name}),B=h.create(P),U=B.injector.get(zp,null);if(!U)throw new et(402,!1);return w.runOutsideAngular(()=>{const q=w.onError.subscribe({next:oe=>{U.handleError(oe)}});B.onDestroy(()=>{gy(this._modules,B),q.unsubscribe()})}),function bT(c,u,h){try{const v=h();return gg(v)?v.catch(w=>{throw u.runOutsideAngular(()=>c.handleError(w)),w}):v}catch(v){throw u.runOutsideAngular(()=>c.handleError(v)),v}}(U,w,()=>{const q=B.injector.get(Ig);return q.runInitializers(),q.donePromise.then(()=>(function jk(c){Ln(c,"Expected localeId to be defined"),"string"==typeof c&&(Wk=c.toLowerCase().replace(/_/g,"-"))}(B.injector.get(pf,xg)||xg),this._moduleDoBootstrap(B),B))})})}bootstrapModule(h,v=[]){const w=Pg({},v);return function iM(c,u,h){const v=new OS(h);return Promise.resolve(v)}(0,0,h).then(T=>this.bootstrapModuleFactory(T,w))}_moduleDoBootstrap(h){const v=h.injector.get(py);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(w=>v.bootstrap(w));else{if(!h.instance.ngDoBootstrap)throw new et(403,!1);h.instance.ngDoBootstrap(v)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const h=this._injector.get(x0,null);h&&(h.forEach(v=>v()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(h){return new(h||c)(rs(fc))},c.\u0275prov=Sn({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function Pg(c,u){return Array.isArray(u)?u.reduce(Pg,c):{...c,...u}}let py=(()=>{class c{constructor(h,v,w){this._zone=h,this._injector=v,this._exceptionHandler=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new te.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),P=new te.y(B=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Br.assertNotInAngularZone(),dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{Br.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{U.unsubscribe(),q.unsubscribe()}});this.isStable=(0,Ne.T)(T,P.pipe((0,Se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,v){const w=h instanceof R_;if(!this._injector.get(Ig).done)throw!w&&vt(h),new et(405,false);let P;P=w?h:this._injector.get(Np).resolveComponentFactory(h),this.componentTypes.push(P.componentType);const B=function rM(c){return c.isBoundToModule}(P)?void 0:this._injector.get(uf),q=P.create(fc.NULL,[],v||P.selector,B),oe=q.location.nativeElement,pe=q.injector.get(y0,null);return pe?.registerApplication(oe),q.onDestroy(()=>{this.detachView(q.hostView),gy(this.components,q),pe?.unregisterApplication(oe)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const v=h;this._views.push(v),v.attachToAppRef(this)}detachView(h){const v=h;gy(this._views,v),v.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(so,[]).concat(this._bootstrapListeners).forEach(w=>w(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>gy(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new et(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return c.\u0275fac=function(h){return new(h||c)(rs(Br),rs(du),rs(zp))},c.\u0275prov=Sn({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function gy(c,u){const h=c.indexOf(u);h>-1&&c.splice(h,1)}let my=!0,Nd=!1;function uM(){return Nd=!0,my}function vy(){if(Nd)throw new Error("Cannot enable prod mode after platform setup.");my=!1}let yy=(()=>{class c{}return c.__NG_ELEMENT_ID__=ST,c})();function ST(c){return function TT(c,u,h){if(ct(c)&&!h){const v=si(c.index,u);return new nf(v,v)}return 47&c.type?new nf(u[D],u):null}(ds(),gt(),16==(16&c))}class kT{constructor(){}supports(u){return ug(u)}create(u){return new gM(u)}}const Fg=(c,u)=>u;class gM{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Fg}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,v=this._removalsHead,w=0,T=null;for(;h||v;){const P=!v||h&&h.currentIndex<wy(v,w,T)?h:v,B=wy(P,w,T),U=P.currentIndex;if(P===v)w--,v=v._nextRemoved;else if(h=h._next,null==P.previousIndex)w++;else{T||(T=[]);const q=B-w,oe=U-w;if(q!=oe){for(let Le=0;Le<q;Le++){const Ge=Le<T.length?T[Le]:T[Le]=0,lt=Ge+Le;oe<=lt&&lt<q&&(T[Le]=Ge+1)}T[P.previousIndex]=oe-q}}B!==U&&u(P,B,U)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!ug(u))throw new et(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let w,T,P,h=this._itHead,v=!1;if(Array.isArray(u)){this.length=u.length;for(let B=0;B<this.length;B++)T=u[B],P=this._trackByFn(B,T),null!==h&&Object.is(h.trackById,P)?(v&&(h=this._verifyReinsertion(h,T,P,B)),Object.is(h.item,T)||this._addIdentityChange(h,T)):(h=this._mismatch(h,T,P,B),v=!0),h=h._next}else w=0,function YD(c,u){if(Array.isArray(c))for(let h=0;h<c.length;h++)u(c[h]);else{const h=c[Dd()]();let v;for(;!(v=h.next()).done;)u(v.value)}}(u,B=>{P=this._trackByFn(w,B),null!==h&&Object.is(h.trackById,P)?(v&&(h=this._verifyReinsertion(h,B,P,w)),Object.is(h.item,B)||this._addIdentityChange(h,B)):(h=this._mismatch(h,B,P,w),v=!0),h=h._next,w++}),this.length=w;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,v,w){let T;return null===u?T=this._itTail:(T=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,T,w)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(v,w))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,T,w)):u=this._addAfter(new mM(h,v),T,w),u}_verifyReinsertion(u,h,v,w){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==T?u=this._reinsertAfter(T,u._prev,w):u.currentIndex!=w&&(u.currentIndex=w,this._addToMoves(u,w)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const w=u._prevRemoved,T=u._nextRemoved;return null===w?this._removalsHead=T:w._nextRemoved=T,null===T?this._removalsTail=w:T._prevRemoved=w,this._insertAfter(u,h,v),this._addToMoves(u,v),u}_moveAfter(u,h,v){return this._unlink(u),this._insertAfter(u,h,v),this._addToMoves(u,v),u}_addAfter(u,h,v){return this._insertAfter(u,h,v),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,v){const w=null===h?this._itHead:h._next;return u._next=w,u._prev=h,null===w?this._itTail=u:w._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new IT),this._linkedRecords.put(u),u.currentIndex=v,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,v=u._next;return null===h?this._itHead=v:h._next=v,null===v?this._itTail=h:v._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IT),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class mM{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vM{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===h||h<=v.currentIndex)&&Object.is(v.trackById,u))return v;return null}remove(u){const h=u._prevDup,v=u._nextDup;return null===h?this._head=v:h._nextDup=v,null===v?this._tail=h:v._prevDup=h,null===this._head}}class IT{constructor(){this.map=new Map}put(u){const h=u.trackById;let v=this.map.get(h);v||(v=new vM,this.map.set(h,v)),v.add(u)}get(u,h){const w=this.map.get(u);return w?w.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wy(c,u,h){const v=c.previousIndex;if(null===v)return v;let w=0;return h&&v<h.length&&(w=h[v]),v+u+w}class E0{constructor(){}supports(u){return u instanceof Map||Mv(u)}create(){return new zd}}class zd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||Mv(u)))throw new et(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(v,w)=>{if(h&&h.key===w)this._maybeAddToChanges(h,v),this._appendAfter=h,h=h._next;else{const T=this._getOrCreateRecordForKey(w,v);h=this._insertBeforeOrAppend(h,T)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let v=h;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const v=u._prev;return h._next=u,h._prev=v,u._prev=h,v&&(v._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const w=this._records.get(u);this._maybeAddToChanges(w,h);const T=w._prev,P=w._next;return T&&(T._next=P),P&&(P._prev=T),w._next=null,w._prev=null,w}const v=new xr(u);return this._records.set(u,v),v.currentValue=h,this._addToAdditions(v),v}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(v=>h(u[v],v))}}class xr{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Os(){return new Ud([new kT])}let Ud=(()=>{class c{constructor(h){this.factories=h}static create(h,v){if(null!=v){const w=v.factories.slice();h=h.concat(w)}return new c(h)}static extend(h){return{provide:c,useFactory:v=>c.create(h,v||Os()),deps:[[c,new an,new ft]]}}find(h){const v=this.factories.find(w=>w.supports(h));if(null!=v)return v;throw new et(901,!1)}}return c.\u0275prov=Sn({token:c,providedIn:"root",factory:Os}),c})();function Dc(){return new Ng([new E0])}let Ng=(()=>{class c{constructor(h){this.factories=h}static create(h,v){if(v){const w=v.factories.slice();h=h.concat(w)}return new c(h)}static extend(h){return{provide:c,useFactory:v=>c.create(h,v||Dc()),deps:[[c,new an,new ft]]}}find(h){const v=this.factories.find(w=>w.supports(h));if(v)return v;throw new et(901,!1)}}return c.\u0275prov=Sn({token:c,providedIn:"root",factory:Dc}),c})();const PT=_T(null,"core",[]);let yM=(()=>{class c{constructor(h){}}return c.\u0275fac=function(h){return new(h||c)(rs(py))},c.\u0275mod=Gn({type:c}),c.\u0275inj=wn({}),c})();function _M(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}},3942:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Z:()=>et});var g=ue(2090),ye=ue(4859),te=ue(9681),Ne=ue(1877);class Se{constructor(nt,he){this._delegate=nt,this.firebase=he,(0,te._addComponent)(nt,new ye.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(nt,he=te._DEFAULT_ENTRY_NAME){var Bt;this._delegate.checkDestroyed();const kt=this._delegate.container.getProvider(nt);return!kt.isInitialized()&&"EXPLICIT"===(null===(Bt=kt.getComponent())||void 0===Bt?void 0:Bt.instantiationMode)&&kt.initialize(),kt.getImmediate({identifier:he})}_removeServiceInstance(nt,he=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(he)}_addComponent(nt){(0,te._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,te._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),me=function Ie(){const jt=function je(jt){const nt={},he={__esModule:!0,initializeApp:function Pe(We,qe={}){const tt=te.initializeApp(We,qe);if((0,g.r3)(nt,tt.name))return nt[tt.name];const Re=new jt(tt,he);return nt[tt.name]=Re,Re},app:kt,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function st(We){const qe=We.name,tt=qe.replace("-compat","");if(te._registerComponent(We)&&"PUBLIC"===We.type){const Re=(He=kt())=>{if("function"!=typeof He[tt])throw be.create("invalid-app-argument",{appName:qe});return He[tt]()};void 0!==We.serviceProps&&(0,g.ZB)(Re,We.serviceProps),he[tt]=Re,jt.prototype[tt]=function(...He){return this._getService.bind(this,qe).apply(this,We.multipleInstances?He:[])}}return"PUBLIC"===We.type?he[tt]:null},removeApp:function Bt(We){delete nt[We]},useAsService:function Ot(We,qe){return"serverAuth"===qe?null:qe},modularAPIs:te}};function kt(We){if(!(0,g.r3)(nt,We=We||te._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:We});return nt[We]}return he.default=he,Object.defineProperty(he,"apps",{get:function it(){return Object.keys(nt).map(We=>nt[We])}}),kt.App=jt,he}(Se);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function nt(he){(0,g.ZB)(jt,he)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),jt}(),Ce=new Ne.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=me;!function mt(jt){(0,te.registerVersion)("@firebase/app-compat","0.1.38",jt)}()},9681:(Gt,rt,ue)=>{"use strict";ue.r(rt),ue.d(rt,{FirebaseError:()=>Ne.ZR,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>Sn,_apps:()=>Jn,_clearComponents:()=>Us,_components:()=>mi,_getProvider:()=>wn,_registerComponent:()=>On,_removeServiceInstance:()=>Ri,deleteApp:()=>kr,getApp:()=>zi,getApps:()=>rr,initializeApp:()=>vs,onLog:()=>Ui,registerVersion:()=>Zi,setLogLevel:()=>vi});var g=ue(5861),ye=ue(4859),te=ue(1877),Ne=ue(2090),Se=ue(8766);class Ze{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(Ut=>{if(function be(Vt){return"VERSION"===Vt.getComponent()?.type}(Ut)){const ln=Ut.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(Ut=>Ut).join(" ")}}const je="@firebase/app",me=new te.Yd("@firebase/app"),Ln="[DEFAULT]",Et={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jn=new Map,mi=new Map;function Nn(Vt,ut){try{Vt.container.addComponent(ut)}catch(Ut){me.debug(`Component ${ut.name} failed to register with FirebaseApp ${Vt.name}`,Ut)}}function Sn(Vt,ut){Vt.container.addOrOverwriteComponent(ut)}function On(Vt){const ut=Vt.name;if(mi.has(ut))return me.debug(`There were multiple attempts to register component ${ut}.`),!1;mi.set(ut,Vt);for(const Ut of Jn.values())Nn(Ut,Vt);return!0}function wn(Vt,ut){const Ut=Vt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ut&&Ut.triggerHeartbeat(),Vt.container.getProvider(ut)}function Ri(Vt,ut,Ut=Ln){wn(Vt,ut).clearInstance(Ut)}function Us(){mi.clear()}const Di=new Ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Es{constructor(ut,Ut,ln){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},Ut),this._name=Ut.name,this._automaticDataCollectionEnabled=Ut.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new ye.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const sr="9.13.0";function vs(Vt,ut={}){let Ut=Vt;"object"!=typeof ut&&(ut={name:ut});const ln=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},ut),dn=ln.name;if("string"!=typeof dn||!dn)throw Di.create("bad-app-name",{appName:String(dn)});if(Ut||(Ut=(0,Ne.aH)()),!Ut)throw Di.create("no-options");const Gn=Jn.get(dn);if(Gn){if((0,Ne.vZ)(Ut,Gn.options)&&(0,Ne.vZ)(ln,Gn.config))return Gn;throw Di.create("duplicate-app",{appName:dn})}const Ae=new ye.H0(dn);for(const Oe of mi.values())Ae.addComponent(Oe);const we=new Es(Ut,ln,Ae);return Jn.set(dn,we),we}function zi(Vt=Ln){const ut=Jn.get(Vt);if(!ut&&Vt===Ln)return vs();if(!ut)throw Di.create("no-app",{appName:Vt});return ut}function rr(){return Array.from(Jn.values())}function kr(Vt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(function*(Vt){const ut=Vt.name;Jn.has(ut)&&(Jn.delete(ut),yield Promise.all(Vt.container.getProviders().map(Ut=>Ut.delete())),Vt.isDeleted=!0)})).apply(this,arguments)}function Zi(Vt,ut,Ut){var ln;let dn=null!==(ln=Et[Vt])&&void 0!==ln?ln:Vt;Ut&&(dn+=`-${Ut}`);const Gn=dn.match(/\s|\//),Ae=ut.match(/\s|\//);if(Gn||Ae){const we=[`Unable to register library "${dn}" with version "${ut}":`];return Gn&&we.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),Gn&&Ae&&we.push("and"),Ae&&we.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void me.warn(we.join(" "))}On(new ye.wA(`${dn}-version`,()=>({library:dn,version:ut}),"VERSION"))}function Ui(Vt,ut){if(null!==Vt&&"function"!=typeof Vt)throw Di.create("invalid-log-argument");(0,te.Am)(Vt,ut)}function vi(Vt){(0,te.Ub)(Vt)}const wi="firebase-heartbeat-store";let Ci=null;function ii(){return Ci||(Ci=(0,Se.X3)("firebase-heartbeat-database",1,{upgrade:(Vt,ut)=>{0===ut&&Vt.createObjectStore(wi)}}).catch(Vt=>{throw Di.create("idb-open",{originalErrorMessage:Vt.message})})),Ci}function tn(){return(tn=(0,g.Z)(function*(Vt){var ut;try{return(yield ii()).transaction(wi).objectStore(wi).get(Gi(Vt))}catch(Ut){if(Ut instanceof Ne.ZR)me.warn(Ut.message);else{const ln=Di.create("idb-get",{originalErrorMessage:null===(ut=Ut)||void 0===ut?void 0:ut.message});me.warn(ln.message)}}})).apply(this,arguments)}function yn(Vt,ut){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(Vt,ut){var Ut;try{const dn=(yield ii()).transaction(wi,"readwrite");return yield dn.objectStore(wi).put(ut,Gi(Vt)),dn.done}catch(ln){if(ln instanceof Ne.ZR)me.warn(ln.message);else{const dn=Di.create("idb-set",{originalErrorMessage:null===(Ut=ln)||void 0===Ut?void 0:Ut.message});me.warn(dn.message)}}})).apply(this,arguments)}function Gi(Vt){return`${Vt.name}!${Vt.options.appId}`}class Ds{constructor(ut){this.container=ut,this._heartbeatsCache=null;const Ut=this.container.getProvider("app").getImmediate();this._storage=new Bn(Ut),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var ut=this;return(0,g.Z)(function*(){const ln=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=An();if(null===ut._heartbeatsCache&&(ut._heartbeatsCache=yield ut._heartbeatsCachePromise),ut._heartbeatsCache.lastSentHeartbeatDate!==dn&&!ut._heartbeatsCache.heartbeats.some(Gn=>Gn.date===dn))return ut._heartbeatsCache.heartbeats.push({date:dn,agent:ln}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(Gn=>{const Ae=new Date(Gn.date).valueOf();return Date.now()-Ae<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,g.Z)(function*(){if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null===ut._heartbeatsCache||0===ut._heartbeatsCache.heartbeats.length)return"";const Ut=An(),{heartbeatsToSend:ln,unsentEntries:dn}=function qs(Vt,ut=1024){const Ut=[];let ln=Vt.slice();for(const dn of Vt){const Gn=Ut.find(Ae=>Ae.agent===dn.agent);if(Gn){if(Gn.dates.push(dn.date),is(Ut)>ut){Gn.dates.pop();break}}else if(Ut.push({agent:dn.agent,dates:[dn.date]}),is(Ut)>ut){Ut.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:Ut,unsentEntries:ln}}(ut._heartbeatsCache.heartbeats),Gn=(0,Ne.L)(JSON.stringify({version:2,heartbeats:ln}));return ut._heartbeatsCache.lastSentHeartbeatDate=Ut,dn.length>0?(ut._heartbeatsCache.heartbeats=dn,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),Gn})()}}function An(){return(new Date).toISOString().substring(0,10)}class Bn{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ne.hl)()&&(0,Ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,g.Z)(function*(){return(yield ut._canUseIndexedDBPromise)&&(yield function sn(Vt){return tn.apply(this,arguments)}(ut.app))||{heartbeats:[]}})()}overwrite(ut){var Ut=this;return(0,g.Z)(function*(){var ln;if(yield Ut._canUseIndexedDBPromise){const Gn=yield Ut.read();return yn(Ut.app,{lastSentHeartbeatDate:null!==(ln=ut.lastSentHeartbeatDate)&&void 0!==ln?ln:Gn.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var Ut=this;return(0,g.Z)(function*(){var ln;if(yield Ut._canUseIndexedDBPromise){const Gn=yield Ut.read();return yn(Ut.app,{lastSentHeartbeatDate:null!==(ln=ut.lastSentHeartbeatDate)&&void 0!==ln?ln:Gn.lastSentHeartbeatDate,heartbeats:[...Gn.heartbeats,...ut.heartbeats]})}})()}}function is(Vt){return(0,Ne.L)(JSON.stringify({version:2,heartbeats:Vt})).length}!function Ai(Vt){On(new ye.wA("platform-logger",ut=>new Ze(ut),"PRIVATE")),On(new ye.wA("heartbeat",ut=>new Ds(ut),"PRIVATE")),Zi(je,"0.8.3",Vt),Zi(je,"0.8.3","esm2017"),Zi("fire-js","")}("")},4859:(Gt,rt,ue)=>{"use strict";ue.d(rt,{H0:()=>je,wA:()=>te});var g=ue(5861),ye=ue(2090);class te{constructor(me,Ce,Be){this.name=me,this.instanceFactory=Ce,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const Ne="[DEFAULT]";class Se{constructor(me,Ce){this.name=me,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const Ce=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(Ce)){const Be=new ye.BH;if(this.instancesDeferred.set(Ce,Be),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:Ce});St&&Be.resolve(St)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(me){var Ce;const Be=this.normalizeInstanceIdentifier(me?.identifier),St=null!==(Ce=me?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(mt){if(St)return null;throw mt}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function be(Ie){return"EAGER"===Ie.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(const[Ce,Be]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(Ce);try{const mt=this.getOrInitializeService({instanceIdentifier:St});Be.resolve(mt)}catch{}}}}clearInstance(me=Ne){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,g.Z)(function*(){const Ce=Array.from(me.instances.values());yield Promise.all([...Ce.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...Ce.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=Ne){return this.instances.has(me)}getOptions(me=Ne){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:Ce={}}=me,Be=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:Be,options:Ce});for(const[mt,et]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(mt)&&et.resolve(St);return St}onInit(me,Ce){var Be;const St=this.normalizeInstanceIdentifier(Ce),mt=null!==(Be=this.onInitCallbacks.get(St))&&void 0!==Be?Be:new Set;mt.add(me),this.onInitCallbacks.set(St,mt);const et=this.instances.get(St);return et&&me(et,St),()=>{mt.delete(me)}}invokeOnInitCallbacks(me,Ce){const Be=this.onInitCallbacks.get(Ce);if(Be)for(const St of Be)try{St(me,Ce)}catch{}}getOrInitializeService({instanceIdentifier:me,options:Ce={}}){let Be=this.instances.get(me);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=me,Ie===Ne?void 0:Ie),options:Ce}),this.instances.set(me,Be),this.instancesOptions.set(me,Ce),this.invokeOnInitCallbacks(Be,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,Be)}catch{}var Ie;return Be||null}normalizeInstanceIdentifier(me=Ne){return this.component?this.component.multipleInstances?me:Ne:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const Ce=this.getProvider(me.name);if(Ce.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);Ce.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const Ce=new Se(me,this);return this.providers.set(me,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Am:()=>Ie,Ub:()=>je,Yd:()=>be,in:()=>ye});const g=[];var ye=(()=>{return(me=ye||(ye={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",ye;var me})();const te={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Ne=ye.INFO,Se={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Ze=(me,Ce,...Be)=>{if(Ce<me.logLevel)return;const St=(new Date).toISOString(),mt=Se[Ce];if(!mt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[mt](`[${St}]  ${me.name}:`,...Be)};class be{constructor(Ce){this.name=Ce,this._logLevel=Ne,this._logHandler=Ze,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in ye))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?te[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...Ce),this._logHandler(this,ye.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...Ce),this._logHandler(this,ye.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...Ce),this._logHandler(this,ye.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...Ce),this._logHandler(this,ye.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...Ce),this._logHandler(this,ye.ERROR,...Ce)}}function je(me){g.forEach(Ce=>{Ce.setLogLevel(me)})}function Ie(me,Ce){for(const Be of g){let St=null;Ce&&Ce.level&&(St=te[Ce.level]),Be.userLogHandler=null===me?null:(mt,et,...jt)=>{const nt=jt.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");et>=(St??mt.logLevel)&&me({level:ye[et].toLowerCase(),message:nt,args:jt,type:mt.name})}}}},8766:(Gt,rt,ue)=>{"use strict";ue.d(rt,{Lj:()=>Pe,X3:()=>kt});var g=ue(5861);let te,Ne;const be=new WeakMap,je=new WeakMap,Ie=new WeakMap,me=new WeakMap,Ce=new WeakMap;let mt={get(qe,tt,Re){if(qe instanceof IDBTransaction){if("done"===tt)return je.get(qe);if("objectStoreNames"===tt)return qe.objectStoreNames||Ie.get(qe);if("store"===tt)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return he(qe[tt])},set:(qe,tt,Re)=>(qe[tt]=Re,!0),has:(qe,tt)=>qe instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in qe};function nt(qe){return"function"==typeof qe?function jt(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...tt){return qe.apply(Bt(this),tt),he(be.get(this))}:function(...tt){return he(qe.apply(Bt(this),tt))}:function(tt,...Re){const He=qe.call(Bt(this),tt,...Re);return Ie.set(He,tt.sort?tt.sort():[tt]),he(He)}}(qe):(qe instanceof IDBTransaction&&function St(qe){if(je.has(qe))return;const tt=new Promise((Re,He)=>{const Ye=()=>{qe.removeEventListener("complete",$e),qe.removeEventListener("error",bt),qe.removeEventListener("abort",bt)},$e=()=>{Re(),Ye()},bt=()=>{He(qe.error||new DOMException("AbortError","AbortError")),Ye()};qe.addEventListener("complete",$e),qe.addEventListener("error",bt),qe.addEventListener("abort",bt)});je.set(qe,tt)}(qe),((qe,tt)=>tt.some(Re=>qe instanceof Re))(qe,function Se(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,mt):qe)}function he(qe){if(qe instanceof IDBRequest)return function Be(qe){const tt=new Promise((Re,He)=>{const Ye=()=>{qe.removeEventListener("success",$e),qe.removeEventListener("error",bt)},$e=()=>{Re(he(qe.result)),Ye()},bt=()=>{He(qe.error),Ye()};qe.addEventListener("success",$e),qe.addEventListener("error",bt)});return tt.then(Re=>{Re instanceof IDBCursor&&be.set(Re,qe)}).catch(()=>{}),Ce.set(tt,qe),tt}(qe);if(me.has(qe))return me.get(qe);const tt=nt(qe);return tt!==qe&&(me.set(qe,tt),Ce.set(tt,qe)),tt}const Bt=qe=>Ce.get(qe);function kt(qe,tt,{blocked:Re,upgrade:He,blocking:Ye,terminated:$e}={}){const bt=indexedDB.open(qe,tt),_t=he(bt);return He&&bt.addEventListener("upgradeneeded",Kt=>{He(he(bt.result),Kt.oldVersion,Kt.newVersion,he(bt.transaction))}),Re&&bt.addEventListener("blocked",()=>Re()),_t.then(Kt=>{$e&&Kt.addEventListener("close",()=>$e()),Ye&&Kt.addEventListener("versionchange",()=>Ye())}).catch(()=>{}),_t}function Pe(qe,{blocked:tt}={}){const Re=indexedDB.deleteDatabase(qe);return tt&&Re.addEventListener("blocked",()=>tt()),he(Re).then(()=>{})}const it=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],Ot=new Map;function We(qe,tt){if(!(qe instanceof IDBDatabase)||tt in qe||"string"!=typeof tt)return;if(Ot.get(tt))return Ot.get(tt);const Re=tt.replace(/FromIndex$/,""),He=tt!==Re,Ye=st.includes(Re);if(!(Re in(He?IDBIndex:IDBObjectStore).prototype)||!Ye&&!it.includes(Re))return;const $e=function(){var bt=(0,g.Z)(function*(_t,...Kt){const Kn=this.transaction(_t,Ye?"readwrite":"readonly");let Ln=Kn.store;return He&&(Ln=Ln.index(Kt.shift())),(yield Promise.all([Ln[Re](...Kt),Ye&&Kn.done]))[0]});return function(Kt){return bt.apply(this,arguments)}}();return Ot.set(tt,$e),$e}!function et(qe){mt=qe(mt)}(qe=>({...qe,get:(tt,Re,He)=>We(tt,Re)||qe.get(tt,Re,He),has:(tt,Re)=>!!We(tt,Re)||qe.has(tt,Re)}))},5861:(Gt,rt,ue)=>{"use strict";function g(te,Ne,Se,Ze,be,je,Ie){try{var me=te[je](Ie),Ce=me.value}catch(Be){return void Se(Be)}me.done?Ne(Ce):Promise.resolve(Ce).then(Ze,be)}function ye(te){return function(){var Ne=this,Se=arguments;return new Promise(function(Ze,be){var je=te.apply(Ne,Se);function Ie(Ce){g(je,Ze,be,Ie,me,"next",Ce)}function me(Ce){g(je,Ze,be,Ie,me,"throw",Ce)}Ie(void 0)})}}ue.d(rt,{Z:()=>ye})}},Gt=>{Gt(Gt.s=3891)}]);